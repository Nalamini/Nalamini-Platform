var XH=Object.defineProperty;var Fk=t=>{throw TypeError(t)};var ZH=(t,r,s)=>r in t?XH(t,r,{enumerable:!0,configurable:!0,writable:!0,value:s}):t[r]=s;var oe=(t,r,s)=>ZH(t,typeof r!="symbol"?r+"":r,s),kb=(t,r,s)=>r.has(t)||Fk("Cannot "+s);var ie=(t,r,s)=>(kb(t,r,"read from private field"),s?s.call(t):r.get(t)),wt=(t,r,s)=>r.has(t)?Fk("Cannot add the same private member more than once"):r instanceof WeakSet?r.add(t):r.set(t,s),lt=(t,r,s,n)=>(kb(t,r,"write to private field"),n?n.call(t,s):r.set(t,s),s),Qt=(t,r,s)=>(kb(t,r,"access private method"),s);var Yf=(t,r,s,n)=>({set _(a){lt(t,r,a,s)},get _(){return ie(t,r,n)}});function JH(t,r){for(var s=0;s<r.length;s++){const n=r[s];if(typeof n!="string"&&!Array.isArray(n)){for(const a in n)if(a!=="default"&&!(a in t)){const i=Object.getOwnPropertyDescriptor(n,a);i&&Object.defineProperty(t,a,i.get?i:{enumerable:!0,get:()=>n[a]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))n(a);new MutationObserver(a=>{for(const i of a)if(i.type==="childList")for(const l of i.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&n(l)}).observe(document,{childList:!0,subtree:!0});function s(a){const i={};return a.integrity&&(i.integrity=a.integrity),a.referrerPolicy&&(i.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?i.credentials="include":a.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(a){if(a.ep)return;a.ep=!0;const i=s(a);fetch(a.href,i)}})();var Qf=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function yr(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var q3={exports:{}},Ey={},z3={exports:{}},sr={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var mf=Symbol.for("react.element"),eW=Symbol.for("react.portal"),tW=Symbol.for("react.fragment"),rW=Symbol.for("react.strict_mode"),sW=Symbol.for("react.profiler"),nW=Symbol.for("react.provider"),aW=Symbol.for("react.context"),iW=Symbol.for("react.forward_ref"),lW=Symbol.for("react.suspense"),oW=Symbol.for("react.memo"),cW=Symbol.for("react.lazy"),$k=Symbol.iterator;function dW(t){return t===null||typeof t!="object"?null:(t=$k&&t[$k]||t["@@iterator"],typeof t=="function"?t:null)}var K3={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},H3=Object.assign,W3={};function Ju(t,r,s){this.props=t,this.context=r,this.refs=W3,this.updater=s||K3}Ju.prototype.isReactComponent={};Ju.prototype.setState=function(t,r){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,r,"setState")};Ju.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function G3(){}G3.prototype=Ju.prototype;function WS(t,r,s){this.props=t,this.context=r,this.refs=W3,this.updater=s||K3}var GS=WS.prototype=new G3;GS.constructor=WS;H3(GS,Ju.prototype);GS.isPureReactComponent=!0;var Lk=Array.isArray,Y3=Object.prototype.hasOwnProperty,YS={current:null},Q3={key:!0,ref:!0,__self:!0,__source:!0};function X3(t,r,s){var n,a={},i=null,l=null;if(r!=null)for(n in r.ref!==void 0&&(l=r.ref),r.key!==void 0&&(i=""+r.key),r)Y3.call(r,n)&&!Q3.hasOwnProperty(n)&&(a[n]=r[n]);var o=arguments.length-2;if(o===1)a.children=s;else if(1<o){for(var c=Array(o),d=0;d<o;d++)c[d]=arguments[d+2];a.children=c}if(t&&t.defaultProps)for(n in o=t.defaultProps,o)a[n]===void 0&&(a[n]=o[n]);return{$$typeof:mf,type:t,key:i,ref:l,props:a,_owner:YS.current}}function uW(t,r){return{$$typeof:mf,type:t.type,key:r,ref:t.ref,props:t.props,_owner:t._owner}}function QS(t){return typeof t=="object"&&t!==null&&t.$$typeof===mf}function mW(t){var r={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(s){return r[s]})}var Bk=/\/+/g;function Ab(t,r){return typeof t=="object"&&t!==null&&t.key!=null?mW(""+t.key):r.toString(36)}function Hx(t,r,s,n,a){var i=typeof t;(i==="undefined"||i==="boolean")&&(t=null);var l=!1;if(t===null)l=!0;else switch(i){case"string":case"number":l=!0;break;case"object":switch(t.$$typeof){case mf:case eW:l=!0}}if(l)return l=t,a=a(l),t=n===""?"."+Ab(l,0):n,Lk(a)?(s="",t!=null&&(s=t.replace(Bk,"$&/")+"/"),Hx(a,r,s,"",function(d){return d})):a!=null&&(QS(a)&&(a=uW(a,s+(!a.key||l&&l.key===a.key?"":(""+a.key).replace(Bk,"$&/")+"/")+t)),r.push(a)),1;if(l=0,n=n===""?".":n+":",Lk(t))for(var o=0;o<t.length;o++){i=t[o];var c=n+Ab(i,o);l+=Hx(i,r,s,c,a)}else if(c=dW(t),typeof c=="function")for(t=c.call(t),o=0;!(i=t.next()).done;)i=i.value,c=n+Ab(i,o++),l+=Hx(i,r,s,c,a);else if(i==="object")throw r=String(t),Error("Objects are not valid as a React child (found: "+(r==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":r)+"). If you meant to render a collection of children, use an array instead.");return l}function Xf(t,r,s){if(t==null)return t;var n=[],a=0;return Hx(t,n,"","",function(i){return r.call(s,i,a++)}),n}function hW(t){if(t._status===-1){var r=t._result;r=r(),r.then(function(s){(t._status===0||t._status===-1)&&(t._status=1,t._result=s)},function(s){(t._status===0||t._status===-1)&&(t._status=2,t._result=s)}),t._status===-1&&(t._status=0,t._result=r)}if(t._status===1)return t._result.default;throw t._result}var jn={current:null},Wx={transition:null},pW={ReactCurrentDispatcher:jn,ReactCurrentBatchConfig:Wx,ReactCurrentOwner:YS};function Z3(){throw Error("act(...) is not supported in production builds of React.")}sr.Children={map:Xf,forEach:function(t,r,s){Xf(t,function(){r.apply(this,arguments)},s)},count:function(t){var r=0;return Xf(t,function(){r++}),r},toArray:function(t){return Xf(t,function(r){return r})||[]},only:function(t){if(!QS(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};sr.Component=Ju;sr.Fragment=tW;sr.Profiler=sW;sr.PureComponent=WS;sr.StrictMode=rW;sr.Suspense=lW;sr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=pW;sr.act=Z3;sr.cloneElement=function(t,r,s){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var n=H3({},t.props),a=t.key,i=t.ref,l=t._owner;if(r!=null){if(r.ref!==void 0&&(i=r.ref,l=YS.current),r.key!==void 0&&(a=""+r.key),t.type&&t.type.defaultProps)var o=t.type.defaultProps;for(c in r)Y3.call(r,c)&&!Q3.hasOwnProperty(c)&&(n[c]=r[c]===void 0&&o!==void 0?o[c]:r[c])}var c=arguments.length-2;if(c===1)n.children=s;else if(1<c){o=Array(c);for(var d=0;d<c;d++)o[d]=arguments[d+2];n.children=o}return{$$typeof:mf,type:t.type,key:a,ref:i,props:n,_owner:l}};sr.createContext=function(t){return t={$$typeof:aW,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:nW,_context:t},t.Consumer=t};sr.createElement=X3;sr.createFactory=function(t){var r=X3.bind(null,t);return r.type=t,r};sr.createRef=function(){return{current:null}};sr.forwardRef=function(t){return{$$typeof:iW,render:t}};sr.isValidElement=QS;sr.lazy=function(t){return{$$typeof:cW,_payload:{_status:-1,_result:t},_init:hW}};sr.memo=function(t,r){return{$$typeof:oW,type:t,compare:r===void 0?null:r}};sr.startTransition=function(t){var r=Wx.transition;Wx.transition={};try{t()}finally{Wx.transition=r}};sr.unstable_act=Z3;sr.useCallback=function(t,r){return jn.current.useCallback(t,r)};sr.useContext=function(t){return jn.current.useContext(t)};sr.useDebugValue=function(){};sr.useDeferredValue=function(t){return jn.current.useDeferredValue(t)};sr.useEffect=function(t,r){return jn.current.useEffect(t,r)};sr.useId=function(){return jn.current.useId()};sr.useImperativeHandle=function(t,r,s){return jn.current.useImperativeHandle(t,r,s)};sr.useInsertionEffect=function(t,r){return jn.current.useInsertionEffect(t,r)};sr.useLayoutEffect=function(t,r){return jn.current.useLayoutEffect(t,r)};sr.useMemo=function(t,r){return jn.current.useMemo(t,r)};sr.useReducer=function(t,r,s){return jn.current.useReducer(t,r,s)};sr.useRef=function(t){return jn.current.useRef(t)};sr.useState=function(t){return jn.current.useState(t)};sr.useSyncExternalStore=function(t,r,s){return jn.current.useSyncExternalStore(t,r,s)};sr.useTransition=function(){return jn.current.useTransition()};sr.version="18.3.1";z3.exports=sr;var j=z3.exports;const G=yr(j),J3=JH({__proto__:null,default:G},[j]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var fW=j,xW=Symbol.for("react.element"),gW=Symbol.for("react.fragment"),vW=Object.prototype.hasOwnProperty,yW=fW.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,jW={key:!0,ref:!0,__self:!0,__source:!0};function e5(t,r,s){var n,a={},i=null,l=null;s!==void 0&&(i=""+s),r.key!==void 0&&(i=""+r.key),r.ref!==void 0&&(l=r.ref);for(n in r)vW.call(r,n)&&!jW.hasOwnProperty(n)&&(a[n]=r[n]);if(t&&t.defaultProps)for(n in r=t.defaultProps,r)a[n]===void 0&&(a[n]=r[n]);return{$$typeof:xW,type:t,key:i,ref:l,props:a,_owner:yW.current}}Ey.Fragment=gW;Ey.jsx=e5;Ey.jsxs=e5;q3.exports=Ey;var e=q3.exports,t5={exports:{}},ca={},r5={exports:{}},s5={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function r(H,Z){var me=H.length;H.push(Z);e:for(;0<me;){var Ne=me-1>>>1,te=H[Ne];if(0<a(te,Z))H[Ne]=Z,H[me]=te,me=Ne;else break e}}function s(H){return H.length===0?null:H[0]}function n(H){if(H.length===0)return null;var Z=H[0],me=H.pop();if(me!==Z){H[0]=me;e:for(var Ne=0,te=H.length,Ie=te>>>1;Ne<Ie;){var Te=2*(Ne+1)-1,de=H[Te],Ee=Te+1,De=H[Ee];if(0>a(de,me))Ee<te&&0>a(De,de)?(H[Ne]=De,H[Ee]=me,Ne=Ee):(H[Ne]=de,H[Te]=me,Ne=Te);else if(Ee<te&&0>a(De,me))H[Ne]=De,H[Ee]=me,Ne=Ee;else break e}}return Z}function a(H,Z){var me=H.sortIndex-Z.sortIndex;return me!==0?me:H.id-Z.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;t.unstable_now=function(){return i.now()}}else{var l=Date,o=l.now();t.unstable_now=function(){return l.now()-o}}var c=[],d=[],u=1,m=null,h=3,g=!1,f=!1,p=!1,y=typeof setTimeout=="function"?setTimeout:null,v=typeof clearTimeout=="function"?clearTimeout:null,x=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function b(H){for(var Z=s(d);Z!==null;){if(Z.callback===null)n(d);else if(Z.startTime<=H)n(d),Z.sortIndex=Z.expirationTime,r(c,Z);else break;Z=s(d)}}function N(H){if(p=!1,b(H),!f)if(s(c)!==null)f=!0,W(w);else{var Z=s(d);Z!==null&&Q(N,Z.startTime-H)}}function w(H,Z){f=!1,p&&(p=!1,v(S),S=-1),g=!0;var me=h;try{for(b(Z),m=s(c);m!==null&&(!(m.expirationTime>Z)||H&&!I());){var Ne=m.callback;if(typeof Ne=="function"){m.callback=null,h=m.priorityLevel;var te=Ne(m.expirationTime<=Z);Z=t.unstable_now(),typeof te=="function"?m.callback=te:m===s(c)&&n(c),b(Z)}else n(c);m=s(c)}if(m!==null)var Ie=!0;else{var Te=s(d);Te!==null&&Q(N,Te.startTime-Z),Ie=!1}return Ie}finally{m=null,h=me,g=!1}}var C=!1,P=null,S=-1,A=5,k=-1;function I(){return!(t.unstable_now()-k<A)}function L(){if(P!==null){var H=t.unstable_now();k=H;var Z=!0;try{Z=P(!0,H)}finally{Z?K():(C=!1,P=null)}}else C=!1}var K;if(typeof x=="function")K=function(){x(L)};else if(typeof MessageChannel<"u"){var R=new MessageChannel,F=R.port2;R.port1.onmessage=L,K=function(){F.postMessage(null)}}else K=function(){y(L,0)};function W(H){P=H,C||(C=!0,K())}function Q(H,Z){S=y(function(){H(t.unstable_now())},Z)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(H){H.callback=null},t.unstable_continueExecution=function(){f||g||(f=!0,W(w))},t.unstable_forceFrameRate=function(H){0>H||125<H?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):A=0<H?Math.floor(1e3/H):5},t.unstable_getCurrentPriorityLevel=function(){return h},t.unstable_getFirstCallbackNode=function(){return s(c)},t.unstable_next=function(H){switch(h){case 1:case 2:case 3:var Z=3;break;default:Z=h}var me=h;h=Z;try{return H()}finally{h=me}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(H,Z){switch(H){case 1:case 2:case 3:case 4:case 5:break;default:H=3}var me=h;h=H;try{return Z()}finally{h=me}},t.unstable_scheduleCallback=function(H,Z,me){var Ne=t.unstable_now();switch(typeof me=="object"&&me!==null?(me=me.delay,me=typeof me=="number"&&0<me?Ne+me:Ne):me=Ne,H){case 1:var te=-1;break;case 2:te=250;break;case 5:te=1073741823;break;case 4:te=1e4;break;default:te=5e3}return te=me+te,H={id:u++,callback:Z,priorityLevel:H,startTime:me,expirationTime:te,sortIndex:-1},me>Ne?(H.sortIndex=me,r(d,H),s(c)===null&&H===s(d)&&(p?(v(S),S=-1):p=!0,Q(N,me-Ne))):(H.sortIndex=te,r(c,H),f||g||(f=!0,W(w))),H},t.unstable_shouldYield=I,t.unstable_wrapCallback=function(H){var Z=h;return function(){var me=h;h=Z;try{return H.apply(this,arguments)}finally{h=me}}}})(s5);r5.exports=s5;var bW=r5.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var NW=j,aa=bW;function ze(t){for(var r="https://reactjs.org/docs/error-decoder.html?invariant="+t,s=1;s<arguments.length;s++)r+="&args[]="+encodeURIComponent(arguments[s]);return"Minified React error #"+t+"; visit "+r+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var n5=new Set,Uh={};function Fc(t,r){au(t,r),au(t+"Capture",r)}function au(t,r){for(Uh[t]=r,t=0;t<r.length;t++)n5.add(r[t])}var ml=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),gN=Object.prototype.hasOwnProperty,wW=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Vk={},Uk={};function SW(t){return gN.call(Uk,t)?!0:gN.call(Vk,t)?!1:wW.test(t)?Uk[t]=!0:(Vk[t]=!0,!1)}function CW(t,r,s,n){if(s!==null&&s.type===0)return!1;switch(typeof r){case"function":case"symbol":return!0;case"boolean":return n?!1:s!==null?!s.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function PW(t,r,s,n){if(r===null||typeof r>"u"||CW(t,r,s,n))return!0;if(n)return!1;if(s!==null)switch(s.type){case 3:return!r;case 4:return r===!1;case 5:return isNaN(r);case 6:return isNaN(r)||1>r}return!1}function bn(t,r,s,n,a,i,l){this.acceptsBooleans=r===2||r===3||r===4,this.attributeName=n,this.attributeNamespace=a,this.mustUseProperty=s,this.propertyName=t,this.type=r,this.sanitizeURL=i,this.removeEmptyString=l}var Us={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Us[t]=new bn(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var r=t[0];Us[r]=new bn(r,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Us[t]=new bn(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Us[t]=new bn(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Us[t]=new bn(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Us[t]=new bn(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Us[t]=new bn(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Us[t]=new bn(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Us[t]=new bn(t,5,!1,t.toLowerCase(),null,!1,!1)});var XS=/[\-:]([a-z])/g;function ZS(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var r=t.replace(XS,ZS);Us[r]=new bn(r,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var r=t.replace(XS,ZS);Us[r]=new bn(r,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var r=t.replace(XS,ZS);Us[r]=new bn(r,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Us[t]=new bn(t,1,!1,t.toLowerCase(),null,!1,!1)});Us.xlinkHref=new bn("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Us[t]=new bn(t,1,!1,t.toLowerCase(),null,!0,!0)});function JS(t,r,s,n){var a=Us.hasOwnProperty(r)?Us[r]:null;(a!==null?a.type!==0:n||!(2<r.length)||r[0]!=="o"&&r[0]!=="O"||r[1]!=="n"&&r[1]!=="N")&&(PW(r,s,a,n)&&(s=null),n||a===null?SW(r)&&(s===null?t.removeAttribute(r):t.setAttribute(r,""+s)):a.mustUseProperty?t[a.propertyName]=s===null?a.type===3?!1:"":s:(r=a.attributeName,n=a.attributeNamespace,s===null?t.removeAttribute(r):(a=a.type,s=a===3||a===4&&s===!0?"":""+s,n?t.setAttributeNS(n,r,s):t.setAttribute(r,s))))}var wl=NW.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Zf=Symbol.for("react.element"),ud=Symbol.for("react.portal"),md=Symbol.for("react.fragment"),e2=Symbol.for("react.strict_mode"),vN=Symbol.for("react.profiler"),a5=Symbol.for("react.provider"),i5=Symbol.for("react.context"),t2=Symbol.for("react.forward_ref"),yN=Symbol.for("react.suspense"),jN=Symbol.for("react.suspense_list"),r2=Symbol.for("react.memo"),$l=Symbol.for("react.lazy"),l5=Symbol.for("react.offscreen"),qk=Symbol.iterator;function Em(t){return t===null||typeof t!="object"?null:(t=qk&&t[qk]||t["@@iterator"],typeof t=="function"?t:null)}var Jr=Object.assign,_b;function lh(t){if(_b===void 0)try{throw Error()}catch(s){var r=s.stack.trim().match(/\n( *(at )?)/);_b=r&&r[1]||""}return`
`+_b+t}var Tb=!1;function Ob(t,r){if(!t||Tb)return"";Tb=!0;var s=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(r)if(r=function(){throw Error()},Object.defineProperty(r.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(r,[])}catch(d){var n=d}Reflect.construct(t,[],r)}else{try{r.call()}catch(d){n=d}t.call(r.prototype)}else{try{throw Error()}catch(d){n=d}t()}}catch(d){if(d&&n&&typeof d.stack=="string"){for(var a=d.stack.split(`
`),i=n.stack.split(`
`),l=a.length-1,o=i.length-1;1<=l&&0<=o&&a[l]!==i[o];)o--;for(;1<=l&&0<=o;l--,o--)if(a[l]!==i[o]){if(l!==1||o!==1)do if(l--,o--,0>o||a[l]!==i[o]){var c=`
`+a[l].replace(" at new "," at ");return t.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",t.displayName)),c}while(1<=l&&0<=o);break}}}finally{Tb=!1,Error.prepareStackTrace=s}return(t=t?t.displayName||t.name:"")?lh(t):""}function kW(t){switch(t.tag){case 5:return lh(t.type);case 16:return lh("Lazy");case 13:return lh("Suspense");case 19:return lh("SuspenseList");case 0:case 2:case 15:return t=Ob(t.type,!1),t;case 11:return t=Ob(t.type.render,!1),t;case 1:return t=Ob(t.type,!0),t;default:return""}}function bN(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case md:return"Fragment";case ud:return"Portal";case vN:return"Profiler";case e2:return"StrictMode";case yN:return"Suspense";case jN:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case i5:return(t.displayName||"Context")+".Consumer";case a5:return(t._context.displayName||"Context")+".Provider";case t2:var r=t.render;return t=t.displayName,t||(t=r.displayName||r.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case r2:return r=t.displayName||null,r!==null?r:bN(t.type)||"Memo";case $l:r=t._payload,t=t._init;try{return bN(t(r))}catch{}}return null}function AW(t){var r=t.type;switch(t.tag){case 24:return"Cache";case 9:return(r.displayName||"Context")+".Consumer";case 10:return(r._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=r.render,t=t.displayName||t.name||"",r.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return r;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return bN(r);case 8:return r===e2?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof r=="function")return r.displayName||r.name||null;if(typeof r=="string")return r}return null}function fo(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function o5(t){var r=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(r==="checkbox"||r==="radio")}function _W(t){var r=o5(t)?"checked":"value",s=Object.getOwnPropertyDescriptor(t.constructor.prototype,r),n=""+t[r];if(!t.hasOwnProperty(r)&&typeof s<"u"&&typeof s.get=="function"&&typeof s.set=="function"){var a=s.get,i=s.set;return Object.defineProperty(t,r,{configurable:!0,get:function(){return a.call(this)},set:function(l){n=""+l,i.call(this,l)}}),Object.defineProperty(t,r,{enumerable:s.enumerable}),{getValue:function(){return n},setValue:function(l){n=""+l},stopTracking:function(){t._valueTracker=null,delete t[r]}}}}function Jf(t){t._valueTracker||(t._valueTracker=_W(t))}function c5(t){if(!t)return!1;var r=t._valueTracker;if(!r)return!0;var s=r.getValue(),n="";return t&&(n=o5(t)?t.checked?"true":"false":t.value),t=n,t!==s?(r.setValue(t),!0):!1}function vg(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function NN(t,r){var s=r.checked;return Jr({},r,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:s??t._wrapperState.initialChecked})}function zk(t,r){var s=r.defaultValue==null?"":r.defaultValue,n=r.checked!=null?r.checked:r.defaultChecked;s=fo(r.value!=null?r.value:s),t._wrapperState={initialChecked:n,initialValue:s,controlled:r.type==="checkbox"||r.type==="radio"?r.checked!=null:r.value!=null}}function d5(t,r){r=r.checked,r!=null&&JS(t,"checked",r,!1)}function wN(t,r){d5(t,r);var s=fo(r.value),n=r.type;if(s!=null)n==="number"?(s===0&&t.value===""||t.value!=s)&&(t.value=""+s):t.value!==""+s&&(t.value=""+s);else if(n==="submit"||n==="reset"){t.removeAttribute("value");return}r.hasOwnProperty("value")?SN(t,r.type,s):r.hasOwnProperty("defaultValue")&&SN(t,r.type,fo(r.defaultValue)),r.checked==null&&r.defaultChecked!=null&&(t.defaultChecked=!!r.defaultChecked)}function Kk(t,r,s){if(r.hasOwnProperty("value")||r.hasOwnProperty("defaultValue")){var n=r.type;if(!(n!=="submit"&&n!=="reset"||r.value!==void 0&&r.value!==null))return;r=""+t._wrapperState.initialValue,s||r===t.value||(t.value=r),t.defaultValue=r}s=t.name,s!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,s!==""&&(t.name=s)}function SN(t,r,s){(r!=="number"||vg(t.ownerDocument)!==t)&&(s==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+s&&(t.defaultValue=""+s))}var oh=Array.isArray;function _d(t,r,s,n){if(t=t.options,r){r={};for(var a=0;a<s.length;a++)r["$"+s[a]]=!0;for(s=0;s<t.length;s++)a=r.hasOwnProperty("$"+t[s].value),t[s].selected!==a&&(t[s].selected=a),a&&n&&(t[s].defaultSelected=!0)}else{for(s=""+fo(s),r=null,a=0;a<t.length;a++){if(t[a].value===s){t[a].selected=!0,n&&(t[a].defaultSelected=!0);return}r!==null||t[a].disabled||(r=t[a])}r!==null&&(r.selected=!0)}}function CN(t,r){if(r.dangerouslySetInnerHTML!=null)throw Error(ze(91));return Jr({},r,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function Hk(t,r){var s=r.value;if(s==null){if(s=r.children,r=r.defaultValue,s!=null){if(r!=null)throw Error(ze(92));if(oh(s)){if(1<s.length)throw Error(ze(93));s=s[0]}r=s}r==null&&(r=""),s=r}t._wrapperState={initialValue:fo(s)}}function u5(t,r){var s=fo(r.value),n=fo(r.defaultValue);s!=null&&(s=""+s,s!==t.value&&(t.value=s),r.defaultValue==null&&t.defaultValue!==s&&(t.defaultValue=s)),n!=null&&(t.defaultValue=""+n)}function Wk(t){var r=t.textContent;r===t._wrapperState.initialValue&&r!==""&&r!==null&&(t.value=r)}function m5(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function PN(t,r){return t==null||t==="http://www.w3.org/1999/xhtml"?m5(r):t==="http://www.w3.org/2000/svg"&&r==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var ex,h5=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(r,s,n,a){MSApp.execUnsafeLocalFunction(function(){return t(r,s,n,a)})}:t}(function(t,r){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=r;else{for(ex=ex||document.createElement("div"),ex.innerHTML="<svg>"+r.valueOf().toString()+"</svg>",r=ex.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;r.firstChild;)t.appendChild(r.firstChild)}});function qh(t,r){if(r){var s=t.firstChild;if(s&&s===t.lastChild&&s.nodeType===3){s.nodeValue=r;return}}t.textContent=r}var bh={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},TW=["Webkit","ms","Moz","O"];Object.keys(bh).forEach(function(t){TW.forEach(function(r){r=r+t.charAt(0).toUpperCase()+t.substring(1),bh[r]=bh[t]})});function p5(t,r,s){return r==null||typeof r=="boolean"||r===""?"":s||typeof r!="number"||r===0||bh.hasOwnProperty(t)&&bh[t]?(""+r).trim():r+"px"}function f5(t,r){t=t.style;for(var s in r)if(r.hasOwnProperty(s)){var n=s.indexOf("--")===0,a=p5(s,r[s],n);s==="float"&&(s="cssFloat"),n?t.setProperty(s,a):t[s]=a}}var OW=Jr({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function kN(t,r){if(r){if(OW[t]&&(r.children!=null||r.dangerouslySetInnerHTML!=null))throw Error(ze(137,t));if(r.dangerouslySetInnerHTML!=null){if(r.children!=null)throw Error(ze(60));if(typeof r.dangerouslySetInnerHTML!="object"||!("__html"in r.dangerouslySetInnerHTML))throw Error(ze(61))}if(r.style!=null&&typeof r.style!="object")throw Error(ze(62))}}function AN(t,r){if(t.indexOf("-")===-1)return typeof r.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var _N=null;function s2(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var TN=null,Td=null,Od=null;function Gk(t){if(t=ff(t)){if(typeof TN!="function")throw Error(ze(280));var r=t.stateNode;r&&(r=Fy(r),TN(t.stateNode,t.type,r))}}function x5(t){Td?Od?Od.push(t):Od=[t]:Td=t}function g5(){if(Td){var t=Td,r=Od;if(Od=Td=null,Gk(t),r)for(t=0;t<r.length;t++)Gk(r[t])}}function v5(t,r){return t(r)}function y5(){}var Eb=!1;function j5(t,r,s){if(Eb)return t(r,s);Eb=!0;try{return v5(t,r,s)}finally{Eb=!1,(Td!==null||Od!==null)&&(y5(),g5())}}function zh(t,r){var s=t.stateNode;if(s===null)return null;var n=Fy(s);if(n===null)return null;s=n[r];e:switch(r){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(t=t.type,n=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!n;break e;default:t=!1}if(t)return null;if(s&&typeof s!="function")throw Error(ze(231,r,typeof s));return s}var ON=!1;if(ml)try{var Dm={};Object.defineProperty(Dm,"passive",{get:function(){ON=!0}}),window.addEventListener("test",Dm,Dm),window.removeEventListener("test",Dm,Dm)}catch{ON=!1}function EW(t,r,s,n,a,i,l,o,c){var d=Array.prototype.slice.call(arguments,3);try{r.apply(s,d)}catch(u){this.onError(u)}}var Nh=!1,yg=null,jg=!1,EN=null,DW={onError:function(t){Nh=!0,yg=t}};function MW(t,r,s,n,a,i,l,o,c){Nh=!1,yg=null,EW.apply(DW,arguments)}function IW(t,r,s,n,a,i,l,o,c){if(MW.apply(this,arguments),Nh){if(Nh){var d=yg;Nh=!1,yg=null}else throw Error(ze(198));jg||(jg=!0,EN=d)}}function $c(t){var r=t,s=t;if(t.alternate)for(;r.return;)r=r.return;else{t=r;do r=t,r.flags&4098&&(s=r.return),t=r.return;while(t)}return r.tag===3?s:null}function b5(t){if(t.tag===13){var r=t.memoizedState;if(r===null&&(t=t.alternate,t!==null&&(r=t.memoizedState)),r!==null)return r.dehydrated}return null}function Yk(t){if($c(t)!==t)throw Error(ze(188))}function RW(t){var r=t.alternate;if(!r){if(r=$c(t),r===null)throw Error(ze(188));return r!==t?null:t}for(var s=t,n=r;;){var a=s.return;if(a===null)break;var i=a.alternate;if(i===null){if(n=a.return,n!==null){s=n;continue}break}if(a.child===i.child){for(i=a.child;i;){if(i===s)return Yk(a),t;if(i===n)return Yk(a),r;i=i.sibling}throw Error(ze(188))}if(s.return!==n.return)s=a,n=i;else{for(var l=!1,o=a.child;o;){if(o===s){l=!0,s=a,n=i;break}if(o===n){l=!0,n=a,s=i;break}o=o.sibling}if(!l){for(o=i.child;o;){if(o===s){l=!0,s=i,n=a;break}if(o===n){l=!0,n=i,s=a;break}o=o.sibling}if(!l)throw Error(ze(189))}}if(s.alternate!==n)throw Error(ze(190))}if(s.tag!==3)throw Error(ze(188));return s.stateNode.current===s?t:r}function N5(t){return t=RW(t),t!==null?w5(t):null}function w5(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var r=w5(t);if(r!==null)return r;t=t.sibling}return null}var S5=aa.unstable_scheduleCallback,Qk=aa.unstable_cancelCallback,FW=aa.unstable_shouldYield,$W=aa.unstable_requestPaint,cs=aa.unstable_now,LW=aa.unstable_getCurrentPriorityLevel,n2=aa.unstable_ImmediatePriority,C5=aa.unstable_UserBlockingPriority,bg=aa.unstable_NormalPriority,BW=aa.unstable_LowPriority,P5=aa.unstable_IdlePriority,Dy=null,bi=null;function VW(t){if(bi&&typeof bi.onCommitFiberRoot=="function")try{bi.onCommitFiberRoot(Dy,t,void 0,(t.current.flags&128)===128)}catch{}}var Ya=Math.clz32?Math.clz32:zW,UW=Math.log,qW=Math.LN2;function zW(t){return t>>>=0,t===0?32:31-(UW(t)/qW|0)|0}var tx=64,rx=4194304;function ch(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Ng(t,r){var s=t.pendingLanes;if(s===0)return 0;var n=0,a=t.suspendedLanes,i=t.pingedLanes,l=s&268435455;if(l!==0){var o=l&~a;o!==0?n=ch(o):(i&=l,i!==0&&(n=ch(i)))}else l=s&~a,l!==0?n=ch(l):i!==0&&(n=ch(i));if(n===0)return 0;if(r!==0&&r!==n&&!(r&a)&&(a=n&-n,i=r&-r,a>=i||a===16&&(i&4194240)!==0))return r;if(n&4&&(n|=s&16),r=t.entangledLanes,r!==0)for(t=t.entanglements,r&=n;0<r;)s=31-Ya(r),a=1<<s,n|=t[s],r&=~a;return n}function KW(t,r){switch(t){case 1:case 2:case 4:return r+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function HW(t,r){for(var s=t.suspendedLanes,n=t.pingedLanes,a=t.expirationTimes,i=t.pendingLanes;0<i;){var l=31-Ya(i),o=1<<l,c=a[l];c===-1?(!(o&s)||o&n)&&(a[l]=KW(o,r)):c<=r&&(t.expiredLanes|=o),i&=~o}}function DN(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function k5(){var t=tx;return tx<<=1,!(tx&4194240)&&(tx=64),t}function Db(t){for(var r=[],s=0;31>s;s++)r.push(t);return r}function hf(t,r,s){t.pendingLanes|=r,r!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,r=31-Ya(r),t[r]=s}function WW(t,r){var s=t.pendingLanes&~r;t.pendingLanes=r,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=r,t.mutableReadLanes&=r,t.entangledLanes&=r,r=t.entanglements;var n=t.eventTimes;for(t=t.expirationTimes;0<s;){var a=31-Ya(s),i=1<<a;r[a]=0,n[a]=-1,t[a]=-1,s&=~i}}function a2(t,r){var s=t.entangledLanes|=r;for(t=t.entanglements;s;){var n=31-Ya(s),a=1<<n;a&r|t[n]&r&&(t[n]|=r),s&=~a}}var Nr=0;function A5(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var _5,i2,T5,O5,E5,MN=!1,sx=[],no=null,ao=null,io=null,Kh=new Map,Hh=new Map,Vl=[],GW="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Xk(t,r){switch(t){case"focusin":case"focusout":no=null;break;case"dragenter":case"dragleave":ao=null;break;case"mouseover":case"mouseout":io=null;break;case"pointerover":case"pointerout":Kh.delete(r.pointerId);break;case"gotpointercapture":case"lostpointercapture":Hh.delete(r.pointerId)}}function Mm(t,r,s,n,a,i){return t===null||t.nativeEvent!==i?(t={blockedOn:r,domEventName:s,eventSystemFlags:n,nativeEvent:i,targetContainers:[a]},r!==null&&(r=ff(r),r!==null&&i2(r)),t):(t.eventSystemFlags|=n,r=t.targetContainers,a!==null&&r.indexOf(a)===-1&&r.push(a),t)}function YW(t,r,s,n,a){switch(r){case"focusin":return no=Mm(no,t,r,s,n,a),!0;case"dragenter":return ao=Mm(ao,t,r,s,n,a),!0;case"mouseover":return io=Mm(io,t,r,s,n,a),!0;case"pointerover":var i=a.pointerId;return Kh.set(i,Mm(Kh.get(i)||null,t,r,s,n,a)),!0;case"gotpointercapture":return i=a.pointerId,Hh.set(i,Mm(Hh.get(i)||null,t,r,s,n,a)),!0}return!1}function D5(t){var r=Qo(t.target);if(r!==null){var s=$c(r);if(s!==null){if(r=s.tag,r===13){if(r=b5(s),r!==null){t.blockedOn=r,E5(t.priority,function(){T5(s)});return}}else if(r===3&&s.stateNode.current.memoizedState.isDehydrated){t.blockedOn=s.tag===3?s.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Gx(t){if(t.blockedOn!==null)return!1;for(var r=t.targetContainers;0<r.length;){var s=IN(t.domEventName,t.eventSystemFlags,r[0],t.nativeEvent);if(s===null){s=t.nativeEvent;var n=new s.constructor(s.type,s);_N=n,s.target.dispatchEvent(n),_N=null}else return r=ff(s),r!==null&&i2(r),t.blockedOn=s,!1;r.shift()}return!0}function Zk(t,r,s){Gx(t)&&s.delete(r)}function QW(){MN=!1,no!==null&&Gx(no)&&(no=null),ao!==null&&Gx(ao)&&(ao=null),io!==null&&Gx(io)&&(io=null),Kh.forEach(Zk),Hh.forEach(Zk)}function Im(t,r){t.blockedOn===r&&(t.blockedOn=null,MN||(MN=!0,aa.unstable_scheduleCallback(aa.unstable_NormalPriority,QW)))}function Wh(t){function r(a){return Im(a,t)}if(0<sx.length){Im(sx[0],t);for(var s=1;s<sx.length;s++){var n=sx[s];n.blockedOn===t&&(n.blockedOn=null)}}for(no!==null&&Im(no,t),ao!==null&&Im(ao,t),io!==null&&Im(io,t),Kh.forEach(r),Hh.forEach(r),s=0;s<Vl.length;s++)n=Vl[s],n.blockedOn===t&&(n.blockedOn=null);for(;0<Vl.length&&(s=Vl[0],s.blockedOn===null);)D5(s),s.blockedOn===null&&Vl.shift()}var Ed=wl.ReactCurrentBatchConfig,wg=!0;function XW(t,r,s,n){var a=Nr,i=Ed.transition;Ed.transition=null;try{Nr=1,l2(t,r,s,n)}finally{Nr=a,Ed.transition=i}}function ZW(t,r,s,n){var a=Nr,i=Ed.transition;Ed.transition=null;try{Nr=4,l2(t,r,s,n)}finally{Nr=a,Ed.transition=i}}function l2(t,r,s,n){if(wg){var a=IN(t,r,s,n);if(a===null)qb(t,r,n,Sg,s),Xk(t,n);else if(YW(a,t,r,s,n))n.stopPropagation();else if(Xk(t,n),r&4&&-1<GW.indexOf(t)){for(;a!==null;){var i=ff(a);if(i!==null&&_5(i),i=IN(t,r,s,n),i===null&&qb(t,r,n,Sg,s),i===a)break;a=i}a!==null&&n.stopPropagation()}else qb(t,r,n,null,s)}}var Sg=null;function IN(t,r,s,n){if(Sg=null,t=s2(n),t=Qo(t),t!==null)if(r=$c(t),r===null)t=null;else if(s=r.tag,s===13){if(t=b5(r),t!==null)return t;t=null}else if(s===3){if(r.stateNode.current.memoizedState.isDehydrated)return r.tag===3?r.stateNode.containerInfo:null;t=null}else r!==t&&(t=null);return Sg=t,null}function M5(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(LW()){case n2:return 1;case C5:return 4;case bg:case BW:return 16;case P5:return 536870912;default:return 16}default:return 16}}var to=null,o2=null,Yx=null;function I5(){if(Yx)return Yx;var t,r=o2,s=r.length,n,a="value"in to?to.value:to.textContent,i=a.length;for(t=0;t<s&&r[t]===a[t];t++);var l=s-t;for(n=1;n<=l&&r[s-n]===a[i-n];n++);return Yx=a.slice(t,1<n?1-n:void 0)}function Qx(t){var r=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&r===13&&(t=13)):t=r,t===10&&(t=13),32<=t||t===13?t:0}function nx(){return!0}function Jk(){return!1}function da(t){function r(s,n,a,i,l){this._reactName=s,this._targetInst=a,this.type=n,this.nativeEvent=i,this.target=l,this.currentTarget=null;for(var o in t)t.hasOwnProperty(o)&&(s=t[o],this[o]=s?s(i):i[o]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?nx:Jk,this.isPropagationStopped=Jk,this}return Jr(r.prototype,{preventDefault:function(){this.defaultPrevented=!0;var s=this.nativeEvent;s&&(s.preventDefault?s.preventDefault():typeof s.returnValue!="unknown"&&(s.returnValue=!1),this.isDefaultPrevented=nx)},stopPropagation:function(){var s=this.nativeEvent;s&&(s.stopPropagation?s.stopPropagation():typeof s.cancelBubble!="unknown"&&(s.cancelBubble=!0),this.isPropagationStopped=nx)},persist:function(){},isPersistent:nx}),r}var em={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},c2=da(em),pf=Jr({},em,{view:0,detail:0}),JW=da(pf),Mb,Ib,Rm,My=Jr({},pf,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:d2,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Rm&&(Rm&&t.type==="mousemove"?(Mb=t.screenX-Rm.screenX,Ib=t.screenY-Rm.screenY):Ib=Mb=0,Rm=t),Mb)},movementY:function(t){return"movementY"in t?t.movementY:Ib}}),eA=da(My),eG=Jr({},My,{dataTransfer:0}),tG=da(eG),rG=Jr({},pf,{relatedTarget:0}),Rb=da(rG),sG=Jr({},em,{animationName:0,elapsedTime:0,pseudoElement:0}),nG=da(sG),aG=Jr({},em,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),iG=da(aG),lG=Jr({},em,{data:0}),tA=da(lG),oG={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},cG={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},dG={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function uG(t){var r=this.nativeEvent;return r.getModifierState?r.getModifierState(t):(t=dG[t])?!!r[t]:!1}function d2(){return uG}var mG=Jr({},pf,{key:function(t){if(t.key){var r=oG[t.key]||t.key;if(r!=="Unidentified")return r}return t.type==="keypress"?(t=Qx(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?cG[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:d2,charCode:function(t){return t.type==="keypress"?Qx(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Qx(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),hG=da(mG),pG=Jr({},My,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),rA=da(pG),fG=Jr({},pf,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:d2}),xG=da(fG),gG=Jr({},em,{propertyName:0,elapsedTime:0,pseudoElement:0}),vG=da(gG),yG=Jr({},My,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),jG=da(yG),bG=[9,13,27,32],u2=ml&&"CompositionEvent"in window,wh=null;ml&&"documentMode"in document&&(wh=document.documentMode);var NG=ml&&"TextEvent"in window&&!wh,R5=ml&&(!u2||wh&&8<wh&&11>=wh),sA=" ",nA=!1;function F5(t,r){switch(t){case"keyup":return bG.indexOf(r.keyCode)!==-1;case"keydown":return r.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function $5(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var hd=!1;function wG(t,r){switch(t){case"compositionend":return $5(r);case"keypress":return r.which!==32?null:(nA=!0,sA);case"textInput":return t=r.data,t===sA&&nA?null:t;default:return null}}function SG(t,r){if(hd)return t==="compositionend"||!u2&&F5(t,r)?(t=I5(),Yx=o2=to=null,hd=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(r.ctrlKey||r.altKey||r.metaKey)||r.ctrlKey&&r.altKey){if(r.char&&1<r.char.length)return r.char;if(r.which)return String.fromCharCode(r.which)}return null;case"compositionend":return R5&&r.locale!=="ko"?null:r.data;default:return null}}var CG={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function aA(t){var r=t&&t.nodeName&&t.nodeName.toLowerCase();return r==="input"?!!CG[t.type]:r==="textarea"}function L5(t,r,s,n){x5(n),r=Cg(r,"onChange"),0<r.length&&(s=new c2("onChange","change",null,s,n),t.push({event:s,listeners:r}))}var Sh=null,Gh=null;function PG(t){Q5(t,0)}function Iy(t){var r=xd(t);if(c5(r))return t}function kG(t,r){if(t==="change")return r}var B5=!1;if(ml){var Fb;if(ml){var $b="oninput"in document;if(!$b){var iA=document.createElement("div");iA.setAttribute("oninput","return;"),$b=typeof iA.oninput=="function"}Fb=$b}else Fb=!1;B5=Fb&&(!document.documentMode||9<document.documentMode)}function lA(){Sh&&(Sh.detachEvent("onpropertychange",V5),Gh=Sh=null)}function V5(t){if(t.propertyName==="value"&&Iy(Gh)){var r=[];L5(r,Gh,t,s2(t)),j5(PG,r)}}function AG(t,r,s){t==="focusin"?(lA(),Sh=r,Gh=s,Sh.attachEvent("onpropertychange",V5)):t==="focusout"&&lA()}function _G(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Iy(Gh)}function TG(t,r){if(t==="click")return Iy(r)}function OG(t,r){if(t==="input"||t==="change")return Iy(r)}function EG(t,r){return t===r&&(t!==0||1/t===1/r)||t!==t&&r!==r}var ei=typeof Object.is=="function"?Object.is:EG;function Yh(t,r){if(ei(t,r))return!0;if(typeof t!="object"||t===null||typeof r!="object"||r===null)return!1;var s=Object.keys(t),n=Object.keys(r);if(s.length!==n.length)return!1;for(n=0;n<s.length;n++){var a=s[n];if(!gN.call(r,a)||!ei(t[a],r[a]))return!1}return!0}function oA(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function cA(t,r){var s=oA(t);t=0;for(var n;s;){if(s.nodeType===3){if(n=t+s.textContent.length,t<=r&&n>=r)return{node:s,offset:r-t};t=n}e:{for(;s;){if(s.nextSibling){s=s.nextSibling;break e}s=s.parentNode}s=void 0}s=oA(s)}}function U5(t,r){return t&&r?t===r?!0:t&&t.nodeType===3?!1:r&&r.nodeType===3?U5(t,r.parentNode):"contains"in t?t.contains(r):t.compareDocumentPosition?!!(t.compareDocumentPosition(r)&16):!1:!1}function q5(){for(var t=window,r=vg();r instanceof t.HTMLIFrameElement;){try{var s=typeof r.contentWindow.location.href=="string"}catch{s=!1}if(s)t=r.contentWindow;else break;r=vg(t.document)}return r}function m2(t){var r=t&&t.nodeName&&t.nodeName.toLowerCase();return r&&(r==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||r==="textarea"||t.contentEditable==="true")}function DG(t){var r=q5(),s=t.focusedElem,n=t.selectionRange;if(r!==s&&s&&s.ownerDocument&&U5(s.ownerDocument.documentElement,s)){if(n!==null&&m2(s)){if(r=n.start,t=n.end,t===void 0&&(t=r),"selectionStart"in s)s.selectionStart=r,s.selectionEnd=Math.min(t,s.value.length);else if(t=(r=s.ownerDocument||document)&&r.defaultView||window,t.getSelection){t=t.getSelection();var a=s.textContent.length,i=Math.min(n.start,a);n=n.end===void 0?i:Math.min(n.end,a),!t.extend&&i>n&&(a=n,n=i,i=a),a=cA(s,i);var l=cA(s,n);a&&l&&(t.rangeCount!==1||t.anchorNode!==a.node||t.anchorOffset!==a.offset||t.focusNode!==l.node||t.focusOffset!==l.offset)&&(r=r.createRange(),r.setStart(a.node,a.offset),t.removeAllRanges(),i>n?(t.addRange(r),t.extend(l.node,l.offset)):(r.setEnd(l.node,l.offset),t.addRange(r)))}}for(r=[],t=s;t=t.parentNode;)t.nodeType===1&&r.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof s.focus=="function"&&s.focus(),s=0;s<r.length;s++)t=r[s],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var MG=ml&&"documentMode"in document&&11>=document.documentMode,pd=null,RN=null,Ch=null,FN=!1;function dA(t,r,s){var n=s.window===s?s.document:s.nodeType===9?s:s.ownerDocument;FN||pd==null||pd!==vg(n)||(n=pd,"selectionStart"in n&&m2(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),Ch&&Yh(Ch,n)||(Ch=n,n=Cg(RN,"onSelect"),0<n.length&&(r=new c2("onSelect","select",null,r,s),t.push({event:r,listeners:n}),r.target=pd)))}function ax(t,r){var s={};return s[t.toLowerCase()]=r.toLowerCase(),s["Webkit"+t]="webkit"+r,s["Moz"+t]="moz"+r,s}var fd={animationend:ax("Animation","AnimationEnd"),animationiteration:ax("Animation","AnimationIteration"),animationstart:ax("Animation","AnimationStart"),transitionend:ax("Transition","TransitionEnd")},Lb={},z5={};ml&&(z5=document.createElement("div").style,"AnimationEvent"in window||(delete fd.animationend.animation,delete fd.animationiteration.animation,delete fd.animationstart.animation),"TransitionEvent"in window||delete fd.transitionend.transition);function Ry(t){if(Lb[t])return Lb[t];if(!fd[t])return t;var r=fd[t],s;for(s in r)if(r.hasOwnProperty(s)&&s in z5)return Lb[t]=r[s];return t}var K5=Ry("animationend"),H5=Ry("animationiteration"),W5=Ry("animationstart"),G5=Ry("transitionend"),Y5=new Map,uA="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ao(t,r){Y5.set(t,r),Fc(r,[t])}for(var Bb=0;Bb<uA.length;Bb++){var Vb=uA[Bb],IG=Vb.toLowerCase(),RG=Vb[0].toUpperCase()+Vb.slice(1);Ao(IG,"on"+RG)}Ao(K5,"onAnimationEnd");Ao(H5,"onAnimationIteration");Ao(W5,"onAnimationStart");Ao("dblclick","onDoubleClick");Ao("focusin","onFocus");Ao("focusout","onBlur");Ao(G5,"onTransitionEnd");au("onMouseEnter",["mouseout","mouseover"]);au("onMouseLeave",["mouseout","mouseover"]);au("onPointerEnter",["pointerout","pointerover"]);au("onPointerLeave",["pointerout","pointerover"]);Fc("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Fc("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Fc("onBeforeInput",["compositionend","keypress","textInput","paste"]);Fc("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Fc("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Fc("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var dh="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),FG=new Set("cancel close invalid load scroll toggle".split(" ").concat(dh));function mA(t,r,s){var n=t.type||"unknown-event";t.currentTarget=s,IW(n,r,void 0,t),t.currentTarget=null}function Q5(t,r){r=(r&4)!==0;for(var s=0;s<t.length;s++){var n=t[s],a=n.event;n=n.listeners;e:{var i=void 0;if(r)for(var l=n.length-1;0<=l;l--){var o=n[l],c=o.instance,d=o.currentTarget;if(o=o.listener,c!==i&&a.isPropagationStopped())break e;mA(a,o,d),i=c}else for(l=0;l<n.length;l++){if(o=n[l],c=o.instance,d=o.currentTarget,o=o.listener,c!==i&&a.isPropagationStopped())break e;mA(a,o,d),i=c}}}if(jg)throw t=EN,jg=!1,EN=null,t}function $r(t,r){var s=r[UN];s===void 0&&(s=r[UN]=new Set);var n=t+"__bubble";s.has(n)||(X5(r,t,2,!1),s.add(n))}function Ub(t,r,s){var n=0;r&&(n|=4),X5(s,t,n,r)}var ix="_reactListening"+Math.random().toString(36).slice(2);function Qh(t){if(!t[ix]){t[ix]=!0,n5.forEach(function(s){s!=="selectionchange"&&(FG.has(s)||Ub(s,!1,t),Ub(s,!0,t))});var r=t.nodeType===9?t:t.ownerDocument;r===null||r[ix]||(r[ix]=!0,Ub("selectionchange",!1,r))}}function X5(t,r,s,n){switch(M5(r)){case 1:var a=XW;break;case 4:a=ZW;break;default:a=l2}s=a.bind(null,r,s,t),a=void 0,!ON||r!=="touchstart"&&r!=="touchmove"&&r!=="wheel"||(a=!0),n?a!==void 0?t.addEventListener(r,s,{capture:!0,passive:a}):t.addEventListener(r,s,!0):a!==void 0?t.addEventListener(r,s,{passive:a}):t.addEventListener(r,s,!1)}function qb(t,r,s,n,a){var i=n;if(!(r&1)&&!(r&2)&&n!==null)e:for(;;){if(n===null)return;var l=n.tag;if(l===3||l===4){var o=n.stateNode.containerInfo;if(o===a||o.nodeType===8&&o.parentNode===a)break;if(l===4)for(l=n.return;l!==null;){var c=l.tag;if((c===3||c===4)&&(c=l.stateNode.containerInfo,c===a||c.nodeType===8&&c.parentNode===a))return;l=l.return}for(;o!==null;){if(l=Qo(o),l===null)return;if(c=l.tag,c===5||c===6){n=i=l;continue e}o=o.parentNode}}n=n.return}j5(function(){var d=i,u=s2(s),m=[];e:{var h=Y5.get(t);if(h!==void 0){var g=c2,f=t;switch(t){case"keypress":if(Qx(s)===0)break e;case"keydown":case"keyup":g=hG;break;case"focusin":f="focus",g=Rb;break;case"focusout":f="blur",g=Rb;break;case"beforeblur":case"afterblur":g=Rb;break;case"click":if(s.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":g=eA;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":g=tG;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":g=xG;break;case K5:case H5:case W5:g=nG;break;case G5:g=vG;break;case"scroll":g=JW;break;case"wheel":g=jG;break;case"copy":case"cut":case"paste":g=iG;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":g=rA}var p=(r&4)!==0,y=!p&&t==="scroll",v=p?h!==null?h+"Capture":null:h;p=[];for(var x=d,b;x!==null;){b=x;var N=b.stateNode;if(b.tag===5&&N!==null&&(b=N,v!==null&&(N=zh(x,v),N!=null&&p.push(Xh(x,N,b)))),y)break;x=x.return}0<p.length&&(h=new g(h,f,null,s,u),m.push({event:h,listeners:p}))}}if(!(r&7)){e:{if(h=t==="mouseover"||t==="pointerover",g=t==="mouseout"||t==="pointerout",h&&s!==_N&&(f=s.relatedTarget||s.fromElement)&&(Qo(f)||f[hl]))break e;if((g||h)&&(h=u.window===u?u:(h=u.ownerDocument)?h.defaultView||h.parentWindow:window,g?(f=s.relatedTarget||s.toElement,g=d,f=f?Qo(f):null,f!==null&&(y=$c(f),f!==y||f.tag!==5&&f.tag!==6)&&(f=null)):(g=null,f=d),g!==f)){if(p=eA,N="onMouseLeave",v="onMouseEnter",x="mouse",(t==="pointerout"||t==="pointerover")&&(p=rA,N="onPointerLeave",v="onPointerEnter",x="pointer"),y=g==null?h:xd(g),b=f==null?h:xd(f),h=new p(N,x+"leave",g,s,u),h.target=y,h.relatedTarget=b,N=null,Qo(u)===d&&(p=new p(v,x+"enter",f,s,u),p.target=b,p.relatedTarget=y,N=p),y=N,g&&f)t:{for(p=g,v=f,x=0,b=p;b;b=Xc(b))x++;for(b=0,N=v;N;N=Xc(N))b++;for(;0<x-b;)p=Xc(p),x--;for(;0<b-x;)v=Xc(v),b--;for(;x--;){if(p===v||v!==null&&p===v.alternate)break t;p=Xc(p),v=Xc(v)}p=null}else p=null;g!==null&&hA(m,h,g,p,!1),f!==null&&y!==null&&hA(m,y,f,p,!0)}}e:{if(h=d?xd(d):window,g=h.nodeName&&h.nodeName.toLowerCase(),g==="select"||g==="input"&&h.type==="file")var w=kG;else if(aA(h))if(B5)w=OG;else{w=_G;var C=AG}else(g=h.nodeName)&&g.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(w=TG);if(w&&(w=w(t,d))){L5(m,w,s,u);break e}C&&C(t,h,d),t==="focusout"&&(C=h._wrapperState)&&C.controlled&&h.type==="number"&&SN(h,"number",h.value)}switch(C=d?xd(d):window,t){case"focusin":(aA(C)||C.contentEditable==="true")&&(pd=C,RN=d,Ch=null);break;case"focusout":Ch=RN=pd=null;break;case"mousedown":FN=!0;break;case"contextmenu":case"mouseup":case"dragend":FN=!1,dA(m,s,u);break;case"selectionchange":if(MG)break;case"keydown":case"keyup":dA(m,s,u)}var P;if(u2)e:{switch(t){case"compositionstart":var S="onCompositionStart";break e;case"compositionend":S="onCompositionEnd";break e;case"compositionupdate":S="onCompositionUpdate";break e}S=void 0}else hd?F5(t,s)&&(S="onCompositionEnd"):t==="keydown"&&s.keyCode===229&&(S="onCompositionStart");S&&(R5&&s.locale!=="ko"&&(hd||S!=="onCompositionStart"?S==="onCompositionEnd"&&hd&&(P=I5()):(to=u,o2="value"in to?to.value:to.textContent,hd=!0)),C=Cg(d,S),0<C.length&&(S=new tA(S,t,null,s,u),m.push({event:S,listeners:C}),P?S.data=P:(P=$5(s),P!==null&&(S.data=P)))),(P=NG?wG(t,s):SG(t,s))&&(d=Cg(d,"onBeforeInput"),0<d.length&&(u=new tA("onBeforeInput","beforeinput",null,s,u),m.push({event:u,listeners:d}),u.data=P))}Q5(m,r)})}function Xh(t,r,s){return{instance:t,listener:r,currentTarget:s}}function Cg(t,r){for(var s=r+"Capture",n=[];t!==null;){var a=t,i=a.stateNode;a.tag===5&&i!==null&&(a=i,i=zh(t,s),i!=null&&n.unshift(Xh(t,i,a)),i=zh(t,r),i!=null&&n.push(Xh(t,i,a))),t=t.return}return n}function Xc(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function hA(t,r,s,n,a){for(var i=r._reactName,l=[];s!==null&&s!==n;){var o=s,c=o.alternate,d=o.stateNode;if(c!==null&&c===n)break;o.tag===5&&d!==null&&(o=d,a?(c=zh(s,i),c!=null&&l.unshift(Xh(s,c,o))):a||(c=zh(s,i),c!=null&&l.push(Xh(s,c,o)))),s=s.return}l.length!==0&&t.push({event:r,listeners:l})}var $G=/\r\n?/g,LG=/\u0000|\uFFFD/g;function pA(t){return(typeof t=="string"?t:""+t).replace($G,`
`).replace(LG,"")}function lx(t,r,s){if(r=pA(r),pA(t)!==r&&s)throw Error(ze(425))}function Pg(){}var $N=null,LN=null;function BN(t,r){return t==="textarea"||t==="noscript"||typeof r.children=="string"||typeof r.children=="number"||typeof r.dangerouslySetInnerHTML=="object"&&r.dangerouslySetInnerHTML!==null&&r.dangerouslySetInnerHTML.__html!=null}var VN=typeof setTimeout=="function"?setTimeout:void 0,BG=typeof clearTimeout=="function"?clearTimeout:void 0,fA=typeof Promise=="function"?Promise:void 0,VG=typeof queueMicrotask=="function"?queueMicrotask:typeof fA<"u"?function(t){return fA.resolve(null).then(t).catch(UG)}:VN;function UG(t){setTimeout(function(){throw t})}function zb(t,r){var s=r,n=0;do{var a=s.nextSibling;if(t.removeChild(s),a&&a.nodeType===8)if(s=a.data,s==="/$"){if(n===0){t.removeChild(a),Wh(r);return}n--}else s!=="$"&&s!=="$?"&&s!=="$!"||n++;s=a}while(s);Wh(r)}function lo(t){for(;t!=null;t=t.nextSibling){var r=t.nodeType;if(r===1||r===3)break;if(r===8){if(r=t.data,r==="$"||r==="$!"||r==="$?")break;if(r==="/$")return null}}return t}function xA(t){t=t.previousSibling;for(var r=0;t;){if(t.nodeType===8){var s=t.data;if(s==="$"||s==="$!"||s==="$?"){if(r===0)return t;r--}else s==="/$"&&r++}t=t.previousSibling}return null}var tm=Math.random().toString(36).slice(2),fi="__reactFiber$"+tm,Zh="__reactProps$"+tm,hl="__reactContainer$"+tm,UN="__reactEvents$"+tm,qG="__reactListeners$"+tm,zG="__reactHandles$"+tm;function Qo(t){var r=t[fi];if(r)return r;for(var s=t.parentNode;s;){if(r=s[hl]||s[fi]){if(s=r.alternate,r.child!==null||s!==null&&s.child!==null)for(t=xA(t);t!==null;){if(s=t[fi])return s;t=xA(t)}return r}t=s,s=t.parentNode}return null}function ff(t){return t=t[fi]||t[hl],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function xd(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(ze(33))}function Fy(t){return t[Zh]||null}var qN=[],gd=-1;function _o(t){return{current:t}}function Vr(t){0>gd||(t.current=qN[gd],qN[gd]=null,gd--)}function Dr(t,r){gd++,qN[gd]=t.current,t.current=r}var xo={},en=_o(xo),En=_o(!1),xc=xo;function iu(t,r){var s=t.type.contextTypes;if(!s)return xo;var n=t.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===r)return n.__reactInternalMemoizedMaskedChildContext;var a={},i;for(i in s)a[i]=r[i];return n&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=r,t.__reactInternalMemoizedMaskedChildContext=a),a}function Dn(t){return t=t.childContextTypes,t!=null}function kg(){Vr(En),Vr(en)}function gA(t,r,s){if(en.current!==xo)throw Error(ze(168));Dr(en,r),Dr(En,s)}function Z5(t,r,s){var n=t.stateNode;if(r=r.childContextTypes,typeof n.getChildContext!="function")return s;n=n.getChildContext();for(var a in n)if(!(a in r))throw Error(ze(108,AW(t)||"Unknown",a));return Jr({},s,n)}function Ag(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||xo,xc=en.current,Dr(en,t),Dr(En,En.current),!0}function vA(t,r,s){var n=t.stateNode;if(!n)throw Error(ze(169));s?(t=Z5(t,r,xc),n.__reactInternalMemoizedMergedChildContext=t,Vr(En),Vr(en),Dr(en,t)):Vr(En),Dr(En,s)}var Xi=null,$y=!1,Kb=!1;function J5(t){Xi===null?Xi=[t]:Xi.push(t)}function KG(t){$y=!0,J5(t)}function To(){if(!Kb&&Xi!==null){Kb=!0;var t=0,r=Nr;try{var s=Xi;for(Nr=1;t<s.length;t++){var n=s[t];do n=n(!0);while(n!==null)}Xi=null,$y=!1}catch(a){throw Xi!==null&&(Xi=Xi.slice(t+1)),S5(n2,To),a}finally{Nr=r,Kb=!1}}return null}var vd=[],yd=0,_g=null,Tg=0,ya=[],ja=0,gc=null,el=1,tl="";function Uo(t,r){vd[yd++]=Tg,vd[yd++]=_g,_g=t,Tg=r}function e6(t,r,s){ya[ja++]=el,ya[ja++]=tl,ya[ja++]=gc,gc=t;var n=el;t=tl;var a=32-Ya(n)-1;n&=~(1<<a),s+=1;var i=32-Ya(r)+a;if(30<i){var l=a-a%5;i=(n&(1<<l)-1).toString(32),n>>=l,a-=l,el=1<<32-Ya(r)+a|s<<a|n,tl=i+t}else el=1<<i|s<<a|n,tl=t}function h2(t){t.return!==null&&(Uo(t,1),e6(t,1,0))}function p2(t){for(;t===_g;)_g=vd[--yd],vd[yd]=null,Tg=vd[--yd],vd[yd]=null;for(;t===gc;)gc=ya[--ja],ya[ja]=null,tl=ya[--ja],ya[ja]=null,el=ya[--ja],ya[ja]=null}var Zn=null,Qn=null,Kr=!1,Ba=null;function t6(t,r){var s=Na(5,null,null,0);s.elementType="DELETED",s.stateNode=r,s.return=t,r=t.deletions,r===null?(t.deletions=[s],t.flags|=16):r.push(s)}function yA(t,r){switch(t.tag){case 5:var s=t.type;return r=r.nodeType!==1||s.toLowerCase()!==r.nodeName.toLowerCase()?null:r,r!==null?(t.stateNode=r,Zn=t,Qn=lo(r.firstChild),!0):!1;case 6:return r=t.pendingProps===""||r.nodeType!==3?null:r,r!==null?(t.stateNode=r,Zn=t,Qn=null,!0):!1;case 13:return r=r.nodeType!==8?null:r,r!==null?(s=gc!==null?{id:el,overflow:tl}:null,t.memoizedState={dehydrated:r,treeContext:s,retryLane:1073741824},s=Na(18,null,null,0),s.stateNode=r,s.return=t,t.child=s,Zn=t,Qn=null,!0):!1;default:return!1}}function zN(t){return(t.mode&1)!==0&&(t.flags&128)===0}function KN(t){if(Kr){var r=Qn;if(r){var s=r;if(!yA(t,r)){if(zN(t))throw Error(ze(418));r=lo(s.nextSibling);var n=Zn;r&&yA(t,r)?t6(n,s):(t.flags=t.flags&-4097|2,Kr=!1,Zn=t)}}else{if(zN(t))throw Error(ze(418));t.flags=t.flags&-4097|2,Kr=!1,Zn=t}}}function jA(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Zn=t}function ox(t){if(t!==Zn)return!1;if(!Kr)return jA(t),Kr=!0,!1;var r;if((r=t.tag!==3)&&!(r=t.tag!==5)&&(r=t.type,r=r!=="head"&&r!=="body"&&!BN(t.type,t.memoizedProps)),r&&(r=Qn)){if(zN(t))throw r6(),Error(ze(418));for(;r;)t6(t,r),r=lo(r.nextSibling)}if(jA(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(ze(317));e:{for(t=t.nextSibling,r=0;t;){if(t.nodeType===8){var s=t.data;if(s==="/$"){if(r===0){Qn=lo(t.nextSibling);break e}r--}else s!=="$"&&s!=="$!"&&s!=="$?"||r++}t=t.nextSibling}Qn=null}}else Qn=Zn?lo(t.stateNode.nextSibling):null;return!0}function r6(){for(var t=Qn;t;)t=lo(t.nextSibling)}function lu(){Qn=Zn=null,Kr=!1}function f2(t){Ba===null?Ba=[t]:Ba.push(t)}var HG=wl.ReactCurrentBatchConfig;function Fm(t,r,s){if(t=s.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(s._owner){if(s=s._owner,s){if(s.tag!==1)throw Error(ze(309));var n=s.stateNode}if(!n)throw Error(ze(147,t));var a=n,i=""+t;return r!==null&&r.ref!==null&&typeof r.ref=="function"&&r.ref._stringRef===i?r.ref:(r=function(l){var o=a.refs;l===null?delete o[i]:o[i]=l},r._stringRef=i,r)}if(typeof t!="string")throw Error(ze(284));if(!s._owner)throw Error(ze(290,t))}return t}function cx(t,r){throw t=Object.prototype.toString.call(r),Error(ze(31,t==="[object Object]"?"object with keys {"+Object.keys(r).join(", ")+"}":t))}function bA(t){var r=t._init;return r(t._payload)}function s6(t){function r(v,x){if(t){var b=v.deletions;b===null?(v.deletions=[x],v.flags|=16):b.push(x)}}function s(v,x){if(!t)return null;for(;x!==null;)r(v,x),x=x.sibling;return null}function n(v,x){for(v=new Map;x!==null;)x.key!==null?v.set(x.key,x):v.set(x.index,x),x=x.sibling;return v}function a(v,x){return v=mo(v,x),v.index=0,v.sibling=null,v}function i(v,x,b){return v.index=b,t?(b=v.alternate,b!==null?(b=b.index,b<x?(v.flags|=2,x):b):(v.flags|=2,x)):(v.flags|=1048576,x)}function l(v){return t&&v.alternate===null&&(v.flags|=2),v}function o(v,x,b,N){return x===null||x.tag!==6?(x=Zb(b,v.mode,N),x.return=v,x):(x=a(x,b),x.return=v,x)}function c(v,x,b,N){var w=b.type;return w===md?u(v,x,b.props.children,N,b.key):x!==null&&(x.elementType===w||typeof w=="object"&&w!==null&&w.$$typeof===$l&&bA(w)===x.type)?(N=a(x,b.props),N.ref=Fm(v,x,b),N.return=v,N):(N=sg(b.type,b.key,b.props,null,v.mode,N),N.ref=Fm(v,x,b),N.return=v,N)}function d(v,x,b,N){return x===null||x.tag!==4||x.stateNode.containerInfo!==b.containerInfo||x.stateNode.implementation!==b.implementation?(x=Jb(b,v.mode,N),x.return=v,x):(x=a(x,b.children||[]),x.return=v,x)}function u(v,x,b,N,w){return x===null||x.tag!==7?(x=mc(b,v.mode,N,w),x.return=v,x):(x=a(x,b),x.return=v,x)}function m(v,x,b){if(typeof x=="string"&&x!==""||typeof x=="number")return x=Zb(""+x,v.mode,b),x.return=v,x;if(typeof x=="object"&&x!==null){switch(x.$$typeof){case Zf:return b=sg(x.type,x.key,x.props,null,v.mode,b),b.ref=Fm(v,null,x),b.return=v,b;case ud:return x=Jb(x,v.mode,b),x.return=v,x;case $l:var N=x._init;return m(v,N(x._payload),b)}if(oh(x)||Em(x))return x=mc(x,v.mode,b,null),x.return=v,x;cx(v,x)}return null}function h(v,x,b,N){var w=x!==null?x.key:null;if(typeof b=="string"&&b!==""||typeof b=="number")return w!==null?null:o(v,x,""+b,N);if(typeof b=="object"&&b!==null){switch(b.$$typeof){case Zf:return b.key===w?c(v,x,b,N):null;case ud:return b.key===w?d(v,x,b,N):null;case $l:return w=b._init,h(v,x,w(b._payload),N)}if(oh(b)||Em(b))return w!==null?null:u(v,x,b,N,null);cx(v,b)}return null}function g(v,x,b,N,w){if(typeof N=="string"&&N!==""||typeof N=="number")return v=v.get(b)||null,o(x,v,""+N,w);if(typeof N=="object"&&N!==null){switch(N.$$typeof){case Zf:return v=v.get(N.key===null?b:N.key)||null,c(x,v,N,w);case ud:return v=v.get(N.key===null?b:N.key)||null,d(x,v,N,w);case $l:var C=N._init;return g(v,x,b,C(N._payload),w)}if(oh(N)||Em(N))return v=v.get(b)||null,u(x,v,N,w,null);cx(x,N)}return null}function f(v,x,b,N){for(var w=null,C=null,P=x,S=x=0,A=null;P!==null&&S<b.length;S++){P.index>S?(A=P,P=null):A=P.sibling;var k=h(v,P,b[S],N);if(k===null){P===null&&(P=A);break}t&&P&&k.alternate===null&&r(v,P),x=i(k,x,S),C===null?w=k:C.sibling=k,C=k,P=A}if(S===b.length)return s(v,P),Kr&&Uo(v,S),w;if(P===null){for(;S<b.length;S++)P=m(v,b[S],N),P!==null&&(x=i(P,x,S),C===null?w=P:C.sibling=P,C=P);return Kr&&Uo(v,S),w}for(P=n(v,P);S<b.length;S++)A=g(P,v,S,b[S],N),A!==null&&(t&&A.alternate!==null&&P.delete(A.key===null?S:A.key),x=i(A,x,S),C===null?w=A:C.sibling=A,C=A);return t&&P.forEach(function(I){return r(v,I)}),Kr&&Uo(v,S),w}function p(v,x,b,N){var w=Em(b);if(typeof w!="function")throw Error(ze(150));if(b=w.call(b),b==null)throw Error(ze(151));for(var C=w=null,P=x,S=x=0,A=null,k=b.next();P!==null&&!k.done;S++,k=b.next()){P.index>S?(A=P,P=null):A=P.sibling;var I=h(v,P,k.value,N);if(I===null){P===null&&(P=A);break}t&&P&&I.alternate===null&&r(v,P),x=i(I,x,S),C===null?w=I:C.sibling=I,C=I,P=A}if(k.done)return s(v,P),Kr&&Uo(v,S),w;if(P===null){for(;!k.done;S++,k=b.next())k=m(v,k.value,N),k!==null&&(x=i(k,x,S),C===null?w=k:C.sibling=k,C=k);return Kr&&Uo(v,S),w}for(P=n(v,P);!k.done;S++,k=b.next())k=g(P,v,S,k.value,N),k!==null&&(t&&k.alternate!==null&&P.delete(k.key===null?S:k.key),x=i(k,x,S),C===null?w=k:C.sibling=k,C=k);return t&&P.forEach(function(L){return r(v,L)}),Kr&&Uo(v,S),w}function y(v,x,b,N){if(typeof b=="object"&&b!==null&&b.type===md&&b.key===null&&(b=b.props.children),typeof b=="object"&&b!==null){switch(b.$$typeof){case Zf:e:{for(var w=b.key,C=x;C!==null;){if(C.key===w){if(w=b.type,w===md){if(C.tag===7){s(v,C.sibling),x=a(C,b.props.children),x.return=v,v=x;break e}}else if(C.elementType===w||typeof w=="object"&&w!==null&&w.$$typeof===$l&&bA(w)===C.type){s(v,C.sibling),x=a(C,b.props),x.ref=Fm(v,C,b),x.return=v,v=x;break e}s(v,C);break}else r(v,C);C=C.sibling}b.type===md?(x=mc(b.props.children,v.mode,N,b.key),x.return=v,v=x):(N=sg(b.type,b.key,b.props,null,v.mode,N),N.ref=Fm(v,x,b),N.return=v,v=N)}return l(v);case ud:e:{for(C=b.key;x!==null;){if(x.key===C)if(x.tag===4&&x.stateNode.containerInfo===b.containerInfo&&x.stateNode.implementation===b.implementation){s(v,x.sibling),x=a(x,b.children||[]),x.return=v,v=x;break e}else{s(v,x);break}else r(v,x);x=x.sibling}x=Jb(b,v.mode,N),x.return=v,v=x}return l(v);case $l:return C=b._init,y(v,x,C(b._payload),N)}if(oh(b))return f(v,x,b,N);if(Em(b))return p(v,x,b,N);cx(v,b)}return typeof b=="string"&&b!==""||typeof b=="number"?(b=""+b,x!==null&&x.tag===6?(s(v,x.sibling),x=a(x,b),x.return=v,v=x):(s(v,x),x=Zb(b,v.mode,N),x.return=v,v=x),l(v)):s(v,x)}return y}var ou=s6(!0),n6=s6(!1),Og=_o(null),Eg=null,jd=null,x2=null;function g2(){x2=jd=Eg=null}function v2(t){var r=Og.current;Vr(Og),t._currentValue=r}function HN(t,r,s){for(;t!==null;){var n=t.alternate;if((t.childLanes&r)!==r?(t.childLanes|=r,n!==null&&(n.childLanes|=r)):n!==null&&(n.childLanes&r)!==r&&(n.childLanes|=r),t===s)break;t=t.return}}function Dd(t,r){Eg=t,x2=jd=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&r&&(An=!0),t.firstContext=null)}function Pa(t){var r=t._currentValue;if(x2!==t)if(t={context:t,memoizedValue:r,next:null},jd===null){if(Eg===null)throw Error(ze(308));jd=t,Eg.dependencies={lanes:0,firstContext:t}}else jd=jd.next=t;return r}var Xo=null;function y2(t){Xo===null?Xo=[t]:Xo.push(t)}function a6(t,r,s,n){var a=r.interleaved;return a===null?(s.next=s,y2(r)):(s.next=a.next,a.next=s),r.interleaved=s,pl(t,n)}function pl(t,r){t.lanes|=r;var s=t.alternate;for(s!==null&&(s.lanes|=r),s=t,t=t.return;t!==null;)t.childLanes|=r,s=t.alternate,s!==null&&(s.childLanes|=r),s=t,t=t.return;return s.tag===3?s.stateNode:null}var Ll=!1;function j2(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function i6(t,r){t=t.updateQueue,r.updateQueue===t&&(r.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function il(t,r){return{eventTime:t,lane:r,tag:0,payload:null,callback:null,next:null}}function oo(t,r,s){var n=t.updateQueue;if(n===null)return null;if(n=n.shared,dr&2){var a=n.pending;return a===null?r.next=r:(r.next=a.next,a.next=r),n.pending=r,pl(t,s)}return a=n.interleaved,a===null?(r.next=r,y2(n)):(r.next=a.next,a.next=r),n.interleaved=r,pl(t,s)}function Xx(t,r,s){if(r=r.updateQueue,r!==null&&(r=r.shared,(s&4194240)!==0)){var n=r.lanes;n&=t.pendingLanes,s|=n,r.lanes=s,a2(t,s)}}function NA(t,r){var s=t.updateQueue,n=t.alternate;if(n!==null&&(n=n.updateQueue,s===n)){var a=null,i=null;if(s=s.firstBaseUpdate,s!==null){do{var l={eventTime:s.eventTime,lane:s.lane,tag:s.tag,payload:s.payload,callback:s.callback,next:null};i===null?a=i=l:i=i.next=l,s=s.next}while(s!==null);i===null?a=i=r:i=i.next=r}else a=i=r;s={baseState:n.baseState,firstBaseUpdate:a,lastBaseUpdate:i,shared:n.shared,effects:n.effects},t.updateQueue=s;return}t=s.lastBaseUpdate,t===null?s.firstBaseUpdate=r:t.next=r,s.lastBaseUpdate=r}function Dg(t,r,s,n){var a=t.updateQueue;Ll=!1;var i=a.firstBaseUpdate,l=a.lastBaseUpdate,o=a.shared.pending;if(o!==null){a.shared.pending=null;var c=o,d=c.next;c.next=null,l===null?i=d:l.next=d,l=c;var u=t.alternate;u!==null&&(u=u.updateQueue,o=u.lastBaseUpdate,o!==l&&(o===null?u.firstBaseUpdate=d:o.next=d,u.lastBaseUpdate=c))}if(i!==null){var m=a.baseState;l=0,u=d=c=null,o=i;do{var h=o.lane,g=o.eventTime;if((n&h)===h){u!==null&&(u=u.next={eventTime:g,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var f=t,p=o;switch(h=r,g=s,p.tag){case 1:if(f=p.payload,typeof f=="function"){m=f.call(g,m,h);break e}m=f;break e;case 3:f.flags=f.flags&-65537|128;case 0:if(f=p.payload,h=typeof f=="function"?f.call(g,m,h):f,h==null)break e;m=Jr({},m,h);break e;case 2:Ll=!0}}o.callback!==null&&o.lane!==0&&(t.flags|=64,h=a.effects,h===null?a.effects=[o]:h.push(o))}else g={eventTime:g,lane:h,tag:o.tag,payload:o.payload,callback:o.callback,next:null},u===null?(d=u=g,c=m):u=u.next=g,l|=h;if(o=o.next,o===null){if(o=a.shared.pending,o===null)break;h=o,o=h.next,h.next=null,a.lastBaseUpdate=h,a.shared.pending=null}}while(!0);if(u===null&&(c=m),a.baseState=c,a.firstBaseUpdate=d,a.lastBaseUpdate=u,r=a.shared.interleaved,r!==null){a=r;do l|=a.lane,a=a.next;while(a!==r)}else i===null&&(a.shared.lanes=0);yc|=l,t.lanes=l,t.memoizedState=m}}function wA(t,r,s){if(t=r.effects,r.effects=null,t!==null)for(r=0;r<t.length;r++){var n=t[r],a=n.callback;if(a!==null){if(n.callback=null,n=s,typeof a!="function")throw Error(ze(191,a));a.call(n)}}}var xf={},Ni=_o(xf),Jh=_o(xf),ep=_o(xf);function Zo(t){if(t===xf)throw Error(ze(174));return t}function b2(t,r){switch(Dr(ep,r),Dr(Jh,t),Dr(Ni,xf),t=r.nodeType,t){case 9:case 11:r=(r=r.documentElement)?r.namespaceURI:PN(null,"");break;default:t=t===8?r.parentNode:r,r=t.namespaceURI||null,t=t.tagName,r=PN(r,t)}Vr(Ni),Dr(Ni,r)}function cu(){Vr(Ni),Vr(Jh),Vr(ep)}function l6(t){Zo(ep.current);var r=Zo(Ni.current),s=PN(r,t.type);r!==s&&(Dr(Jh,t),Dr(Ni,s))}function N2(t){Jh.current===t&&(Vr(Ni),Vr(Jh))}var Xr=_o(0);function Mg(t){for(var r=t;r!==null;){if(r.tag===13){var s=r.memoizedState;if(s!==null&&(s=s.dehydrated,s===null||s.data==="$?"||s.data==="$!"))return r}else if(r.tag===19&&r.memoizedProps.revealOrder!==void 0){if(r.flags&128)return r}else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return null;r=r.return}r.sibling.return=r.return,r=r.sibling}return null}var Hb=[];function w2(){for(var t=0;t<Hb.length;t++)Hb[t]._workInProgressVersionPrimary=null;Hb.length=0}var Zx=wl.ReactCurrentDispatcher,Wb=wl.ReactCurrentBatchConfig,vc=0,Zr=null,vs=null,Ts=null,Ig=!1,Ph=!1,tp=0,WG=0;function Hs(){throw Error(ze(321))}function S2(t,r){if(r===null)return!1;for(var s=0;s<r.length&&s<t.length;s++)if(!ei(t[s],r[s]))return!1;return!0}function C2(t,r,s,n,a,i){if(vc=i,Zr=r,r.memoizedState=null,r.updateQueue=null,r.lanes=0,Zx.current=t===null||t.memoizedState===null?XG:ZG,t=s(n,a),Ph){i=0;do{if(Ph=!1,tp=0,25<=i)throw Error(ze(301));i+=1,Ts=vs=null,r.updateQueue=null,Zx.current=JG,t=s(n,a)}while(Ph)}if(Zx.current=Rg,r=vs!==null&&vs.next!==null,vc=0,Ts=vs=Zr=null,Ig=!1,r)throw Error(ze(300));return t}function P2(){var t=tp!==0;return tp=0,t}function di(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ts===null?Zr.memoizedState=Ts=t:Ts=Ts.next=t,Ts}function ka(){if(vs===null){var t=Zr.alternate;t=t!==null?t.memoizedState:null}else t=vs.next;var r=Ts===null?Zr.memoizedState:Ts.next;if(r!==null)Ts=r,vs=t;else{if(t===null)throw Error(ze(310));vs=t,t={memoizedState:vs.memoizedState,baseState:vs.baseState,baseQueue:vs.baseQueue,queue:vs.queue,next:null},Ts===null?Zr.memoizedState=Ts=t:Ts=Ts.next=t}return Ts}function rp(t,r){return typeof r=="function"?r(t):r}function Gb(t){var r=ka(),s=r.queue;if(s===null)throw Error(ze(311));s.lastRenderedReducer=t;var n=vs,a=n.baseQueue,i=s.pending;if(i!==null){if(a!==null){var l=a.next;a.next=i.next,i.next=l}n.baseQueue=a=i,s.pending=null}if(a!==null){i=a.next,n=n.baseState;var o=l=null,c=null,d=i;do{var u=d.lane;if((vc&u)===u)c!==null&&(c=c.next={lane:0,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null}),n=d.hasEagerState?d.eagerState:t(n,d.action);else{var m={lane:u,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null};c===null?(o=c=m,l=n):c=c.next=m,Zr.lanes|=u,yc|=u}d=d.next}while(d!==null&&d!==i);c===null?l=n:c.next=o,ei(n,r.memoizedState)||(An=!0),r.memoizedState=n,r.baseState=l,r.baseQueue=c,s.lastRenderedState=n}if(t=s.interleaved,t!==null){a=t;do i=a.lane,Zr.lanes|=i,yc|=i,a=a.next;while(a!==t)}else a===null&&(s.lanes=0);return[r.memoizedState,s.dispatch]}function Yb(t){var r=ka(),s=r.queue;if(s===null)throw Error(ze(311));s.lastRenderedReducer=t;var n=s.dispatch,a=s.pending,i=r.memoizedState;if(a!==null){s.pending=null;var l=a=a.next;do i=t(i,l.action),l=l.next;while(l!==a);ei(i,r.memoizedState)||(An=!0),r.memoizedState=i,r.baseQueue===null&&(r.baseState=i),s.lastRenderedState=i}return[i,n]}function o6(){}function c6(t,r){var s=Zr,n=ka(),a=r(),i=!ei(n.memoizedState,a);if(i&&(n.memoizedState=a,An=!0),n=n.queue,k2(m6.bind(null,s,n,t),[t]),n.getSnapshot!==r||i||Ts!==null&&Ts.memoizedState.tag&1){if(s.flags|=2048,sp(9,u6.bind(null,s,n,a,r),void 0,null),Ds===null)throw Error(ze(349));vc&30||d6(s,r,a)}return a}function d6(t,r,s){t.flags|=16384,t={getSnapshot:r,value:s},r=Zr.updateQueue,r===null?(r={lastEffect:null,stores:null},Zr.updateQueue=r,r.stores=[t]):(s=r.stores,s===null?r.stores=[t]:s.push(t))}function u6(t,r,s,n){r.value=s,r.getSnapshot=n,h6(r)&&p6(t)}function m6(t,r,s){return s(function(){h6(r)&&p6(t)})}function h6(t){var r=t.getSnapshot;t=t.value;try{var s=r();return!ei(t,s)}catch{return!0}}function p6(t){var r=pl(t,1);r!==null&&Qa(r,t,1,-1)}function SA(t){var r=di();return typeof t=="function"&&(t=t()),r.memoizedState=r.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:rp,lastRenderedState:t},r.queue=t,t=t.dispatch=QG.bind(null,Zr,t),[r.memoizedState,t]}function sp(t,r,s,n){return t={tag:t,create:r,destroy:s,deps:n,next:null},r=Zr.updateQueue,r===null?(r={lastEffect:null,stores:null},Zr.updateQueue=r,r.lastEffect=t.next=t):(s=r.lastEffect,s===null?r.lastEffect=t.next=t:(n=s.next,s.next=t,t.next=n,r.lastEffect=t)),t}function f6(){return ka().memoizedState}function Jx(t,r,s,n){var a=di();Zr.flags|=t,a.memoizedState=sp(1|r,s,void 0,n===void 0?null:n)}function Ly(t,r,s,n){var a=ka();n=n===void 0?null:n;var i=void 0;if(vs!==null){var l=vs.memoizedState;if(i=l.destroy,n!==null&&S2(n,l.deps)){a.memoizedState=sp(r,s,i,n);return}}Zr.flags|=t,a.memoizedState=sp(1|r,s,i,n)}function CA(t,r){return Jx(8390656,8,t,r)}function k2(t,r){return Ly(2048,8,t,r)}function x6(t,r){return Ly(4,2,t,r)}function g6(t,r){return Ly(4,4,t,r)}function v6(t,r){if(typeof r=="function")return t=t(),r(t),function(){r(null)};if(r!=null)return t=t(),r.current=t,function(){r.current=null}}function y6(t,r,s){return s=s!=null?s.concat([t]):null,Ly(4,4,v6.bind(null,r,t),s)}function A2(){}function j6(t,r){var s=ka();r=r===void 0?null:r;var n=s.memoizedState;return n!==null&&r!==null&&S2(r,n[1])?n[0]:(s.memoizedState=[t,r],t)}function b6(t,r){var s=ka();r=r===void 0?null:r;var n=s.memoizedState;return n!==null&&r!==null&&S2(r,n[1])?n[0]:(t=t(),s.memoizedState=[t,r],t)}function N6(t,r,s){return vc&21?(ei(s,r)||(s=k5(),Zr.lanes|=s,yc|=s,t.baseState=!0),r):(t.baseState&&(t.baseState=!1,An=!0),t.memoizedState=s)}function GG(t,r){var s=Nr;Nr=s!==0&&4>s?s:4,t(!0);var n=Wb.transition;Wb.transition={};try{t(!1),r()}finally{Nr=s,Wb.transition=n}}function w6(){return ka().memoizedState}function YG(t,r,s){var n=uo(t);if(s={lane:n,action:s,hasEagerState:!1,eagerState:null,next:null},S6(t))C6(r,s);else if(s=a6(t,r,s,n),s!==null){var a=fn();Qa(s,t,n,a),P6(s,r,n)}}function QG(t,r,s){var n=uo(t),a={lane:n,action:s,hasEagerState:!1,eagerState:null,next:null};if(S6(t))C6(r,a);else{var i=t.alternate;if(t.lanes===0&&(i===null||i.lanes===0)&&(i=r.lastRenderedReducer,i!==null))try{var l=r.lastRenderedState,o=i(l,s);if(a.hasEagerState=!0,a.eagerState=o,ei(o,l)){var c=r.interleaved;c===null?(a.next=a,y2(r)):(a.next=c.next,c.next=a),r.interleaved=a;return}}catch{}finally{}s=a6(t,r,a,n),s!==null&&(a=fn(),Qa(s,t,n,a),P6(s,r,n))}}function S6(t){var r=t.alternate;return t===Zr||r!==null&&r===Zr}function C6(t,r){Ph=Ig=!0;var s=t.pending;s===null?r.next=r:(r.next=s.next,s.next=r),t.pending=r}function P6(t,r,s){if(s&4194240){var n=r.lanes;n&=t.pendingLanes,s|=n,r.lanes=s,a2(t,s)}}var Rg={readContext:Pa,useCallback:Hs,useContext:Hs,useEffect:Hs,useImperativeHandle:Hs,useInsertionEffect:Hs,useLayoutEffect:Hs,useMemo:Hs,useReducer:Hs,useRef:Hs,useState:Hs,useDebugValue:Hs,useDeferredValue:Hs,useTransition:Hs,useMutableSource:Hs,useSyncExternalStore:Hs,useId:Hs,unstable_isNewReconciler:!1},XG={readContext:Pa,useCallback:function(t,r){return di().memoizedState=[t,r===void 0?null:r],t},useContext:Pa,useEffect:CA,useImperativeHandle:function(t,r,s){return s=s!=null?s.concat([t]):null,Jx(4194308,4,v6.bind(null,r,t),s)},useLayoutEffect:function(t,r){return Jx(4194308,4,t,r)},useInsertionEffect:function(t,r){return Jx(4,2,t,r)},useMemo:function(t,r){var s=di();return r=r===void 0?null:r,t=t(),s.memoizedState=[t,r],t},useReducer:function(t,r,s){var n=di();return r=s!==void 0?s(r):r,n.memoizedState=n.baseState=r,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:r},n.queue=t,t=t.dispatch=YG.bind(null,Zr,t),[n.memoizedState,t]},useRef:function(t){var r=di();return t={current:t},r.memoizedState=t},useState:SA,useDebugValue:A2,useDeferredValue:function(t){return di().memoizedState=t},useTransition:function(){var t=SA(!1),r=t[0];return t=GG.bind(null,t[1]),di().memoizedState=t,[r,t]},useMutableSource:function(){},useSyncExternalStore:function(t,r,s){var n=Zr,a=di();if(Kr){if(s===void 0)throw Error(ze(407));s=s()}else{if(s=r(),Ds===null)throw Error(ze(349));vc&30||d6(n,r,s)}a.memoizedState=s;var i={value:s,getSnapshot:r};return a.queue=i,CA(m6.bind(null,n,i,t),[t]),n.flags|=2048,sp(9,u6.bind(null,n,i,s,r),void 0,null),s},useId:function(){var t=di(),r=Ds.identifierPrefix;if(Kr){var s=tl,n=el;s=(n&~(1<<32-Ya(n)-1)).toString(32)+s,r=":"+r+"R"+s,s=tp++,0<s&&(r+="H"+s.toString(32)),r+=":"}else s=WG++,r=":"+r+"r"+s.toString(32)+":";return t.memoizedState=r},unstable_isNewReconciler:!1},ZG={readContext:Pa,useCallback:j6,useContext:Pa,useEffect:k2,useImperativeHandle:y6,useInsertionEffect:x6,useLayoutEffect:g6,useMemo:b6,useReducer:Gb,useRef:f6,useState:function(){return Gb(rp)},useDebugValue:A2,useDeferredValue:function(t){var r=ka();return N6(r,vs.memoizedState,t)},useTransition:function(){var t=Gb(rp)[0],r=ka().memoizedState;return[t,r]},useMutableSource:o6,useSyncExternalStore:c6,useId:w6,unstable_isNewReconciler:!1},JG={readContext:Pa,useCallback:j6,useContext:Pa,useEffect:k2,useImperativeHandle:y6,useInsertionEffect:x6,useLayoutEffect:g6,useMemo:b6,useReducer:Yb,useRef:f6,useState:function(){return Yb(rp)},useDebugValue:A2,useDeferredValue:function(t){var r=ka();return vs===null?r.memoizedState=t:N6(r,vs.memoizedState,t)},useTransition:function(){var t=Yb(rp)[0],r=ka().memoizedState;return[t,r]},useMutableSource:o6,useSyncExternalStore:c6,useId:w6,unstable_isNewReconciler:!1};function Ia(t,r){if(t&&t.defaultProps){r=Jr({},r),t=t.defaultProps;for(var s in t)r[s]===void 0&&(r[s]=t[s]);return r}return r}function WN(t,r,s,n){r=t.memoizedState,s=s(n,r),s=s==null?r:Jr({},r,s),t.memoizedState=s,t.lanes===0&&(t.updateQueue.baseState=s)}var By={isMounted:function(t){return(t=t._reactInternals)?$c(t)===t:!1},enqueueSetState:function(t,r,s){t=t._reactInternals;var n=fn(),a=uo(t),i=il(n,a);i.payload=r,s!=null&&(i.callback=s),r=oo(t,i,a),r!==null&&(Qa(r,t,a,n),Xx(r,t,a))},enqueueReplaceState:function(t,r,s){t=t._reactInternals;var n=fn(),a=uo(t),i=il(n,a);i.tag=1,i.payload=r,s!=null&&(i.callback=s),r=oo(t,i,a),r!==null&&(Qa(r,t,a,n),Xx(r,t,a))},enqueueForceUpdate:function(t,r){t=t._reactInternals;var s=fn(),n=uo(t),a=il(s,n);a.tag=2,r!=null&&(a.callback=r),r=oo(t,a,n),r!==null&&(Qa(r,t,n,s),Xx(r,t,n))}};function PA(t,r,s,n,a,i,l){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(n,i,l):r.prototype&&r.prototype.isPureReactComponent?!Yh(s,n)||!Yh(a,i):!0}function k6(t,r,s){var n=!1,a=xo,i=r.contextType;return typeof i=="object"&&i!==null?i=Pa(i):(a=Dn(r)?xc:en.current,n=r.contextTypes,i=(n=n!=null)?iu(t,a):xo),r=new r(s,i),t.memoizedState=r.state!==null&&r.state!==void 0?r.state:null,r.updater=By,t.stateNode=r,r._reactInternals=t,n&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=a,t.__reactInternalMemoizedMaskedChildContext=i),r}function kA(t,r,s,n){t=r.state,typeof r.componentWillReceiveProps=="function"&&r.componentWillReceiveProps(s,n),typeof r.UNSAFE_componentWillReceiveProps=="function"&&r.UNSAFE_componentWillReceiveProps(s,n),r.state!==t&&By.enqueueReplaceState(r,r.state,null)}function GN(t,r,s,n){var a=t.stateNode;a.props=s,a.state=t.memoizedState,a.refs={},j2(t);var i=r.contextType;typeof i=="object"&&i!==null?a.context=Pa(i):(i=Dn(r)?xc:en.current,a.context=iu(t,i)),a.state=t.memoizedState,i=r.getDerivedStateFromProps,typeof i=="function"&&(WN(t,r,i,s),a.state=t.memoizedState),typeof r.getDerivedStateFromProps=="function"||typeof a.getSnapshotBeforeUpdate=="function"||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(r=a.state,typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount(),r!==a.state&&By.enqueueReplaceState(a,a.state,null),Dg(t,s,a,n),a.state=t.memoizedState),typeof a.componentDidMount=="function"&&(t.flags|=4194308)}function du(t,r){try{var s="",n=r;do s+=kW(n),n=n.return;while(n);var a=s}catch(i){a=`
Error generating stack: `+i.message+`
`+i.stack}return{value:t,source:r,stack:a,digest:null}}function Qb(t,r,s){return{value:t,source:null,stack:s??null,digest:r??null}}function YN(t,r){try{console.error(r.value)}catch(s){setTimeout(function(){throw s})}}var eY=typeof WeakMap=="function"?WeakMap:Map;function A6(t,r,s){s=il(-1,s),s.tag=3,s.payload={element:null};var n=r.value;return s.callback=function(){$g||($g=!0,aw=n),YN(t,r)},s}function _6(t,r,s){s=il(-1,s),s.tag=3;var n=t.type.getDerivedStateFromError;if(typeof n=="function"){var a=r.value;s.payload=function(){return n(a)},s.callback=function(){YN(t,r)}}var i=t.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(s.callback=function(){YN(t,r),typeof n!="function"&&(co===null?co=new Set([this]):co.add(this));var l=r.stack;this.componentDidCatch(r.value,{componentStack:l!==null?l:""})}),s}function AA(t,r,s){var n=t.pingCache;if(n===null){n=t.pingCache=new eY;var a=new Set;n.set(r,a)}else a=n.get(r),a===void 0&&(a=new Set,n.set(r,a));a.has(s)||(a.add(s),t=pY.bind(null,t,r,s),r.then(t,t))}function _A(t){do{var r;if((r=t.tag===13)&&(r=t.memoizedState,r=r!==null?r.dehydrated!==null:!0),r)return t;t=t.return}while(t!==null);return null}function TA(t,r,s,n,a){return t.mode&1?(t.flags|=65536,t.lanes=a,t):(t===r?t.flags|=65536:(t.flags|=128,s.flags|=131072,s.flags&=-52805,s.tag===1&&(s.alternate===null?s.tag=17:(r=il(-1,1),r.tag=2,oo(s,r,1))),s.lanes|=1),t)}var tY=wl.ReactCurrentOwner,An=!1;function ln(t,r,s,n){r.child=t===null?n6(r,null,s,n):ou(r,t.child,s,n)}function OA(t,r,s,n,a){s=s.render;var i=r.ref;return Dd(r,a),n=C2(t,r,s,n,i,a),s=P2(),t!==null&&!An?(r.updateQueue=t.updateQueue,r.flags&=-2053,t.lanes&=~a,fl(t,r,a)):(Kr&&s&&h2(r),r.flags|=1,ln(t,r,n,a),r.child)}function EA(t,r,s,n,a){if(t===null){var i=s.type;return typeof i=="function"&&!R2(i)&&i.defaultProps===void 0&&s.compare===null&&s.defaultProps===void 0?(r.tag=15,r.type=i,T6(t,r,i,n,a)):(t=sg(s.type,null,n,r,r.mode,a),t.ref=r.ref,t.return=r,r.child=t)}if(i=t.child,!(t.lanes&a)){var l=i.memoizedProps;if(s=s.compare,s=s!==null?s:Yh,s(l,n)&&t.ref===r.ref)return fl(t,r,a)}return r.flags|=1,t=mo(i,n),t.ref=r.ref,t.return=r,r.child=t}function T6(t,r,s,n,a){if(t!==null){var i=t.memoizedProps;if(Yh(i,n)&&t.ref===r.ref)if(An=!1,r.pendingProps=n=i,(t.lanes&a)!==0)t.flags&131072&&(An=!0);else return r.lanes=t.lanes,fl(t,r,a)}return QN(t,r,s,n,a)}function O6(t,r,s){var n=r.pendingProps,a=n.children,i=t!==null?t.memoizedState:null;if(n.mode==="hidden")if(!(r.mode&1))r.memoizedState={baseLanes:0,cachePool:null,transitions:null},Dr(Nd,qn),qn|=s;else{if(!(s&1073741824))return t=i!==null?i.baseLanes|s:s,r.lanes=r.childLanes=1073741824,r.memoizedState={baseLanes:t,cachePool:null,transitions:null},r.updateQueue=null,Dr(Nd,qn),qn|=t,null;r.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=i!==null?i.baseLanes:s,Dr(Nd,qn),qn|=n}else i!==null?(n=i.baseLanes|s,r.memoizedState=null):n=s,Dr(Nd,qn),qn|=n;return ln(t,r,a,s),r.child}function E6(t,r){var s=r.ref;(t===null&&s!==null||t!==null&&t.ref!==s)&&(r.flags|=512,r.flags|=2097152)}function QN(t,r,s,n,a){var i=Dn(s)?xc:en.current;return i=iu(r,i),Dd(r,a),s=C2(t,r,s,n,i,a),n=P2(),t!==null&&!An?(r.updateQueue=t.updateQueue,r.flags&=-2053,t.lanes&=~a,fl(t,r,a)):(Kr&&n&&h2(r),r.flags|=1,ln(t,r,s,a),r.child)}function DA(t,r,s,n,a){if(Dn(s)){var i=!0;Ag(r)}else i=!1;if(Dd(r,a),r.stateNode===null)eg(t,r),k6(r,s,n),GN(r,s,n,a),n=!0;else if(t===null){var l=r.stateNode,o=r.memoizedProps;l.props=o;var c=l.context,d=s.contextType;typeof d=="object"&&d!==null?d=Pa(d):(d=Dn(s)?xc:en.current,d=iu(r,d));var u=s.getDerivedStateFromProps,m=typeof u=="function"||typeof l.getSnapshotBeforeUpdate=="function";m||typeof l.UNSAFE_componentWillReceiveProps!="function"&&typeof l.componentWillReceiveProps!="function"||(o!==n||c!==d)&&kA(r,l,n,d),Ll=!1;var h=r.memoizedState;l.state=h,Dg(r,n,l,a),c=r.memoizedState,o!==n||h!==c||En.current||Ll?(typeof u=="function"&&(WN(r,s,u,n),c=r.memoizedState),(o=Ll||PA(r,s,o,n,h,c,d))?(m||typeof l.UNSAFE_componentWillMount!="function"&&typeof l.componentWillMount!="function"||(typeof l.componentWillMount=="function"&&l.componentWillMount(),typeof l.UNSAFE_componentWillMount=="function"&&l.UNSAFE_componentWillMount()),typeof l.componentDidMount=="function"&&(r.flags|=4194308)):(typeof l.componentDidMount=="function"&&(r.flags|=4194308),r.memoizedProps=n,r.memoizedState=c),l.props=n,l.state=c,l.context=d,n=o):(typeof l.componentDidMount=="function"&&(r.flags|=4194308),n=!1)}else{l=r.stateNode,i6(t,r),o=r.memoizedProps,d=r.type===r.elementType?o:Ia(r.type,o),l.props=d,m=r.pendingProps,h=l.context,c=s.contextType,typeof c=="object"&&c!==null?c=Pa(c):(c=Dn(s)?xc:en.current,c=iu(r,c));var g=s.getDerivedStateFromProps;(u=typeof g=="function"||typeof l.getSnapshotBeforeUpdate=="function")||typeof l.UNSAFE_componentWillReceiveProps!="function"&&typeof l.componentWillReceiveProps!="function"||(o!==m||h!==c)&&kA(r,l,n,c),Ll=!1,h=r.memoizedState,l.state=h,Dg(r,n,l,a);var f=r.memoizedState;o!==m||h!==f||En.current||Ll?(typeof g=="function"&&(WN(r,s,g,n),f=r.memoizedState),(d=Ll||PA(r,s,d,n,h,f,c)||!1)?(u||typeof l.UNSAFE_componentWillUpdate!="function"&&typeof l.componentWillUpdate!="function"||(typeof l.componentWillUpdate=="function"&&l.componentWillUpdate(n,f,c),typeof l.UNSAFE_componentWillUpdate=="function"&&l.UNSAFE_componentWillUpdate(n,f,c)),typeof l.componentDidUpdate=="function"&&(r.flags|=4),typeof l.getSnapshotBeforeUpdate=="function"&&(r.flags|=1024)):(typeof l.componentDidUpdate!="function"||o===t.memoizedProps&&h===t.memoizedState||(r.flags|=4),typeof l.getSnapshotBeforeUpdate!="function"||o===t.memoizedProps&&h===t.memoizedState||(r.flags|=1024),r.memoizedProps=n,r.memoizedState=f),l.props=n,l.state=f,l.context=c,n=d):(typeof l.componentDidUpdate!="function"||o===t.memoizedProps&&h===t.memoizedState||(r.flags|=4),typeof l.getSnapshotBeforeUpdate!="function"||o===t.memoizedProps&&h===t.memoizedState||(r.flags|=1024),n=!1)}return XN(t,r,s,n,i,a)}function XN(t,r,s,n,a,i){E6(t,r);var l=(r.flags&128)!==0;if(!n&&!l)return a&&vA(r,s,!1),fl(t,r,i);n=r.stateNode,tY.current=r;var o=l&&typeof s.getDerivedStateFromError!="function"?null:n.render();return r.flags|=1,t!==null&&l?(r.child=ou(r,t.child,null,i),r.child=ou(r,null,o,i)):ln(t,r,o,i),r.memoizedState=n.state,a&&vA(r,s,!0),r.child}function D6(t){var r=t.stateNode;r.pendingContext?gA(t,r.pendingContext,r.pendingContext!==r.context):r.context&&gA(t,r.context,!1),b2(t,r.containerInfo)}function MA(t,r,s,n,a){return lu(),f2(a),r.flags|=256,ln(t,r,s,n),r.child}var ZN={dehydrated:null,treeContext:null,retryLane:0};function JN(t){return{baseLanes:t,cachePool:null,transitions:null}}function M6(t,r,s){var n=r.pendingProps,a=Xr.current,i=!1,l=(r.flags&128)!==0,o;if((o=l)||(o=t!==null&&t.memoizedState===null?!1:(a&2)!==0),o?(i=!0,r.flags&=-129):(t===null||t.memoizedState!==null)&&(a|=1),Dr(Xr,a&1),t===null)return KN(r),t=r.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(r.mode&1?t.data==="$!"?r.lanes=8:r.lanes=1073741824:r.lanes=1,null):(l=n.children,t=n.fallback,i?(n=r.mode,i=r.child,l={mode:"hidden",children:l},!(n&1)&&i!==null?(i.childLanes=0,i.pendingProps=l):i=qy(l,n,0,null),t=mc(t,n,s,null),i.return=r,t.return=r,i.sibling=t,r.child=i,r.child.memoizedState=JN(s),r.memoizedState=ZN,t):_2(r,l));if(a=t.memoizedState,a!==null&&(o=a.dehydrated,o!==null))return rY(t,r,l,n,o,a,s);if(i){i=n.fallback,l=r.mode,a=t.child,o=a.sibling;var c={mode:"hidden",children:n.children};return!(l&1)&&r.child!==a?(n=r.child,n.childLanes=0,n.pendingProps=c,r.deletions=null):(n=mo(a,c),n.subtreeFlags=a.subtreeFlags&14680064),o!==null?i=mo(o,i):(i=mc(i,l,s,null),i.flags|=2),i.return=r,n.return=r,n.sibling=i,r.child=n,n=i,i=r.child,l=t.child.memoizedState,l=l===null?JN(s):{baseLanes:l.baseLanes|s,cachePool:null,transitions:l.transitions},i.memoizedState=l,i.childLanes=t.childLanes&~s,r.memoizedState=ZN,n}return i=t.child,t=i.sibling,n=mo(i,{mode:"visible",children:n.children}),!(r.mode&1)&&(n.lanes=s),n.return=r,n.sibling=null,t!==null&&(s=r.deletions,s===null?(r.deletions=[t],r.flags|=16):s.push(t)),r.child=n,r.memoizedState=null,n}function _2(t,r){return r=qy({mode:"visible",children:r},t.mode,0,null),r.return=t,t.child=r}function dx(t,r,s,n){return n!==null&&f2(n),ou(r,t.child,null,s),t=_2(r,r.pendingProps.children),t.flags|=2,r.memoizedState=null,t}function rY(t,r,s,n,a,i,l){if(s)return r.flags&256?(r.flags&=-257,n=Qb(Error(ze(422))),dx(t,r,l,n)):r.memoizedState!==null?(r.child=t.child,r.flags|=128,null):(i=n.fallback,a=r.mode,n=qy({mode:"visible",children:n.children},a,0,null),i=mc(i,a,l,null),i.flags|=2,n.return=r,i.return=r,n.sibling=i,r.child=n,r.mode&1&&ou(r,t.child,null,l),r.child.memoizedState=JN(l),r.memoizedState=ZN,i);if(!(r.mode&1))return dx(t,r,l,null);if(a.data==="$!"){if(n=a.nextSibling&&a.nextSibling.dataset,n)var o=n.dgst;return n=o,i=Error(ze(419)),n=Qb(i,n,void 0),dx(t,r,l,n)}if(o=(l&t.childLanes)!==0,An||o){if(n=Ds,n!==null){switch(l&-l){case 4:a=2;break;case 16:a=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:a=32;break;case 536870912:a=268435456;break;default:a=0}a=a&(n.suspendedLanes|l)?0:a,a!==0&&a!==i.retryLane&&(i.retryLane=a,pl(t,a),Qa(n,t,a,-1))}return I2(),n=Qb(Error(ze(421))),dx(t,r,l,n)}return a.data==="$?"?(r.flags|=128,r.child=t.child,r=fY.bind(null,t),a._reactRetry=r,null):(t=i.treeContext,Qn=lo(a.nextSibling),Zn=r,Kr=!0,Ba=null,t!==null&&(ya[ja++]=el,ya[ja++]=tl,ya[ja++]=gc,el=t.id,tl=t.overflow,gc=r),r=_2(r,n.children),r.flags|=4096,r)}function IA(t,r,s){t.lanes|=r;var n=t.alternate;n!==null&&(n.lanes|=r),HN(t.return,r,s)}function Xb(t,r,s,n,a){var i=t.memoizedState;i===null?t.memoizedState={isBackwards:r,rendering:null,renderingStartTime:0,last:n,tail:s,tailMode:a}:(i.isBackwards=r,i.rendering=null,i.renderingStartTime=0,i.last=n,i.tail=s,i.tailMode=a)}function I6(t,r,s){var n=r.pendingProps,a=n.revealOrder,i=n.tail;if(ln(t,r,n.children,s),n=Xr.current,n&2)n=n&1|2,r.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=r.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&IA(t,s,r);else if(t.tag===19)IA(t,s,r);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===r)break e;for(;t.sibling===null;){if(t.return===null||t.return===r)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}n&=1}if(Dr(Xr,n),!(r.mode&1))r.memoizedState=null;else switch(a){case"forwards":for(s=r.child,a=null;s!==null;)t=s.alternate,t!==null&&Mg(t)===null&&(a=s),s=s.sibling;s=a,s===null?(a=r.child,r.child=null):(a=s.sibling,s.sibling=null),Xb(r,!1,a,s,i);break;case"backwards":for(s=null,a=r.child,r.child=null;a!==null;){if(t=a.alternate,t!==null&&Mg(t)===null){r.child=a;break}t=a.sibling,a.sibling=s,s=a,a=t}Xb(r,!0,s,null,i);break;case"together":Xb(r,!1,null,null,void 0);break;default:r.memoizedState=null}return r.child}function eg(t,r){!(r.mode&1)&&t!==null&&(t.alternate=null,r.alternate=null,r.flags|=2)}function fl(t,r,s){if(t!==null&&(r.dependencies=t.dependencies),yc|=r.lanes,!(s&r.childLanes))return null;if(t!==null&&r.child!==t.child)throw Error(ze(153));if(r.child!==null){for(t=r.child,s=mo(t,t.pendingProps),r.child=s,s.return=r;t.sibling!==null;)t=t.sibling,s=s.sibling=mo(t,t.pendingProps),s.return=r;s.sibling=null}return r.child}function sY(t,r,s){switch(r.tag){case 3:D6(r),lu();break;case 5:l6(r);break;case 1:Dn(r.type)&&Ag(r);break;case 4:b2(r,r.stateNode.containerInfo);break;case 10:var n=r.type._context,a=r.memoizedProps.value;Dr(Og,n._currentValue),n._currentValue=a;break;case 13:if(n=r.memoizedState,n!==null)return n.dehydrated!==null?(Dr(Xr,Xr.current&1),r.flags|=128,null):s&r.child.childLanes?M6(t,r,s):(Dr(Xr,Xr.current&1),t=fl(t,r,s),t!==null?t.sibling:null);Dr(Xr,Xr.current&1);break;case 19:if(n=(s&r.childLanes)!==0,t.flags&128){if(n)return I6(t,r,s);r.flags|=128}if(a=r.memoizedState,a!==null&&(a.rendering=null,a.tail=null,a.lastEffect=null),Dr(Xr,Xr.current),n)break;return null;case 22:case 23:return r.lanes=0,O6(t,r,s)}return fl(t,r,s)}var R6,ew,F6,$6;R6=function(t,r){for(var s=r.child;s!==null;){if(s.tag===5||s.tag===6)t.appendChild(s.stateNode);else if(s.tag!==4&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===r)break;for(;s.sibling===null;){if(s.return===null||s.return===r)return;s=s.return}s.sibling.return=s.return,s=s.sibling}};ew=function(){};F6=function(t,r,s,n){var a=t.memoizedProps;if(a!==n){t=r.stateNode,Zo(Ni.current);var i=null;switch(s){case"input":a=NN(t,a),n=NN(t,n),i=[];break;case"select":a=Jr({},a,{value:void 0}),n=Jr({},n,{value:void 0}),i=[];break;case"textarea":a=CN(t,a),n=CN(t,n),i=[];break;default:typeof a.onClick!="function"&&typeof n.onClick=="function"&&(t.onclick=Pg)}kN(s,n);var l;s=null;for(d in a)if(!n.hasOwnProperty(d)&&a.hasOwnProperty(d)&&a[d]!=null)if(d==="style"){var o=a[d];for(l in o)o.hasOwnProperty(l)&&(s||(s={}),s[l]="")}else d!=="dangerouslySetInnerHTML"&&d!=="children"&&d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&d!=="autoFocus"&&(Uh.hasOwnProperty(d)?i||(i=[]):(i=i||[]).push(d,null));for(d in n){var c=n[d];if(o=a!=null?a[d]:void 0,n.hasOwnProperty(d)&&c!==o&&(c!=null||o!=null))if(d==="style")if(o){for(l in o)!o.hasOwnProperty(l)||c&&c.hasOwnProperty(l)||(s||(s={}),s[l]="");for(l in c)c.hasOwnProperty(l)&&o[l]!==c[l]&&(s||(s={}),s[l]=c[l])}else s||(i||(i=[]),i.push(d,s)),s=c;else d==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,o=o?o.__html:void 0,c!=null&&o!==c&&(i=i||[]).push(d,c)):d==="children"?typeof c!="string"&&typeof c!="number"||(i=i||[]).push(d,""+c):d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&(Uh.hasOwnProperty(d)?(c!=null&&d==="onScroll"&&$r("scroll",t),i||o===c||(i=[])):(i=i||[]).push(d,c))}s&&(i=i||[]).push("style",s);var d=i;(r.updateQueue=d)&&(r.flags|=4)}};$6=function(t,r,s,n){s!==n&&(r.flags|=4)};function $m(t,r){if(!Kr)switch(t.tailMode){case"hidden":r=t.tail;for(var s=null;r!==null;)r.alternate!==null&&(s=r),r=r.sibling;s===null?t.tail=null:s.sibling=null;break;case"collapsed":s=t.tail;for(var n=null;s!==null;)s.alternate!==null&&(n=s),s=s.sibling;n===null?r||t.tail===null?t.tail=null:t.tail.sibling=null:n.sibling=null}}function Ws(t){var r=t.alternate!==null&&t.alternate.child===t.child,s=0,n=0;if(r)for(var a=t.child;a!==null;)s|=a.lanes|a.childLanes,n|=a.subtreeFlags&14680064,n|=a.flags&14680064,a.return=t,a=a.sibling;else for(a=t.child;a!==null;)s|=a.lanes|a.childLanes,n|=a.subtreeFlags,n|=a.flags,a.return=t,a=a.sibling;return t.subtreeFlags|=n,t.childLanes=s,r}function nY(t,r,s){var n=r.pendingProps;switch(p2(r),r.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ws(r),null;case 1:return Dn(r.type)&&kg(),Ws(r),null;case 3:return n=r.stateNode,cu(),Vr(En),Vr(en),w2(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(t===null||t.child===null)&&(ox(r)?r.flags|=4:t===null||t.memoizedState.isDehydrated&&!(r.flags&256)||(r.flags|=1024,Ba!==null&&(ow(Ba),Ba=null))),ew(t,r),Ws(r),null;case 5:N2(r);var a=Zo(ep.current);if(s=r.type,t!==null&&r.stateNode!=null)F6(t,r,s,n,a),t.ref!==r.ref&&(r.flags|=512,r.flags|=2097152);else{if(!n){if(r.stateNode===null)throw Error(ze(166));return Ws(r),null}if(t=Zo(Ni.current),ox(r)){n=r.stateNode,s=r.type;var i=r.memoizedProps;switch(n[fi]=r,n[Zh]=i,t=(r.mode&1)!==0,s){case"dialog":$r("cancel",n),$r("close",n);break;case"iframe":case"object":case"embed":$r("load",n);break;case"video":case"audio":for(a=0;a<dh.length;a++)$r(dh[a],n);break;case"source":$r("error",n);break;case"img":case"image":case"link":$r("error",n),$r("load",n);break;case"details":$r("toggle",n);break;case"input":zk(n,i),$r("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!i.multiple},$r("invalid",n);break;case"textarea":Hk(n,i),$r("invalid",n)}kN(s,i),a=null;for(var l in i)if(i.hasOwnProperty(l)){var o=i[l];l==="children"?typeof o=="string"?n.textContent!==o&&(i.suppressHydrationWarning!==!0&&lx(n.textContent,o,t),a=["children",o]):typeof o=="number"&&n.textContent!==""+o&&(i.suppressHydrationWarning!==!0&&lx(n.textContent,o,t),a=["children",""+o]):Uh.hasOwnProperty(l)&&o!=null&&l==="onScroll"&&$r("scroll",n)}switch(s){case"input":Jf(n),Kk(n,i,!0);break;case"textarea":Jf(n),Wk(n);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(n.onclick=Pg)}n=a,r.updateQueue=n,n!==null&&(r.flags|=4)}else{l=a.nodeType===9?a:a.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=m5(s)),t==="http://www.w3.org/1999/xhtml"?s==="script"?(t=l.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof n.is=="string"?t=l.createElement(s,{is:n.is}):(t=l.createElement(s),s==="select"&&(l=t,n.multiple?l.multiple=!0:n.size&&(l.size=n.size))):t=l.createElementNS(t,s),t[fi]=r,t[Zh]=n,R6(t,r,!1,!1),r.stateNode=t;e:{switch(l=AN(s,n),s){case"dialog":$r("cancel",t),$r("close",t),a=n;break;case"iframe":case"object":case"embed":$r("load",t),a=n;break;case"video":case"audio":for(a=0;a<dh.length;a++)$r(dh[a],t);a=n;break;case"source":$r("error",t),a=n;break;case"img":case"image":case"link":$r("error",t),$r("load",t),a=n;break;case"details":$r("toggle",t),a=n;break;case"input":zk(t,n),a=NN(t,n),$r("invalid",t);break;case"option":a=n;break;case"select":t._wrapperState={wasMultiple:!!n.multiple},a=Jr({},n,{value:void 0}),$r("invalid",t);break;case"textarea":Hk(t,n),a=CN(t,n),$r("invalid",t);break;default:a=n}kN(s,a),o=a;for(i in o)if(o.hasOwnProperty(i)){var c=o[i];i==="style"?f5(t,c):i==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&h5(t,c)):i==="children"?typeof c=="string"?(s!=="textarea"||c!=="")&&qh(t,c):typeof c=="number"&&qh(t,""+c):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(Uh.hasOwnProperty(i)?c!=null&&i==="onScroll"&&$r("scroll",t):c!=null&&JS(t,i,c,l))}switch(s){case"input":Jf(t),Kk(t,n,!1);break;case"textarea":Jf(t),Wk(t);break;case"option":n.value!=null&&t.setAttribute("value",""+fo(n.value));break;case"select":t.multiple=!!n.multiple,i=n.value,i!=null?_d(t,!!n.multiple,i,!1):n.defaultValue!=null&&_d(t,!!n.multiple,n.defaultValue,!0);break;default:typeof a.onClick=="function"&&(t.onclick=Pg)}switch(s){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(r.flags|=4)}r.ref!==null&&(r.flags|=512,r.flags|=2097152)}return Ws(r),null;case 6:if(t&&r.stateNode!=null)$6(t,r,t.memoizedProps,n);else{if(typeof n!="string"&&r.stateNode===null)throw Error(ze(166));if(s=Zo(ep.current),Zo(Ni.current),ox(r)){if(n=r.stateNode,s=r.memoizedProps,n[fi]=r,(i=n.nodeValue!==s)&&(t=Zn,t!==null))switch(t.tag){case 3:lx(n.nodeValue,s,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&lx(n.nodeValue,s,(t.mode&1)!==0)}i&&(r.flags|=4)}else n=(s.nodeType===9?s:s.ownerDocument).createTextNode(n),n[fi]=r,r.stateNode=n}return Ws(r),null;case 13:if(Vr(Xr),n=r.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Kr&&Qn!==null&&r.mode&1&&!(r.flags&128))r6(),lu(),r.flags|=98560,i=!1;else if(i=ox(r),n!==null&&n.dehydrated!==null){if(t===null){if(!i)throw Error(ze(318));if(i=r.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(ze(317));i[fi]=r}else lu(),!(r.flags&128)&&(r.memoizedState=null),r.flags|=4;Ws(r),i=!1}else Ba!==null&&(ow(Ba),Ba=null),i=!0;if(!i)return r.flags&65536?r:null}return r.flags&128?(r.lanes=s,r):(n=n!==null,n!==(t!==null&&t.memoizedState!==null)&&n&&(r.child.flags|=8192,r.mode&1&&(t===null||Xr.current&1?bs===0&&(bs=3):I2())),r.updateQueue!==null&&(r.flags|=4),Ws(r),null);case 4:return cu(),ew(t,r),t===null&&Qh(r.stateNode.containerInfo),Ws(r),null;case 10:return v2(r.type._context),Ws(r),null;case 17:return Dn(r.type)&&kg(),Ws(r),null;case 19:if(Vr(Xr),i=r.memoizedState,i===null)return Ws(r),null;if(n=(r.flags&128)!==0,l=i.rendering,l===null)if(n)$m(i,!1);else{if(bs!==0||t!==null&&t.flags&128)for(t=r.child;t!==null;){if(l=Mg(t),l!==null){for(r.flags|=128,$m(i,!1),n=l.updateQueue,n!==null&&(r.updateQueue=n,r.flags|=4),r.subtreeFlags=0,n=s,s=r.child;s!==null;)i=s,t=n,i.flags&=14680066,l=i.alternate,l===null?(i.childLanes=0,i.lanes=t,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=l.childLanes,i.lanes=l.lanes,i.child=l.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=l.memoizedProps,i.memoizedState=l.memoizedState,i.updateQueue=l.updateQueue,i.type=l.type,t=l.dependencies,i.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),s=s.sibling;return Dr(Xr,Xr.current&1|2),r.child}t=t.sibling}i.tail!==null&&cs()>uu&&(r.flags|=128,n=!0,$m(i,!1),r.lanes=4194304)}else{if(!n)if(t=Mg(l),t!==null){if(r.flags|=128,n=!0,s=t.updateQueue,s!==null&&(r.updateQueue=s,r.flags|=4),$m(i,!0),i.tail===null&&i.tailMode==="hidden"&&!l.alternate&&!Kr)return Ws(r),null}else 2*cs()-i.renderingStartTime>uu&&s!==1073741824&&(r.flags|=128,n=!0,$m(i,!1),r.lanes=4194304);i.isBackwards?(l.sibling=r.child,r.child=l):(s=i.last,s!==null?s.sibling=l:r.child=l,i.last=l)}return i.tail!==null?(r=i.tail,i.rendering=r,i.tail=r.sibling,i.renderingStartTime=cs(),r.sibling=null,s=Xr.current,Dr(Xr,n?s&1|2:s&1),r):(Ws(r),null);case 22:case 23:return M2(),n=r.memoizedState!==null,t!==null&&t.memoizedState!==null!==n&&(r.flags|=8192),n&&r.mode&1?qn&1073741824&&(Ws(r),r.subtreeFlags&6&&(r.flags|=8192)):Ws(r),null;case 24:return null;case 25:return null}throw Error(ze(156,r.tag))}function aY(t,r){switch(p2(r),r.tag){case 1:return Dn(r.type)&&kg(),t=r.flags,t&65536?(r.flags=t&-65537|128,r):null;case 3:return cu(),Vr(En),Vr(en),w2(),t=r.flags,t&65536&&!(t&128)?(r.flags=t&-65537|128,r):null;case 5:return N2(r),null;case 13:if(Vr(Xr),t=r.memoizedState,t!==null&&t.dehydrated!==null){if(r.alternate===null)throw Error(ze(340));lu()}return t=r.flags,t&65536?(r.flags=t&-65537|128,r):null;case 19:return Vr(Xr),null;case 4:return cu(),null;case 10:return v2(r.type._context),null;case 22:case 23:return M2(),null;case 24:return null;default:return null}}var ux=!1,Qs=!1,iY=typeof WeakSet=="function"?WeakSet:Set,ut=null;function bd(t,r){var s=t.ref;if(s!==null)if(typeof s=="function")try{s(null)}catch(n){ss(t,r,n)}else s.current=null}function tw(t,r,s){try{s()}catch(n){ss(t,r,n)}}var RA=!1;function lY(t,r){if($N=wg,t=q5(),m2(t)){if("selectionStart"in t)var s={start:t.selectionStart,end:t.selectionEnd};else e:{s=(s=t.ownerDocument)&&s.defaultView||window;var n=s.getSelection&&s.getSelection();if(n&&n.rangeCount!==0){s=n.anchorNode;var a=n.anchorOffset,i=n.focusNode;n=n.focusOffset;try{s.nodeType,i.nodeType}catch{s=null;break e}var l=0,o=-1,c=-1,d=0,u=0,m=t,h=null;t:for(;;){for(var g;m!==s||a!==0&&m.nodeType!==3||(o=l+a),m!==i||n!==0&&m.nodeType!==3||(c=l+n),m.nodeType===3&&(l+=m.nodeValue.length),(g=m.firstChild)!==null;)h=m,m=g;for(;;){if(m===t)break t;if(h===s&&++d===a&&(o=l),h===i&&++u===n&&(c=l),(g=m.nextSibling)!==null)break;m=h,h=m.parentNode}m=g}s=o===-1||c===-1?null:{start:o,end:c}}else s=null}s=s||{start:0,end:0}}else s=null;for(LN={focusedElem:t,selectionRange:s},wg=!1,ut=r;ut!==null;)if(r=ut,t=r.child,(r.subtreeFlags&1028)!==0&&t!==null)t.return=r,ut=t;else for(;ut!==null;){r=ut;try{var f=r.alternate;if(r.flags&1024)switch(r.tag){case 0:case 11:case 15:break;case 1:if(f!==null){var p=f.memoizedProps,y=f.memoizedState,v=r.stateNode,x=v.getSnapshotBeforeUpdate(r.elementType===r.type?p:Ia(r.type,p),y);v.__reactInternalSnapshotBeforeUpdate=x}break;case 3:var b=r.stateNode.containerInfo;b.nodeType===1?b.textContent="":b.nodeType===9&&b.documentElement&&b.removeChild(b.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(ze(163))}}catch(N){ss(r,r.return,N)}if(t=r.sibling,t!==null){t.return=r.return,ut=t;break}ut=r.return}return f=RA,RA=!1,f}function kh(t,r,s){var n=r.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var a=n=n.next;do{if((a.tag&t)===t){var i=a.destroy;a.destroy=void 0,i!==void 0&&tw(r,s,i)}a=a.next}while(a!==n)}}function Vy(t,r){if(r=r.updateQueue,r=r!==null?r.lastEffect:null,r!==null){var s=r=r.next;do{if((s.tag&t)===t){var n=s.create;s.destroy=n()}s=s.next}while(s!==r)}}function rw(t){var r=t.ref;if(r!==null){var s=t.stateNode;switch(t.tag){case 5:t=s;break;default:t=s}typeof r=="function"?r(t):r.current=t}}function L6(t){var r=t.alternate;r!==null&&(t.alternate=null,L6(r)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(r=t.stateNode,r!==null&&(delete r[fi],delete r[Zh],delete r[UN],delete r[qG],delete r[zG])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function B6(t){return t.tag===5||t.tag===3||t.tag===4}function FA(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||B6(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function sw(t,r,s){var n=t.tag;if(n===5||n===6)t=t.stateNode,r?s.nodeType===8?s.parentNode.insertBefore(t,r):s.insertBefore(t,r):(s.nodeType===8?(r=s.parentNode,r.insertBefore(t,s)):(r=s,r.appendChild(t)),s=s._reactRootContainer,s!=null||r.onclick!==null||(r.onclick=Pg));else if(n!==4&&(t=t.child,t!==null))for(sw(t,r,s),t=t.sibling;t!==null;)sw(t,r,s),t=t.sibling}function nw(t,r,s){var n=t.tag;if(n===5||n===6)t=t.stateNode,r?s.insertBefore(t,r):s.appendChild(t);else if(n!==4&&(t=t.child,t!==null))for(nw(t,r,s),t=t.sibling;t!==null;)nw(t,r,s),t=t.sibling}var Ls=null,Fa=!1;function Ol(t,r,s){for(s=s.child;s!==null;)V6(t,r,s),s=s.sibling}function V6(t,r,s){if(bi&&typeof bi.onCommitFiberUnmount=="function")try{bi.onCommitFiberUnmount(Dy,s)}catch{}switch(s.tag){case 5:Qs||bd(s,r);case 6:var n=Ls,a=Fa;Ls=null,Ol(t,r,s),Ls=n,Fa=a,Ls!==null&&(Fa?(t=Ls,s=s.stateNode,t.nodeType===8?t.parentNode.removeChild(s):t.removeChild(s)):Ls.removeChild(s.stateNode));break;case 18:Ls!==null&&(Fa?(t=Ls,s=s.stateNode,t.nodeType===8?zb(t.parentNode,s):t.nodeType===1&&zb(t,s),Wh(t)):zb(Ls,s.stateNode));break;case 4:n=Ls,a=Fa,Ls=s.stateNode.containerInfo,Fa=!0,Ol(t,r,s),Ls=n,Fa=a;break;case 0:case 11:case 14:case 15:if(!Qs&&(n=s.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){a=n=n.next;do{var i=a,l=i.destroy;i=i.tag,l!==void 0&&(i&2||i&4)&&tw(s,r,l),a=a.next}while(a!==n)}Ol(t,r,s);break;case 1:if(!Qs&&(bd(s,r),n=s.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=s.memoizedProps,n.state=s.memoizedState,n.componentWillUnmount()}catch(o){ss(s,r,o)}Ol(t,r,s);break;case 21:Ol(t,r,s);break;case 22:s.mode&1?(Qs=(n=Qs)||s.memoizedState!==null,Ol(t,r,s),Qs=n):Ol(t,r,s);break;default:Ol(t,r,s)}}function $A(t){var r=t.updateQueue;if(r!==null){t.updateQueue=null;var s=t.stateNode;s===null&&(s=t.stateNode=new iY),r.forEach(function(n){var a=xY.bind(null,t,n);s.has(n)||(s.add(n),n.then(a,a))})}}function Ea(t,r){var s=r.deletions;if(s!==null)for(var n=0;n<s.length;n++){var a=s[n];try{var i=t,l=r,o=l;e:for(;o!==null;){switch(o.tag){case 5:Ls=o.stateNode,Fa=!1;break e;case 3:Ls=o.stateNode.containerInfo,Fa=!0;break e;case 4:Ls=o.stateNode.containerInfo,Fa=!0;break e}o=o.return}if(Ls===null)throw Error(ze(160));V6(i,l,a),Ls=null,Fa=!1;var c=a.alternate;c!==null&&(c.return=null),a.return=null}catch(d){ss(a,r,d)}}if(r.subtreeFlags&12854)for(r=r.child;r!==null;)U6(r,t),r=r.sibling}function U6(t,r){var s=t.alternate,n=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Ea(r,t),ci(t),n&4){try{kh(3,t,t.return),Vy(3,t)}catch(p){ss(t,t.return,p)}try{kh(5,t,t.return)}catch(p){ss(t,t.return,p)}}break;case 1:Ea(r,t),ci(t),n&512&&s!==null&&bd(s,s.return);break;case 5:if(Ea(r,t),ci(t),n&512&&s!==null&&bd(s,s.return),t.flags&32){var a=t.stateNode;try{qh(a,"")}catch(p){ss(t,t.return,p)}}if(n&4&&(a=t.stateNode,a!=null)){var i=t.memoizedProps,l=s!==null?s.memoizedProps:i,o=t.type,c=t.updateQueue;if(t.updateQueue=null,c!==null)try{o==="input"&&i.type==="radio"&&i.name!=null&&d5(a,i),AN(o,l);var d=AN(o,i);for(l=0;l<c.length;l+=2){var u=c[l],m=c[l+1];u==="style"?f5(a,m):u==="dangerouslySetInnerHTML"?h5(a,m):u==="children"?qh(a,m):JS(a,u,m,d)}switch(o){case"input":wN(a,i);break;case"textarea":u5(a,i);break;case"select":var h=a._wrapperState.wasMultiple;a._wrapperState.wasMultiple=!!i.multiple;var g=i.value;g!=null?_d(a,!!i.multiple,g,!1):h!==!!i.multiple&&(i.defaultValue!=null?_d(a,!!i.multiple,i.defaultValue,!0):_d(a,!!i.multiple,i.multiple?[]:"",!1))}a[Zh]=i}catch(p){ss(t,t.return,p)}}break;case 6:if(Ea(r,t),ci(t),n&4){if(t.stateNode===null)throw Error(ze(162));a=t.stateNode,i=t.memoizedProps;try{a.nodeValue=i}catch(p){ss(t,t.return,p)}}break;case 3:if(Ea(r,t),ci(t),n&4&&s!==null&&s.memoizedState.isDehydrated)try{Wh(r.containerInfo)}catch(p){ss(t,t.return,p)}break;case 4:Ea(r,t),ci(t);break;case 13:Ea(r,t),ci(t),a=t.child,a.flags&8192&&(i=a.memoizedState!==null,a.stateNode.isHidden=i,!i||a.alternate!==null&&a.alternate.memoizedState!==null||(E2=cs())),n&4&&$A(t);break;case 22:if(u=s!==null&&s.memoizedState!==null,t.mode&1?(Qs=(d=Qs)||u,Ea(r,t),Qs=d):Ea(r,t),ci(t),n&8192){if(d=t.memoizedState!==null,(t.stateNode.isHidden=d)&&!u&&t.mode&1)for(ut=t,u=t.child;u!==null;){for(m=ut=u;ut!==null;){switch(h=ut,g=h.child,h.tag){case 0:case 11:case 14:case 15:kh(4,h,h.return);break;case 1:bd(h,h.return);var f=h.stateNode;if(typeof f.componentWillUnmount=="function"){n=h,s=h.return;try{r=n,f.props=r.memoizedProps,f.state=r.memoizedState,f.componentWillUnmount()}catch(p){ss(n,s,p)}}break;case 5:bd(h,h.return);break;case 22:if(h.memoizedState!==null){BA(m);continue}}g!==null?(g.return=h,ut=g):BA(m)}u=u.sibling}e:for(u=null,m=t;;){if(m.tag===5){if(u===null){u=m;try{a=m.stateNode,d?(i=a.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(o=m.stateNode,c=m.memoizedProps.style,l=c!=null&&c.hasOwnProperty("display")?c.display:null,o.style.display=p5("display",l))}catch(p){ss(t,t.return,p)}}}else if(m.tag===6){if(u===null)try{m.stateNode.nodeValue=d?"":m.memoizedProps}catch(p){ss(t,t.return,p)}}else if((m.tag!==22&&m.tag!==23||m.memoizedState===null||m===t)&&m.child!==null){m.child.return=m,m=m.child;continue}if(m===t)break e;for(;m.sibling===null;){if(m.return===null||m.return===t)break e;u===m&&(u=null),m=m.return}u===m&&(u=null),m.sibling.return=m.return,m=m.sibling}}break;case 19:Ea(r,t),ci(t),n&4&&$A(t);break;case 21:break;default:Ea(r,t),ci(t)}}function ci(t){var r=t.flags;if(r&2){try{e:{for(var s=t.return;s!==null;){if(B6(s)){var n=s;break e}s=s.return}throw Error(ze(160))}switch(n.tag){case 5:var a=n.stateNode;n.flags&32&&(qh(a,""),n.flags&=-33);var i=FA(t);nw(t,i,a);break;case 3:case 4:var l=n.stateNode.containerInfo,o=FA(t);sw(t,o,l);break;default:throw Error(ze(161))}}catch(c){ss(t,t.return,c)}t.flags&=-3}r&4096&&(t.flags&=-4097)}function oY(t,r,s){ut=t,q6(t)}function q6(t,r,s){for(var n=(t.mode&1)!==0;ut!==null;){var a=ut,i=a.child;if(a.tag===22&&n){var l=a.memoizedState!==null||ux;if(!l){var o=a.alternate,c=o!==null&&o.memoizedState!==null||Qs;o=ux;var d=Qs;if(ux=l,(Qs=c)&&!d)for(ut=a;ut!==null;)l=ut,c=l.child,l.tag===22&&l.memoizedState!==null?VA(a):c!==null?(c.return=l,ut=c):VA(a);for(;i!==null;)ut=i,q6(i),i=i.sibling;ut=a,ux=o,Qs=d}LA(t)}else a.subtreeFlags&8772&&i!==null?(i.return=a,ut=i):LA(t)}}function LA(t){for(;ut!==null;){var r=ut;if(r.flags&8772){var s=r.alternate;try{if(r.flags&8772)switch(r.tag){case 0:case 11:case 15:Qs||Vy(5,r);break;case 1:var n=r.stateNode;if(r.flags&4&&!Qs)if(s===null)n.componentDidMount();else{var a=r.elementType===r.type?s.memoizedProps:Ia(r.type,s.memoizedProps);n.componentDidUpdate(a,s.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var i=r.updateQueue;i!==null&&wA(r,i,n);break;case 3:var l=r.updateQueue;if(l!==null){if(s=null,r.child!==null)switch(r.child.tag){case 5:s=r.child.stateNode;break;case 1:s=r.child.stateNode}wA(r,l,s)}break;case 5:var o=r.stateNode;if(s===null&&r.flags&4){s=o;var c=r.memoizedProps;switch(r.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&s.focus();break;case"img":c.src&&(s.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(r.memoizedState===null){var d=r.alternate;if(d!==null){var u=d.memoizedState;if(u!==null){var m=u.dehydrated;m!==null&&Wh(m)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(ze(163))}Qs||r.flags&512&&rw(r)}catch(h){ss(r,r.return,h)}}if(r===t){ut=null;break}if(s=r.sibling,s!==null){s.return=r.return,ut=s;break}ut=r.return}}function BA(t){for(;ut!==null;){var r=ut;if(r===t){ut=null;break}var s=r.sibling;if(s!==null){s.return=r.return,ut=s;break}ut=r.return}}function VA(t){for(;ut!==null;){var r=ut;try{switch(r.tag){case 0:case 11:case 15:var s=r.return;try{Vy(4,r)}catch(c){ss(r,s,c)}break;case 1:var n=r.stateNode;if(typeof n.componentDidMount=="function"){var a=r.return;try{n.componentDidMount()}catch(c){ss(r,a,c)}}var i=r.return;try{rw(r)}catch(c){ss(r,i,c)}break;case 5:var l=r.return;try{rw(r)}catch(c){ss(r,l,c)}}}catch(c){ss(r,r.return,c)}if(r===t){ut=null;break}var o=r.sibling;if(o!==null){o.return=r.return,ut=o;break}ut=r.return}}var cY=Math.ceil,Fg=wl.ReactCurrentDispatcher,T2=wl.ReactCurrentOwner,Sa=wl.ReactCurrentBatchConfig,dr=0,Ds=null,hs=null,Vs=0,qn=0,Nd=_o(0),bs=0,np=null,yc=0,Uy=0,O2=0,Ah=null,kn=null,E2=0,uu=1/0,Yi=null,$g=!1,aw=null,co=null,mx=!1,ro=null,Lg=0,_h=0,iw=null,tg=-1,rg=0;function fn(){return dr&6?cs():tg!==-1?tg:tg=cs()}function uo(t){return t.mode&1?dr&2&&Vs!==0?Vs&-Vs:HG.transition!==null?(rg===0&&(rg=k5()),rg):(t=Nr,t!==0||(t=window.event,t=t===void 0?16:M5(t.type)),t):1}function Qa(t,r,s,n){if(50<_h)throw _h=0,iw=null,Error(ze(185));hf(t,s,n),(!(dr&2)||t!==Ds)&&(t===Ds&&(!(dr&2)&&(Uy|=s),bs===4&&Ul(t,Vs)),Mn(t,n),s===1&&dr===0&&!(r.mode&1)&&(uu=cs()+500,$y&&To()))}function Mn(t,r){var s=t.callbackNode;HW(t,r);var n=Ng(t,t===Ds?Vs:0);if(n===0)s!==null&&Qk(s),t.callbackNode=null,t.callbackPriority=0;else if(r=n&-n,t.callbackPriority!==r){if(s!=null&&Qk(s),r===1)t.tag===0?KG(UA.bind(null,t)):J5(UA.bind(null,t)),VG(function(){!(dr&6)&&To()}),s=null;else{switch(A5(n)){case 1:s=n2;break;case 4:s=C5;break;case 16:s=bg;break;case 536870912:s=P5;break;default:s=bg}s=X6(s,z6.bind(null,t))}t.callbackPriority=r,t.callbackNode=s}}function z6(t,r){if(tg=-1,rg=0,dr&6)throw Error(ze(327));var s=t.callbackNode;if(Md()&&t.callbackNode!==s)return null;var n=Ng(t,t===Ds?Vs:0);if(n===0)return null;if(n&30||n&t.expiredLanes||r)r=Bg(t,n);else{r=n;var a=dr;dr|=2;var i=H6();(Ds!==t||Vs!==r)&&(Yi=null,uu=cs()+500,uc(t,r));do try{mY();break}catch(o){K6(t,o)}while(!0);g2(),Fg.current=i,dr=a,hs!==null?r=0:(Ds=null,Vs=0,r=bs)}if(r!==0){if(r===2&&(a=DN(t),a!==0&&(n=a,r=lw(t,a))),r===1)throw s=np,uc(t,0),Ul(t,n),Mn(t,cs()),s;if(r===6)Ul(t,n);else{if(a=t.current.alternate,!(n&30)&&!dY(a)&&(r=Bg(t,n),r===2&&(i=DN(t),i!==0&&(n=i,r=lw(t,i))),r===1))throw s=np,uc(t,0),Ul(t,n),Mn(t,cs()),s;switch(t.finishedWork=a,t.finishedLanes=n,r){case 0:case 1:throw Error(ze(345));case 2:qo(t,kn,Yi);break;case 3:if(Ul(t,n),(n&130023424)===n&&(r=E2+500-cs(),10<r)){if(Ng(t,0)!==0)break;if(a=t.suspendedLanes,(a&n)!==n){fn(),t.pingedLanes|=t.suspendedLanes&a;break}t.timeoutHandle=VN(qo.bind(null,t,kn,Yi),r);break}qo(t,kn,Yi);break;case 4:if(Ul(t,n),(n&4194240)===n)break;for(r=t.eventTimes,a=-1;0<n;){var l=31-Ya(n);i=1<<l,l=r[l],l>a&&(a=l),n&=~i}if(n=a,n=cs()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*cY(n/1960))-n,10<n){t.timeoutHandle=VN(qo.bind(null,t,kn,Yi),n);break}qo(t,kn,Yi);break;case 5:qo(t,kn,Yi);break;default:throw Error(ze(329))}}}return Mn(t,cs()),t.callbackNode===s?z6.bind(null,t):null}function lw(t,r){var s=Ah;return t.current.memoizedState.isDehydrated&&(uc(t,r).flags|=256),t=Bg(t,r),t!==2&&(r=kn,kn=s,r!==null&&ow(r)),t}function ow(t){kn===null?kn=t:kn.push.apply(kn,t)}function dY(t){for(var r=t;;){if(r.flags&16384){var s=r.updateQueue;if(s!==null&&(s=s.stores,s!==null))for(var n=0;n<s.length;n++){var a=s[n],i=a.getSnapshot;a=a.value;try{if(!ei(i(),a))return!1}catch{return!1}}}if(s=r.child,r.subtreeFlags&16384&&s!==null)s.return=r,r=s;else{if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return!0;r=r.return}r.sibling.return=r.return,r=r.sibling}}return!0}function Ul(t,r){for(r&=~O2,r&=~Uy,t.suspendedLanes|=r,t.pingedLanes&=~r,t=t.expirationTimes;0<r;){var s=31-Ya(r),n=1<<s;t[s]=-1,r&=~n}}function UA(t){if(dr&6)throw Error(ze(327));Md();var r=Ng(t,0);if(!(r&1))return Mn(t,cs()),null;var s=Bg(t,r);if(t.tag!==0&&s===2){var n=DN(t);n!==0&&(r=n,s=lw(t,n))}if(s===1)throw s=np,uc(t,0),Ul(t,r),Mn(t,cs()),s;if(s===6)throw Error(ze(345));return t.finishedWork=t.current.alternate,t.finishedLanes=r,qo(t,kn,Yi),Mn(t,cs()),null}function D2(t,r){var s=dr;dr|=1;try{return t(r)}finally{dr=s,dr===0&&(uu=cs()+500,$y&&To())}}function jc(t){ro!==null&&ro.tag===0&&!(dr&6)&&Md();var r=dr;dr|=1;var s=Sa.transition,n=Nr;try{if(Sa.transition=null,Nr=1,t)return t()}finally{Nr=n,Sa.transition=s,dr=r,!(dr&6)&&To()}}function M2(){qn=Nd.current,Vr(Nd)}function uc(t,r){t.finishedWork=null,t.finishedLanes=0;var s=t.timeoutHandle;if(s!==-1&&(t.timeoutHandle=-1,BG(s)),hs!==null)for(s=hs.return;s!==null;){var n=s;switch(p2(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&kg();break;case 3:cu(),Vr(En),Vr(en),w2();break;case 5:N2(n);break;case 4:cu();break;case 13:Vr(Xr);break;case 19:Vr(Xr);break;case 10:v2(n.type._context);break;case 22:case 23:M2()}s=s.return}if(Ds=t,hs=t=mo(t.current,null),Vs=qn=r,bs=0,np=null,O2=Uy=yc=0,kn=Ah=null,Xo!==null){for(r=0;r<Xo.length;r++)if(s=Xo[r],n=s.interleaved,n!==null){s.interleaved=null;var a=n.next,i=s.pending;if(i!==null){var l=i.next;i.next=a,n.next=l}s.pending=n}Xo=null}return t}function K6(t,r){do{var s=hs;try{if(g2(),Zx.current=Rg,Ig){for(var n=Zr.memoizedState;n!==null;){var a=n.queue;a!==null&&(a.pending=null),n=n.next}Ig=!1}if(vc=0,Ts=vs=Zr=null,Ph=!1,tp=0,T2.current=null,s===null||s.return===null){bs=1,np=r,hs=null;break}e:{var i=t,l=s.return,o=s,c=r;if(r=Vs,o.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var d=c,u=o,m=u.tag;if(!(u.mode&1)&&(m===0||m===11||m===15)){var h=u.alternate;h?(u.updateQueue=h.updateQueue,u.memoizedState=h.memoizedState,u.lanes=h.lanes):(u.updateQueue=null,u.memoizedState=null)}var g=_A(l);if(g!==null){g.flags&=-257,TA(g,l,o,i,r),g.mode&1&&AA(i,d,r),r=g,c=d;var f=r.updateQueue;if(f===null){var p=new Set;p.add(c),r.updateQueue=p}else f.add(c);break e}else{if(!(r&1)){AA(i,d,r),I2();break e}c=Error(ze(426))}}else if(Kr&&o.mode&1){var y=_A(l);if(y!==null){!(y.flags&65536)&&(y.flags|=256),TA(y,l,o,i,r),f2(du(c,o));break e}}i=c=du(c,o),bs!==4&&(bs=2),Ah===null?Ah=[i]:Ah.push(i),i=l;do{switch(i.tag){case 3:i.flags|=65536,r&=-r,i.lanes|=r;var v=A6(i,c,r);NA(i,v);break e;case 1:o=c;var x=i.type,b=i.stateNode;if(!(i.flags&128)&&(typeof x.getDerivedStateFromError=="function"||b!==null&&typeof b.componentDidCatch=="function"&&(co===null||!co.has(b)))){i.flags|=65536,r&=-r,i.lanes|=r;var N=_6(i,o,r);NA(i,N);break e}}i=i.return}while(i!==null)}G6(s)}catch(w){r=w,hs===s&&s!==null&&(hs=s=s.return);continue}break}while(!0)}function H6(){var t=Fg.current;return Fg.current=Rg,t===null?Rg:t}function I2(){(bs===0||bs===3||bs===2)&&(bs=4),Ds===null||!(yc&268435455)&&!(Uy&268435455)||Ul(Ds,Vs)}function Bg(t,r){var s=dr;dr|=2;var n=H6();(Ds!==t||Vs!==r)&&(Yi=null,uc(t,r));do try{uY();break}catch(a){K6(t,a)}while(!0);if(g2(),dr=s,Fg.current=n,hs!==null)throw Error(ze(261));return Ds=null,Vs=0,bs}function uY(){for(;hs!==null;)W6(hs)}function mY(){for(;hs!==null&&!FW();)W6(hs)}function W6(t){var r=Q6(t.alternate,t,qn);t.memoizedProps=t.pendingProps,r===null?G6(t):hs=r,T2.current=null}function G6(t){var r=t;do{var s=r.alternate;if(t=r.return,r.flags&32768){if(s=aY(s,r),s!==null){s.flags&=32767,hs=s;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{bs=6,hs=null;return}}else if(s=nY(s,r,qn),s!==null){hs=s;return}if(r=r.sibling,r!==null){hs=r;return}hs=r=t}while(r!==null);bs===0&&(bs=5)}function qo(t,r,s){var n=Nr,a=Sa.transition;try{Sa.transition=null,Nr=1,hY(t,r,s,n)}finally{Sa.transition=a,Nr=n}return null}function hY(t,r,s,n){do Md();while(ro!==null);if(dr&6)throw Error(ze(327));s=t.finishedWork;var a=t.finishedLanes;if(s===null)return null;if(t.finishedWork=null,t.finishedLanes=0,s===t.current)throw Error(ze(177));t.callbackNode=null,t.callbackPriority=0;var i=s.lanes|s.childLanes;if(WW(t,i),t===Ds&&(hs=Ds=null,Vs=0),!(s.subtreeFlags&2064)&&!(s.flags&2064)||mx||(mx=!0,X6(bg,function(){return Md(),null})),i=(s.flags&15990)!==0,s.subtreeFlags&15990||i){i=Sa.transition,Sa.transition=null;var l=Nr;Nr=1;var o=dr;dr|=4,T2.current=null,lY(t,s),U6(s,t),DG(LN),wg=!!$N,LN=$N=null,t.current=s,oY(s),$W(),dr=o,Nr=l,Sa.transition=i}else t.current=s;if(mx&&(mx=!1,ro=t,Lg=a),i=t.pendingLanes,i===0&&(co=null),VW(s.stateNode),Mn(t,cs()),r!==null)for(n=t.onRecoverableError,s=0;s<r.length;s++)a=r[s],n(a.value,{componentStack:a.stack,digest:a.digest});if($g)throw $g=!1,t=aw,aw=null,t;return Lg&1&&t.tag!==0&&Md(),i=t.pendingLanes,i&1?t===iw?_h++:(_h=0,iw=t):_h=0,To(),null}function Md(){if(ro!==null){var t=A5(Lg),r=Sa.transition,s=Nr;try{if(Sa.transition=null,Nr=16>t?16:t,ro===null)var n=!1;else{if(t=ro,ro=null,Lg=0,dr&6)throw Error(ze(331));var a=dr;for(dr|=4,ut=t.current;ut!==null;){var i=ut,l=i.child;if(ut.flags&16){var o=i.deletions;if(o!==null){for(var c=0;c<o.length;c++){var d=o[c];for(ut=d;ut!==null;){var u=ut;switch(u.tag){case 0:case 11:case 15:kh(8,u,i)}var m=u.child;if(m!==null)m.return=u,ut=m;else for(;ut!==null;){u=ut;var h=u.sibling,g=u.return;if(L6(u),u===d){ut=null;break}if(h!==null){h.return=g,ut=h;break}ut=g}}}var f=i.alternate;if(f!==null){var p=f.child;if(p!==null){f.child=null;do{var y=p.sibling;p.sibling=null,p=y}while(p!==null)}}ut=i}}if(i.subtreeFlags&2064&&l!==null)l.return=i,ut=l;else e:for(;ut!==null;){if(i=ut,i.flags&2048)switch(i.tag){case 0:case 11:case 15:kh(9,i,i.return)}var v=i.sibling;if(v!==null){v.return=i.return,ut=v;break e}ut=i.return}}var x=t.current;for(ut=x;ut!==null;){l=ut;var b=l.child;if(l.subtreeFlags&2064&&b!==null)b.return=l,ut=b;else e:for(l=x;ut!==null;){if(o=ut,o.flags&2048)try{switch(o.tag){case 0:case 11:case 15:Vy(9,o)}}catch(w){ss(o,o.return,w)}if(o===l){ut=null;break e}var N=o.sibling;if(N!==null){N.return=o.return,ut=N;break e}ut=o.return}}if(dr=a,To(),bi&&typeof bi.onPostCommitFiberRoot=="function")try{bi.onPostCommitFiberRoot(Dy,t)}catch{}n=!0}return n}finally{Nr=s,Sa.transition=r}}return!1}function qA(t,r,s){r=du(s,r),r=A6(t,r,1),t=oo(t,r,1),r=fn(),t!==null&&(hf(t,1,r),Mn(t,r))}function ss(t,r,s){if(t.tag===3)qA(t,t,s);else for(;r!==null;){if(r.tag===3){qA(r,t,s);break}else if(r.tag===1){var n=r.stateNode;if(typeof r.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(co===null||!co.has(n))){t=du(s,t),t=_6(r,t,1),r=oo(r,t,1),t=fn(),r!==null&&(hf(r,1,t),Mn(r,t));break}}r=r.return}}function pY(t,r,s){var n=t.pingCache;n!==null&&n.delete(r),r=fn(),t.pingedLanes|=t.suspendedLanes&s,Ds===t&&(Vs&s)===s&&(bs===4||bs===3&&(Vs&130023424)===Vs&&500>cs()-E2?uc(t,0):O2|=s),Mn(t,r)}function Y6(t,r){r===0&&(t.mode&1?(r=rx,rx<<=1,!(rx&130023424)&&(rx=4194304)):r=1);var s=fn();t=pl(t,r),t!==null&&(hf(t,r,s),Mn(t,s))}function fY(t){var r=t.memoizedState,s=0;r!==null&&(s=r.retryLane),Y6(t,s)}function xY(t,r){var s=0;switch(t.tag){case 13:var n=t.stateNode,a=t.memoizedState;a!==null&&(s=a.retryLane);break;case 19:n=t.stateNode;break;default:throw Error(ze(314))}n!==null&&n.delete(r),Y6(t,s)}var Q6;Q6=function(t,r,s){if(t!==null)if(t.memoizedProps!==r.pendingProps||En.current)An=!0;else{if(!(t.lanes&s)&&!(r.flags&128))return An=!1,sY(t,r,s);An=!!(t.flags&131072)}else An=!1,Kr&&r.flags&1048576&&e6(r,Tg,r.index);switch(r.lanes=0,r.tag){case 2:var n=r.type;eg(t,r),t=r.pendingProps;var a=iu(r,en.current);Dd(r,s),a=C2(null,r,n,t,a,s);var i=P2();return r.flags|=1,typeof a=="object"&&a!==null&&typeof a.render=="function"&&a.$$typeof===void 0?(r.tag=1,r.memoizedState=null,r.updateQueue=null,Dn(n)?(i=!0,Ag(r)):i=!1,r.memoizedState=a.state!==null&&a.state!==void 0?a.state:null,j2(r),a.updater=By,r.stateNode=a,a._reactInternals=r,GN(r,n,t,s),r=XN(null,r,n,!0,i,s)):(r.tag=0,Kr&&i&&h2(r),ln(null,r,a,s),r=r.child),r;case 16:n=r.elementType;e:{switch(eg(t,r),t=r.pendingProps,a=n._init,n=a(n._payload),r.type=n,a=r.tag=vY(n),t=Ia(n,t),a){case 0:r=QN(null,r,n,t,s);break e;case 1:r=DA(null,r,n,t,s);break e;case 11:r=OA(null,r,n,t,s);break e;case 14:r=EA(null,r,n,Ia(n.type,t),s);break e}throw Error(ze(306,n,""))}return r;case 0:return n=r.type,a=r.pendingProps,a=r.elementType===n?a:Ia(n,a),QN(t,r,n,a,s);case 1:return n=r.type,a=r.pendingProps,a=r.elementType===n?a:Ia(n,a),DA(t,r,n,a,s);case 3:e:{if(D6(r),t===null)throw Error(ze(387));n=r.pendingProps,i=r.memoizedState,a=i.element,i6(t,r),Dg(r,n,null,s);var l=r.memoizedState;if(n=l.element,i.isDehydrated)if(i={element:n,isDehydrated:!1,cache:l.cache,pendingSuspenseBoundaries:l.pendingSuspenseBoundaries,transitions:l.transitions},r.updateQueue.baseState=i,r.memoizedState=i,r.flags&256){a=du(Error(ze(423)),r),r=MA(t,r,n,s,a);break e}else if(n!==a){a=du(Error(ze(424)),r),r=MA(t,r,n,s,a);break e}else for(Qn=lo(r.stateNode.containerInfo.firstChild),Zn=r,Kr=!0,Ba=null,s=n6(r,null,n,s),r.child=s;s;)s.flags=s.flags&-3|4096,s=s.sibling;else{if(lu(),n===a){r=fl(t,r,s);break e}ln(t,r,n,s)}r=r.child}return r;case 5:return l6(r),t===null&&KN(r),n=r.type,a=r.pendingProps,i=t!==null?t.memoizedProps:null,l=a.children,BN(n,a)?l=null:i!==null&&BN(n,i)&&(r.flags|=32),E6(t,r),ln(t,r,l,s),r.child;case 6:return t===null&&KN(r),null;case 13:return M6(t,r,s);case 4:return b2(r,r.stateNode.containerInfo),n=r.pendingProps,t===null?r.child=ou(r,null,n,s):ln(t,r,n,s),r.child;case 11:return n=r.type,a=r.pendingProps,a=r.elementType===n?a:Ia(n,a),OA(t,r,n,a,s);case 7:return ln(t,r,r.pendingProps,s),r.child;case 8:return ln(t,r,r.pendingProps.children,s),r.child;case 12:return ln(t,r,r.pendingProps.children,s),r.child;case 10:e:{if(n=r.type._context,a=r.pendingProps,i=r.memoizedProps,l=a.value,Dr(Og,n._currentValue),n._currentValue=l,i!==null)if(ei(i.value,l)){if(i.children===a.children&&!En.current){r=fl(t,r,s);break e}}else for(i=r.child,i!==null&&(i.return=r);i!==null;){var o=i.dependencies;if(o!==null){l=i.child;for(var c=o.firstContext;c!==null;){if(c.context===n){if(i.tag===1){c=il(-1,s&-s),c.tag=2;var d=i.updateQueue;if(d!==null){d=d.shared;var u=d.pending;u===null?c.next=c:(c.next=u.next,u.next=c),d.pending=c}}i.lanes|=s,c=i.alternate,c!==null&&(c.lanes|=s),HN(i.return,s,r),o.lanes|=s;break}c=c.next}}else if(i.tag===10)l=i.type===r.type?null:i.child;else if(i.tag===18){if(l=i.return,l===null)throw Error(ze(341));l.lanes|=s,o=l.alternate,o!==null&&(o.lanes|=s),HN(l,s,r),l=i.sibling}else l=i.child;if(l!==null)l.return=i;else for(l=i;l!==null;){if(l===r){l=null;break}if(i=l.sibling,i!==null){i.return=l.return,l=i;break}l=l.return}i=l}ln(t,r,a.children,s),r=r.child}return r;case 9:return a=r.type,n=r.pendingProps.children,Dd(r,s),a=Pa(a),n=n(a),r.flags|=1,ln(t,r,n,s),r.child;case 14:return n=r.type,a=Ia(n,r.pendingProps),a=Ia(n.type,a),EA(t,r,n,a,s);case 15:return T6(t,r,r.type,r.pendingProps,s);case 17:return n=r.type,a=r.pendingProps,a=r.elementType===n?a:Ia(n,a),eg(t,r),r.tag=1,Dn(n)?(t=!0,Ag(r)):t=!1,Dd(r,s),k6(r,n,a),GN(r,n,a,s),XN(null,r,n,!0,t,s);case 19:return I6(t,r,s);case 22:return O6(t,r,s)}throw Error(ze(156,r.tag))};function X6(t,r){return S5(t,r)}function gY(t,r,s,n){this.tag=t,this.key=s,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=r,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Na(t,r,s,n){return new gY(t,r,s,n)}function R2(t){return t=t.prototype,!(!t||!t.isReactComponent)}function vY(t){if(typeof t=="function")return R2(t)?1:0;if(t!=null){if(t=t.$$typeof,t===t2)return 11;if(t===r2)return 14}return 2}function mo(t,r){var s=t.alternate;return s===null?(s=Na(t.tag,r,t.key,t.mode),s.elementType=t.elementType,s.type=t.type,s.stateNode=t.stateNode,s.alternate=t,t.alternate=s):(s.pendingProps=r,s.type=t.type,s.flags=0,s.subtreeFlags=0,s.deletions=null),s.flags=t.flags&14680064,s.childLanes=t.childLanes,s.lanes=t.lanes,s.child=t.child,s.memoizedProps=t.memoizedProps,s.memoizedState=t.memoizedState,s.updateQueue=t.updateQueue,r=t.dependencies,s.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext},s.sibling=t.sibling,s.index=t.index,s.ref=t.ref,s}function sg(t,r,s,n,a,i){var l=2;if(n=t,typeof t=="function")R2(t)&&(l=1);else if(typeof t=="string")l=5;else e:switch(t){case md:return mc(s.children,a,i,r);case e2:l=8,a|=8;break;case vN:return t=Na(12,s,r,a|2),t.elementType=vN,t.lanes=i,t;case yN:return t=Na(13,s,r,a),t.elementType=yN,t.lanes=i,t;case jN:return t=Na(19,s,r,a),t.elementType=jN,t.lanes=i,t;case l5:return qy(s,a,i,r);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case a5:l=10;break e;case i5:l=9;break e;case t2:l=11;break e;case r2:l=14;break e;case $l:l=16,n=null;break e}throw Error(ze(130,t==null?t:typeof t,""))}return r=Na(l,s,r,a),r.elementType=t,r.type=n,r.lanes=i,r}function mc(t,r,s,n){return t=Na(7,t,n,r),t.lanes=s,t}function qy(t,r,s,n){return t=Na(22,t,n,r),t.elementType=l5,t.lanes=s,t.stateNode={isHidden:!1},t}function Zb(t,r,s){return t=Na(6,t,null,r),t.lanes=s,t}function Jb(t,r,s){return r=Na(4,t.children!==null?t.children:[],t.key,r),r.lanes=s,r.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},r}function yY(t,r,s,n,a){this.tag=r,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Db(0),this.expirationTimes=Db(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Db(0),this.identifierPrefix=n,this.onRecoverableError=a,this.mutableSourceEagerHydrationData=null}function F2(t,r,s,n,a,i,l,o,c){return t=new yY(t,r,s,o,c),r===1?(r=1,i===!0&&(r|=8)):r=0,i=Na(3,null,null,r),t.current=i,i.stateNode=t,i.memoizedState={element:n,isDehydrated:s,cache:null,transitions:null,pendingSuspenseBoundaries:null},j2(i),t}function jY(t,r,s){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:ud,key:n==null?null:""+n,children:t,containerInfo:r,implementation:s}}function Z6(t){if(!t)return xo;t=t._reactInternals;e:{if($c(t)!==t||t.tag!==1)throw Error(ze(170));var r=t;do{switch(r.tag){case 3:r=r.stateNode.context;break e;case 1:if(Dn(r.type)){r=r.stateNode.__reactInternalMemoizedMergedChildContext;break e}}r=r.return}while(r!==null);throw Error(ze(171))}if(t.tag===1){var s=t.type;if(Dn(s))return Z5(t,s,r)}return r}function J6(t,r,s,n,a,i,l,o,c){return t=F2(s,n,!0,t,a,i,l,o,c),t.context=Z6(null),s=t.current,n=fn(),a=uo(s),i=il(n,a),i.callback=r??null,oo(s,i,a),t.current.lanes=a,hf(t,a,n),Mn(t,n),t}function zy(t,r,s,n){var a=r.current,i=fn(),l=uo(a);return s=Z6(s),r.context===null?r.context=s:r.pendingContext=s,r=il(i,l),r.payload={element:t},n=n===void 0?null:n,n!==null&&(r.callback=n),t=oo(a,r,l),t!==null&&(Qa(t,a,l,i),Xx(t,a,l)),l}function Vg(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function zA(t,r){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var s=t.retryLane;t.retryLane=s!==0&&s<r?s:r}}function $2(t,r){zA(t,r),(t=t.alternate)&&zA(t,r)}function bY(){return null}var eF=typeof reportError=="function"?reportError:function(t){console.error(t)};function L2(t){this._internalRoot=t}Ky.prototype.render=L2.prototype.render=function(t){var r=this._internalRoot;if(r===null)throw Error(ze(409));zy(t,r,null,null)};Ky.prototype.unmount=L2.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var r=t.containerInfo;jc(function(){zy(null,t,null,null)}),r[hl]=null}};function Ky(t){this._internalRoot=t}Ky.prototype.unstable_scheduleHydration=function(t){if(t){var r=O5();t={blockedOn:null,target:t,priority:r};for(var s=0;s<Vl.length&&r!==0&&r<Vl[s].priority;s++);Vl.splice(s,0,t),s===0&&D5(t)}};function B2(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Hy(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function KA(){}function NY(t,r,s,n,a){if(a){if(typeof n=="function"){var i=n;n=function(){var d=Vg(l);i.call(d)}}var l=J6(r,n,t,0,null,!1,!1,"",KA);return t._reactRootContainer=l,t[hl]=l.current,Qh(t.nodeType===8?t.parentNode:t),jc(),l}for(;a=t.lastChild;)t.removeChild(a);if(typeof n=="function"){var o=n;n=function(){var d=Vg(c);o.call(d)}}var c=F2(t,0,!1,null,null,!1,!1,"",KA);return t._reactRootContainer=c,t[hl]=c.current,Qh(t.nodeType===8?t.parentNode:t),jc(function(){zy(r,c,s,n)}),c}function Wy(t,r,s,n,a){var i=s._reactRootContainer;if(i){var l=i;if(typeof a=="function"){var o=a;a=function(){var c=Vg(l);o.call(c)}}zy(r,l,t,a)}else l=NY(s,r,t,a,n);return Vg(l)}_5=function(t){switch(t.tag){case 3:var r=t.stateNode;if(r.current.memoizedState.isDehydrated){var s=ch(r.pendingLanes);s!==0&&(a2(r,s|1),Mn(r,cs()),!(dr&6)&&(uu=cs()+500,To()))}break;case 13:jc(function(){var n=pl(t,1);if(n!==null){var a=fn();Qa(n,t,1,a)}}),$2(t,1)}};i2=function(t){if(t.tag===13){var r=pl(t,134217728);if(r!==null){var s=fn();Qa(r,t,134217728,s)}$2(t,134217728)}};T5=function(t){if(t.tag===13){var r=uo(t),s=pl(t,r);if(s!==null){var n=fn();Qa(s,t,r,n)}$2(t,r)}};O5=function(){return Nr};E5=function(t,r){var s=Nr;try{return Nr=t,r()}finally{Nr=s}};TN=function(t,r,s){switch(r){case"input":if(wN(t,s),r=s.name,s.type==="radio"&&r!=null){for(s=t;s.parentNode;)s=s.parentNode;for(s=s.querySelectorAll("input[name="+JSON.stringify(""+r)+'][type="radio"]'),r=0;r<s.length;r++){var n=s[r];if(n!==t&&n.form===t.form){var a=Fy(n);if(!a)throw Error(ze(90));c5(n),wN(n,a)}}}break;case"textarea":u5(t,s);break;case"select":r=s.value,r!=null&&_d(t,!!s.multiple,r,!1)}};v5=D2;y5=jc;var wY={usingClientEntryPoint:!1,Events:[ff,xd,Fy,x5,g5,D2]},Lm={findFiberByHostInstance:Qo,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},SY={bundleType:Lm.bundleType,version:Lm.version,rendererPackageName:Lm.rendererPackageName,rendererConfig:Lm.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:wl.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=N5(t),t===null?null:t.stateNode},findFiberByHostInstance:Lm.findFiberByHostInstance||bY,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var hx=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!hx.isDisabled&&hx.supportsFiber)try{Dy=hx.inject(SY),bi=hx}catch{}}ca.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=wY;ca.createPortal=function(t,r){var s=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!B2(r))throw Error(ze(200));return jY(t,r,null,s)};ca.createRoot=function(t,r){if(!B2(t))throw Error(ze(299));var s=!1,n="",a=eF;return r!=null&&(r.unstable_strictMode===!0&&(s=!0),r.identifierPrefix!==void 0&&(n=r.identifierPrefix),r.onRecoverableError!==void 0&&(a=r.onRecoverableError)),r=F2(t,1,!1,null,null,s,!1,n,a),t[hl]=r.current,Qh(t.nodeType===8?t.parentNode:t),new L2(r)};ca.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var r=t._reactInternals;if(r===void 0)throw typeof t.render=="function"?Error(ze(188)):(t=Object.keys(t).join(","),Error(ze(268,t)));return t=N5(r),t=t===null?null:t.stateNode,t};ca.flushSync=function(t){return jc(t)};ca.hydrate=function(t,r,s){if(!Hy(r))throw Error(ze(200));return Wy(null,t,r,!0,s)};ca.hydrateRoot=function(t,r,s){if(!B2(t))throw Error(ze(405));var n=s!=null&&s.hydratedSources||null,a=!1,i="",l=eF;if(s!=null&&(s.unstable_strictMode===!0&&(a=!0),s.identifierPrefix!==void 0&&(i=s.identifierPrefix),s.onRecoverableError!==void 0&&(l=s.onRecoverableError)),r=J6(r,null,t,1,s??null,a,!1,i,l),t[hl]=r.current,Qh(t),n)for(t=0;t<n.length;t++)s=n[t],a=s._getVersion,a=a(s._source),r.mutableSourceEagerHydrationData==null?r.mutableSourceEagerHydrationData=[s,a]:r.mutableSourceEagerHydrationData.push(s,a);return new Ky(r)};ca.render=function(t,r,s){if(!Hy(r))throw Error(ze(200));return Wy(null,t,r,!1,s)};ca.unmountComponentAtNode=function(t){if(!Hy(t))throw Error(ze(40));return t._reactRootContainer?(jc(function(){Wy(null,null,t,!1,function(){t._reactRootContainer=null,t[hl]=null})}),!0):!1};ca.unstable_batchedUpdates=D2;ca.unstable_renderSubtreeIntoContainer=function(t,r,s,n){if(!Hy(s))throw Error(ze(200));if(t==null||t._reactInternals===void 0)throw Error(ze(38));return Wy(t,r,s,!1,n)};ca.version="18.3.1-next-f1338f8080-20240426";function tF(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(tF)}catch(t){console.error(t)}}tF(),t5.exports=ca;var Lc=t5.exports;const CY=yr(Lc);var rF,HA=Lc;rF=HA.createRoot,HA.hydrateRoot;function PY(t,r){if(t instanceof RegExp)return{keys:!1,pattern:t};var s,n,a,i,l=[],o="",c=t.split("/");for(c[0]||c.shift();a=c.shift();)s=a[0],s==="*"?(l.push(s),o+=a[1]==="?"?"(?:/(.*))?":"/(.*)"):s===":"?(n=a.indexOf("?",1),i=a.indexOf(".",1),l.push(a.substring(1,~n?n:~i?i:a.length)),o+=~n&&!~i?"(?:/([^/]+?))?":"/([^/]+?)",~i&&(o+=(~n?"?":"")+"\\"+a.substring(i))):o+="/"+a;return{keys:l,pattern:new RegExp("^"+o+(r?"(?=$|/)":"/?$"),"i")}}var sF={exports:{}},nF={};/**
 * @license React
 * use-sync-external-store-shim.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var mu=j;function kY(t,r){return t===r&&(t!==0||1/t===1/r)||t!==t&&r!==r}var AY=typeof Object.is=="function"?Object.is:kY,_Y=mu.useState,TY=mu.useEffect,OY=mu.useLayoutEffect,EY=mu.useDebugValue;function DY(t,r){var s=r(),n=_Y({inst:{value:s,getSnapshot:r}}),a=n[0].inst,i=n[1];return OY(function(){a.value=s,a.getSnapshot=r,e0(a)&&i({inst:a})},[t,s,r]),TY(function(){return e0(a)&&i({inst:a}),t(function(){e0(a)&&i({inst:a})})},[t]),EY(s),s}function e0(t){var r=t.getSnapshot;t=t.value;try{var s=r();return!AY(t,s)}catch{return!0}}function MY(t,r){return r()}var IY=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?MY:DY;nF.useSyncExternalStore=mu.useSyncExternalStore!==void 0?mu.useSyncExternalStore:IY;sF.exports=nF;var RY=sF.exports;const FY=J3.useInsertionEffect,$Y=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",aF=$Y?j.useLayoutEffect:j.useEffect,LY=FY||aF,V2=t=>{const r=j.useRef([t,(...s)=>r[0](...s)]).current;return LY(()=>{r[0]=t}),r[1]},BY="popstate",U2="pushState",q2="replaceState",VY="hashchange",WA=[BY,U2,q2,VY],UY=t=>{for(const r of WA)addEventListener(r,t);return()=>{for(const r of WA)removeEventListener(r,t)}},iF=(t,r)=>RY.useSyncExternalStore(UY,t,r),qY=()=>location.search,zY=({ssrSearch:t=""}={})=>iF(qY,()=>t),GA=()=>location.pathname,KY=({ssrPath:t}={})=>iF(GA,t?()=>t:GA),HY=(t,{replace:r=!1,state:s=null}={})=>history[r?q2:U2](s,"",t),WY=(t={})=>[KY(t),HY],YA=Symbol.for("wouter_v3");if(typeof history<"u"&&typeof window[YA]>"u"){for(const t of[U2,q2]){const r=history[t];history[t]=function(){const s=r.apply(this,arguments),n=new Event(t);return n.arguments=arguments,dispatchEvent(n),s}}Object.defineProperty(window,YA,{value:!0})}const GY=(t,r)=>r.toLowerCase().indexOf(t.toLowerCase())?"~"+r:r.slice(t.length)||"/",lF=(t="")=>t==="/"?"":t,YY=(t,r)=>t[0]==="~"?t.slice(1):lF(r)+t,QY=(t="",r)=>GY(QA(lF(t)),QA(r)),QA=t=>{try{return decodeURI(t)}catch{return t}},oF={hook:WY,searchHook:zY,parser:PY,base:"",ssrPath:void 0,ssrSearch:void 0,hrefs:t=>t},cF=j.createContext(oF),rm=()=>j.useContext(cF),dF={},uF=j.createContext(dF),Gy=()=>j.useContext(uF),Yy=t=>{const[r,s]=t.hook(t);return[QY(t.base,r),V2((n,a)=>s(YY(n,t.base),a))]},xr=()=>Yy(rm()),z2=(t,r,s,n)=>{const{pattern:a,keys:i}=r instanceof RegExp?{keys:!1,pattern:r}:t(r||"*",n),l=a.exec(s)||[],[o,...c]=l;return o!==void 0?[!0,(()=>{const d=i!==!1?Object.fromEntries(i.map((m,h)=>[m,c[h]])):l.groups;let u={...c};return d&&Object.assign(u,d),u})(),...n?[o]:[]]:[!1,null]},XY=t=>z2(rm().parser,t,xr()[0]),ZY=({children:t,...r})=>{var u,m;const s=rm(),n=r.hook?oF:s;let a=n;const[i,l]=((u=r.ssrPath)==null?void 0:u.split("?"))??[];l&&(r.ssrSearch=l,r.ssrPath=i),r.hrefs=r.hrefs??((m=r.hook)==null?void 0:m.hrefs);let o=j.useRef({}),c=o.current,d=c;for(let h in n){const g=h==="base"?n[h]+(r[h]||""):r[h]||n[h];c===d&&g!==d[h]&&(o.current=d={...d}),d[h]=g,g!==n[h]&&(a=d)}return j.createElement(cF.Provider,{value:a,children:t})},XA=({children:t,component:r},s)=>r?j.createElement(r,{params:s}):typeof t=="function"?t(s):t,JY=t=>{let r=j.useRef(dF),s=r.current;for(const n in t)t[n]!==s[n]&&(s=t);return Object.keys(t).length===0&&(s=t),r.current=s},ts=({path:t,nest:r,match:s,...n})=>{const a=rm(),[i]=Yy(a),[l,o,c]=s??z2(a.parser,t,i,r),d=JY({...Gy(),...o});if(!l)return null;const u=c?j.createElement(ZY,{base:c},XA(n,d)):XA(n,d);return j.createElement(uF.Provider,{value:d,children:u})},At=j.forwardRef((t,r)=>{const s=rm(),[n,a]=Yy(s),{to:i="",href:l=i,onClick:o,asChild:c,children:d,className:u,replace:m,state:h,...g}=t,f=V2(y=>{y.ctrlKey||y.metaKey||y.altKey||y.shiftKey||y.button!==0||(o==null||o(y),y.defaultPrevented||(y.preventDefault(),a(l,t)))}),p=s.hrefs(l[0]==="~"?l.slice(1):s.base+l,s);return c&&j.isValidElement(d)?j.cloneElement(d,{onClick:f,href:p}):j.createElement("a",{...g,onClick:f,href:p,className:u!=null&&u.call?u(n===l):u,children:d,ref:r})}),mF=t=>Array.isArray(t)?t.flatMap(r=>mF(r&&r.type===j.Fragment?r.props.children:r)):[t],eQ=({children:t,location:r})=>{const s=rm(),[n]=Yy(s);for(const a of mF(t)){let i=0;if(j.isValidElement(a)&&(i=z2(s.parser,a.props.path,r||n,a.props.nest))[0])return j.cloneElement(a,{match:i})}return null},hF=t=>{const{to:r,href:s=r}=t,[,n]=xr(),a=V2(()=>n(r||s,t));return aF(()=>{a()},[]),null};var sm=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(t){return this.listeners.add(t),this.onSubscribe(),()=>{this.listeners.delete(t),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},bc=typeof window>"u"||"Deno"in globalThis;function xa(){}function tQ(t,r){return typeof t=="function"?t(r):t}function cw(t){return typeof t=="number"&&t>=0&&t!==1/0}function pF(t,r){return Math.max(t+(r||0)-Date.now(),0)}function Id(t,r){return typeof t=="function"?t(r):t}function Va(t,r){return typeof t=="function"?t(r):t}function ZA(t,r){const{type:s="all",exact:n,fetchStatus:a,predicate:i,queryKey:l,stale:o}=t;if(l){if(n){if(r.queryHash!==K2(l,r.options))return!1}else if(!ap(r.queryKey,l))return!1}if(s!=="all"){const c=r.isActive();if(s==="active"&&!c||s==="inactive"&&c)return!1}return!(typeof o=="boolean"&&r.isStale()!==o||a&&a!==r.state.fetchStatus||i&&!i(r))}function JA(t,r){const{exact:s,status:n,predicate:a,mutationKey:i}=t;if(i){if(!r.options.mutationKey)return!1;if(s){if(Nc(r.options.mutationKey)!==Nc(i))return!1}else if(!ap(r.options.mutationKey,i))return!1}return!(n&&r.state.status!==n||a&&!a(r))}function K2(t,r){return((r==null?void 0:r.queryKeyHashFn)||Nc)(t)}function Nc(t){return JSON.stringify(t,(r,s)=>dw(s)?Object.keys(s).sort().reduce((n,a)=>(n[a]=s[a],n),{}):s)}function ap(t,r){return t===r?!0:typeof t!=typeof r?!1:t&&r&&typeof t=="object"&&typeof r=="object"?!Object.keys(r).some(s=>!ap(t[s],r[s])):!1}function fF(t,r){if(t===r)return t;const s=e_(t)&&e_(r);if(s||dw(t)&&dw(r)){const n=s?t:Object.keys(t),a=n.length,i=s?r:Object.keys(r),l=i.length,o=s?[]:{};let c=0;for(let d=0;d<l;d++){const u=s?d:i[d];(!s&&n.includes(u)||s)&&t[u]===void 0&&r[u]===void 0?(o[u]=void 0,c++):(o[u]=fF(t[u],r[u]),o[u]===t[u]&&t[u]!==void 0&&c++)}return a===l&&c===a?t:o}return r}function Ug(t,r){if(!r||Object.keys(t).length!==Object.keys(r).length)return!1;for(const s in t)if(t[s]!==r[s])return!1;return!0}function e_(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function dw(t){if(!t_(t))return!1;const r=t.constructor;if(r===void 0)return!0;const s=r.prototype;return!(!t_(s)||!s.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(t)!==Object.prototype)}function t_(t){return Object.prototype.toString.call(t)==="[object Object]"}function rQ(t){return new Promise(r=>{setTimeout(r,t)})}function uw(t,r,s){return typeof s.structuralSharing=="function"?s.structuralSharing(t,r):s.structuralSharing!==!1?fF(t,r):r}function sQ(t,r,s=0){const n=[...t,r];return s&&n.length>s?n.slice(1):n}function nQ(t,r,s=0){const n=[r,...t];return s&&n.length>s?n.slice(0,-1):n}var H2=Symbol();function xF(t,r){return!t.queryFn&&(r!=null&&r.initialPromise)?()=>r.initialPromise:!t.queryFn||t.queryFn===H2?()=>Promise.reject(new Error(`Missing queryFn: '${t.queryHash}'`)):t.queryFn}var nc,Hl,Hd,GD,aQ=(GD=class extends sm{constructor(){super();wt(this,nc);wt(this,Hl);wt(this,Hd);lt(this,Hd,r=>{if(!bc&&window.addEventListener){const s=()=>r();return window.addEventListener("visibilitychange",s,!1),()=>{window.removeEventListener("visibilitychange",s)}}})}onSubscribe(){ie(this,Hl)||this.setEventListener(ie(this,Hd))}onUnsubscribe(){var r;this.hasListeners()||((r=ie(this,Hl))==null||r.call(this),lt(this,Hl,void 0))}setEventListener(r){var s;lt(this,Hd,r),(s=ie(this,Hl))==null||s.call(this),lt(this,Hl,r(n=>{typeof n=="boolean"?this.setFocused(n):this.onFocus()}))}setFocused(r){ie(this,nc)!==r&&(lt(this,nc,r),this.onFocus())}onFocus(){const r=this.isFocused();this.listeners.forEach(s=>{s(r)})}isFocused(){var r;return typeof ie(this,nc)=="boolean"?ie(this,nc):((r=globalThis.document)==null?void 0:r.visibilityState)!=="hidden"}},nc=new WeakMap,Hl=new WeakMap,Hd=new WeakMap,GD),W2=new aQ,Wd,Wl,Gd,YD,iQ=(YD=class extends sm{constructor(){super();wt(this,Wd,!0);wt(this,Wl);wt(this,Gd);lt(this,Gd,r=>{if(!bc&&window.addEventListener){const s=()=>r(!0),n=()=>r(!1);return window.addEventListener("online",s,!1),window.addEventListener("offline",n,!1),()=>{window.removeEventListener("online",s),window.removeEventListener("offline",n)}}})}onSubscribe(){ie(this,Wl)||this.setEventListener(ie(this,Gd))}onUnsubscribe(){var r;this.hasListeners()||((r=ie(this,Wl))==null||r.call(this),lt(this,Wl,void 0))}setEventListener(r){var s;lt(this,Gd,r),(s=ie(this,Wl))==null||s.call(this),lt(this,Wl,r(this.setOnline.bind(this)))}setOnline(r){ie(this,Wd)!==r&&(lt(this,Wd,r),this.listeners.forEach(n=>{n(r)}))}isOnline(){return ie(this,Wd)}},Wd=new WeakMap,Wl=new WeakMap,Gd=new WeakMap,YD),qg=new iQ;function mw(){let t,r;const s=new Promise((a,i)=>{t=a,r=i});s.status="pending",s.catch(()=>{});function n(a){Object.assign(s,a),delete s.resolve,delete s.reject}return s.resolve=a=>{n({status:"fulfilled",value:a}),t(a)},s.reject=a=>{n({status:"rejected",reason:a}),r(a)},s}function lQ(t){return Math.min(1e3*2**t,3e4)}function gF(t){return(t??"online")==="online"?qg.isOnline():!0}var vF=class extends Error{constructor(t){super("CancelledError"),this.revert=t==null?void 0:t.revert,this.silent=t==null?void 0:t.silent}};function t0(t){return t instanceof vF}function yF(t){let r=!1,s=0,n=!1,a;const i=mw(),l=p=>{var y;n||(h(new vF(p)),(y=t.abort)==null||y.call(t))},o=()=>{r=!0},c=()=>{r=!1},d=()=>W2.isFocused()&&(t.networkMode==="always"||qg.isOnline())&&t.canRun(),u=()=>gF(t.networkMode)&&t.canRun(),m=p=>{var y;n||(n=!0,(y=t.onSuccess)==null||y.call(t,p),a==null||a(),i.resolve(p))},h=p=>{var y;n||(n=!0,(y=t.onError)==null||y.call(t,p),a==null||a(),i.reject(p))},g=()=>new Promise(p=>{var y;a=v=>{(n||d())&&p(v)},(y=t.onPause)==null||y.call(t)}).then(()=>{var p;a=void 0,n||(p=t.onContinue)==null||p.call(t)}),f=()=>{if(n)return;let p;const y=s===0?t.initialPromise:void 0;try{p=y??t.fn()}catch(v){p=Promise.reject(v)}Promise.resolve(p).then(m).catch(v=>{var C;if(n)return;const x=t.retry??(bc?0:3),b=t.retryDelay??lQ,N=typeof b=="function"?b(s,v):b,w=x===!0||typeof x=="number"&&s<x||typeof x=="function"&&x(s,v);if(r||!w){h(v);return}s++,(C=t.onFail)==null||C.call(t,s,v),rQ(N).then(()=>d()?void 0:g()).then(()=>{r?h(v):f()})})};return{promise:i,cancel:l,continue:()=>(a==null||a(),i),cancelRetry:o,continueRetry:c,canStart:u,start:()=>(u()?f():g().then(f),i)}}function oQ(){let t=[],r=0,s=o=>{o()},n=o=>{o()},a=o=>setTimeout(o,0);const i=o=>{r?t.push(o):a(()=>{s(o)})},l=()=>{const o=t;t=[],o.length&&a(()=>{n(()=>{o.forEach(c=>{s(c)})})})};return{batch:o=>{let c;r++;try{c=o()}finally{r--,r||l()}return c},batchCalls:o=>(...c)=>{i(()=>{o(...c)})},schedule:i,setNotifyFunction:o=>{s=o},setBatchNotifyFunction:o=>{n=o},setScheduler:o=>{a=o}}}var ys=oQ(),ac,QD,jF=(QD=class{constructor(){wt(this,ac)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),cw(this.gcTime)&&lt(this,ac,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(t){this.gcTime=Math.max(this.gcTime||0,t??(bc?1/0:5*60*1e3))}clearGcTimeout(){ie(this,ac)&&(clearTimeout(ie(this,ac)),lt(this,ac,void 0))}},ac=new WeakMap,QD),Yd,Qd,fa,Gs,of,ic,Ra,Wi,XD,cQ=(XD=class extends jF{constructor(r){super();wt(this,Ra);wt(this,Yd);wt(this,Qd);wt(this,fa);wt(this,Gs);wt(this,of);wt(this,ic);lt(this,ic,!1),lt(this,of,r.defaultOptions),this.setOptions(r.options),this.observers=[],lt(this,fa,r.cache),this.queryKey=r.queryKey,this.queryHash=r.queryHash,lt(this,Yd,dQ(this.options)),this.state=r.state??ie(this,Yd),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var r;return(r=ie(this,Gs))==null?void 0:r.promise}setOptions(r){this.options={...ie(this,of),...r},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&ie(this,fa).remove(this)}setData(r,s){const n=uw(this.state.data,r,this.options);return Qt(this,Ra,Wi).call(this,{data:n,type:"success",dataUpdatedAt:s==null?void 0:s.updatedAt,manual:s==null?void 0:s.manual}),n}setState(r,s){Qt(this,Ra,Wi).call(this,{type:"setState",state:r,setStateOptions:s})}cancel(r){var n,a;const s=(n=ie(this,Gs))==null?void 0:n.promise;return(a=ie(this,Gs))==null||a.cancel(r),s?s.then(xa).catch(xa):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(ie(this,Yd))}isActive(){return this.observers.some(r=>Va(r.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===H2||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStale(){return this.state.isInvalidated?!0:this.getObserversCount()>0?this.observers.some(r=>r.getCurrentResult().isStale):this.state.data===void 0}isStaleByTime(r=0){return this.state.isInvalidated||this.state.data===void 0||!pF(this.state.dataUpdatedAt,r)}onFocus(){var s;const r=this.observers.find(n=>n.shouldFetchOnWindowFocus());r==null||r.refetch({cancelRefetch:!1}),(s=ie(this,Gs))==null||s.continue()}onOnline(){var s;const r=this.observers.find(n=>n.shouldFetchOnReconnect());r==null||r.refetch({cancelRefetch:!1}),(s=ie(this,Gs))==null||s.continue()}addObserver(r){this.observers.includes(r)||(this.observers.push(r),this.clearGcTimeout(),ie(this,fa).notify({type:"observerAdded",query:this,observer:r}))}removeObserver(r){this.observers.includes(r)&&(this.observers=this.observers.filter(s=>s!==r),this.observers.length||(ie(this,Gs)&&(ie(this,ic)?ie(this,Gs).cancel({revert:!0}):ie(this,Gs).cancelRetry()),this.scheduleGc()),ie(this,fa).notify({type:"observerRemoved",query:this,observer:r}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||Qt(this,Ra,Wi).call(this,{type:"invalidate"})}fetch(r,s){var c,d,u;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(s!=null&&s.cancelRefetch))this.cancel({silent:!0});else if(ie(this,Gs))return ie(this,Gs).continueRetry(),ie(this,Gs).promise}if(r&&this.setOptions(r),!this.options.queryFn){const m=this.observers.find(h=>h.options.queryFn);m&&this.setOptions(m.options)}const n=new AbortController,a=m=>{Object.defineProperty(m,"signal",{enumerable:!0,get:()=>(lt(this,ic,!0),n.signal)})},i=()=>{const m=xF(this.options,s),h={queryKey:this.queryKey,meta:this.meta};return a(h),lt(this,ic,!1),this.options.persister?this.options.persister(m,h,this):m(h)},l={fetchOptions:s,options:this.options,queryKey:this.queryKey,state:this.state,fetchFn:i};a(l),(c=this.options.behavior)==null||c.onFetch(l,this),lt(this,Qd,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((d=l.fetchOptions)==null?void 0:d.meta))&&Qt(this,Ra,Wi).call(this,{type:"fetch",meta:(u=l.fetchOptions)==null?void 0:u.meta});const o=m=>{var h,g,f,p;t0(m)&&m.silent||Qt(this,Ra,Wi).call(this,{type:"error",error:m}),t0(m)||((g=(h=ie(this,fa).config).onError)==null||g.call(h,m,this),(p=(f=ie(this,fa).config).onSettled)==null||p.call(f,this.state.data,m,this)),this.scheduleGc()};return lt(this,Gs,yF({initialPromise:s==null?void 0:s.initialPromise,fn:l.fetchFn,abort:n.abort.bind(n),onSuccess:m=>{var h,g,f,p;if(m===void 0){o(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(m)}catch(y){o(y);return}(g=(h=ie(this,fa).config).onSuccess)==null||g.call(h,m,this),(p=(f=ie(this,fa).config).onSettled)==null||p.call(f,m,this.state.error,this),this.scheduleGc()},onError:o,onFail:(m,h)=>{Qt(this,Ra,Wi).call(this,{type:"failed",failureCount:m,error:h})},onPause:()=>{Qt(this,Ra,Wi).call(this,{type:"pause"})},onContinue:()=>{Qt(this,Ra,Wi).call(this,{type:"continue"})},retry:l.options.retry,retryDelay:l.options.retryDelay,networkMode:l.options.networkMode,canRun:()=>!0})),ie(this,Gs).start()}},Yd=new WeakMap,Qd=new WeakMap,fa=new WeakMap,Gs=new WeakMap,of=new WeakMap,ic=new WeakMap,Ra=new WeakSet,Wi=function(r){const s=n=>{switch(r.type){case"failed":return{...n,fetchFailureCount:r.failureCount,fetchFailureReason:r.error};case"pause":return{...n,fetchStatus:"paused"};case"continue":return{...n,fetchStatus:"fetching"};case"fetch":return{...n,...bF(n.data,this.options),fetchMeta:r.meta??null};case"success":return{...n,data:r.data,dataUpdateCount:n.dataUpdateCount+1,dataUpdatedAt:r.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!r.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const a=r.error;return t0(a)&&a.revert&&ie(this,Qd)?{...ie(this,Qd),fetchStatus:"idle"}:{...n,error:a,errorUpdateCount:n.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:n.fetchFailureCount+1,fetchFailureReason:a,fetchStatus:"idle",status:"error"};case"invalidate":return{...n,isInvalidated:!0};case"setState":return{...n,...r.state}}};this.state=s(this.state),ys.batch(()=>{this.observers.forEach(n=>{n.onQueryUpdate()}),ie(this,fa).notify({query:this,type:"updated",action:r})})},XD);function bF(t,r){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:gF(r.networkMode)?"fetching":"paused",...t===void 0&&{error:null,status:"pending"}}}function dQ(t){const r=typeof t.initialData=="function"?t.initialData():t.initialData,s=r!==void 0,n=s?typeof t.initialDataUpdatedAt=="function"?t.initialDataUpdatedAt():t.initialDataUpdatedAt:0;return{data:r,dataUpdateCount:0,dataUpdatedAt:s?n??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:s?"success":"pending",fetchStatus:"idle"}}var ui,ZD,uQ=(ZD=class extends sm{constructor(r={}){super();wt(this,ui);this.config=r,lt(this,ui,new Map)}build(r,s,n){const a=s.queryKey,i=s.queryHash??K2(a,s);let l=this.get(i);return l||(l=new cQ({cache:this,queryKey:a,queryHash:i,options:r.defaultQueryOptions(s),state:n,defaultOptions:r.getQueryDefaults(a)}),this.add(l)),l}add(r){ie(this,ui).has(r.queryHash)||(ie(this,ui).set(r.queryHash,r),this.notify({type:"added",query:r}))}remove(r){const s=ie(this,ui).get(r.queryHash);s&&(r.destroy(),s===r&&ie(this,ui).delete(r.queryHash),this.notify({type:"removed",query:r}))}clear(){ys.batch(()=>{this.getAll().forEach(r=>{this.remove(r)})})}get(r){return ie(this,ui).get(r)}getAll(){return[...ie(this,ui).values()]}find(r){const s={exact:!0,...r};return this.getAll().find(n=>ZA(s,n))}findAll(r={}){const s=this.getAll();return Object.keys(r).length>0?s.filter(n=>ZA(r,n)):s}notify(r){ys.batch(()=>{this.listeners.forEach(s=>{s(r)})})}onFocus(){ys.batch(()=>{this.getAll().forEach(r=>{r.onFocus()})})}onOnline(){ys.batch(()=>{this.getAll().forEach(r=>{r.onOnline()})})}},ui=new WeakMap,ZD),mi,nn,lc,hi,Rl,JD,mQ=(JD=class extends jF{constructor(r){super();wt(this,hi);wt(this,mi);wt(this,nn);wt(this,lc);this.mutationId=r.mutationId,lt(this,nn,r.mutationCache),lt(this,mi,[]),this.state=r.state||NF(),this.setOptions(r.options),this.scheduleGc()}setOptions(r){this.options=r,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(r){ie(this,mi).includes(r)||(ie(this,mi).push(r),this.clearGcTimeout(),ie(this,nn).notify({type:"observerAdded",mutation:this,observer:r}))}removeObserver(r){lt(this,mi,ie(this,mi).filter(s=>s!==r)),this.scheduleGc(),ie(this,nn).notify({type:"observerRemoved",mutation:this,observer:r})}optionalRemove(){ie(this,mi).length||(this.state.status==="pending"?this.scheduleGc():ie(this,nn).remove(this))}continue(){var r;return((r=ie(this,lc))==null?void 0:r.continue())??this.execute(this.state.variables)}async execute(r){var a,i,l,o,c,d,u,m,h,g,f,p,y,v,x,b,N,w,C,P;lt(this,lc,yF({fn:()=>this.options.mutationFn?this.options.mutationFn(r):Promise.reject(new Error("No mutationFn found")),onFail:(S,A)=>{Qt(this,hi,Rl).call(this,{type:"failed",failureCount:S,error:A})},onPause:()=>{Qt(this,hi,Rl).call(this,{type:"pause"})},onContinue:()=>{Qt(this,hi,Rl).call(this,{type:"continue"})},retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>ie(this,nn).canRun(this)}));const s=this.state.status==="pending",n=!ie(this,lc).canStart();try{if(!s){Qt(this,hi,Rl).call(this,{type:"pending",variables:r,isPaused:n}),await((i=(a=ie(this,nn).config).onMutate)==null?void 0:i.call(a,r,this));const A=await((o=(l=this.options).onMutate)==null?void 0:o.call(l,r));A!==this.state.context&&Qt(this,hi,Rl).call(this,{type:"pending",context:A,variables:r,isPaused:n})}const S=await ie(this,lc).start();return await((d=(c=ie(this,nn).config).onSuccess)==null?void 0:d.call(c,S,r,this.state.context,this)),await((m=(u=this.options).onSuccess)==null?void 0:m.call(u,S,r,this.state.context)),await((g=(h=ie(this,nn).config).onSettled)==null?void 0:g.call(h,S,null,this.state.variables,this.state.context,this)),await((p=(f=this.options).onSettled)==null?void 0:p.call(f,S,null,r,this.state.context)),Qt(this,hi,Rl).call(this,{type:"success",data:S}),S}catch(S){try{throw await((v=(y=ie(this,nn).config).onError)==null?void 0:v.call(y,S,r,this.state.context,this)),await((b=(x=this.options).onError)==null?void 0:b.call(x,S,r,this.state.context)),await((w=(N=ie(this,nn).config).onSettled)==null?void 0:w.call(N,void 0,S,this.state.variables,this.state.context,this)),await((P=(C=this.options).onSettled)==null?void 0:P.call(C,void 0,S,r,this.state.context)),S}finally{Qt(this,hi,Rl).call(this,{type:"error",error:S})}}finally{ie(this,nn).runNext(this)}}},mi=new WeakMap,nn=new WeakMap,lc=new WeakMap,hi=new WeakSet,Rl=function(r){const s=n=>{switch(r.type){case"failed":return{...n,failureCount:r.failureCount,failureReason:r.error};case"pause":return{...n,isPaused:!0};case"continue":return{...n,isPaused:!1};case"pending":return{...n,context:r.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:r.isPaused,status:"pending",variables:r.variables,submittedAt:Date.now()};case"success":return{...n,data:r.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...n,data:void 0,error:r.error,failureCount:n.failureCount+1,failureReason:r.error,isPaused:!1,status:"error"}}};this.state=s(this.state),ys.batch(()=>{ie(this,mi).forEach(n=>{n.onMutationUpdate(r)}),ie(this,nn).notify({mutation:this,type:"updated",action:r})})},JD);function NF(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var Un,cf,eM,hQ=(eM=class extends sm{constructor(r={}){super();wt(this,Un);wt(this,cf);this.config=r,lt(this,Un,new Map),lt(this,cf,Date.now())}build(r,s,n){const a=new mQ({mutationCache:this,mutationId:++Yf(this,cf)._,options:r.defaultMutationOptions(s),state:n});return this.add(a),a}add(r){const s=px(r),n=ie(this,Un).get(s)??[];n.push(r),ie(this,Un).set(s,n),this.notify({type:"added",mutation:r})}remove(r){var n;const s=px(r);if(ie(this,Un).has(s)){const a=(n=ie(this,Un).get(s))==null?void 0:n.filter(i=>i!==r);a&&(a.length===0?ie(this,Un).delete(s):ie(this,Un).set(s,a))}this.notify({type:"removed",mutation:r})}canRun(r){var n;const s=(n=ie(this,Un).get(px(r)))==null?void 0:n.find(a=>a.state.status==="pending");return!s||s===r}runNext(r){var n;const s=(n=ie(this,Un).get(px(r)))==null?void 0:n.find(a=>a!==r&&a.state.isPaused);return(s==null?void 0:s.continue())??Promise.resolve()}clear(){ys.batch(()=>{this.getAll().forEach(r=>{this.remove(r)})})}getAll(){return[...ie(this,Un).values()].flat()}find(r){const s={exact:!0,...r};return this.getAll().find(n=>JA(s,n))}findAll(r={}){return this.getAll().filter(s=>JA(r,s))}notify(r){ys.batch(()=>{this.listeners.forEach(s=>{s(r)})})}resumePausedMutations(){const r=this.getAll().filter(s=>s.state.isPaused);return ys.batch(()=>Promise.all(r.map(s=>s.continue().catch(xa))))}},Un=new WeakMap,cf=new WeakMap,eM);function px(t){var r;return((r=t.options.scope)==null?void 0:r.id)??String(t.mutationId)}function r_(t){return{onFetch:(r,s)=>{var u,m,h,g,f;const n=r.options,a=(h=(m=(u=r.fetchOptions)==null?void 0:u.meta)==null?void 0:m.fetchMore)==null?void 0:h.direction,i=((g=r.state.data)==null?void 0:g.pages)||[],l=((f=r.state.data)==null?void 0:f.pageParams)||[];let o={pages:[],pageParams:[]},c=0;const d=async()=>{let p=!1;const y=b=>{Object.defineProperty(b,"signal",{enumerable:!0,get:()=>(r.signal.aborted?p=!0:r.signal.addEventListener("abort",()=>{p=!0}),r.signal)})},v=xF(r.options,r.fetchOptions),x=async(b,N,w)=>{if(p)return Promise.reject();if(N==null&&b.pages.length)return Promise.resolve(b);const C={queryKey:r.queryKey,pageParam:N,direction:w?"backward":"forward",meta:r.options.meta};y(C);const P=await v(C),{maxPages:S}=r.options,A=w?nQ:sQ;return{pages:A(b.pages,P,S),pageParams:A(b.pageParams,N,S)}};if(a&&i.length){const b=a==="backward",N=b?pQ:s_,w={pages:i,pageParams:l},C=N(n,w);o=await x(w,C,b)}else{const b=t??i.length;do{const N=c===0?l[0]??n.initialPageParam:s_(n,o);if(c>0&&N==null)break;o=await x(o,N),c++}while(c<b)}return o};r.options.persister?r.fetchFn=()=>{var p,y;return(y=(p=r.options).persister)==null?void 0:y.call(p,d,{queryKey:r.queryKey,meta:r.options.meta,signal:r.signal},s)}:r.fetchFn=d}}}function s_(t,{pages:r,pageParams:s}){const n=r.length-1;return r.length>0?t.getNextPageParam(r[n],r,s[n],s):void 0}function pQ(t,{pages:r,pageParams:s}){var n;return r.length>0?(n=t.getPreviousPageParam)==null?void 0:n.call(t,r[0],r,s[0],s):void 0}var rs,Gl,Yl,Xd,Zd,Ql,Jd,eu,tM,fQ=(tM=class{constructor(t={}){wt(this,rs);wt(this,Gl);wt(this,Yl);wt(this,Xd);wt(this,Zd);wt(this,Ql);wt(this,Jd);wt(this,eu);lt(this,rs,t.queryCache||new uQ),lt(this,Gl,t.mutationCache||new hQ),lt(this,Yl,t.defaultOptions||{}),lt(this,Xd,new Map),lt(this,Zd,new Map),lt(this,Ql,0)}mount(){Yf(this,Ql)._++,ie(this,Ql)===1&&(lt(this,Jd,W2.subscribe(async t=>{t&&(await this.resumePausedMutations(),ie(this,rs).onFocus())})),lt(this,eu,qg.subscribe(async t=>{t&&(await this.resumePausedMutations(),ie(this,rs).onOnline())})))}unmount(){var t,r;Yf(this,Ql)._--,ie(this,Ql)===0&&((t=ie(this,Jd))==null||t.call(this),lt(this,Jd,void 0),(r=ie(this,eu))==null||r.call(this),lt(this,eu,void 0))}isFetching(t){return ie(this,rs).findAll({...t,fetchStatus:"fetching"}).length}isMutating(t){return ie(this,Gl).findAll({...t,status:"pending"}).length}getQueryData(t){var s;const r=this.defaultQueryOptions({queryKey:t});return(s=ie(this,rs).get(r.queryHash))==null?void 0:s.state.data}ensureQueryData(t){const r=this.getQueryData(t.queryKey);if(r===void 0)return this.fetchQuery(t);{const s=this.defaultQueryOptions(t),n=ie(this,rs).build(this,s);return t.revalidateIfStale&&n.isStaleByTime(Id(s.staleTime,n))&&this.prefetchQuery(s),Promise.resolve(r)}}getQueriesData(t){return ie(this,rs).findAll(t).map(({queryKey:r,state:s})=>{const n=s.data;return[r,n]})}setQueryData(t,r,s){const n=this.defaultQueryOptions({queryKey:t}),a=ie(this,rs).get(n.queryHash),i=a==null?void 0:a.state.data,l=tQ(r,i);if(l!==void 0)return ie(this,rs).build(this,n).setData(l,{...s,manual:!0})}setQueriesData(t,r,s){return ys.batch(()=>ie(this,rs).findAll(t).map(({queryKey:n})=>[n,this.setQueryData(n,r,s)]))}getQueryState(t){var s;const r=this.defaultQueryOptions({queryKey:t});return(s=ie(this,rs).get(r.queryHash))==null?void 0:s.state}removeQueries(t){const r=ie(this,rs);ys.batch(()=>{r.findAll(t).forEach(s=>{r.remove(s)})})}resetQueries(t,r){const s=ie(this,rs),n={type:"active",...t};return ys.batch(()=>(s.findAll(t).forEach(a=>{a.reset()}),this.refetchQueries(n,r)))}cancelQueries(t={},r={}){const s={revert:!0,...r},n=ys.batch(()=>ie(this,rs).findAll(t).map(a=>a.cancel(s)));return Promise.all(n).then(xa).catch(xa)}invalidateQueries(t={},r={}){return ys.batch(()=>{if(ie(this,rs).findAll(t).forEach(n=>{n.invalidate()}),t.refetchType==="none")return Promise.resolve();const s={...t,type:t.refetchType??t.type??"active"};return this.refetchQueries(s,r)})}refetchQueries(t={},r){const s={...r,cancelRefetch:(r==null?void 0:r.cancelRefetch)??!0},n=ys.batch(()=>ie(this,rs).findAll(t).filter(a=>!a.isDisabled()).map(a=>{let i=a.fetch(void 0,s);return s.throwOnError||(i=i.catch(xa)),a.state.fetchStatus==="paused"?Promise.resolve():i}));return Promise.all(n).then(xa)}fetchQuery(t){const r=this.defaultQueryOptions(t);r.retry===void 0&&(r.retry=!1);const s=ie(this,rs).build(this,r);return s.isStaleByTime(Id(r.staleTime,s))?s.fetch(r):Promise.resolve(s.state.data)}prefetchQuery(t){return this.fetchQuery(t).then(xa).catch(xa)}fetchInfiniteQuery(t){return t.behavior=r_(t.pages),this.fetchQuery(t)}prefetchInfiniteQuery(t){return this.fetchInfiniteQuery(t).then(xa).catch(xa)}ensureInfiniteQueryData(t){return t.behavior=r_(t.pages),this.ensureQueryData(t)}resumePausedMutations(){return qg.isOnline()?ie(this,Gl).resumePausedMutations():Promise.resolve()}getQueryCache(){return ie(this,rs)}getMutationCache(){return ie(this,Gl)}getDefaultOptions(){return ie(this,Yl)}setDefaultOptions(t){lt(this,Yl,t)}setQueryDefaults(t,r){ie(this,Xd).set(Nc(t),{queryKey:t,defaultOptions:r})}getQueryDefaults(t){const r=[...ie(this,Xd).values()];let s={};return r.forEach(n=>{ap(t,n.queryKey)&&(s={...s,...n.defaultOptions})}),s}setMutationDefaults(t,r){ie(this,Zd).set(Nc(t),{mutationKey:t,defaultOptions:r})}getMutationDefaults(t){const r=[...ie(this,Zd).values()];let s={};return r.forEach(n=>{ap(t,n.mutationKey)&&(s={...s,...n.defaultOptions})}),s}defaultQueryOptions(t){if(t._defaulted)return t;const r={...ie(this,Yl).queries,...this.getQueryDefaults(t.queryKey),...t,_defaulted:!0};return r.queryHash||(r.queryHash=K2(r.queryKey,r)),r.refetchOnReconnect===void 0&&(r.refetchOnReconnect=r.networkMode!=="always"),r.throwOnError===void 0&&(r.throwOnError=!!r.suspense),!r.networkMode&&r.persister&&(r.networkMode="offlineFirst"),r.enabled!==!0&&r.queryFn===H2&&(r.enabled=!1),r}defaultMutationOptions(t){return t!=null&&t._defaulted?t:{...ie(this,Yl).mutations,...(t==null?void 0:t.mutationKey)&&this.getMutationDefaults(t.mutationKey),...t,_defaulted:!0}}clear(){ie(this,rs).clear(),ie(this,Gl).clear()}},rs=new WeakMap,Gl=new WeakMap,Yl=new WeakMap,Xd=new WeakMap,Zd=new WeakMap,Ql=new WeakMap,Jd=new WeakMap,eu=new WeakMap,tM),Sn,ir,df,an,oc,tu,Xl,pi,uf,ru,su,cc,dc,Zl,nu,vr,uh,hw,pw,fw,xw,gw,vw,yw,wF,rM,xQ=(rM=class extends sm{constructor(r,s){super();wt(this,vr);wt(this,Sn);wt(this,ir);wt(this,df);wt(this,an);wt(this,oc);wt(this,tu);wt(this,Xl);wt(this,pi);wt(this,uf);wt(this,ru);wt(this,su);wt(this,cc);wt(this,dc);wt(this,Zl);wt(this,nu,new Set);this.options=s,lt(this,Sn,r),lt(this,pi,null),lt(this,Xl,mw()),this.options.experimental_prefetchInRender||ie(this,Xl).reject(new Error("experimental_prefetchInRender feature flag is not enabled")),this.bindMethods(),this.setOptions(s)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(ie(this,ir).addObserver(this),n_(ie(this,ir),this.options)?Qt(this,vr,uh).call(this):this.updateResult(),Qt(this,vr,xw).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return jw(ie(this,ir),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return jw(ie(this,ir),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,Qt(this,vr,gw).call(this),Qt(this,vr,vw).call(this),ie(this,ir).removeObserver(this)}setOptions(r,s){const n=this.options,a=ie(this,ir);if(this.options=ie(this,Sn).defaultQueryOptions(r),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof Va(this.options.enabled,ie(this,ir))!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");Qt(this,vr,yw).call(this),ie(this,ir).setOptions(this.options),n._defaulted&&!Ug(this.options,n)&&ie(this,Sn).getQueryCache().notify({type:"observerOptionsUpdated",query:ie(this,ir),observer:this});const i=this.hasListeners();i&&a_(ie(this,ir),a,this.options,n)&&Qt(this,vr,uh).call(this),this.updateResult(s),i&&(ie(this,ir)!==a||Va(this.options.enabled,ie(this,ir))!==Va(n.enabled,ie(this,ir))||Id(this.options.staleTime,ie(this,ir))!==Id(n.staleTime,ie(this,ir)))&&Qt(this,vr,hw).call(this);const l=Qt(this,vr,pw).call(this);i&&(ie(this,ir)!==a||Va(this.options.enabled,ie(this,ir))!==Va(n.enabled,ie(this,ir))||l!==ie(this,Zl))&&Qt(this,vr,fw).call(this,l)}getOptimisticResult(r){const s=ie(this,Sn).getQueryCache().build(ie(this,Sn),r),n=this.createResult(s,r);return vQ(this,n)&&(lt(this,an,n),lt(this,tu,this.options),lt(this,oc,ie(this,ir).state)),n}getCurrentResult(){return ie(this,an)}trackResult(r,s){const n={};return Object.keys(r).forEach(a=>{Object.defineProperty(n,a,{configurable:!1,enumerable:!0,get:()=>(this.trackProp(a),s==null||s(a),r[a])})}),n}trackProp(r){ie(this,nu).add(r)}getCurrentQuery(){return ie(this,ir)}refetch({...r}={}){return this.fetch({...r})}fetchOptimistic(r){const s=ie(this,Sn).defaultQueryOptions(r),n=ie(this,Sn).getQueryCache().build(ie(this,Sn),s);return n.fetch().then(()=>this.createResult(n,s))}fetch(r){return Qt(this,vr,uh).call(this,{...r,cancelRefetch:r.cancelRefetch??!0}).then(()=>(this.updateResult(),ie(this,an)))}createResult(r,s){var S;const n=ie(this,ir),a=this.options,i=ie(this,an),l=ie(this,oc),o=ie(this,tu),d=r!==n?r.state:ie(this,df),{state:u}=r;let m={...u},h=!1,g;if(s._optimisticResults){const A=this.hasListeners(),k=!A&&n_(r,s),I=A&&a_(r,n,s,a);(k||I)&&(m={...m,...bF(u.data,r.options)}),s._optimisticResults==="isRestoring"&&(m.fetchStatus="idle")}let{error:f,errorUpdatedAt:p,status:y}=m;if(s.select&&m.data!==void 0)if(i&&m.data===(l==null?void 0:l.data)&&s.select===ie(this,uf))g=ie(this,ru);else try{lt(this,uf,s.select),g=s.select(m.data),g=uw(i==null?void 0:i.data,g,s),lt(this,ru,g),lt(this,pi,null)}catch(A){lt(this,pi,A)}else g=m.data;if(s.placeholderData!==void 0&&g===void 0&&y==="pending"){let A;if(i!=null&&i.isPlaceholderData&&s.placeholderData===(o==null?void 0:o.placeholderData))A=i.data;else if(A=typeof s.placeholderData=="function"?s.placeholderData((S=ie(this,su))==null?void 0:S.state.data,ie(this,su)):s.placeholderData,s.select&&A!==void 0)try{A=s.select(A),lt(this,pi,null)}catch(k){lt(this,pi,k)}A!==void 0&&(y="success",g=uw(i==null?void 0:i.data,A,s),h=!0)}ie(this,pi)&&(f=ie(this,pi),g=ie(this,ru),p=Date.now(),y="error");const v=m.fetchStatus==="fetching",x=y==="pending",b=y==="error",N=x&&v,w=g!==void 0,P={status:y,fetchStatus:m.fetchStatus,isPending:x,isSuccess:y==="success",isError:b,isInitialLoading:N,isLoading:N,data:g,dataUpdatedAt:m.dataUpdatedAt,error:f,errorUpdatedAt:p,failureCount:m.fetchFailureCount,failureReason:m.fetchFailureReason,errorUpdateCount:m.errorUpdateCount,isFetched:m.dataUpdateCount>0||m.errorUpdateCount>0,isFetchedAfterMount:m.dataUpdateCount>d.dataUpdateCount||m.errorUpdateCount>d.errorUpdateCount,isFetching:v,isRefetching:v&&!x,isLoadingError:b&&!w,isPaused:m.fetchStatus==="paused",isPlaceholderData:h,isRefetchError:b&&w,isStale:G2(r,s),refetch:this.refetch,promise:ie(this,Xl)};if(this.options.experimental_prefetchInRender){const A=L=>{P.status==="error"?L.reject(P.error):P.data!==void 0&&L.resolve(P.data)},k=()=>{const L=lt(this,Xl,P.promise=mw());A(L)},I=ie(this,Xl);switch(I.status){case"pending":r.queryHash===n.queryHash&&A(I);break;case"fulfilled":(P.status==="error"||P.data!==I.value)&&k();break;case"rejected":(P.status!=="error"||P.error!==I.reason)&&k();break}}return P}updateResult(r){const s=ie(this,an),n=this.createResult(ie(this,ir),this.options);if(lt(this,oc,ie(this,ir).state),lt(this,tu,this.options),ie(this,oc).data!==void 0&&lt(this,su,ie(this,ir)),Ug(n,s))return;lt(this,an,n);const a={},i=()=>{if(!s)return!0;const{notifyOnChangeProps:l}=this.options,o=typeof l=="function"?l():l;if(o==="all"||!o&&!ie(this,nu).size)return!0;const c=new Set(o??ie(this,nu));return this.options.throwOnError&&c.add("error"),Object.keys(ie(this,an)).some(d=>{const u=d;return ie(this,an)[u]!==s[u]&&c.has(u)})};(r==null?void 0:r.listeners)!==!1&&i()&&(a.listeners=!0),Qt(this,vr,wF).call(this,{...a,...r})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&Qt(this,vr,xw).call(this)}},Sn=new WeakMap,ir=new WeakMap,df=new WeakMap,an=new WeakMap,oc=new WeakMap,tu=new WeakMap,Xl=new WeakMap,pi=new WeakMap,uf=new WeakMap,ru=new WeakMap,su=new WeakMap,cc=new WeakMap,dc=new WeakMap,Zl=new WeakMap,nu=new WeakMap,vr=new WeakSet,uh=function(r){Qt(this,vr,yw).call(this);let s=ie(this,ir).fetch(this.options,r);return r!=null&&r.throwOnError||(s=s.catch(xa)),s},hw=function(){Qt(this,vr,gw).call(this);const r=Id(this.options.staleTime,ie(this,ir));if(bc||ie(this,an).isStale||!cw(r))return;const n=pF(ie(this,an).dataUpdatedAt,r)+1;lt(this,cc,setTimeout(()=>{ie(this,an).isStale||this.updateResult()},n))},pw=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(ie(this,ir)):this.options.refetchInterval)??!1},fw=function(r){Qt(this,vr,vw).call(this),lt(this,Zl,r),!(bc||Va(this.options.enabled,ie(this,ir))===!1||!cw(ie(this,Zl))||ie(this,Zl)===0)&&lt(this,dc,setInterval(()=>{(this.options.refetchIntervalInBackground||W2.isFocused())&&Qt(this,vr,uh).call(this)},ie(this,Zl)))},xw=function(){Qt(this,vr,hw).call(this),Qt(this,vr,fw).call(this,Qt(this,vr,pw).call(this))},gw=function(){ie(this,cc)&&(clearTimeout(ie(this,cc)),lt(this,cc,void 0))},vw=function(){ie(this,dc)&&(clearInterval(ie(this,dc)),lt(this,dc,void 0))},yw=function(){const r=ie(this,Sn).getQueryCache().build(ie(this,Sn),this.options);if(r===ie(this,ir))return;const s=ie(this,ir);lt(this,ir,r),lt(this,df,r.state),this.hasListeners()&&(s==null||s.removeObserver(this),r.addObserver(this))},wF=function(r){ys.batch(()=>{r.listeners&&this.listeners.forEach(s=>{s(ie(this,an))}),ie(this,Sn).getQueryCache().notify({query:ie(this,ir),type:"observerResultsUpdated"})})},rM);function gQ(t,r){return Va(r.enabled,t)!==!1&&t.state.data===void 0&&!(t.state.status==="error"&&r.retryOnMount===!1)}function n_(t,r){return gQ(t,r)||t.state.data!==void 0&&jw(t,r,r.refetchOnMount)}function jw(t,r,s){if(Va(r.enabled,t)!==!1){const n=typeof s=="function"?s(t):s;return n==="always"||n!==!1&&G2(t,r)}return!1}function a_(t,r,s,n){return(t!==r||Va(n.enabled,t)===!1)&&(!s.suspense||t.state.status!=="error")&&G2(t,s)}function G2(t,r){return Va(r.enabled,t)!==!1&&t.isStaleByTime(Id(r.staleTime,t))}function vQ(t,r){return!Ug(t.getCurrentResult(),r)}var Jl,eo,Cn,Ji,ul,ng,bw,sM,yQ=(sM=class extends sm{constructor(s,n){super();wt(this,ul);wt(this,Jl);wt(this,eo);wt(this,Cn);wt(this,Ji);lt(this,Jl,s),this.setOptions(n),this.bindMethods(),Qt(this,ul,ng).call(this)}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(s){var a;const n=this.options;this.options=ie(this,Jl).defaultMutationOptions(s),Ug(this.options,n)||ie(this,Jl).getMutationCache().notify({type:"observerOptionsUpdated",mutation:ie(this,Cn),observer:this}),n!=null&&n.mutationKey&&this.options.mutationKey&&Nc(n.mutationKey)!==Nc(this.options.mutationKey)?this.reset():((a=ie(this,Cn))==null?void 0:a.state.status)==="pending"&&ie(this,Cn).setOptions(this.options)}onUnsubscribe(){var s;this.hasListeners()||(s=ie(this,Cn))==null||s.removeObserver(this)}onMutationUpdate(s){Qt(this,ul,ng).call(this),Qt(this,ul,bw).call(this,s)}getCurrentResult(){return ie(this,eo)}reset(){var s;(s=ie(this,Cn))==null||s.removeObserver(this),lt(this,Cn,void 0),Qt(this,ul,ng).call(this),Qt(this,ul,bw).call(this)}mutate(s,n){var a;return lt(this,Ji,n),(a=ie(this,Cn))==null||a.removeObserver(this),lt(this,Cn,ie(this,Jl).getMutationCache().build(ie(this,Jl),this.options)),ie(this,Cn).addObserver(this),ie(this,Cn).execute(s)}},Jl=new WeakMap,eo=new WeakMap,Cn=new WeakMap,Ji=new WeakMap,ul=new WeakSet,ng=function(){var n;const s=((n=ie(this,Cn))==null?void 0:n.state)??NF();lt(this,eo,{...s,isPending:s.status==="pending",isSuccess:s.status==="success",isError:s.status==="error",isIdle:s.status==="idle",mutate:this.mutate,reset:this.reset})},bw=function(s){ys.batch(()=>{var n,a,i,l,o,c,d,u;if(ie(this,Ji)&&this.hasListeners()){const m=ie(this,eo).variables,h=ie(this,eo).context;(s==null?void 0:s.type)==="success"?((a=(n=ie(this,Ji)).onSuccess)==null||a.call(n,s.data,m,h),(l=(i=ie(this,Ji)).onSettled)==null||l.call(i,s.data,null,m,h)):(s==null?void 0:s.type)==="error"&&((c=(o=ie(this,Ji)).onError)==null||c.call(o,s.error,m,h),(u=(d=ie(this,Ji)).onSettled)==null||u.call(d,void 0,s.error,m,h))}this.listeners.forEach(m=>{m(ie(this,eo))})})},sM),SF=j.createContext(void 0),Sl=t=>{const r=j.useContext(SF);if(!r)throw new Error("No QueryClient set, use QueryClientProvider to set one");return r},jQ=({client:t,children:r})=>(j.useEffect(()=>(t.mount(),()=>{t.unmount()}),[t]),e.jsx(SF.Provider,{value:t,children:r})),CF=j.createContext(!1),bQ=()=>j.useContext(CF);CF.Provider;function NQ(){let t=!1;return{clearReset:()=>{t=!1},reset:()=>{t=!0},isReset:()=>t}}var wQ=j.createContext(NQ()),SQ=()=>j.useContext(wQ);function PF(t,r){return typeof t=="function"?t(...r):!!t}function Nw(){}var CQ=(t,r)=>{(t.suspense||t.throwOnError||t.experimental_prefetchInRender)&&(r.isReset()||(t.retryOnMount=!1))},PQ=t=>{j.useEffect(()=>{t.clearReset()},[t])},kQ=({result:t,errorResetBoundary:r,throwOnError:s,query:n})=>t.isError&&!r.isReset()&&!t.isFetching&&n&&PF(s,[t.error,n]),AQ=t=>{t.suspense&&(t.staleTime===void 0&&(t.staleTime=1e3),typeof t.gcTime=="number"&&(t.gcTime=Math.max(t.gcTime,1e3)))},_Q=(t,r)=>t.isLoading&&t.isFetching&&!r,TQ=(t,r)=>(t==null?void 0:t.suspense)&&r.isPending,i_=(t,r,s)=>r.fetchOptimistic(t).catch(()=>{s.clearReset()});function OQ(t,r,s){var u,m,h,g,f;const n=Sl(),a=bQ(),i=SQ(),l=n.defaultQueryOptions(t);(m=(u=n.getDefaultOptions().queries)==null?void 0:u._experimental_beforeQuery)==null||m.call(u,l),l._optimisticResults=a?"isRestoring":"optimistic",AQ(l),CQ(l,i),PQ(i);const o=!n.getQueryCache().get(l.queryHash),[c]=j.useState(()=>new r(n,l)),d=c.getOptimisticResult(l);if(j.useSyncExternalStore(j.useCallback(p=>{const y=a?Nw:c.subscribe(ys.batchCalls(p));return c.updateResult(),y},[c,a]),()=>c.getCurrentResult(),()=>c.getCurrentResult()),j.useEffect(()=>{c.setOptions(l,{listeners:!1})},[l,c]),TQ(l,d))throw i_(l,c,i);if(kQ({result:d,errorResetBoundary:i,throwOnError:l.throwOnError,query:n.getQueryCache().get(l.queryHash)}))throw d.error;if((g=(h=n.getDefaultOptions().queries)==null?void 0:h._experimental_afterQuery)==null||g.call(h,l,d),l.experimental_prefetchInRender&&!bc&&_Q(d,a)){const p=o?i_(l,c,i):(f=n.getQueryCache().get(l.queryHash))==null?void 0:f.promise;p==null||p.catch(Nw).finally(()=>{c.updateResult()})}return l.notifyOnChangeProps?d:c.trackResult(d)}function fe(t,r){return OQ(t,xQ)}function Se(t,r){const s=Sl(),[n]=j.useState(()=>new yQ(s,t));j.useEffect(()=>{n.setOptions(t)},[n,t]);const a=j.useSyncExternalStore(j.useCallback(l=>n.subscribe(ys.batchCalls(l)),[n]),()=>n.getCurrentResult(),()=>n.getCurrentResult()),i=j.useCallback((l,o)=>{n.mutate(l,o).catch(Nw)},[n]);if(a.error&&PF(n.options.throwOnError,[a.error]))throw a.error;return{...a,mutate:i,mutateAsync:a.mutate}}async function kF(t){if(!t.ok){let r=t.statusText;try{const s=t.headers.get("content-type");if(s&&s.includes("application/json")){const n=await t.json();r=n.error||n.message||t.statusText}else r=await t.text()||t.statusText}catch{r=t.statusText}throw new Error(`${t.status}: ${r}`)}}async function le(t,r,s){const n=await fetch(r,{method:t,headers:s?{"Content-Type":"application/json"}:{},body:s?JSON.stringify(s):void 0,credentials:"include"});return await kF(n),n}const AF=({on401:t})=>async({queryKey:r})=>{const s=await fetch(r[0],{credentials:"include"});if(t==="returnNull"&&s.status===401||(await kF(s),s.headers.get("content-length")==="0"))return null;const a=s.headers.get("content-type");if(a&&a.includes("application/json"))try{const i=await s.text();return i.trim()?JSON.parse(i):null}catch(i){throw console.error("JSON parsing error in queryClient:",i),console.error("Response text that failed to parse:",await s.text()),new Error(`Failed to parse JSON response: ${i.message}`)}return null},pe=new fQ({defaultOptions:{queries:{queryFn:AF({on401:"throw"}),refetchInterval:!1,refetchOnWindowFocus:!1,staleTime:1/0,retry:!1},mutations:{retry:!1}}}),EQ=1,DQ=1e6;let r0=0;function MQ(){return r0=(r0+1)%Number.MAX_SAFE_INTEGER,r0.toString()}const s0=new Map,l_=t=>{if(s0.has(t))return;const r=setTimeout(()=>{s0.delete(t),Th({type:"REMOVE_TOAST",toastId:t})},DQ);s0.set(t,r)},IQ=(t,r)=>{switch(r.type){case"ADD_TOAST":return{...t,toasts:[r.toast,...t.toasts].slice(0,EQ)};case"UPDATE_TOAST":return{...t,toasts:t.toasts.map(s=>s.id===r.toast.id?{...s,...r.toast}:s)};case"DISMISS_TOAST":{const{toastId:s}=r;return s?l_(s):t.toasts.forEach(n=>{l_(n.id)}),{...t,toasts:t.toasts.map(n=>n.id===s||s===void 0?{...n,open:!1}:n)}}case"REMOVE_TOAST":return r.toastId===void 0?{...t,toasts:[]}:{...t,toasts:t.toasts.filter(s=>s.id!==r.toastId)}}},ag=[];let ig={toasts:[]};function Th(t){ig=IQ(ig,t),ag.forEach(r=>{r(ig)})}function RQ({...t}){const r=MQ(),s=a=>Th({type:"UPDATE_TOAST",toast:{...a,id:r}}),n=()=>Th({type:"DISMISS_TOAST",toastId:r});return Th({type:"ADD_TOAST",toast:{...t,id:r,open:!0,onOpenChange:a=>{a||n()}}}),{id:r,dismiss:n,update:s}}function Be(){const[t,r]=j.useState(ig);return j.useEffect(()=>(ag.push(r),()=>{const s=ag.indexOf(r);s>-1&&ag.splice(s,1)}),[t]),{...t,toast:RQ,dismiss:s=>Th({type:"DISMISS_TOAST",toastId:s})}}function He(t,r,{checkForDefaultPrevented:s=!0}={}){return function(a){if(t==null||t(a),s===!1||!a.defaultPrevented)return r==null?void 0:r(a)}}function FQ(t,r){typeof t=="function"?t(r):t!=null&&(t.current=r)}function Qy(...t){return r=>t.forEach(s=>FQ(s,r))}function Lt(...t){return j.useCallback(Qy(...t),t)}function $Q(t,r=[]){let s=[];function n(i,l){const o=j.createContext(l),c=s.length;s=[...s,l];function d(m){const{scope:h,children:g,...f}=m,p=(h==null?void 0:h[t][c])||o,y=j.useMemo(()=>f,Object.values(f));return e.jsx(p.Provider,{value:y,children:g})}function u(m,h){const g=(h==null?void 0:h[t][c])||o,f=j.useContext(g);if(f)return f;if(l!==void 0)return l;throw new Error(`\`${m}\` must be used within \`${i}\``)}return d.displayName=i+"Provider",[d,u]}const a=()=>{const i=s.map(l=>j.createContext(l));return function(o){const c=(o==null?void 0:o[t])||i;return j.useMemo(()=>({[`__scope${t}`]:{...o,[t]:c}}),[o,c])}};return a.scopeName=t,[n,LQ(a,...r)]}function LQ(...t){const r=t[0];if(t.length===1)return r;const s=()=>{const n=t.map(a=>({useScope:a(),scopeName:a.scopeName}));return function(i){const l=n.reduce((o,{useScope:c,scopeName:d})=>{const m=c(i)[`__scope${d}`];return{...o,...m}},{});return j.useMemo(()=>({[`__scope${r.scopeName}`]:l}),[l])}};return s.scopeName=r.scopeName,s}var Oi=j.forwardRef((t,r)=>{const{children:s,...n}=t,a=j.Children.toArray(s),i=a.find(BQ);if(i){const l=i.props.children,o=a.map(c=>c===i?j.Children.count(l)>1?j.Children.only(null):j.isValidElement(l)?l.props.children:null:c);return e.jsx(ww,{...n,ref:r,children:j.isValidElement(l)?j.cloneElement(l,void 0,o):null})}return e.jsx(ww,{...n,ref:r,children:s})});Oi.displayName="Slot";var ww=j.forwardRef((t,r)=>{const{children:s,...n}=t;if(j.isValidElement(s)){const a=UQ(s);return j.cloneElement(s,{...VQ(n,s.props),ref:r?Qy(r,a):a})}return j.Children.count(s)>1?j.Children.only(null):null});ww.displayName="SlotClone";var _F=({children:t})=>e.jsx(e.Fragment,{children:t});function BQ(t){return j.isValidElement(t)&&t.type===_F}function VQ(t,r){const s={...r};for(const n in r){const a=t[n],i=r[n];/^on[A-Z]/.test(n)?a&&i?s[n]=(...o)=>{i(...o),a(...o)}:a&&(s[n]=a):n==="style"?s[n]={...a,...i}:n==="className"&&(s[n]=[a,i].filter(Boolean).join(" "))}return{...t,...s}}function UQ(t){var n,a;let r=(n=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:n.get,s=r&&"isReactWarning"in r&&r.isReactWarning;return s?t.ref:(r=(a=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:a.get,s=r&&"isReactWarning"in r&&r.isReactWarning,s?t.props.ref:t.props.ref||t.ref)}function gf(t){const r=t+"CollectionProvider",[s,n]=$Q(r),[a,i]=s(r,{collectionRef:{current:null},itemMap:new Map}),l=g=>{const{scope:f,children:p}=g,y=G.useRef(null),v=G.useRef(new Map).current;return e.jsx(a,{scope:f,itemMap:v,collectionRef:y,children:p})};l.displayName=r;const o=t+"CollectionSlot",c=G.forwardRef((g,f)=>{const{scope:p,children:y}=g,v=i(o,p),x=Lt(f,v.collectionRef);return e.jsx(Oi,{ref:x,children:y})});c.displayName=o;const d=t+"CollectionItemSlot",u="data-radix-collection-item",m=G.forwardRef((g,f)=>{const{scope:p,children:y,...v}=g,x=G.useRef(null),b=Lt(f,x),N=i(d,p);return G.useEffect(()=>(N.itemMap.set(x,{ref:x,...v}),()=>void N.itemMap.delete(x))),e.jsx(Oi,{[u]:"",ref:b,children:y})});m.displayName=d;function h(g){const f=i(t+"CollectionConsumer",g);return G.useCallback(()=>{const y=f.collectionRef.current;if(!y)return[];const v=Array.from(y.querySelectorAll(`[${u}]`));return Array.from(f.itemMap.values()).sort((N,w)=>v.indexOf(N.ref.current)-v.indexOf(w.ref.current))},[f.collectionRef,f.itemMap])}return[{Provider:l,Slot:c,ItemSlot:m},h,n]}function qQ(t,r){const s=j.createContext(r),n=i=>{const{children:l,...o}=i,c=j.useMemo(()=>o,Object.values(o));return e.jsx(s.Provider,{value:c,children:l})};n.displayName=t+"Provider";function a(i){const l=j.useContext(s);if(l)return l;if(r!==void 0)return r;throw new Error(`\`${i}\` must be used within \`${t}\``)}return[n,a]}function rn(t,r=[]){let s=[];function n(i,l){const o=j.createContext(l),c=s.length;s=[...s,l];const d=m=>{var v;const{scope:h,children:g,...f}=m,p=((v=h==null?void 0:h[t])==null?void 0:v[c])||o,y=j.useMemo(()=>f,Object.values(f));return e.jsx(p.Provider,{value:y,children:g})};d.displayName=i+"Provider";function u(m,h){var p;const g=((p=h==null?void 0:h[t])==null?void 0:p[c])||o,f=j.useContext(g);if(f)return f;if(l!==void 0)return l;throw new Error(`\`${m}\` must be used within \`${i}\``)}return[d,u]}const a=()=>{const i=s.map(l=>j.createContext(l));return function(o){const c=(o==null?void 0:o[t])||i;return j.useMemo(()=>({[`__scope${t}`]:{...o,[t]:c}}),[o,c])}};return a.scopeName=t,[n,zQ(a,...r)]}function zQ(...t){const r=t[0];if(t.length===1)return r;const s=()=>{const n=t.map(a=>({useScope:a(),scopeName:a.scopeName}));return function(i){const l=n.reduce((o,{useScope:c,scopeName:d})=>{const m=c(i)[`__scope${d}`];return{...o,...m}},{});return j.useMemo(()=>({[`__scope${r.scopeName}`]:l}),[l])}};return s.scopeName=r.scopeName,s}var KQ=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],ct=KQ.reduce((t,r)=>{const s=j.forwardRef((n,a)=>{const{asChild:i,...l}=n,o=i?Oi:r;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),e.jsx(o,{...l,ref:a})});return s.displayName=`Primitive.${r}`,{...t,[r]:s}},{});function Y2(t,r){t&&Lc.flushSync(()=>t.dispatchEvent(r))}function Hr(t){const r=j.useRef(t);return j.useEffect(()=>{r.current=t}),j.useMemo(()=>(...s)=>{var n;return(n=r.current)==null?void 0:n.call(r,...s)},[])}function HQ(t,r=globalThis==null?void 0:globalThis.document){const s=Hr(t);j.useEffect(()=>{const n=a=>{a.key==="Escape"&&s(a)};return r.addEventListener("keydown",n,{capture:!0}),()=>r.removeEventListener("keydown",n,{capture:!0})},[s,r])}var WQ="DismissableLayer",Sw="dismissableLayer.update",GQ="dismissableLayer.pointerDownOutside",YQ="dismissableLayer.focusOutside",o_,TF=j.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),nm=j.forwardRef((t,r)=>{const{disableOutsidePointerEvents:s=!1,onEscapeKeyDown:n,onPointerDownOutside:a,onFocusOutside:i,onInteractOutside:l,onDismiss:o,...c}=t,d=j.useContext(TF),[u,m]=j.useState(null),h=(u==null?void 0:u.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,g]=j.useState({}),f=Lt(r,P=>m(P)),p=Array.from(d.layers),[y]=[...d.layersWithOutsidePointerEventsDisabled].slice(-1),v=p.indexOf(y),x=u?p.indexOf(u):-1,b=d.layersWithOutsidePointerEventsDisabled.size>0,N=x>=v,w=XQ(P=>{const S=P.target,A=[...d.branches].some(k=>k.contains(S));!N||A||(a==null||a(P),l==null||l(P),P.defaultPrevented||o==null||o())},h),C=ZQ(P=>{const S=P.target;[...d.branches].some(k=>k.contains(S))||(i==null||i(P),l==null||l(P),P.defaultPrevented||o==null||o())},h);return HQ(P=>{x===d.layers.size-1&&(n==null||n(P),!P.defaultPrevented&&o&&(P.preventDefault(),o()))},h),j.useEffect(()=>{if(u)return s&&(d.layersWithOutsidePointerEventsDisabled.size===0&&(o_=h.body.style.pointerEvents,h.body.style.pointerEvents="none"),d.layersWithOutsidePointerEventsDisabled.add(u)),d.layers.add(u),c_(),()=>{s&&d.layersWithOutsidePointerEventsDisabled.size===1&&(h.body.style.pointerEvents=o_)}},[u,h,s,d]),j.useEffect(()=>()=>{u&&(d.layers.delete(u),d.layersWithOutsidePointerEventsDisabled.delete(u),c_())},[u,d]),j.useEffect(()=>{const P=()=>g({});return document.addEventListener(Sw,P),()=>document.removeEventListener(Sw,P)},[]),e.jsx(ct.div,{...c,ref:f,style:{pointerEvents:b?N?"auto":"none":void 0,...t.style},onFocusCapture:He(t.onFocusCapture,C.onFocusCapture),onBlurCapture:He(t.onBlurCapture,C.onBlurCapture),onPointerDownCapture:He(t.onPointerDownCapture,w.onPointerDownCapture)})});nm.displayName=WQ;var QQ="DismissableLayerBranch",OF=j.forwardRef((t,r)=>{const s=j.useContext(TF),n=j.useRef(null),a=Lt(r,n);return j.useEffect(()=>{const i=n.current;if(i)return s.branches.add(i),()=>{s.branches.delete(i)}},[s.branches]),e.jsx(ct.div,{...t,ref:a})});OF.displayName=QQ;function XQ(t,r=globalThis==null?void 0:globalThis.document){const s=Hr(t),n=j.useRef(!1),a=j.useRef(()=>{});return j.useEffect(()=>{const i=o=>{if(o.target&&!n.current){let c=function(){EF(GQ,s,d,{discrete:!0})};const d={originalEvent:o};o.pointerType==="touch"?(r.removeEventListener("click",a.current),a.current=c,r.addEventListener("click",a.current,{once:!0})):c()}else r.removeEventListener("click",a.current);n.current=!1},l=window.setTimeout(()=>{r.addEventListener("pointerdown",i)},0);return()=>{window.clearTimeout(l),r.removeEventListener("pointerdown",i),r.removeEventListener("click",a.current)}},[r,s]),{onPointerDownCapture:()=>n.current=!0}}function ZQ(t,r=globalThis==null?void 0:globalThis.document){const s=Hr(t),n=j.useRef(!1);return j.useEffect(()=>{const a=i=>{i.target&&!n.current&&EF(YQ,s,{originalEvent:i},{discrete:!1})};return r.addEventListener("focusin",a),()=>r.removeEventListener("focusin",a)},[r,s]),{onFocusCapture:()=>n.current=!0,onBlurCapture:()=>n.current=!1}}function c_(){const t=new CustomEvent(Sw);document.dispatchEvent(t)}function EF(t,r,s,{discrete:n}){const a=s.originalEvent.target,i=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:s});r&&a.addEventListener(t,r,{once:!0}),n?Y2(a,i):a.dispatchEvent(i)}var JQ=nm,eX=OF,fs=globalThis!=null&&globalThis.document?j.useLayoutEffect:()=>{},tX="Portal",am=j.forwardRef((t,r)=>{var o;const{container:s,...n}=t,[a,i]=j.useState(!1);fs(()=>i(!0),[]);const l=s||a&&((o=globalThis==null?void 0:globalThis.document)==null?void 0:o.body);return l?CY.createPortal(e.jsx(ct.div,{...n,ref:r}),l):null});am.displayName=tX;function rX(t,r){return j.useReducer((s,n)=>r[s][n]??s,t)}var ks=t=>{const{present:r,children:s}=t,n=sX(r),a=typeof s=="function"?s({present:n.isPresent}):j.Children.only(s),i=Lt(n.ref,nX(a));return typeof s=="function"||n.isPresent?j.cloneElement(a,{ref:i}):null};ks.displayName="Presence";function sX(t){const[r,s]=j.useState(),n=j.useRef({}),a=j.useRef(t),i=j.useRef("none"),l=t?"mounted":"unmounted",[o,c]=rX(l,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return j.useEffect(()=>{const d=fx(n.current);i.current=o==="mounted"?d:"none"},[o]),fs(()=>{const d=n.current,u=a.current;if(u!==t){const h=i.current,g=fx(d);t?c("MOUNT"):g==="none"||(d==null?void 0:d.display)==="none"?c("UNMOUNT"):c(u&&h!==g?"ANIMATION_OUT":"UNMOUNT"),a.current=t}},[t,c]),fs(()=>{if(r){let d;const u=r.ownerDocument.defaultView??window,m=g=>{const p=fx(n.current).includes(g.animationName);if(g.target===r&&p&&(c("ANIMATION_END"),!a.current)){const y=r.style.animationFillMode;r.style.animationFillMode="forwards",d=u.setTimeout(()=>{r.style.animationFillMode==="forwards"&&(r.style.animationFillMode=y)})}},h=g=>{g.target===r&&(i.current=fx(n.current))};return r.addEventListener("animationstart",h),r.addEventListener("animationcancel",m),r.addEventListener("animationend",m),()=>{u.clearTimeout(d),r.removeEventListener("animationstart",h),r.removeEventListener("animationcancel",m),r.removeEventListener("animationend",m)}}else c("ANIMATION_END")},[r,c]),{isPresent:["mounted","unmountSuspended"].includes(o),ref:j.useCallback(d=>{d&&(n.current=getComputedStyle(d)),s(d)},[])}}function fx(t){return(t==null?void 0:t.animationName)||"none"}function nX(t){var n,a;let r=(n=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:n.get,s=r&&"isReactWarning"in r&&r.isReactWarning;return s?t.ref:(r=(a=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:a.get,s=r&&"isReactWarning"in r&&r.isReactWarning,s?t.props.ref:t.props.ref||t.ref)}function Fn({prop:t,defaultProp:r,onChange:s=()=>{}}){const[n,a]=aX({defaultProp:r,onChange:s}),i=t!==void 0,l=i?t:n,o=Hr(s),c=j.useCallback(d=>{if(i){const m=typeof d=="function"?d(t):d;m!==t&&o(m)}else a(d)},[i,t,a,o]);return[l,c]}function aX({defaultProp:t,onChange:r}){const s=j.useState(t),[n]=s,a=j.useRef(n),i=Hr(r);return j.useEffect(()=>{a.current!==n&&(i(n),a.current=n)},[n,a,i]),s}var iX="VisuallyHidden",Xy=j.forwardRef((t,r)=>e.jsx(ct.span,{...t,ref:r,style:{position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal",...t.style}}));Xy.displayName=iX;var Q2="ToastProvider",[X2,lX,oX]=gf("Toast"),[DF,iFe]=rn("Toast",[oX]),[cX,Zy]=DF(Q2),MF=t=>{const{__scopeToast:r,label:s="Notification",duration:n=5e3,swipeDirection:a="right",swipeThreshold:i=50,children:l}=t,[o,c]=j.useState(null),[d,u]=j.useState(0),m=j.useRef(!1),h=j.useRef(!1);return s.trim()||console.error(`Invalid prop \`label\` supplied to \`${Q2}\`. Expected non-empty \`string\`.`),e.jsx(X2.Provider,{scope:r,children:e.jsx(cX,{scope:r,label:s,duration:n,swipeDirection:a,swipeThreshold:i,toastCount:d,viewport:o,onViewportChange:c,onToastAdd:j.useCallback(()=>u(g=>g+1),[]),onToastRemove:j.useCallback(()=>u(g=>g-1),[]),isFocusedToastEscapeKeyDownRef:m,isClosePausedRef:h,children:l})})};MF.displayName=Q2;var IF="ToastViewport",dX=["F8"],Cw="toast.viewportPause",Pw="toast.viewportResume",RF=j.forwardRef((t,r)=>{const{__scopeToast:s,hotkey:n=dX,label:a="Notifications ({hotkey})",...i}=t,l=Zy(IF,s),o=lX(s),c=j.useRef(null),d=j.useRef(null),u=j.useRef(null),m=j.useRef(null),h=Lt(r,m,l.onViewportChange),g=n.join("+").replace(/Key/g,"").replace(/Digit/g,""),f=l.toastCount>0;j.useEffect(()=>{const y=v=>{var b;n.length!==0&&n.every(N=>v[N]||v.code===N)&&((b=m.current)==null||b.focus())};return document.addEventListener("keydown",y),()=>document.removeEventListener("keydown",y)},[n]),j.useEffect(()=>{const y=c.current,v=m.current;if(f&&y&&v){const x=()=>{if(!l.isClosePausedRef.current){const C=new CustomEvent(Cw);v.dispatchEvent(C),l.isClosePausedRef.current=!0}},b=()=>{if(l.isClosePausedRef.current){const C=new CustomEvent(Pw);v.dispatchEvent(C),l.isClosePausedRef.current=!1}},N=C=>{!y.contains(C.relatedTarget)&&b()},w=()=>{y.contains(document.activeElement)||b()};return y.addEventListener("focusin",x),y.addEventListener("focusout",N),y.addEventListener("pointermove",x),y.addEventListener("pointerleave",w),window.addEventListener("blur",x),window.addEventListener("focus",b),()=>{y.removeEventListener("focusin",x),y.removeEventListener("focusout",N),y.removeEventListener("pointermove",x),y.removeEventListener("pointerleave",w),window.removeEventListener("blur",x),window.removeEventListener("focus",b)}}},[f,l.isClosePausedRef]);const p=j.useCallback(({tabbingDirection:y})=>{const x=o().map(b=>{const N=b.ref.current,w=[N,...wX(N)];return y==="forwards"?w:w.reverse()});return(y==="forwards"?x.reverse():x).flat()},[o]);return j.useEffect(()=>{const y=m.current;if(y){const v=x=>{var w,C,P;const b=x.altKey||x.ctrlKey||x.metaKey;if(x.key==="Tab"&&!b){const S=document.activeElement,A=x.shiftKey;if(x.target===y&&A){(w=d.current)==null||w.focus();return}const L=p({tabbingDirection:A?"backwards":"forwards"}),K=L.findIndex(R=>R===S);n0(L.slice(K+1))?x.preventDefault():A?(C=d.current)==null||C.focus():(P=u.current)==null||P.focus()}};return y.addEventListener("keydown",v),()=>y.removeEventListener("keydown",v)}},[o,p]),e.jsxs(eX,{ref:c,role:"region","aria-label":a.replace("{hotkey}",g),tabIndex:-1,style:{pointerEvents:f?void 0:"none"},children:[f&&e.jsx(kw,{ref:d,onFocusFromOutsideViewport:()=>{const y=p({tabbingDirection:"forwards"});n0(y)}}),e.jsx(X2.Slot,{scope:s,children:e.jsx(ct.ol,{tabIndex:-1,...i,ref:h})}),f&&e.jsx(kw,{ref:u,onFocusFromOutsideViewport:()=>{const y=p({tabbingDirection:"backwards"});n0(y)}})]})});RF.displayName=IF;var FF="ToastFocusProxy",kw=j.forwardRef((t,r)=>{const{__scopeToast:s,onFocusFromOutsideViewport:n,...a}=t,i=Zy(FF,s);return e.jsx(Xy,{"aria-hidden":!0,tabIndex:0,...a,ref:r,style:{position:"fixed"},onFocus:l=>{var d;const o=l.relatedTarget;!((d=i.viewport)!=null&&d.contains(o))&&n()}})});kw.displayName=FF;var Jy="Toast",uX="toast.swipeStart",mX="toast.swipeMove",hX="toast.swipeCancel",pX="toast.swipeEnd",$F=j.forwardRef((t,r)=>{const{forceMount:s,open:n,defaultOpen:a,onOpenChange:i,...l}=t,[o=!0,c]=Fn({prop:n,defaultProp:a,onChange:i});return e.jsx(ks,{present:s||o,children:e.jsx(gX,{open:o,...l,ref:r,onClose:()=>c(!1),onPause:Hr(t.onPause),onResume:Hr(t.onResume),onSwipeStart:He(t.onSwipeStart,d=>{d.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:He(t.onSwipeMove,d=>{const{x:u,y:m}=d.detail.delta;d.currentTarget.setAttribute("data-swipe","move"),d.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${u}px`),d.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${m}px`)}),onSwipeCancel:He(t.onSwipeCancel,d=>{d.currentTarget.setAttribute("data-swipe","cancel"),d.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),d.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),d.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),d.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:He(t.onSwipeEnd,d=>{const{x:u,y:m}=d.detail.delta;d.currentTarget.setAttribute("data-swipe","end"),d.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),d.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),d.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${u}px`),d.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${m}px`),c(!1)})})})});$F.displayName=Jy;var[fX,xX]=DF(Jy,{onClose(){}}),gX=j.forwardRef((t,r)=>{const{__scopeToast:s,type:n="foreground",duration:a,open:i,onClose:l,onEscapeKeyDown:o,onPause:c,onResume:d,onSwipeStart:u,onSwipeMove:m,onSwipeCancel:h,onSwipeEnd:g,...f}=t,p=Zy(Jy,s),[y,v]=j.useState(null),x=Lt(r,R=>v(R)),b=j.useRef(null),N=j.useRef(null),w=a||p.duration,C=j.useRef(0),P=j.useRef(w),S=j.useRef(0),{onToastAdd:A,onToastRemove:k}=p,I=Hr(()=>{var F;(y==null?void 0:y.contains(document.activeElement))&&((F=p.viewport)==null||F.focus()),l()}),L=j.useCallback(R=>{!R||R===1/0||(window.clearTimeout(S.current),C.current=new Date().getTime(),S.current=window.setTimeout(I,R))},[I]);j.useEffect(()=>{const R=p.viewport;if(R){const F=()=>{L(P.current),d==null||d()},W=()=>{const Q=new Date().getTime()-C.current;P.current=P.current-Q,window.clearTimeout(S.current),c==null||c()};return R.addEventListener(Cw,W),R.addEventListener(Pw,F),()=>{R.removeEventListener(Cw,W),R.removeEventListener(Pw,F)}}},[p.viewport,w,c,d,L]),j.useEffect(()=>{i&&!p.isClosePausedRef.current&&L(w)},[i,w,p.isClosePausedRef,L]),j.useEffect(()=>(A(),()=>k()),[A,k]);const K=j.useMemo(()=>y?KF(y):null,[y]);return p.viewport?e.jsxs(e.Fragment,{children:[K&&e.jsx(vX,{__scopeToast:s,role:"status","aria-live":n==="foreground"?"assertive":"polite","aria-atomic":!0,children:K}),e.jsx(fX,{scope:s,onClose:I,children:Lc.createPortal(e.jsx(X2.ItemSlot,{scope:s,children:e.jsx(JQ,{asChild:!0,onEscapeKeyDown:He(o,()=>{p.isFocusedToastEscapeKeyDownRef.current||I(),p.isFocusedToastEscapeKeyDownRef.current=!1}),children:e.jsx(ct.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":i?"open":"closed","data-swipe-direction":p.swipeDirection,...f,ref:x,style:{userSelect:"none",touchAction:"none",...t.style},onKeyDown:He(t.onKeyDown,R=>{R.key==="Escape"&&(o==null||o(R.nativeEvent),R.nativeEvent.defaultPrevented||(p.isFocusedToastEscapeKeyDownRef.current=!0,I()))}),onPointerDown:He(t.onPointerDown,R=>{R.button===0&&(b.current={x:R.clientX,y:R.clientY})}),onPointerMove:He(t.onPointerMove,R=>{if(!b.current)return;const F=R.clientX-b.current.x,W=R.clientY-b.current.y,Q=!!N.current,H=["left","right"].includes(p.swipeDirection),Z=["left","up"].includes(p.swipeDirection)?Math.min:Math.max,me=H?Z(0,F):0,Ne=H?0:Z(0,W),te=R.pointerType==="touch"?10:2,Ie={x:me,y:Ne},Te={originalEvent:R,delta:Ie};Q?(N.current=Ie,xx(mX,m,Te,{discrete:!1})):d_(Ie,p.swipeDirection,te)?(N.current=Ie,xx(uX,u,Te,{discrete:!1}),R.target.setPointerCapture(R.pointerId)):(Math.abs(F)>te||Math.abs(W)>te)&&(b.current=null)}),onPointerUp:He(t.onPointerUp,R=>{const F=N.current,W=R.target;if(W.hasPointerCapture(R.pointerId)&&W.releasePointerCapture(R.pointerId),N.current=null,b.current=null,F){const Q=R.currentTarget,H={originalEvent:R,delta:F};d_(F,p.swipeDirection,p.swipeThreshold)?xx(pX,g,H,{discrete:!0}):xx(hX,h,H,{discrete:!0}),Q.addEventListener("click",Z=>Z.preventDefault(),{once:!0})}})})})}),p.viewport)})]}):null}),vX=t=>{const{__scopeToast:r,children:s,...n}=t,a=Zy(Jy,r),[i,l]=j.useState(!1),[o,c]=j.useState(!1);return bX(()=>l(!0)),j.useEffect(()=>{const d=window.setTimeout(()=>c(!0),1e3);return()=>window.clearTimeout(d)},[]),o?null:e.jsx(am,{asChild:!0,children:e.jsx(Xy,{...n,children:i&&e.jsxs(e.Fragment,{children:[a.label," ",s]})})})},yX="ToastTitle",LF=j.forwardRef((t,r)=>{const{__scopeToast:s,...n}=t;return e.jsx(ct.div,{...n,ref:r})});LF.displayName=yX;var jX="ToastDescription",BF=j.forwardRef((t,r)=>{const{__scopeToast:s,...n}=t;return e.jsx(ct.div,{...n,ref:r})});BF.displayName=jX;var VF="ToastAction",UF=j.forwardRef((t,r)=>{const{altText:s,...n}=t;return s.trim()?e.jsx(zF,{altText:s,asChild:!0,children:e.jsx(Z2,{...n,ref:r})}):(console.error(`Invalid prop \`altText\` supplied to \`${VF}\`. Expected non-empty \`string\`.`),null)});UF.displayName=VF;var qF="ToastClose",Z2=j.forwardRef((t,r)=>{const{__scopeToast:s,...n}=t,a=xX(qF,s);return e.jsx(zF,{asChild:!0,children:e.jsx(ct.button,{type:"button",...n,ref:r,onClick:He(t.onClick,a.onClose)})})});Z2.displayName=qF;var zF=j.forwardRef((t,r)=>{const{__scopeToast:s,altText:n,...a}=t;return e.jsx(ct.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":n||void 0,...a,ref:r})});function KF(t){const r=[];return Array.from(t.childNodes).forEach(n=>{if(n.nodeType===n.TEXT_NODE&&n.textContent&&r.push(n.textContent),NX(n)){const a=n.ariaHidden||n.hidden||n.style.display==="none",i=n.dataset.radixToastAnnounceExclude==="";if(!a)if(i){const l=n.dataset.radixToastAnnounceAlt;l&&r.push(l)}else r.push(...KF(n))}}),r}function xx(t,r,s,{discrete:n}){const a=s.originalEvent.currentTarget,i=new CustomEvent(t,{bubbles:!0,cancelable:!0,detail:s});r&&a.addEventListener(t,r,{once:!0}),n?Y2(a,i):a.dispatchEvent(i)}var d_=(t,r,s=0)=>{const n=Math.abs(t.x),a=Math.abs(t.y),i=n>a;return r==="left"||r==="right"?i&&n>s:!i&&a>s};function bX(t=()=>{}){const r=Hr(t);fs(()=>{let s=0,n=0;return s=window.requestAnimationFrame(()=>n=window.requestAnimationFrame(r)),()=>{window.cancelAnimationFrame(s),window.cancelAnimationFrame(n)}},[r])}function NX(t){return t.nodeType===t.ELEMENT_NODE}function wX(t){const r=[],s=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const a=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||a?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;s.nextNode();)r.push(s.currentNode);return r}function n0(t){const r=document.activeElement;return t.some(s=>s===r?!0:(s.focus(),document.activeElement!==r))}var SX=MF,HF=RF,WF=$F,GF=LF,YF=BF,QF=UF,XF=Z2;function ZF(t){var r,s,n="";if(typeof t=="string"||typeof t=="number")n+=t;else if(typeof t=="object")if(Array.isArray(t))for(r=0;r<t.length;r++)t[r]&&(s=ZF(t[r]))&&(n&&(n+=" "),n+=s);else for(r in t)t[r]&&(n&&(n+=" "),n+=r);return n}function CX(){for(var t,r,s=0,n="";s<arguments.length;)(t=arguments[s++])&&(r=ZF(t))&&(n&&(n+=" "),n+=r);return n}const u_=t=>typeof t=="boolean"?"".concat(t):t===0?"0":t,m_=CX,im=(t,r)=>s=>{var n;if((r==null?void 0:r.variants)==null)return m_(t,s==null?void 0:s.class,s==null?void 0:s.className);const{variants:a,defaultVariants:i}=r,l=Object.keys(a).map(d=>{const u=s==null?void 0:s[d],m=i==null?void 0:i[d];if(u===null)return null;const h=u_(u)||u_(m);return a[d][h]}),o=s&&Object.entries(s).reduce((d,u)=>{let[m,h]=u;return h===void 0||(d[m]=h),d},{}),c=r==null||(n=r.compoundVariants)===null||n===void 0?void 0:n.reduce((d,u)=>{let{class:m,className:h,...g}=u;return Object.entries(g).every(f=>{let[p,y]=f;return Array.isArray(y)?y.includes({...i,...o}[p]):{...i,...o}[p]===y})?[...d,m,h]:d},[]);return m_(t,l,c,s==null?void 0:s.class,s==null?void 0:s.className)};/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PX=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),JF=(...t)=>t.filter((r,s,n)=>!!r&&n.indexOf(r)===s).join(" ");/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var kX={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AX=j.forwardRef(({color:t="currentColor",size:r=24,strokeWidth:s=2,absoluteStrokeWidth:n,className:a="",children:i,iconNode:l,...o},c)=>j.createElement("svg",{ref:c,...kX,width:r,height:r,stroke:t,strokeWidth:n?Number(s)*24/Number(r):s,className:JF("lucide",a),...o},[...l.map(([d,u])=>j.createElement(d,u)),...Array.isArray(i)?i:[i]]));/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pe=(t,r)=>{const s=j.forwardRef(({className:n,...a},i)=>j.createElement(AX,{ref:i,iconNode:r,className:JF(`lucide-${PX(t)}`,n),...a}));return s.displayName=`${t}`,s};/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _X=Pe("Activity",[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TX=Pe("ArrowDownLeft",[["path",{d:"M17 7 7 17",key:"15tmo1"}],["path",{d:"M17 17H7V7",key:"1org7z"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const is=Pe("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xa=Pe("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OX=Pe("ArrowUpRight",[["path",{d:"M7 7h10v10",key:"1tivn9"}],["path",{d:"M7 17 17 7",key:"1vkiza"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EX=Pe("Award",[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DX=Pe("Ban",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m4.9 4.9 14.2 14.2",key:"1m5liu"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const e$=Pe("Banknote",[["rect",{width:"20",height:"12",x:"2",y:"6",rx:"2",key:"9lu3g6"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}],["path",{d:"M6 12h.01M18 12h.01",key:"113zkx"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MX=Pe("BellOff",[["path",{d:"M8.7 3A6 6 0 0 1 18 8a21.3 21.3 0 0 0 .6 5",key:"o7mx20"}],["path",{d:"M17 17H3s3-2 3-9a4.67 4.67 0 0 1 .3-1.7",key:"16f1lm"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IX=Pe("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RX=Pe("BookOpen",[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FX=Pe("Boxes",[["path",{d:"M2.97 12.92A2 2 0 0 0 2 14.63v3.24a2 2 0 0 0 .97 1.71l3 1.8a2 2 0 0 0 2.06 0L12 19v-5.5l-5-3-4.03 2.42Z",key:"lc1i9w"}],["path",{d:"m7 16.5-4.74-2.85",key:"1o9zyk"}],["path",{d:"m7 16.5 5-3",key:"va8pkn"}],["path",{d:"M7 16.5v5.17",key:"jnp8gn"}],["path",{d:"M12 13.5V19l3.97 2.38a2 2 0 0 0 2.06 0l3-1.8a2 2 0 0 0 .97-1.71v-3.24a2 2 0 0 0-.97-1.71L17 10.5l-5 3Z",key:"8zsnat"}],["path",{d:"m17 16.5-5-3",key:"8arw3v"}],["path",{d:"m17 16.5 4.74-2.85",key:"8rfmw"}],["path",{d:"M17 16.5v5.17",key:"k6z78m"}],["path",{d:"M7.97 4.42A2 2 0 0 0 7 6.13v4.37l5 3 5-3V6.13a2 2 0 0 0-.97-1.71l-3-1.8a2 2 0 0 0-2.06 0l-3 1.8Z",key:"1xygjf"}],["path",{d:"M12 8 7.26 5.15",key:"1vbdud"}],["path",{d:"m12 8 4.74-2.85",key:"3rx089"}],["path",{d:"M12 13.5V8",key:"1io7kd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $X=Pe("Briefcase",[["path",{d:"M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"jecpp"}],["rect",{width:"20",height:"14",x:"2",y:"6",rx:"2",key:"i6l2r4"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const a0=Pe("Brush",[["path",{d:"m9.06 11.9 8.07-8.06a2.85 2.85 0 1 1 4.03 4.03l-8.06 8.08",key:"1styjt"}],["path",{d:"M7.07 14.94c-1.66 0-3 1.35-3 3.02 0 1.33-2.5 1.52-2 2.02 1.08 1.1 2.49 2.02 4 2.02 2.2 0 4-1.8 4-4.04a3.01 3.01 0 0 0-3-3.02z",key:"z0l1mu"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const J2=Pe("Building2",[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vn=Pe("Building",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",ry:"2",key:"76otgf"}],["path",{d:"M9 22v-4h6v4",key:"r93iot"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wi=Pe("Bus",[["path",{d:"M8 6v6",key:"18i7km"}],["path",{d:"M15 6v6",key:"1sg6z9"}],["path",{d:"M2 12h19.6",key:"de5uta"}],["path",{d:"M18 18h3s.5-1.7.8-2.8c.1-.4.2-.8.2-1.2 0-.4-.1-.8-.2-1.2l-1.4-5C20.1 6.8 19.1 6 18 6H4a2 2 0 0 0-2 2v10h3",key:"1wwztk"}],["circle",{cx:"7",cy:"18",r:"2",key:"19iecd"}],["path",{d:"M9 18h5",key:"lrx6i"}],["circle",{cx:"16",cy:"18",r:"2",key:"1v4tcr"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xt=Pe("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _t=Pe("Car",[["path",{d:"M19 17h2c.6 0 1-.4 1-1v-3c0-.9-.7-1.7-1.5-1.9C18.7 10.6 16 10 16 10s-1.3-1.4-2.2-2.3c-.5-.4-1.1-.7-1.8-.7H5c-.6 0-1.1.4-1.4.9l-1.4 2.9A3.7 3.7 0 0 0 2 12v4c0 .6.4 1 1 1h2",key:"5owen"}],["circle",{cx:"7",cy:"17",r:"2",key:"u2ysq9"}],["path",{d:"M9 17h6",key:"r8uit2"}],["circle",{cx:"17",cy:"17",r:"2",key:"axvx0g"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Aw=Pe("ChartColumn",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gx=Pe("ChartNoAxesColumnIncreasing",[["line",{x1:"12",x2:"12",y1:"20",y2:"10",key:"1vz5eb"}],["line",{x1:"18",x2:"18",y1:"20",y2:"4",key:"cun8e5"}],["line",{x1:"6",x2:"6",y1:"20",y2:"16",key:"hq0ia6"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Is=Pe("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ej=Pe("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ip=Pe("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xn=Pe("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LX=Pe("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nr=Pe("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ot=Pe("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const i0=Pe("CircleDollarSign",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M16 8h-6a2 2 0 1 0 0 4h4a2 2 0 1 1 0 4H8",key:"1h4pet"}],["path",{d:"M12 18V6",key:"zqpxq5"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eC=Pe("CirclePlus",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 12h8",key:"1wcyev"}],["path",{d:"M12 8v8",key:"napkw2"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mr=Pe("CircleX",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const t$=Pe("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zc=Pe("ClipboardList",[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"M12 11h4",key:"1jrz19"}],["path",{d:"M12 16h4",key:"n85exb"}],["path",{d:"M8 11h.01",key:"1dfujw"}],["path",{d:"M8 16h.01",key:"18s6g9"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gt=Pe("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BX=Pe("CloudDownload",[["path",{d:"M12 13v8l-4-4",key:"1f5nwf"}],["path",{d:"m12 21 4-4",key:"1lfcce"}],["path",{d:"M4.393 15.269A7 7 0 1 1 15.71 8h1.79a4.5 4.5 0 0 1 2.436 8.284",key:"ui1hmy"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ia=Pe("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qs=Pe("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VX=Pe("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UX=Pe("Ellipsis",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"19",cy:"12",r:"1",key:"1wjl8i"}],["circle",{cx:"5",cy:"12",r:"1",key:"1pcz8c"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lg=Pe("ExternalLink",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _w=Pe("EyeOff",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fr=Pe("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qX=Pe("FileCheck",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"m9 15 2 2 4-4",key:"1grp1n"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const r$=Pe("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const h_=Pe("FileVideo",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"m10 11 5 3-5 3v-6Z",key:"7ntvm4"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bc=Pe("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const go=Pe("Fuel",[["line",{x1:"3",x2:"15",y1:"22",y2:"22",key:"xegly4"}],["line",{x1:"4",x2:"14",y1:"9",y2:"9",key:"xcnuvu"}],["path",{d:"M14 22V4a2 2 0 0 0-2-2H6a2 2 0 0 0-2 2v18",key:"16j0yd"}],["path",{d:"M14 13h2a2 2 0 0 1 2 2v2a2 2 0 0 0 2 2a2 2 0 0 0 2-2V9.83a2 2 0 0 0-.59-1.42L18 5",key:"7cu91f"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const l0=Pe("Gem",[["path",{d:"M6 3h12l4 6-10 13L2 9Z",key:"1pcd5k"}],["path",{d:"M11 3 8 9l4 13 4-13-3-6",key:"1fcu3u"}],["path",{d:"M2 9h20",key:"16fsjt"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zg=Pe("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zX=Pe("Grid2x2",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 12h18",key:"1i2n21"}],["path",{d:"M12 3v18",key:"108xh3"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KX=Pe("Grid3x3",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"M15 3v18",key:"14nvp0"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const og=Pe("Handshake",[["path",{d:"m11 17 2 2a1 1 0 1 0 3-3",key:"efffak"}],["path",{d:"m14 14 2.5 2.5a1 1 0 1 0 3-3l-3.88-3.88a3 3 0 0 0-4.24 0l-.88.88a1 1 0 1 1-3-3l2.81-2.81a5.79 5.79 0 0 1 7.06-.87l.47.28a2 2 0 0 0 1.42.25L21 4",key:"9pr0kb"}],["path",{d:"m21 3 1 11h-2",key:"1tisrp"}],["path",{d:"M3 3 2 14l6.5 6.5a1 1 0 1 0 3-3",key:"1uvwmv"}],["path",{d:"M3 4h8",key:"1ep09j"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const o0=Pe("HardHat",[["path",{d:"M2 18a1 1 0 0 0 1 1h18a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1H3a1 1 0 0 0-1 1v2z",key:"1dej2m"}],["path",{d:"M10 10V5a1 1 0 0 1 1-1h2a1 1 0 0 1 1 1v5",key:"1p9q5i"}],["path",{d:"M4 15v-3a6 6 0 0 1 6-6",key:"9ciidu"}],["path",{d:"M14 6a6 6 0 0 1 6 6v3",key:"1hnv84"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const s$=Pe("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tw=Pe("Hotel",[["path",{d:"M10 22v-6.57",key:"1wmca3"}],["path",{d:"M12 11h.01",key:"z322tv"}],["path",{d:"M12 7h.01",key:"1ivr5q"}],["path",{d:"M14 15.43V22",key:"1q2vjd"}],["path",{d:"M15 16a5 5 0 0 0-6 0",key:"o9wqvi"}],["path",{d:"M16 11h.01",key:"xkw8gn"}],["path",{d:"M16 7h.01",key:"1kdx03"}],["path",{d:"M8 11h.01",key:"1dfujw"}],["path",{d:"M8 7h.01",key:"1vti4s"}],["rect",{x:"4",y:"2",width:"16",height:"20",rx:"2",key:"1uxh74"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kg=Pe("House",[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const p_=Pe("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hg=Pe("IndianRupee",[["path",{d:"M6 3h12",key:"ggurg9"}],["path",{d:"M6 8h12",key:"6g4wlu"}],["path",{d:"m6 13 8.5 8",key:"u1kupk"}],["path",{d:"M6 13h3",key:"wdp6ag"}],["path",{d:"M9 13c6.667 0 6.667-10 0-10",key:"1nkvk2"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ow=Pe("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const n$=Pe("LandPlot",[["path",{d:"m12 8 6-3-6-3v10",key:"mvpnpy"}],["path",{d:"m8 11.99-5.5 3.14a1 1 0 0 0 0 1.74l8.5 4.86a2 2 0 0 0 2 0l8.5-4.86a1 1 0 0 0 0-1.74L16 12",key:"ek95tt"}],["path",{d:"m6.49 12.85 11.02 6.3",key:"1kt42w"}],["path",{d:"M17.51 12.85 6.5 19.15",key:"v55bdg"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wg=Pe("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Es=Pe("Leaf",[["path",{d:"M11 20A7 7 0 0 1 9.8 6.1C15.5 5 17 4.48 19 2c1 2 2 4.18 2 8 0 5.5-4.78 10-10 10Z",key:"nnexq3"}],["path",{d:"M2 21c0-3 1.85-5.36 5.08-6C9.5 14.52 12 13 13 12",key:"mt58a7"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const f_=Pe("Lightbulb",[["path",{d:"M15 14c.2-1 .7-1.7 1.5-2.5 1-.9 1.5-2.2 1.5-3.5A6 6 0 0 0 6 8c0 1 .2 2.2 1.5 3.5.7.7 1.3 1.5 1.5 2.5",key:"1gvzjb"}],["path",{d:"M9 18h6",key:"x1upvd"}],["path",{d:"M10 22h4",key:"ceow96"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HX=Pe("ListFilter",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M7 12h10",key:"b7w52i"}],["path",{d:"M10 18h4",key:"1ulq68"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WX=Pe("List",[["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 18h.01",key:"1tta3j"}],["path",{d:"M3 6h.01",key:"1rqtza"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 18h13",key:"1lx6n3"}],["path",{d:"M8 6h13",key:"ik3vkj"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ye=Pe("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GX=Pe("Loader",[["path",{d:"M12 2v4",key:"3427ic"}],["path",{d:"m16.2 7.8 2.9-2.9",key:"r700ao"}],["path",{d:"M18 12h4",key:"wj9ykh"}],["path",{d:"m16.2 16.2 2.9 2.9",key:"1bxg5t"}],["path",{d:"M12 18v4",key:"jadmvz"}],["path",{d:"m4.9 19.1 2.9-2.9",key:"bwix9q"}],["path",{d:"M2 12h4",key:"j09sii"}],["path",{d:"m4.9 4.9 2.9 2.9",key:"giyufr"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YX=Pe("LocateFixed",[["line",{x1:"2",x2:"5",y1:"12",y2:"12",key:"bvdh0s"}],["line",{x1:"19",x2:"22",y1:"12",y2:"12",key:"1tbv5k"}],["line",{x1:"12",x2:"12",y1:"2",y2:"5",key:"11lu5j"}],["line",{x1:"12",x2:"12",y1:"19",y2:"22",key:"x3vr5v"}],["circle",{cx:"12",cy:"12",r:"7",key:"fim9np"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gg=Pe("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const x_=Pe("Luggage",[["path",{d:"M6 20a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h12a2 2 0 0 1 2 2v10a2 2 0 0 1-2 2",key:"1m57jg"}],["path",{d:"M8 18V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v14",key:"1l99gc"}],["path",{d:"M10 20h4",key:"ni2waw"}],["circle",{cx:"16",cy:"20",r:"2",key:"1vifvg"}],["circle",{cx:"8",cy:"20",r:"2",key:"ckkr5m"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tj=Pe("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ft=Pe("MapPin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QX=Pe("Map",[["path",{d:"M14.106 5.553a2 2 0 0 0 1.788 0l3.659-1.83A1 1 0 0 1 21 4.619v12.764a1 1 0 0 1-.553.894l-4.553 2.277a2 2 0 0 1-1.788 0l-4.212-2.106a2 2 0 0 0-1.788 0l-3.659 1.83A1 1 0 0 1 3 19.381V6.618a1 1 0 0 1 .553-.894l4.553-2.277a2 2 0 0 1 1.788 0z",key:"169xi5"}],["path",{d:"M15 5.764v15",key:"1pn4in"}],["path",{d:"M9 3.236v15",key:"1uimfh"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XX=Pe("Maximize",[["path",{d:"M8 3H5a2 2 0 0 0-2 2v3",key:"1dcmit"}],["path",{d:"M21 8V5a2 2 0 0 0-2-2h-3",key:"1e4gt3"}],["path",{d:"M3 16v3a2 2 0 0 0 2 2h3",key:"wsl5sc"}],["path",{d:"M16 21h3a2 2 0 0 0 2-2v-3",key:"18trek"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const a$=Pe("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hu=Pe("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wc=Pe("Minus",[["path",{d:"M5 12h14",key:"1ays0h"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZX=Pe("Monitor",[["rect",{width:"20",height:"14",x:"2",y:"3",rx:"2",key:"48i651"}],["line",{x1:"8",x2:"16",y1:"21",y2:"21",key:"1svkeh"}],["line",{x1:"12",x2:"12",y1:"17",y2:"21",key:"vw1qmm"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const g_=Pe("Network",[["rect",{x:"16",y:"16",width:"6",height:"6",rx:"1",key:"4q2zg0"}],["rect",{x:"2",y:"16",width:"6",height:"6",rx:"1",key:"8cvhb9"}],["rect",{x:"9",y:"2",width:"6",height:"6",rx:"1",key:"1egb70"}],["path",{d:"M5 16v-3a1 1 0 0 1 1-1h12a1 1 0 0 1 1 1v3",key:"1jsf9p"}],["path",{d:"M12 12V8",key:"2874zd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pt=Pe("Package",[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["path",{d:"m3.3 7 7.703 4.734a2 2 0 0 0 1.994 0L20.7 7",key:"yx3hmr"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JX=Pe("Pause",[["rect",{x:"14",y:"4",width:"4",height:"16",rx:"1",key:"zuxfzm"}],["rect",{x:"6",y:"4",width:"4",height:"16",rx:"1",key:"1okwgv"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yg=Pe("Pencil",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qg=Pe("Percent",[["line",{x1:"19",x2:"5",y1:"5",y2:"19",key:"1x9vlm"}],["circle",{cx:"6.5",cy:"6.5",r:"2.5",key:"4mh3h7"}],["circle",{cx:"17.5",cy:"17.5",r:"2.5",key:"1mdrzq"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Oo=Pe("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gi=Pe("Plane",[["path",{d:"M17.8 19.2 16 11l3.5-3.5C21 6 21.5 4 21 3c-1-.5-3 0-4.5 1.5L13 8 4.8 6.2c-.5-.1-.9.1-1.1.5l-.3.5c-.2.5-.1 1 .3 1.3L9 12l-2 3H4l-1 1 3 2 2 3 1-1v-3l3-2 3.5 5.3c.3.4.8.5 1.3.3l.5-.2c.4-.3.6-.7.5-1.2z",key:"1v9wt8"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pu=Pe("Play",[["polygon",{points:"6 3 20 12 6 21 6 3",key:"1oa8hb"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rt=Pe("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eZ=Pe("PowerOff",[["path",{d:"M18.36 6.64A9 9 0 0 1 20.77 15",key:"dxknvb"}],["path",{d:"M6.16 6.16a9 9 0 1 0 12.68 12.68",key:"1x7qb5"}],["path",{d:"M12 2v4",key:"3427ic"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tZ=Pe("Power",[["path",{d:"M12 2v10",key:"mnfbl"}],["path",{d:"M18.4 6.6a9 9 0 1 1-12.77.04",key:"obofu9"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const v_=Pe("Presentation",[["path",{d:"M2 3h20",key:"91anmk"}],["path",{d:"M21 3v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V3",key:"2k9sn8"}],["path",{d:"m7 21 5-5 5 5",key:"bip4we"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const y_=Pe("Receipt",[["path",{d:"M4 2v20l2-1 2 1 2-1 2 1 2-1 2 1 2-1 2 1V2l-2 1-2-1-2 1-2-1-2 1-2-1-2 1Z",key:"q3az6g"}],["path",{d:"M16 8h-6a2 2 0 1 0 0 4h4a2 2 0 1 1 0 4H8",key:"1h4pet"}],["path",{d:"M12 17.5v-11",key:"1jc1ny"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const In=Pe("Recycle",[["path",{d:"M7 19H4.815a1.83 1.83 0 0 1-1.57-.881 1.785 1.785 0 0 1-.004-1.784L7.196 9.5",key:"x6z5xu"}],["path",{d:"M11 19h8.203a1.83 1.83 0 0 0 1.556-.89 1.784 1.784 0 0 0 0-1.775l-1.226-2.12",key:"1x4zh5"}],["path",{d:"m14 16-3 3 3 3",key:"f6jyew"}],["path",{d:"M8.293 13.596 7.196 9.5 3.1 10.598",key:"wf1obh"}],["path",{d:"m9.344 5.811 1.093-1.892A1.83 1.83 0 0 1 11.985 3a1.784 1.784 0 0 1 1.546.888l3.943 6.843",key:"9tzpgr"}],["path",{d:"m13.378 9.633 4.096 1.098 1.097-4.096",key:"1oe83g"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ua=Pe("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rZ=Pe("Rocket",[["path",{d:"M4.5 16.5c-1.5 1.26-2 5-2 5s3.74-.5 5-2c.71-.84.7-2.13-.09-2.91a2.18 2.18 0 0 0-2.91-.09z",key:"m3kijz"}],["path",{d:"m12 15-3-3a22 22 0 0 1 2-3.95A12.88 12.88 0 0 1 22 2c0 2.72-.78 7.5-6 11a22.35 22.35 0 0 1-4 2z",key:"1fmvmk"}],["path",{d:"M9 12H4s.55-3.03 2-4c1.62-1.08 5 0 5 0",key:"1f8sc4"}],["path",{d:"M12 15v5s3.03-.55 4-2c1.08-1.62 0-5 0-5",key:"qeys4"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sZ=Pe("RotateCcw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nZ=Pe("RotateCw",[["path",{d:"M21 12a9 9 0 1 1-9-9c2.52 0 4.93 1 6.74 2.74L21 8",key:"1p45f6"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aZ=Pe("Route",[["circle",{cx:"6",cy:"19",r:"3",key:"1kj8tv"}],["path",{d:"M9 19h8.5a3.5 3.5 0 0 0 0-7h-11a3.5 3.5 0 0 1 0-7H15",key:"1d8sl"}],["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const es=Pe("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const i$=Pe("Send",[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sc=Pe("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const l$=Pe("Share2",[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const o$=Pe("ShieldAlert",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"M12 8v4",key:"1got3b"}],["path",{d:"M12 16h.01",key:"1drbdi"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iZ=Pe("ShieldCheck",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xl=Pe("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ew=Pe("ShoppingBag",[["path",{d:"M6 2 3 6v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6l-3-4Z",key:"hou9p0"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M16 10a4 4 0 0 1-8 0",key:"1ltviw"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qa=Pe("ShoppingBasket",[["path",{d:"m15 11-1 9",key:"5wnq3a"}],["path",{d:"m19 11-4-7",key:"cnml18"}],["path",{d:"M2 11h20",key:"3eubbj"}],["path",{d:"m3.5 11 1.6 7.4a2 2 0 0 0 2 1.6h9.8a2 2 0 0 0 2-1.6l1.7-7.4",key:"yiazzp"}],["path",{d:"M4.5 15.5h15",key:"13mye1"}],["path",{d:"m5 11 4-7",key:"116ra9"}],["path",{d:"m9 11 1 9",key:"1ojof7"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pr=Pe("ShoppingCart",[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jn=Pe("Smartphone",[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const c$=Pe("Sparkles",[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gr=Pe("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vf=Pe("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const c0=Pe("Stethoscope",[["path",{d:"M11 2v2",key:"1539x4"}],["path",{d:"M5 2v2",key:"1yf1q8"}],["path",{d:"M5 3H4a2 2 0 0 0-2 2v4a6 6 0 0 0 12 0V5a2 2 0 0 0-2-2h-1",key:"rb5t3r"}],["path",{d:"M8 15a6 6 0 0 0 12 0v-3",key:"x18d4x"}],["circle",{cx:"20",cy:"10",r:"2",key:"ts1r5v"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Si=Pe("Store",[["path",{d:"m2 7 4.41-4.41A2 2 0 0 1 7.83 2h8.34a2 2 0 0 1 1.42.59L22 7",key:"ztvudi"}],["path",{d:"M4 12v8a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-8",key:"1b2hhj"}],["path",{d:"M15 22v-4a2 2 0 0 0-2-2h-2a2 2 0 0 0-2 2v4",key:"2ebpfo"}],["path",{d:"M2 7h20",key:"1fcdvo"}],["path",{d:"M22 7v3a2 2 0 0 1-2 2a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 16 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 12 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 8 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 4 12a2 2 0 0 1-2-2V7",key:"6c3vgh"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tC=Pe("Tag",[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Er=Pe("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const d$=Pe("Trash",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vi=Pe("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ti=Pe("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _n=Pe("Truck",[["path",{d:"M14 18V6a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2v11a1 1 0 0 0 1 1h2",key:"wrbu53"}],["path",{d:"M15 18H9",key:"1lyqi6"}],["path",{d:"M19 18h2a1 1 0 0 0 1-1v-3.65a1 1 0 0 0-.22-.624l-3.48-4.35A1 1 0 0 0 17.52 8H14",key:"lysw3i"}],["circle",{cx:"17",cy:"18",r:"2",key:"332jqn"}],["circle",{cx:"7",cy:"18",r:"2",key:"19iecd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const u$=Pe("Tv",[["rect",{width:"20",height:"15",x:"2",y:"7",rx:"2",ry:"2",key:"10ag99"}],["polyline",{points:"17 2 12 7 7 2",key:"11pgbg"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ci=Pe("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const j_=Pe("UserCog",[["circle",{cx:"18",cy:"15",r:"3",key:"gjjjvw"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M10 15H6a4 4 0 0 0-4 4v2",key:"1nfge6"}],["path",{d:"m21.7 16.4-.9-.3",key:"12j9ji"}],["path",{d:"m15.2 13.9-.9-.3",key:"1fdjdi"}],["path",{d:"m16.6 18.7.3-.9",key:"heedtr"}],["path",{d:"m19.1 12.2.3-.9",key:"1af3ki"}],["path",{d:"m19.6 18.7-.4-1",key:"1x9vze"}],["path",{d:"m16.8 12.3-.4-1",key:"vqeiwj"}],["path",{d:"m14.3 16.6 1-.4",key:"1qlj63"}],["path",{d:"m20.7 13.8 1-.4",key:"1v5t8k"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dw=Pe("UserRound",[["circle",{cx:"12",cy:"8",r:"5",key:"1hypcn"}],["path",{d:"M20 21a8 8 0 0 0-16 0",key:"rfgkzh"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zs=Pe("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const er=Pe("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fu=Pe("Video",[["path",{d:"m16 13 5.223 3.482a.5.5 0 0 0 .777-.416V7.87a.5.5 0 0 0-.752-.432L16 10.5",key:"ftymec"}],["rect",{x:"2",y:"6",width:"14",height:"12",rx:"2",key:"158x01"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lZ=Pe("Volume2",[["path",{d:"M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z",key:"uqj9uw"}],["path",{d:"M16 9a5 5 0 0 1 0 6",key:"1q6k2b"}],["path",{d:"M19.364 18.364a9 9 0 0 0 0-12.728",key:"ijwkga"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oZ=Pe("VolumeX",[["path",{d:"M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z",key:"uqj9uw"}],["line",{x1:"22",x2:"16",y1:"9",y2:"15",key:"1ewh16"}],["line",{x1:"16",x2:"22",y1:"9",y2:"15",key:"5ykzw1"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mw=Pe("Wallet",[["path",{d:"M19 7V4a1 1 0 0 0-1-1H5a2 2 0 0 0 0 4h15a1 1 0 0 1 1 1v4h-3a2 2 0 0 0 0 4h3a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1",key:"18etb6"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h15a1 1 0 0 0 1-1v-4",key:"xoc0q4"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Iw=Pe("Wifi",[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M2 8.82a15 15 0 0 1 20 0",key:"dnpr2z"}],["path",{d:"M5 12.859a10 10 0 0 1 14 0",key:"1x1e6c"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ns=Pe("Wrench",[["path",{d:"M14.7 6.3a1 1 0 0 0 0 1.4l1.6 1.6a1 1 0 0 0 1.4 0l3.77-3.77a6 6 0 0 1-7.94 7.94l-6.91 6.91a2.12 2.12 0 0 1-3-3l6.91-6.91a6 6 0 0 1 7.94-7.94l-3.76 3.76z",key:"cbrjhi"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ws=Pe("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jc=Pe("Youtube",[["path",{d:"M2.5 17a24.12 24.12 0 0 1 0-10 2 2 0 0 1 1.4-1.4 49.56 49.56 0 0 1 16.2 0A2 2 0 0 1 21.5 7a24.12 24.12 0 0 1 0 10 2 2 0 0 1-1.4 1.4 49.55 49.55 0 0 1-16.2 0A2 2 0 0 1 2.5 17",key:"1q2vi4"}],["path",{d:"m10 15 5-3-5-3z",key:"1jp15x"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const m$=Pe("Zap",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]]);function h$(t){var r,s,n="";if(typeof t=="string"||typeof t=="number")n+=t;else if(typeof t=="object")if(Array.isArray(t)){var a=t.length;for(r=0;r<a;r++)t[r]&&(s=h$(t[r]))&&(n&&(n+=" "),n+=s)}else for(s in t)t[s]&&(n&&(n+=" "),n+=s);return n}function Kt(){for(var t,r,s=0,n="",a=arguments.length;s<a;s++)(t=arguments[s])&&(r=h$(t))&&(n&&(n+=" "),n+=r);return n}const rC="-",cZ=t=>{const r=uZ(t),{conflictingClassGroups:s,conflictingClassGroupModifiers:n}=t;return{getClassGroupId:l=>{const o=l.split(rC);return o[0]===""&&o.length!==1&&o.shift(),p$(o,r)||dZ(l)},getConflictingClassGroupIds:(l,o)=>{const c=s[l]||[];return o&&n[l]?[...c,...n[l]]:c}}},p$=(t,r)=>{var l;if(t.length===0)return r.classGroupId;const s=t[0],n=r.nextPart.get(s),a=n?p$(t.slice(1),n):void 0;if(a)return a;if(r.validators.length===0)return;const i=t.join(rC);return(l=r.validators.find(({validator:o})=>o(i)))==null?void 0:l.classGroupId},b_=/^\[(.+)\]$/,dZ=t=>{if(b_.test(t)){const r=b_.exec(t)[1],s=r==null?void 0:r.substring(0,r.indexOf(":"));if(s)return"arbitrary.."+s}},uZ=t=>{const{theme:r,prefix:s}=t,n={nextPart:new Map,validators:[]};return hZ(Object.entries(t.classGroups),s).forEach(([i,l])=>{Rw(l,n,i,r)}),n},Rw=(t,r,s,n)=>{t.forEach(a=>{if(typeof a=="string"){const i=a===""?r:N_(r,a);i.classGroupId=s;return}if(typeof a=="function"){if(mZ(a)){Rw(a(n),r,s,n);return}r.validators.push({validator:a,classGroupId:s});return}Object.entries(a).forEach(([i,l])=>{Rw(l,N_(r,i),s,n)})})},N_=(t,r)=>{let s=t;return r.split(rC).forEach(n=>{s.nextPart.has(n)||s.nextPart.set(n,{nextPart:new Map,validators:[]}),s=s.nextPart.get(n)}),s},mZ=t=>t.isThemeGetter,hZ=(t,r)=>r?t.map(([s,n])=>{const a=n.map(i=>typeof i=="string"?r+i:typeof i=="object"?Object.fromEntries(Object.entries(i).map(([l,o])=>[r+l,o])):i);return[s,a]}):t,pZ=t=>{if(t<1)return{get:()=>{},set:()=>{}};let r=0,s=new Map,n=new Map;const a=(i,l)=>{s.set(i,l),r++,r>t&&(r=0,n=s,s=new Map)};return{get(i){let l=s.get(i);if(l!==void 0)return l;if((l=n.get(i))!==void 0)return a(i,l),l},set(i,l){s.has(i)?s.set(i,l):a(i,l)}}},f$="!",fZ=t=>{const{separator:r,experimentalParseClassName:s}=t,n=r.length===1,a=r[0],i=r.length,l=o=>{const c=[];let d=0,u=0,m;for(let y=0;y<o.length;y++){let v=o[y];if(d===0){if(v===a&&(n||o.slice(y,y+i)===r)){c.push(o.slice(u,y)),u=y+i;continue}if(v==="/"){m=y;continue}}v==="["?d++:v==="]"&&d--}const h=c.length===0?o:o.substring(u),g=h.startsWith(f$),f=g?h.substring(1):h,p=m&&m>u?m-u:void 0;return{modifiers:c,hasImportantModifier:g,baseClassName:f,maybePostfixModifierPosition:p}};return s?o=>s({className:o,parseClassName:l}):l},xZ=t=>{if(t.length<=1)return t;const r=[];let s=[];return t.forEach(n=>{n[0]==="["?(r.push(...s.sort(),n),s=[]):s.push(n)}),r.push(...s.sort()),r},gZ=t=>({cache:pZ(t.cacheSize),parseClassName:fZ(t),...cZ(t)}),vZ=/\s+/,yZ=(t,r)=>{const{parseClassName:s,getClassGroupId:n,getConflictingClassGroupIds:a}=r,i=[],l=t.trim().split(vZ);let o="";for(let c=l.length-1;c>=0;c-=1){const d=l[c],{modifiers:u,hasImportantModifier:m,baseClassName:h,maybePostfixModifierPosition:g}=s(d);let f=!!g,p=n(f?h.substring(0,g):h);if(!p){if(!f){o=d+(o.length>0?" "+o:o);continue}if(p=n(h),!p){o=d+(o.length>0?" "+o:o);continue}f=!1}const y=xZ(u).join(":"),v=m?y+f$:y,x=v+p;if(i.includes(x))continue;i.push(x);const b=a(p,f);for(let N=0;N<b.length;++N){const w=b[N];i.push(v+w)}o=d+(o.length>0?" "+o:o)}return o};function jZ(){let t=0,r,s,n="";for(;t<arguments.length;)(r=arguments[t++])&&(s=x$(r))&&(n&&(n+=" "),n+=s);return n}const x$=t=>{if(typeof t=="string")return t;let r,s="";for(let n=0;n<t.length;n++)t[n]&&(r=x$(t[n]))&&(s&&(s+=" "),s+=r);return s};function bZ(t,...r){let s,n,a,i=l;function l(c){const d=r.reduce((u,m)=>m(u),t());return s=gZ(d),n=s.cache.get,a=s.cache.set,i=o,o(c)}function o(c){const d=n(c);if(d)return d;const u=yZ(c,s);return a(c,u),u}return function(){return i(jZ.apply(null,arguments))}}const Fr=t=>{const r=s=>s[t]||[];return r.isThemeGetter=!0,r},g$=/^\[(?:([a-z-]+):)?(.+)\]$/i,NZ=/^\d+\/\d+$/,wZ=new Set(["px","full","screen"]),SZ=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,CZ=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,PZ=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,kZ=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,AZ=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,qi=t=>Rd(t)||wZ.has(t)||NZ.test(t),El=t=>lm(t,"length",RZ),Rd=t=>!!t&&!Number.isNaN(Number(t)),d0=t=>lm(t,"number",Rd),Bm=t=>!!t&&Number.isInteger(Number(t)),_Z=t=>t.endsWith("%")&&Rd(t.slice(0,-1)),qt=t=>g$.test(t),Dl=t=>SZ.test(t),TZ=new Set(["length","size","percentage"]),OZ=t=>lm(t,TZ,v$),EZ=t=>lm(t,"position",v$),DZ=new Set(["image","url"]),MZ=t=>lm(t,DZ,$Z),IZ=t=>lm(t,"",FZ),Vm=()=>!0,lm=(t,r,s)=>{const n=g$.exec(t);return n?n[1]?typeof r=="string"?n[1]===r:r.has(n[1]):s(n[2]):!1},RZ=t=>CZ.test(t)&&!PZ.test(t),v$=()=>!1,FZ=t=>kZ.test(t),$Z=t=>AZ.test(t),LZ=()=>{const t=Fr("colors"),r=Fr("spacing"),s=Fr("blur"),n=Fr("brightness"),a=Fr("borderColor"),i=Fr("borderRadius"),l=Fr("borderSpacing"),o=Fr("borderWidth"),c=Fr("contrast"),d=Fr("grayscale"),u=Fr("hueRotate"),m=Fr("invert"),h=Fr("gap"),g=Fr("gradientColorStops"),f=Fr("gradientColorStopPositions"),p=Fr("inset"),y=Fr("margin"),v=Fr("opacity"),x=Fr("padding"),b=Fr("saturate"),N=Fr("scale"),w=Fr("sepia"),C=Fr("skew"),P=Fr("space"),S=Fr("translate"),A=()=>["auto","contain","none"],k=()=>["auto","hidden","clip","visible","scroll"],I=()=>["auto",qt,r],L=()=>[qt,r],K=()=>["",qi,El],R=()=>["auto",Rd,qt],F=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],W=()=>["solid","dashed","dotted","double","none"],Q=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],H=()=>["start","end","center","between","around","evenly","stretch"],Z=()=>["","0",qt],me=()=>["auto","avoid","all","avoid-page","page","left","right","column"],Ne=()=>[Rd,qt];return{cacheSize:500,separator:":",theme:{colors:[Vm],spacing:[qi,El],blur:["none","",Dl,qt],brightness:Ne(),borderColor:[t],borderRadius:["none","","full",Dl,qt],borderSpacing:L(),borderWidth:K(),contrast:Ne(),grayscale:Z(),hueRotate:Ne(),invert:Z(),gap:L(),gradientColorStops:[t],gradientColorStopPositions:[_Z,El],inset:I(),margin:I(),opacity:Ne(),padding:L(),saturate:Ne(),scale:Ne(),sepia:Z(),skew:Ne(),space:L(),translate:L()},classGroups:{aspect:[{aspect:["auto","square","video",qt]}],container:["container"],columns:[{columns:[Dl]}],"break-after":[{"break-after":me()}],"break-before":[{"break-before":me()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...F(),qt]}],overflow:[{overflow:k()}],"overflow-x":[{"overflow-x":k()}],"overflow-y":[{"overflow-y":k()}],overscroll:[{overscroll:A()}],"overscroll-x":[{"overscroll-x":A()}],"overscroll-y":[{"overscroll-y":A()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[p]}],"inset-x":[{"inset-x":[p]}],"inset-y":[{"inset-y":[p]}],start:[{start:[p]}],end:[{end:[p]}],top:[{top:[p]}],right:[{right:[p]}],bottom:[{bottom:[p]}],left:[{left:[p]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",Bm,qt]}],basis:[{basis:I()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",qt]}],grow:[{grow:Z()}],shrink:[{shrink:Z()}],order:[{order:["first","last","none",Bm,qt]}],"grid-cols":[{"grid-cols":[Vm]}],"col-start-end":[{col:["auto",{span:["full",Bm,qt]},qt]}],"col-start":[{"col-start":R()}],"col-end":[{"col-end":R()}],"grid-rows":[{"grid-rows":[Vm]}],"row-start-end":[{row:["auto",{span:[Bm,qt]},qt]}],"row-start":[{"row-start":R()}],"row-end":[{"row-end":R()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",qt]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",qt]}],gap:[{gap:[h]}],"gap-x":[{"gap-x":[h]}],"gap-y":[{"gap-y":[h]}],"justify-content":[{justify:["normal",...H()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...H(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...H(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[x]}],px:[{px:[x]}],py:[{py:[x]}],ps:[{ps:[x]}],pe:[{pe:[x]}],pt:[{pt:[x]}],pr:[{pr:[x]}],pb:[{pb:[x]}],pl:[{pl:[x]}],m:[{m:[y]}],mx:[{mx:[y]}],my:[{my:[y]}],ms:[{ms:[y]}],me:[{me:[y]}],mt:[{mt:[y]}],mr:[{mr:[y]}],mb:[{mb:[y]}],ml:[{ml:[y]}],"space-x":[{"space-x":[P]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[P]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",qt,r]}],"min-w":[{"min-w":[qt,r,"min","max","fit"]}],"max-w":[{"max-w":[qt,r,"none","full","min","max","fit","prose",{screen:[Dl]},Dl]}],h:[{h:[qt,r,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[qt,r,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[qt,r,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[qt,r,"auto","min","max","fit"]}],"font-size":[{text:["base",Dl,El]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",d0]}],"font-family":[{font:[Vm]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractons"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",qt]}],"line-clamp":[{"line-clamp":["none",Rd,d0]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",qi,qt]}],"list-image":[{"list-image":["none",qt]}],"list-style-type":[{list:["none","disc","decimal",qt]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[t]}],"placeholder-opacity":[{"placeholder-opacity":[v]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[t]}],"text-opacity":[{"text-opacity":[v]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...W(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",qi,El]}],"underline-offset":[{"underline-offset":["auto",qi,qt]}],"text-decoration-color":[{decoration:[t]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:L()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",qt]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",qt]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[v]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...F(),EZ]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",OZ]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},MZ]}],"bg-color":[{bg:[t]}],"gradient-from-pos":[{from:[f]}],"gradient-via-pos":[{via:[f]}],"gradient-to-pos":[{to:[f]}],"gradient-from":[{from:[g]}],"gradient-via":[{via:[g]}],"gradient-to":[{to:[g]}],rounded:[{rounded:[i]}],"rounded-s":[{"rounded-s":[i]}],"rounded-e":[{"rounded-e":[i]}],"rounded-t":[{"rounded-t":[i]}],"rounded-r":[{"rounded-r":[i]}],"rounded-b":[{"rounded-b":[i]}],"rounded-l":[{"rounded-l":[i]}],"rounded-ss":[{"rounded-ss":[i]}],"rounded-se":[{"rounded-se":[i]}],"rounded-ee":[{"rounded-ee":[i]}],"rounded-es":[{"rounded-es":[i]}],"rounded-tl":[{"rounded-tl":[i]}],"rounded-tr":[{"rounded-tr":[i]}],"rounded-br":[{"rounded-br":[i]}],"rounded-bl":[{"rounded-bl":[i]}],"border-w":[{border:[o]}],"border-w-x":[{"border-x":[o]}],"border-w-y":[{"border-y":[o]}],"border-w-s":[{"border-s":[o]}],"border-w-e":[{"border-e":[o]}],"border-w-t":[{"border-t":[o]}],"border-w-r":[{"border-r":[o]}],"border-w-b":[{"border-b":[o]}],"border-w-l":[{"border-l":[o]}],"border-opacity":[{"border-opacity":[v]}],"border-style":[{border:[...W(),"hidden"]}],"divide-x":[{"divide-x":[o]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[o]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[v]}],"divide-style":[{divide:W()}],"border-color":[{border:[a]}],"border-color-x":[{"border-x":[a]}],"border-color-y":[{"border-y":[a]}],"border-color-s":[{"border-s":[a]}],"border-color-e":[{"border-e":[a]}],"border-color-t":[{"border-t":[a]}],"border-color-r":[{"border-r":[a]}],"border-color-b":[{"border-b":[a]}],"border-color-l":[{"border-l":[a]}],"divide-color":[{divide:[a]}],"outline-style":[{outline:["",...W()]}],"outline-offset":[{"outline-offset":[qi,qt]}],"outline-w":[{outline:[qi,El]}],"outline-color":[{outline:[t]}],"ring-w":[{ring:K()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[t]}],"ring-opacity":[{"ring-opacity":[v]}],"ring-offset-w":[{"ring-offset":[qi,El]}],"ring-offset-color":[{"ring-offset":[t]}],shadow:[{shadow:["","inner","none",Dl,IZ]}],"shadow-color":[{shadow:[Vm]}],opacity:[{opacity:[v]}],"mix-blend":[{"mix-blend":[...Q(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":Q()}],filter:[{filter:["","none"]}],blur:[{blur:[s]}],brightness:[{brightness:[n]}],contrast:[{contrast:[c]}],"drop-shadow":[{"drop-shadow":["","none",Dl,qt]}],grayscale:[{grayscale:[d]}],"hue-rotate":[{"hue-rotate":[u]}],invert:[{invert:[m]}],saturate:[{saturate:[b]}],sepia:[{sepia:[w]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[s]}],"backdrop-brightness":[{"backdrop-brightness":[n]}],"backdrop-contrast":[{"backdrop-contrast":[c]}],"backdrop-grayscale":[{"backdrop-grayscale":[d]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[u]}],"backdrop-invert":[{"backdrop-invert":[m]}],"backdrop-opacity":[{"backdrop-opacity":[v]}],"backdrop-saturate":[{"backdrop-saturate":[b]}],"backdrop-sepia":[{"backdrop-sepia":[w]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[l]}],"border-spacing-x":[{"border-spacing-x":[l]}],"border-spacing-y":[{"border-spacing-y":[l]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",qt]}],duration:[{duration:Ne()}],ease:[{ease:["linear","in","out","in-out",qt]}],delay:[{delay:Ne()}],animate:[{animate:["none","spin","ping","pulse","bounce",qt]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[N]}],"scale-x":[{"scale-x":[N]}],"scale-y":[{"scale-y":[N]}],rotate:[{rotate:[Bm,qt]}],"translate-x":[{"translate-x":[S]}],"translate-y":[{"translate-y":[S]}],"skew-x":[{"skew-x":[C]}],"skew-y":[{"skew-y":[C]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",qt]}],accent:[{accent:["auto",t]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",qt]}],"caret-color":[{caret:[t]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":L()}],"scroll-mx":[{"scroll-mx":L()}],"scroll-my":[{"scroll-my":L()}],"scroll-ms":[{"scroll-ms":L()}],"scroll-me":[{"scroll-me":L()}],"scroll-mt":[{"scroll-mt":L()}],"scroll-mr":[{"scroll-mr":L()}],"scroll-mb":[{"scroll-mb":L()}],"scroll-ml":[{"scroll-ml":L()}],"scroll-p":[{"scroll-p":L()}],"scroll-px":[{"scroll-px":L()}],"scroll-py":[{"scroll-py":L()}],"scroll-ps":[{"scroll-ps":L()}],"scroll-pe":[{"scroll-pe":L()}],"scroll-pt":[{"scroll-pt":L()}],"scroll-pr":[{"scroll-pr":L()}],"scroll-pb":[{"scroll-pb":L()}],"scroll-pl":[{"scroll-pl":L()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",qt]}],fill:[{fill:[t,"none"]}],"stroke-w":[{stroke:[qi,El,d0]}],stroke:[{stroke:[t,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},BZ=bZ(LZ);function Oe(...t){return BZ(Kt(t))}const VZ=SX,y$=j.forwardRef(({className:t,...r},s)=>e.jsx(HF,{ref:s,className:Oe("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",t),...r}));y$.displayName=HF.displayName;const UZ=im("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),j$=j.forwardRef(({className:t,variant:r,...s},n)=>e.jsx(WF,{ref:n,className:Oe(UZ({variant:r}),t),...s}));j$.displayName=WF.displayName;const qZ=j.forwardRef(({className:t,...r},s)=>e.jsx(QF,{ref:s,className:Oe("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",t),...r}));qZ.displayName=QF.displayName;const b$=j.forwardRef(({className:t,...r},s)=>e.jsx(XF,{ref:s,className:Oe("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",t),"toast-close":"",...r,children:e.jsx(ws,{className:"h-4 w-4"})}));b$.displayName=XF.displayName;const N$=j.forwardRef(({className:t,...r},s)=>e.jsx(GF,{ref:s,className:Oe("text-sm font-semibold",t),...r}));N$.displayName=GF.displayName;const w$=j.forwardRef(({className:t,...r},s)=>e.jsx(YF,{ref:s,className:Oe("text-sm opacity-90",t),...r}));w$.displayName=YF.displayName;function zZ(){const{toasts:t}=Be();return e.jsxs(VZ,{children:[t.map(function({id:r,title:s,description:n,action:a,...i}){return e.jsxs(j$,{...i,children:[e.jsxs("div",{className:"grid gap-1",children:[s&&e.jsx(N$,{children:s}),n&&e.jsx(w$,{children:n})]}),a,e.jsx(b$,{})]},r)}),e.jsx(y$,{})]})}const S$=j.createContext(null);function KZ({children:t}){const{toast:r}=Be(),[s,n]=j.useState(!1),[,a]=xr(),{data:i,error:l,isLoading:o}=fe({queryKey:["/api/user"],queryFn:AF({on401:"returnNull"})}),c=Se({mutationFn:async m=>await(await le("POST","/api/login",m)).json(),onSuccess:m=>{pe.setQueryData(["/api/user"],m),r({title:"Login successful",description:`Welcome back, ${m.fullName}!`});const h=m.userType==="service_provider";a(h?"/provider-dashboard":"/dashboard")},onError:m=>{r({title:"Login failed",description:m.message,variant:"destructive"})}}),d=Se({mutationFn:async m=>{const h={...m,userType:m.userType||"customer"};return await(await le("POST","/api/register",h)).json()},onSuccess:m=>{pe.setQueryData(["/api/user"],m);const h=m.userType==="service_provider";r({title:"Registration successful",description:h?`Welcome to TN Services, ${m.fullName}! Your service provider application is pending approval.`:`Welcome to TN Services, ${m.fullName}!`}),n(!1),a(h?"/provider-dashboard":"/dashboard")},onError:m=>{r({title:"Registration failed",description:m.message,variant:"destructive"})}}),u=Se({mutationFn:async()=>{await le("POST","/api/logout")},onSuccess:()=>{pe.setQueryData(["/api/user"],null),r({title:"Logged out",description:"You have been successfully logged out."}),a("/")},onError:m=>{r({title:"Logout failed",description:m.message,variant:"destructive"})}});return e.jsx(S$.Provider,{value:{user:i??null,isLoading:o,error:l,loginMutation:c,logoutMutation:u,registerMutation:d},children:t})}function dt(){const t=j.useContext(S$);if(!t)throw new Error("useAuth must be used within an AuthProvider");return t}function Re({path:t,children:r}){const{user:s,isLoading:n}=dt();return e.jsx(ts,{path:t,children:n?e.jsx("div",{className:"flex items-center justify-center min-h-screen",children:e.jsx(Ye,{className:"h-8 w-8 animate-spin text-primary"})}):s?r:e.jsx(hF,{to:"/auth"})})}var yf=t=>t.type==="checkbox",Jo=t=>t instanceof Date,on=t=>t==null;const C$=t=>typeof t=="object";var us=t=>!on(t)&&!Array.isArray(t)&&C$(t)&&!Jo(t),P$=t=>us(t)&&t.target?yf(t.target)?t.target.checked:t.target.value:t,HZ=t=>t.substring(0,t.search(/\.\d+(\.|$)/))||t,k$=(t,r)=>t.has(HZ(r)),WZ=t=>{const r=t.constructor&&t.constructor.prototype;return us(r)&&r.hasOwnProperty("isPrototypeOf")},sC=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function wn(t){let r;const s=Array.isArray(t);if(t instanceof Date)r=new Date(t);else if(t instanceof Set)r=new Set(t);else if(!(sC&&(t instanceof Blob||t instanceof FileList))&&(s||us(t)))if(r=s?[]:{},!s&&!WZ(t))r=t;else for(const n in t)t.hasOwnProperty(n)&&(r[n]=wn(t[n]));else return t;return r}var rj=t=>Array.isArray(t)?t.filter(Boolean):[],ns=t=>t===void 0,Je=(t,r,s)=>{if(!r||!us(t))return s;const n=rj(r.split(/[,[\].]+?/)).reduce((a,i)=>on(a)?a:a[i],t);return ns(n)||n===t?ns(t[r])?s:t[r]:n},va=t=>typeof t=="boolean",nC=t=>/^\w*$/.test(t),A$=t=>rj(t.replace(/["|']|\]/g,"").split(/\.|\[/)),gr=(t,r,s)=>{let n=-1;const a=nC(r)?[r]:A$(r),i=a.length,l=i-1;for(;++n<i;){const o=a[n];let c=s;if(n!==l){const d=t[o];c=us(d)||Array.isArray(d)?d:isNaN(+a[n+1])?{}:[]}if(o==="__proto__")return;t[o]=c,t=t[o]}return t};const Xg={BLUR:"blur",FOCUS_OUT:"focusout",CHANGE:"change"},za={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},zi={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},_$=G.createContext(null),sj=()=>G.useContext(_$),GZ=t=>{const{children:r,...s}=t;return G.createElement(_$.Provider,{value:s},r)};var T$=(t,r,s,n=!0)=>{const a={defaultValues:r._defaultValues};for(const i in t)Object.defineProperty(a,i,{get:()=>{const l=i;return r._proxyFormState[l]!==za.all&&(r._proxyFormState[l]=!n||za.all),s&&(s[l]=!0),t[l]}});return a},Pn=t=>us(t)&&!Object.keys(t).length,O$=(t,r,s,n)=>{s(t);const{name:a,...i}=t;return Pn(i)||Object.keys(i).length>=Object.keys(r).length||Object.keys(i).find(l=>r[l]===(!n||za.all))},Oh=t=>Array.isArray(t)?t:[t],E$=(t,r,s)=>!t||!r||t===r||Oh(t).some(n=>n&&(s?n===r:n.startsWith(r)||r.startsWith(n)));function aC(t){const r=G.useRef(t);r.current=t,G.useEffect(()=>{const s=!t.disabled&&r.current.subject&&r.current.subject.subscribe({next:r.current.next});return()=>{s&&s.unsubscribe()}},[t.disabled])}function YZ(t){const r=sj(),{control:s=r.control,disabled:n,name:a,exact:i}=t||{},[l,o]=G.useState(s._formState),c=G.useRef(!0),d=G.useRef({isDirty:!1,isLoading:!1,dirtyFields:!1,touchedFields:!1,validatingFields:!1,isValidating:!1,isValid:!1,errors:!1}),u=G.useRef(a);return u.current=a,aC({disabled:n,next:m=>c.current&&E$(u.current,m.name,i)&&O$(m,d.current,s._updateFormState)&&o({...s._formState,...m}),subject:s._subjects.state}),G.useEffect(()=>(c.current=!0,d.current.isValid&&s._updateValid(!0),()=>{c.current=!1}),[s]),T$(l,s,d.current,!1)}var yi=t=>typeof t=="string",D$=(t,r,s,n,a)=>yi(t)?(n&&r.watch.add(t),Je(s,t,a)):Array.isArray(t)?t.map(i=>(n&&r.watch.add(i),Je(s,i))):(n&&(r.watchAll=!0),s);function QZ(t){const r=sj(),{control:s=r.control,name:n,defaultValue:a,disabled:i,exact:l}=t||{},o=G.useRef(n);o.current=n,aC({disabled:i,subject:s._subjects.values,next:u=>{E$(o.current,u.name,l)&&d(wn(D$(o.current,s._names,u.values||s._formValues,!1,a)))}});const[c,d]=G.useState(s._getWatch(n,a));return G.useEffect(()=>s._removeUnmounted()),c}function XZ(t){const r=sj(),{name:s,disabled:n,control:a=r.control,shouldUnregister:i}=t,l=k$(a._names.array,s),o=QZ({control:a,name:s,defaultValue:Je(a._formValues,s,Je(a._defaultValues,s,t.defaultValue)),exact:!0}),c=YZ({control:a,name:s,exact:!0}),d=G.useRef(a.register(s,{...t.rules,value:o,...va(t.disabled)?{disabled:t.disabled}:{}}));return G.useEffect(()=>{const u=a._options.shouldUnregister||i,m=(h,g)=>{const f=Je(a._fields,h);f&&f._f&&(f._f.mount=g)};if(m(s,!0),u){const h=wn(Je(a._options.defaultValues,s));gr(a._defaultValues,s,h),ns(Je(a._formValues,s))&&gr(a._formValues,s,h)}return()=>{(l?u&&!a._state.action:u)?a.unregister(s):m(s,!1)}},[s,a,l,i]),G.useEffect(()=>{Je(a._fields,s)&&a._updateDisabledField({disabled:n,fields:a._fields,name:s,value:Je(a._fields,s)._f.value})},[n,s,a]),{field:{name:s,value:o,...va(n)||c.disabled?{disabled:c.disabled||n}:{},onChange:G.useCallback(u=>d.current.onChange({target:{value:P$(u),name:s},type:Xg.CHANGE}),[s]),onBlur:G.useCallback(()=>d.current.onBlur({target:{value:Je(a._formValues,s),name:s},type:Xg.BLUR}),[s,a]),ref:G.useCallback(u=>{const m=Je(a._fields,s);m&&u&&(m._f.ref={focus:()=>u.focus(),select:()=>u.select(),setCustomValidity:h=>u.setCustomValidity(h),reportValidity:()=>u.reportValidity()})},[a._fields,s])},formState:c,fieldState:Object.defineProperties({},{invalid:{enumerable:!0,get:()=>!!Je(c.errors,s)},isDirty:{enumerable:!0,get:()=>!!Je(c.dirtyFields,s)},isTouched:{enumerable:!0,get:()=>!!Je(c.touchedFields,s)},isValidating:{enumerable:!0,get:()=>!!Je(c.validatingFields,s)},error:{enumerable:!0,get:()=>Je(c.errors,s)}})}}const ZZ=t=>t.render(XZ(t));var M$=(t,r,s,n,a)=>r?{...s[t],types:{...s[t]&&s[t].types?s[t].types:{},[n]:a||!0}}:{},w_=t=>({isOnSubmit:!t||t===za.onSubmit,isOnBlur:t===za.onBlur,isOnChange:t===za.onChange,isOnAll:t===za.all,isOnTouch:t===za.onTouched}),S_=(t,r,s)=>!s&&(r.watchAll||r.watch.has(t)||[...r.watch].some(n=>t.startsWith(n)&&/^\.\w+/.test(t.slice(n.length))));const Eh=(t,r,s,n)=>{for(const a of s||Object.keys(t)){const i=Je(t,a);if(i){const{_f:l,...o}=i;if(l){if(l.refs&&l.refs[0]&&r(l.refs[0],a)&&!n)return!0;if(l.ref&&r(l.ref,l.name)&&!n)return!0;if(Eh(o,r))break}else if(us(o)&&Eh(o,r))break}}};var JZ=(t,r,s)=>{const n=Oh(Je(t,s));return gr(n,"root",r[s]),gr(t,s,n),t},iC=t=>t.type==="file",rl=t=>typeof t=="function",Zg=t=>{if(!sC)return!1;const r=t?t.ownerDocument:0;return t instanceof(r&&r.defaultView?r.defaultView.HTMLElement:HTMLElement)},cg=t=>yi(t),lC=t=>t.type==="radio",Jg=t=>t instanceof RegExp;const C_={value:!1,isValid:!1},P_={value:!0,isValid:!0};var I$=t=>{if(Array.isArray(t)){if(t.length>1){const r=t.filter(s=>s&&s.checked&&!s.disabled).map(s=>s.value);return{value:r,isValid:!!r.length}}return t[0].checked&&!t[0].disabled?t[0].attributes&&!ns(t[0].attributes.value)?ns(t[0].value)||t[0].value===""?P_:{value:t[0].value,isValid:!0}:P_:C_}return C_};const k_={isValid:!1,value:null};var R$=t=>Array.isArray(t)?t.reduce((r,s)=>s&&s.checked&&!s.disabled?{isValid:!0,value:s.value}:r,k_):k_;function A_(t,r,s="validate"){if(cg(t)||Array.isArray(t)&&t.every(cg)||va(t)&&!t)return{type:s,message:cg(t)?t:"",ref:r}}var ed=t=>us(t)&&!Jg(t)?t:{value:t,message:""},__=async(t,r,s,n,a)=>{const{ref:i,refs:l,required:o,maxLength:c,minLength:d,min:u,max:m,pattern:h,validate:g,name:f,valueAsNumber:p,mount:y,disabled:v}=t._f,x=Je(r,f);if(!y||v)return{};const b=l?l[0]:i,N=L=>{n&&b.reportValidity&&(b.setCustomValidity(va(L)?"":L||""),b.reportValidity())},w={},C=lC(i),P=yf(i),S=C||P,A=(p||iC(i))&&ns(i.value)&&ns(x)||Zg(i)&&i.value===""||x===""||Array.isArray(x)&&!x.length,k=M$.bind(null,f,s,w),I=(L,K,R,F=zi.maxLength,W=zi.minLength)=>{const Q=L?K:R;w[f]={type:L?F:W,message:Q,ref:i,...k(L?F:W,Q)}};if(a?!Array.isArray(x)||!x.length:o&&(!S&&(A||on(x))||va(x)&&!x||P&&!I$(l).isValid||C&&!R$(l).isValid)){const{value:L,message:K}=cg(o)?{value:!!o,message:o}:ed(o);if(L&&(w[f]={type:zi.required,message:K,ref:b,...k(zi.required,K)},!s))return N(K),w}if(!A&&(!on(u)||!on(m))){let L,K;const R=ed(m),F=ed(u);if(!on(x)&&!isNaN(x)){const W=i.valueAsNumber||x&&+x;on(R.value)||(L=W>R.value),on(F.value)||(K=W<F.value)}else{const W=i.valueAsDate||new Date(x),Q=me=>new Date(new Date().toDateString()+" "+me),H=i.type=="time",Z=i.type=="week";yi(R.value)&&x&&(L=H?Q(x)>Q(R.value):Z?x>R.value:W>new Date(R.value)),yi(F.value)&&x&&(K=H?Q(x)<Q(F.value):Z?x<F.value:W<new Date(F.value))}if((L||K)&&(I(!!L,R.message,F.message,zi.max,zi.min),!s))return N(w[f].message),w}if((c||d)&&!A&&(yi(x)||a&&Array.isArray(x))){const L=ed(c),K=ed(d),R=!on(L.value)&&x.length>+L.value,F=!on(K.value)&&x.length<+K.value;if((R||F)&&(I(R,L.message,K.message),!s))return N(w[f].message),w}if(h&&!A&&yi(x)){const{value:L,message:K}=ed(h);if(Jg(L)&&!x.match(L)&&(w[f]={type:zi.pattern,message:K,ref:i,...k(zi.pattern,K)},!s))return N(K),w}if(g){if(rl(g)){const L=await g(x,r),K=A_(L,b);if(K&&(w[f]={...K,...k(zi.validate,K.message)},!s))return N(K.message),w}else if(us(g)){let L={};for(const K in g){if(!Pn(L)&&!s)break;const R=A_(await g[K](x,r),b,K);R&&(L={...R,...k(K,R.message)},N(R.message),s&&(w[f]=L))}if(!Pn(L)&&(w[f]={ref:b,...L},!s))return w}}return N(!0),w};function eJ(t,r){const s=r.slice(0,-1).length;let n=0;for(;n<s;)t=ns(t)?n++:t[r[n++]];return t}function tJ(t){for(const r in t)if(t.hasOwnProperty(r)&&!ns(t[r]))return!1;return!0}function gs(t,r){const s=Array.isArray(r)?r:nC(r)?[r]:A$(r),n=s.length===1?t:eJ(t,s),a=s.length-1,i=s[a];return n&&delete n[i],a!==0&&(us(n)&&Pn(n)||Array.isArray(n)&&tJ(n))&&gs(t,s.slice(0,-1)),t}var u0=()=>{let t=[];return{get observers(){return t},next:a=>{for(const i of t)i.next&&i.next(a)},subscribe:a=>(t.push(a),{unsubscribe:()=>{t=t.filter(i=>i!==a)}}),unsubscribe:()=>{t=[]}}},Fw=t=>on(t)||!C$(t);function ql(t,r){if(Fw(t)||Fw(r))return t===r;if(Jo(t)&&Jo(r))return t.getTime()===r.getTime();const s=Object.keys(t),n=Object.keys(r);if(s.length!==n.length)return!1;for(const a of s){const i=t[a];if(!n.includes(a))return!1;if(a!=="ref"){const l=r[a];if(Jo(i)&&Jo(l)||us(i)&&us(l)||Array.isArray(i)&&Array.isArray(l)?!ql(i,l):i!==l)return!1}}return!0}var F$=t=>t.type==="select-multiple",rJ=t=>lC(t)||yf(t),m0=t=>Zg(t)&&t.isConnected,$$=t=>{for(const r in t)if(rl(t[r]))return!0;return!1};function ev(t,r={}){const s=Array.isArray(t);if(us(t)||s)for(const n in t)Array.isArray(t[n])||us(t[n])&&!$$(t[n])?(r[n]=Array.isArray(t[n])?[]:{},ev(t[n],r[n])):on(t[n])||(r[n]=!0);return r}function L$(t,r,s){const n=Array.isArray(t);if(us(t)||n)for(const a in t)Array.isArray(t[a])||us(t[a])&&!$$(t[a])?ns(r)||Fw(s[a])?s[a]=Array.isArray(t[a])?ev(t[a],[]):{...ev(t[a])}:L$(t[a],on(r)?{}:r[a],s[a]):s[a]=!ql(t[a],r[a]);return s}var Um=(t,r)=>L$(t,r,ev(r)),B$=(t,{valueAsNumber:r,valueAsDate:s,setValueAs:n})=>ns(t)?t:r?t===""?NaN:t&&+t:s&&yi(t)?new Date(t):n?n(t):t;function h0(t){const r=t.ref;if(!(t.refs?t.refs.every(s=>s.disabled):r.disabled))return iC(r)?r.files:lC(r)?R$(t.refs).value:F$(r)?[...r.selectedOptions].map(({value:s})=>s):yf(r)?I$(t.refs).value:B$(ns(r.value)?t.ref.value:r.value,t)}var sJ=(t,r,s,n)=>{const a={};for(const i of t){const l=Je(r,i);l&&gr(a,i,l._f)}return{criteriaMode:s,names:[...t],fields:a,shouldUseNativeValidation:n}},qm=t=>ns(t)?t:Jg(t)?t.source:us(t)?Jg(t.value)?t.value.source:t.value:t;const T_="AsyncFunction";var nJ=t=>(!t||!t.validate)&&!!(rl(t.validate)&&t.validate.constructor.name===T_||us(t.validate)&&Object.values(t.validate).find(r=>r.constructor.name===T_)),aJ=t=>t.mount&&(t.required||t.min||t.max||t.maxLength||t.minLength||t.pattern||t.validate);function O_(t,r,s){const n=Je(t,s);if(n||nC(s))return{error:n,name:s};const a=s.split(".");for(;a.length;){const i=a.join("."),l=Je(r,i),o=Je(t,i);if(l&&!Array.isArray(l)&&s!==i)return{name:s};if(o&&o.type)return{name:i,error:o};a.pop()}return{name:s}}var iJ=(t,r,s,n,a)=>a.isOnAll?!1:!s&&a.isOnTouch?!(r||t):(s?n.isOnBlur:a.isOnBlur)?!t:(s?n.isOnChange:a.isOnChange)?t:!0,lJ=(t,r)=>!rj(Je(t,r)).length&&gs(t,r);const oJ={mode:za.onSubmit,reValidateMode:za.onChange,shouldFocusError:!0};function cJ(t={}){let r={...oJ,...t},s={submitCount:0,isDirty:!1,isLoading:rl(r.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:r.errors||{},disabled:r.disabled||!1},n={},a=us(r.defaultValues)||us(r.values)?wn(r.defaultValues||r.values)||{}:{},i=r.shouldUnregister?{}:wn(a),l={action:!1,mount:!1,watch:!1},o={mount:new Set,unMount:new Set,array:new Set,watch:new Set},c,d=0;const u={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1},m={values:u0(),array:u0(),state:u0()},h=w_(r.mode),g=w_(r.reValidateMode),f=r.criteriaMode===za.all,p=re=>ee=>{clearTimeout(d),d=setTimeout(re,ee)},y=async re=>{if(!t.disabled&&(u.isValid||re)){const ee=r.resolver?Pn((await S()).errors):await k(n,!0);ee!==s.isValid&&m.state.next({isValid:ee})}},v=(re,ee)=>{!t.disabled&&(u.isValidating||u.validatingFields)&&((re||Array.from(o.mount)).forEach(we=>{we&&(ee?gr(s.validatingFields,we,ee):gs(s.validatingFields,we))}),m.state.next({validatingFields:s.validatingFields,isValidating:!Pn(s.validatingFields)}))},x=(re,ee=[],we,We,qe=!0,J=!0)=>{if(We&&we&&!t.disabled){if(l.action=!0,J&&Array.isArray(Je(n,re))){const Ve=we(Je(n,re),We.argA,We.argB);qe&&gr(n,re,Ve)}if(J&&Array.isArray(Je(s.errors,re))){const Ve=we(Je(s.errors,re),We.argA,We.argB);qe&&gr(s.errors,re,Ve),lJ(s.errors,re)}if(u.touchedFields&&J&&Array.isArray(Je(s.touchedFields,re))){const Ve=we(Je(s.touchedFields,re),We.argA,We.argB);qe&&gr(s.touchedFields,re,Ve)}u.dirtyFields&&(s.dirtyFields=Um(a,i)),m.state.next({name:re,isDirty:L(re,ee),dirtyFields:s.dirtyFields,errors:s.errors,isValid:s.isValid})}else gr(i,re,ee)},b=(re,ee)=>{gr(s.errors,re,ee),m.state.next({errors:s.errors})},N=re=>{s.errors=re,m.state.next({errors:s.errors,isValid:!1})},w=(re,ee,we,We)=>{const qe=Je(n,re);if(qe){const J=Je(i,re,ns(we)?Je(a,re):we);ns(J)||We&&We.defaultChecked||ee?gr(i,re,ee?J:h0(qe._f)):F(re,J),l.mount&&y()}},C=(re,ee,we,We,qe)=>{let J=!1,Ve=!1;const nt={name:re};if(!t.disabled){const Jt=!!(Je(n,re)&&Je(n,re)._f&&Je(n,re)._f.disabled);if(!we||We){u.isDirty&&(Ve=s.isDirty,s.isDirty=nt.isDirty=L(),J=Ve!==nt.isDirty);const pr=Jt||ql(Je(a,re),ee);Ve=!!(!Jt&&Je(s.dirtyFields,re)),pr||Jt?gs(s.dirtyFields,re):gr(s.dirtyFields,re,!0),nt.dirtyFields=s.dirtyFields,J=J||u.dirtyFields&&Ve!==!pr}if(we){const pr=Je(s.touchedFields,re);pr||(gr(s.touchedFields,re,we),nt.touchedFields=s.touchedFields,J=J||u.touchedFields&&pr!==we)}J&&qe&&m.state.next(nt)}return J?nt:{}},P=(re,ee,we,We)=>{const qe=Je(s.errors,re),J=u.isValid&&va(ee)&&s.isValid!==ee;if(t.delayError&&we?(c=p(()=>b(re,we)),c(t.delayError)):(clearTimeout(d),c=null,we?gr(s.errors,re,we):gs(s.errors,re)),(we?!ql(qe,we):qe)||!Pn(We)||J){const Ve={...We,...J&&va(ee)?{isValid:ee}:{},errors:s.errors,name:re};s={...s,...Ve},m.state.next(Ve)}},S=async re=>{v(re,!0);const ee=await r.resolver(i,r.context,sJ(re||o.mount,n,r.criteriaMode,r.shouldUseNativeValidation));return v(re),ee},A=async re=>{const{errors:ee}=await S(re);if(re)for(const we of re){const We=Je(ee,we);We?gr(s.errors,we,We):gs(s.errors,we)}else s.errors=ee;return ee},k=async(re,ee,we={valid:!0})=>{for(const We in re){const qe=re[We];if(qe){const{_f:J,...Ve}=qe;if(J){const nt=o.array.has(J.name),Jt=qe._f&&nJ(qe._f);Jt&&u.validatingFields&&v([We],!0);const pr=await __(qe,i,f,r.shouldUseNativeValidation&&!ee,nt);if(Jt&&u.validatingFields&&v([We]),pr[J.name]&&(we.valid=!1,ee))break;!ee&&(Je(pr,J.name)?nt?JZ(s.errors,pr,J.name):gr(s.errors,J.name,pr[J.name]):gs(s.errors,J.name))}!Pn(Ve)&&await k(Ve,ee,we)}}return we.valid},I=()=>{for(const re of o.unMount){const ee=Je(n,re);ee&&(ee._f.refs?ee._f.refs.every(we=>!m0(we)):!m0(ee._f.ref))&&Ee(re)}o.unMount=new Set},L=(re,ee)=>!t.disabled&&(re&&ee&&gr(i,re,ee),!ql(Ne(),a)),K=(re,ee,we)=>D$(re,o,{...l.mount?i:ns(ee)?a:yi(re)?{[re]:ee}:ee},we,ee),R=re=>rj(Je(l.mount?i:a,re,t.shouldUnregister?Je(a,re,[]):[])),F=(re,ee,we={})=>{const We=Je(n,re);let qe=ee;if(We){const J=We._f;J&&(!J.disabled&&gr(i,re,B$(ee,J)),qe=Zg(J.ref)&&on(ee)?"":ee,F$(J.ref)?[...J.ref.options].forEach(Ve=>Ve.selected=qe.includes(Ve.value)):J.refs?yf(J.ref)?J.refs.length>1?J.refs.forEach(Ve=>(!Ve.defaultChecked||!Ve.disabled)&&(Ve.checked=Array.isArray(qe)?!!qe.find(nt=>nt===Ve.value):qe===Ve.value)):J.refs[0]&&(J.refs[0].checked=!!qe):J.refs.forEach(Ve=>Ve.checked=Ve.value===qe):iC(J.ref)?J.ref.value="":(J.ref.value=qe,J.ref.type||m.values.next({name:re,values:{...i}})))}(we.shouldDirty||we.shouldTouch)&&C(re,qe,we.shouldTouch,we.shouldDirty,!0),we.shouldValidate&&me(re)},W=(re,ee,we)=>{for(const We in ee){const qe=ee[We],J=`${re}.${We}`,Ve=Je(n,J);(o.array.has(re)||us(qe)||Ve&&!Ve._f)&&!Jo(qe)?W(J,qe,we):F(J,qe,we)}},Q=(re,ee,we={})=>{const We=Je(n,re),qe=o.array.has(re),J=wn(ee);gr(i,re,J),qe?(m.array.next({name:re,values:{...i}}),(u.isDirty||u.dirtyFields)&&we.shouldDirty&&m.state.next({name:re,dirtyFields:Um(a,i),isDirty:L(re,J)})):We&&!We._f&&!on(J)?W(re,J,we):F(re,J,we),S_(re,o)&&m.state.next({...s}),m.values.next({name:l.mount?re:void 0,values:{...i}})},H=async re=>{l.mount=!0;const ee=re.target;let we=ee.name,We=!0;const qe=Je(n,we),J=()=>ee.type?h0(qe._f):P$(re),Ve=nt=>{We=Number.isNaN(nt)||Jo(nt)&&isNaN(nt.getTime())||ql(nt,Je(i,we,nt))};if(qe){let nt,Jt;const pr=J(),ua=re.type===Xg.BLUR||re.type===Xg.FOCUS_OUT,Qc=!aJ(qe._f)&&!r.resolver&&!Je(s.errors,we)&&!qe._f.deps||iJ(ua,Je(s.touchedFields,we),s.isSubmitted,g,h),_m=S_(we,o,ua);gr(i,we,pr),ua?(qe._f.onBlur&&qe._f.onBlur(re),c&&c(0)):qe._f.onChange&&qe._f.onChange(re);const Tm=C(we,pr,ua,!1),Sb=!Pn(Tm)||_m;if(!ua&&m.values.next({name:we,type:re.type,values:{...i}}),Qc)return u.isValid&&(t.mode==="onBlur"?ua&&y():y()),Sb&&m.state.next({name:we,..._m?{}:Tm});if(!ua&&_m&&m.state.next({...s}),r.resolver){const{errors:Wf}=await S([we]);if(Ve(pr),We){const Cb=O_(s.errors,n,we),Gf=O_(Wf,n,Cb.name||we);nt=Gf.error,we=Gf.name,Jt=Pn(Wf)}}else v([we],!0),nt=(await __(qe,i,f,r.shouldUseNativeValidation))[we],v([we]),Ve(pr),We&&(nt?Jt=!1:u.isValid&&(Jt=await k(n,!0)));We&&(qe._f.deps&&me(qe._f.deps),P(we,Jt,nt,Tm))}},Z=(re,ee)=>{if(Je(s.errors,ee)&&re.focus)return re.focus(),1},me=async(re,ee={})=>{let we,We;const qe=Oh(re);if(r.resolver){const J=await A(ns(re)?re:qe);we=Pn(J),We=re?!qe.some(Ve=>Je(J,Ve)):we}else re?(We=(await Promise.all(qe.map(async J=>{const Ve=Je(n,J);return await k(Ve&&Ve._f?{[J]:Ve}:Ve)}))).every(Boolean),!(!We&&!s.isValid)&&y()):We=we=await k(n);return m.state.next({...!yi(re)||u.isValid&&we!==s.isValid?{}:{name:re},...r.resolver||!re?{isValid:we}:{},errors:s.errors}),ee.shouldFocus&&!We&&Eh(n,Z,re?qe:o.mount),We},Ne=re=>{const ee={...l.mount?i:a};return ns(re)?ee:yi(re)?Je(ee,re):re.map(we=>Je(ee,we))},te=(re,ee)=>({invalid:!!Je((ee||s).errors,re),isDirty:!!Je((ee||s).dirtyFields,re),error:Je((ee||s).errors,re),isValidating:!!Je(s.validatingFields,re),isTouched:!!Je((ee||s).touchedFields,re)}),Ie=re=>{re&&Oh(re).forEach(ee=>gs(s.errors,ee)),m.state.next({errors:re?s.errors:{}})},Te=(re,ee,we)=>{const We=(Je(n,re,{_f:{}})._f||{}).ref,qe=Je(s.errors,re)||{},{ref:J,message:Ve,type:nt,...Jt}=qe;gr(s.errors,re,{...Jt,...ee,ref:We}),m.state.next({name:re,errors:s.errors,isValid:!1}),we&&we.shouldFocus&&We&&We.focus&&We.focus()},de=(re,ee)=>rl(re)?m.values.subscribe({next:we=>re(K(void 0,ee),we)}):K(re,ee,!0),Ee=(re,ee={})=>{for(const we of re?Oh(re):o.mount)o.mount.delete(we),o.array.delete(we),ee.keepValue||(gs(n,we),gs(i,we)),!ee.keepError&&gs(s.errors,we),!ee.keepDirty&&gs(s.dirtyFields,we),!ee.keepTouched&&gs(s.touchedFields,we),!ee.keepIsValidating&&gs(s.validatingFields,we),!r.shouldUnregister&&!ee.keepDefaultValue&&gs(a,we);m.values.next({values:{...i}}),m.state.next({...s,...ee.keepDirty?{isDirty:L()}:{}}),!ee.keepIsValid&&y()},De=({disabled:re,name:ee,field:we,fields:We,value:qe})=>{if(va(re)&&l.mount||re){const J=re?void 0:ns(qe)?h0(we?we._f:Je(We,ee)._f):qe;gr(i,ee,J),C(ee,J,!1,!1,!0)}},rt=(re,ee={})=>{let we=Je(n,re);const We=va(ee.disabled)||va(t.disabled);return gr(n,re,{...we||{},_f:{...we&&we._f?we._f:{ref:{name:re}},name:re,mount:!0,...ee}}),o.mount.add(re),we?De({field:we,disabled:va(ee.disabled)?ee.disabled:t.disabled,name:re,value:ee.value}):w(re,!0,ee.value),{...We?{disabled:ee.disabled||t.disabled}:{},...r.progressive?{required:!!ee.required,min:qm(ee.min),max:qm(ee.max),minLength:qm(ee.minLength),maxLength:qm(ee.maxLength),pattern:qm(ee.pattern)}:{},name:re,onChange:H,onBlur:H,ref:qe=>{if(qe){rt(re,ee),we=Je(n,re);const J=ns(qe.value)&&qe.querySelectorAll&&qe.querySelectorAll("input,select,textarea")[0]||qe,Ve=rJ(J),nt=we._f.refs||[];if(Ve?nt.find(Jt=>Jt===J):J===we._f.ref)return;gr(n,re,{_f:{...we._f,...Ve?{refs:[...nt.filter(m0),J,...Array.isArray(Je(a,re))?[{}]:[]],ref:{type:J.type,name:re}}:{ref:J}}}),w(re,!1,void 0,J)}else we=Je(n,re,{}),we._f&&(we._f.mount=!1),(r.shouldUnregister||ee.shouldUnregister)&&!(k$(o.array,re)&&l.action)&&o.unMount.add(re)}}},Me=()=>r.shouldFocusError&&Eh(n,Z,o.mount),Ge=re=>{va(re)&&(m.state.next({disabled:re}),Eh(n,(ee,we)=>{const We=Je(n,we);We&&(ee.disabled=We._f.disabled||re,Array.isArray(We._f.refs)&&We._f.refs.forEach(qe=>{qe.disabled=We._f.disabled||re}))},0,!1))},Xe=(re,ee)=>async we=>{let We;we&&(we.preventDefault&&we.preventDefault(),we.persist&&we.persist());let qe=wn(i);if(m.state.next({isSubmitting:!0}),r.resolver){const{errors:J,values:Ve}=await S();s.errors=J,qe=Ve}else await k(n);if(gs(s.errors,"root"),Pn(s.errors)){m.state.next({errors:{}});try{await re(qe,we)}catch(J){We=J}}else ee&&await ee({...s.errors},we),Me(),setTimeout(Me);if(m.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:Pn(s.errors)&&!We,submitCount:s.submitCount+1,errors:s.errors}),We)throw We},Ce=(re,ee={})=>{Je(n,re)&&(ns(ee.defaultValue)?Q(re,wn(Je(a,re))):(Q(re,ee.defaultValue),gr(a,re,wn(ee.defaultValue))),ee.keepTouched||gs(s.touchedFields,re),ee.keepDirty||(gs(s.dirtyFields,re),s.isDirty=ee.defaultValue?L(re,wn(Je(a,re))):L()),ee.keepError||(gs(s.errors,re),u.isValid&&y()),m.state.next({...s}))},Ft=(re,ee={})=>{const we=re?wn(re):a,We=wn(we),qe=Pn(re),J=qe?a:We;if(ee.keepDefaultValues||(a=we),!ee.keepValues){if(ee.keepDirtyValues){const Ve=new Set([...o.mount,...Object.keys(Um(a,i))]);for(const nt of Array.from(Ve))Je(s.dirtyFields,nt)?gr(J,nt,Je(i,nt)):Q(nt,Je(J,nt))}else{if(sC&&ns(re))for(const Ve of o.mount){const nt=Je(n,Ve);if(nt&&nt._f){const Jt=Array.isArray(nt._f.refs)?nt._f.refs[0]:nt._f.ref;if(Zg(Jt)){const pr=Jt.closest("form");if(pr){pr.reset();break}}}}n={}}i=t.shouldUnregister?ee.keepDefaultValues?wn(a):{}:wn(J),m.array.next({values:{...J}}),m.values.next({values:{...J}})}o={mount:ee.keepDirtyValues?o.mount:new Set,unMount:new Set,array:new Set,watch:new Set,watchAll:!1,focus:""},l.mount=!u.isValid||!!ee.keepIsValid||!!ee.keepDirtyValues,l.watch=!!t.shouldUnregister,m.state.next({submitCount:ee.keepSubmitCount?s.submitCount:0,isDirty:qe?!1:ee.keepDirty?s.isDirty:!!(ee.keepDefaultValues&&!ql(re,a)),isSubmitted:ee.keepIsSubmitted?s.isSubmitted:!1,dirtyFields:qe?{}:ee.keepDirtyValues?ee.keepDefaultValues&&i?Um(a,i):s.dirtyFields:ee.keepDefaultValues&&re?Um(a,re):ee.keepDirty?s.dirtyFields:{},touchedFields:ee.keepTouched?s.touchedFields:{},errors:ee.keepErrors?s.errors:{},isSubmitSuccessful:ee.keepIsSubmitSuccessful?s.isSubmitSuccessful:!1,isSubmitting:!1})},yt=(re,ee)=>Ft(rl(re)?re(i):re,ee);return{control:{register:rt,unregister:Ee,getFieldState:te,handleSubmit:Xe,setError:Te,_executeSchema:S,_getWatch:K,_getDirty:L,_updateValid:y,_removeUnmounted:I,_updateFieldArray:x,_updateDisabledField:De,_getFieldArray:R,_reset:Ft,_resetDefaultValues:()=>rl(r.defaultValues)&&r.defaultValues().then(re=>{yt(re,r.resetOptions),m.state.next({isLoading:!1})}),_updateFormState:re=>{s={...s,...re}},_disableForm:Ge,_subjects:m,_proxyFormState:u,_setErrors:N,get _fields(){return n},get _formValues(){return i},get _state(){return l},set _state(re){l=re},get _defaultValues(){return a},get _names(){return o},set _names(re){o=re},get _formState(){return s},set _formState(re){s=re},get _options(){return r},set _options(re){r={...r,...re}}},trigger:me,register:rt,handleSubmit:Xe,watch:de,setValue:Q,getValues:Ne,reset:yt,resetField:Ce,clearErrors:Ie,unregister:Ee,setError:Te,setFocus:(re,ee={})=>{const we=Je(n,re),We=we&&we._f;if(We){const qe=We.refs?We.refs[0]:We.ref;qe.focus&&(qe.focus(),ee.shouldSelect&&qe.select())}},getFieldState:te}}function Ht(t={}){const r=G.useRef(),s=G.useRef(),[n,a]=G.useState({isDirty:!1,isValidating:!1,isLoading:rl(t.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:t.errors||{},disabled:t.disabled||!1,defaultValues:rl(t.defaultValues)?void 0:t.defaultValues});r.current||(r.current={...cJ(t),formState:n});const i=r.current.control;return i._options=t,aC({subject:i._subjects.state,next:l=>{O$(l,i._proxyFormState,i._updateFormState,!0)&&a({...i._formState})}}),G.useEffect(()=>i._disableForm(t.disabled),[i,t.disabled]),G.useEffect(()=>{if(i._proxyFormState.isDirty){const l=i._getDirty();l!==n.isDirty&&i._subjects.state.next({isDirty:l})}},[i,n.isDirty]),G.useEffect(()=>{t.values&&!ql(t.values,s.current)?(i._reset(t.values,i._options.resetOptions),s.current=t.values,a(l=>({...l}))):i._resetDefaultValues()},[t.values,i]),G.useEffect(()=>{t.errors&&i._setErrors(t.errors)},[t.errors,i]),G.useEffect(()=>{i._state.mount||(i._updateValid(),i._state.mount=!0),i._state.watch&&(i._state.watch=!1,i._subjects.state.next({...i._formState})),i._removeUnmounted()}),G.useEffect(()=>{t.shouldUnregister&&i._subjects.values.next({values:i._getWatch()})},[t.shouldUnregister,i]),G.useEffect(()=>{r.current&&(r.current.watch=r.current.watch.bind({}))},[n]),r.current.formState=T$(n,i),r.current}const E_=(t,r,s)=>{if(t&&"reportValidity"in t){const n=Je(s,r);t.setCustomValidity(n&&n.message||""),t.reportValidity()}},V$=(t,r)=>{for(const s in r.fields){const n=r.fields[s];n&&n.ref&&"reportValidity"in n.ref?E_(n.ref,s,t):n.refs&&n.refs.forEach(a=>E_(a,s,t))}},dJ=(t,r)=>{r.shouldUseNativeValidation&&V$(t,r);const s={};for(const n in t){const a=Je(r.fields,n),i=Object.assign(t[n]||{},{ref:a&&a.ref});if(uJ(r.names||Object.keys(t),n)){const l=Object.assign({},Je(s,n));gr(l,"root",i),gr(s,n,l)}else gr(s,n,i)}return s},uJ=(t,r)=>t.some(s=>s.startsWith(r+"."));var mJ=function(t,r){for(var s={};t.length;){var n=t[0],a=n.code,i=n.message,l=n.path.join(".");if(!s[l])if("unionErrors"in n){var o=n.unionErrors[0].errors[0];s[l]={message:o.message,type:o.code}}else s[l]={message:i,type:a};if("unionErrors"in n&&n.unionErrors.forEach(function(u){return u.errors.forEach(function(m){return t.push(m)})}),r){var c=s[l].types,d=c&&c[n.code];s[l]=M$(l,r,s,a,d?[].concat(d,n.message):n.message)}t.shift()}return s},Wt=function(t,r,s){return s===void 0&&(s={}),function(n,a,i){try{return Promise.resolve(function(l,o){try{var c=Promise.resolve(t[s.mode==="sync"?"parse":"parseAsync"](n,r)).then(function(d){return i.shouldUseNativeValidation&&V$({},i),{errors:{},values:s.raw?n:d}})}catch(d){return o(d)}return c&&c.then?c.then(void 0,o):c}(0,function(l){if(function(o){return Array.isArray(o==null?void 0:o.errors)}(l))return{values:{},errors:dJ(mJ(l.errors,!i.shouldUseNativeValidation&&i.criteriaMode==="all"),i)};throw l}))}catch(l){return Promise.reject(l)}}},lr;(function(t){t.assertEqual=a=>a;function r(a){}t.assertIs=r;function s(a){throw new Error}t.assertNever=s,t.arrayToEnum=a=>{const i={};for(const l of a)i[l]=l;return i},t.getValidEnumValues=a=>{const i=t.objectKeys(a).filter(o=>typeof a[a[o]]!="number"),l={};for(const o of i)l[o]=a[o];return t.objectValues(l)},t.objectValues=a=>t.objectKeys(a).map(function(i){return a[i]}),t.objectKeys=typeof Object.keys=="function"?a=>Object.keys(a):a=>{const i=[];for(const l in a)Object.prototype.hasOwnProperty.call(a,l)&&i.push(l);return i},t.find=(a,i)=>{for(const l of a)if(i(l))return l},t.isInteger=typeof Number.isInteger=="function"?a=>Number.isInteger(a):a=>typeof a=="number"&&isFinite(a)&&Math.floor(a)===a;function n(a,i=" | "){return a.map(l=>typeof l=="string"?`'${l}'`:l).join(i)}t.joinValues=n,t.jsonStringifyReplacer=(a,i)=>typeof i=="bigint"?i.toString():i})(lr||(lr={}));var $w;(function(t){t.mergeShapes=(r,s)=>({...r,...s})})($w||($w={}));const ot=lr.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),zl=t=>{switch(typeof t){case"undefined":return ot.undefined;case"string":return ot.string;case"number":return isNaN(t)?ot.nan:ot.number;case"boolean":return ot.boolean;case"function":return ot.function;case"bigint":return ot.bigint;case"symbol":return ot.symbol;case"object":return Array.isArray(t)?ot.array:t===null?ot.null:t.then&&typeof t.then=="function"&&t.catch&&typeof t.catch=="function"?ot.promise:typeof Map<"u"&&t instanceof Map?ot.map:typeof Set<"u"&&t instanceof Set?ot.set:typeof Date<"u"&&t instanceof Date?ot.date:ot.object;default:return ot.unknown}},Ke=lr.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]),hJ=t=>JSON.stringify(t,null,2).replace(/"([^"]+)":/g,"$1:");class ea extends Error{constructor(r){super(),this.issues=[],this.addIssue=n=>{this.issues=[...this.issues,n]},this.addIssues=(n=[])=>{this.issues=[...this.issues,...n]};const s=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,s):this.__proto__=s,this.name="ZodError",this.issues=r}get errors(){return this.issues}format(r){const s=r||function(i){return i.message},n={_errors:[]},a=i=>{for(const l of i.issues)if(l.code==="invalid_union")l.unionErrors.map(a);else if(l.code==="invalid_return_type")a(l.returnTypeError);else if(l.code==="invalid_arguments")a(l.argumentsError);else if(l.path.length===0)n._errors.push(s(l));else{let o=n,c=0;for(;c<l.path.length;){const d=l.path[c];c===l.path.length-1?(o[d]=o[d]||{_errors:[]},o[d]._errors.push(s(l))):o[d]=o[d]||{_errors:[]},o=o[d],c++}}};return a(this),n}static assert(r){if(!(r instanceof ea))throw new Error(`Not a ZodError: ${r}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,lr.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(r=s=>s.message){const s={},n=[];for(const a of this.issues)a.path.length>0?(s[a.path[0]]=s[a.path[0]]||[],s[a.path[0]].push(r(a))):n.push(r(a));return{formErrors:n,fieldErrors:s}}get formErrors(){return this.flatten()}}ea.create=t=>new ea(t);const xu=(t,r)=>{let s;switch(t.code){case Ke.invalid_type:t.received===ot.undefined?s="Required":s=`Expected ${t.expected}, received ${t.received}`;break;case Ke.invalid_literal:s=`Invalid literal value, expected ${JSON.stringify(t.expected,lr.jsonStringifyReplacer)}`;break;case Ke.unrecognized_keys:s=`Unrecognized key(s) in object: ${lr.joinValues(t.keys,", ")}`;break;case Ke.invalid_union:s="Invalid input";break;case Ke.invalid_union_discriminator:s=`Invalid discriminator value. Expected ${lr.joinValues(t.options)}`;break;case Ke.invalid_enum_value:s=`Invalid enum value. Expected ${lr.joinValues(t.options)}, received '${t.received}'`;break;case Ke.invalid_arguments:s="Invalid function arguments";break;case Ke.invalid_return_type:s="Invalid function return type";break;case Ke.invalid_date:s="Invalid date";break;case Ke.invalid_string:typeof t.validation=="object"?"includes"in t.validation?(s=`Invalid input: must include "${t.validation.includes}"`,typeof t.validation.position=="number"&&(s=`${s} at one or more positions greater than or equal to ${t.validation.position}`)):"startsWith"in t.validation?s=`Invalid input: must start with "${t.validation.startsWith}"`:"endsWith"in t.validation?s=`Invalid input: must end with "${t.validation.endsWith}"`:lr.assertNever(t.validation):t.validation!=="regex"?s=`Invalid ${t.validation}`:s="Invalid";break;case Ke.too_small:t.type==="array"?s=`Array must contain ${t.exact?"exactly":t.inclusive?"at least":"more than"} ${t.minimum} element(s)`:t.type==="string"?s=`String must contain ${t.exact?"exactly":t.inclusive?"at least":"over"} ${t.minimum} character(s)`:t.type==="number"?s=`Number must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${t.minimum}`:t.type==="date"?s=`Date must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(t.minimum))}`:s="Invalid input";break;case Ke.too_big:t.type==="array"?s=`Array must contain ${t.exact?"exactly":t.inclusive?"at most":"less than"} ${t.maximum} element(s)`:t.type==="string"?s=`String must contain ${t.exact?"exactly":t.inclusive?"at most":"under"} ${t.maximum} character(s)`:t.type==="number"?s=`Number must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="bigint"?s=`BigInt must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="date"?s=`Date must be ${t.exact?"exactly":t.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(t.maximum))}`:s="Invalid input";break;case Ke.custom:s="Invalid input";break;case Ke.invalid_intersection_types:s="Intersection results could not be merged";break;case Ke.not_multiple_of:s=`Number must be a multiple of ${t.multipleOf}`;break;case Ke.not_finite:s="Number must be finite";break;default:s=r.defaultError,lr.assertNever(t)}return{message:s}};let U$=xu;function pJ(t){U$=t}function tv(){return U$}const rv=t=>{const{data:r,path:s,errorMaps:n,issueData:a}=t,i=[...s,...a.path||[]],l={...a,path:i};if(a.message!==void 0)return{...a,path:i,message:a.message};let o="";const c=n.filter(d=>!!d).slice().reverse();for(const d of c)o=d(l,{data:r,defaultError:o}).message;return{...a,path:i,message:o}},fJ=[];function it(t,r){const s=tv(),n=rv({issueData:r,data:t.data,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,s,s===xu?void 0:xu].filter(a=>!!a)});t.common.issues.push(n)}class tn{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(r,s){const n=[];for(const a of s){if(a.status==="aborted")return Mt;a.status==="dirty"&&r.dirty(),n.push(a.value)}return{status:r.value,value:n}}static async mergeObjectAsync(r,s){const n=[];for(const a of s){const i=await a.key,l=await a.value;n.push({key:i,value:l})}return tn.mergeObjectSync(r,n)}static mergeObjectSync(r,s){const n={};for(const a of s){const{key:i,value:l}=a;if(i.status==="aborted"||l.status==="aborted")return Mt;i.status==="dirty"&&r.dirty(),l.status==="dirty"&&r.dirty(),i.value!=="__proto__"&&(typeof l.value<"u"||a.alwaysSet)&&(n[i.value]=l.value)}return{status:r.value,value:n}}}const Mt=Object.freeze({status:"aborted"}),wd=t=>({status:"dirty",value:t}),yn=t=>({status:"valid",value:t}),Lw=t=>t.status==="aborted",Bw=t=>t.status==="dirty",lp=t=>t.status==="valid",op=t=>typeof Promise<"u"&&t instanceof Promise;function sv(t,r,s,n){if(typeof r=="function"?t!==r||!n:!r.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return r.get(t)}function q$(t,r,s,n,a){if(typeof r=="function"?t!==r||!a:!r.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return r.set(t,s),s}var vt;(function(t){t.errToObj=r=>typeof r=="string"?{message:r}:r||{},t.toString=r=>typeof r=="string"?r:r==null?void 0:r.message})(vt||(vt={}));var mh,hh;class Ei{constructor(r,s,n,a){this._cachedPath=[],this.parent=r,this.data=s,this._path=n,this._key=a}get path(){return this._cachedPath.length||(this._key instanceof Array?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const D_=(t,r)=>{if(lp(r))return{success:!0,data:r.value};if(!t.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const s=new ea(t.common.issues);return this._error=s,this._error}}};function Vt(t){if(!t)return{};const{errorMap:r,invalid_type_error:s,required_error:n,description:a}=t;if(r&&(s||n))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return r?{errorMap:r,description:a}:{errorMap:(l,o)=>{var c,d;const{message:u}=t;return l.code==="invalid_enum_value"?{message:u??o.defaultError}:typeof o.data>"u"?{message:(c=u??n)!==null&&c!==void 0?c:o.defaultError}:l.code!=="invalid_type"?{message:o.defaultError}:{message:(d=u??s)!==null&&d!==void 0?d:o.defaultError}},description:a}}class Zt{constructor(r){this.spa=this.safeParseAsync,this._def=r,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this)}get description(){return this._def.description}_getType(r){return zl(r.data)}_getOrReturnCtx(r,s){return s||{common:r.parent.common,data:r.data,parsedType:zl(r.data),schemaErrorMap:this._def.errorMap,path:r.path,parent:r.parent}}_processInputParams(r){return{status:new tn,ctx:{common:r.parent.common,data:r.data,parsedType:zl(r.data),schemaErrorMap:this._def.errorMap,path:r.path,parent:r.parent}}}_parseSync(r){const s=this._parse(r);if(op(s))throw new Error("Synchronous parse encountered promise.");return s}_parseAsync(r){const s=this._parse(r);return Promise.resolve(s)}parse(r,s){const n=this.safeParse(r,s);if(n.success)return n.data;throw n.error}safeParse(r,s){var n;const a={common:{issues:[],async:(n=s==null?void 0:s.async)!==null&&n!==void 0?n:!1,contextualErrorMap:s==null?void 0:s.errorMap},path:(s==null?void 0:s.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:r,parsedType:zl(r)},i=this._parseSync({data:r,path:a.path,parent:a});return D_(a,i)}async parseAsync(r,s){const n=await this.safeParseAsync(r,s);if(n.success)return n.data;throw n.error}async safeParseAsync(r,s){const n={common:{issues:[],contextualErrorMap:s==null?void 0:s.errorMap,async:!0},path:(s==null?void 0:s.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:r,parsedType:zl(r)},a=this._parse({data:r,path:n.path,parent:n}),i=await(op(a)?a:Promise.resolve(a));return D_(n,i)}refine(r,s){const n=a=>typeof s=="string"||typeof s>"u"?{message:s}:typeof s=="function"?s(a):s;return this._refinement((a,i)=>{const l=r(a),o=()=>i.addIssue({code:Ke.custom,...n(a)});return typeof Promise<"u"&&l instanceof Promise?l.then(c=>c?!0:(o(),!1)):l?!0:(o(),!1)})}refinement(r,s){return this._refinement((n,a)=>r(n)?!0:(a.addIssue(typeof s=="function"?s(n,a):s),!1))}_refinement(r){return new ri({schema:this,typeName:Tt.ZodEffects,effect:{type:"refinement",refinement:r}})}superRefine(r){return this._refinement(r)}optional(){return Pi.create(this,this._def)}nullable(){return bo.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return Za.create(this,this._def)}promise(){return vu.create(this,this._def)}or(r){return mp.create([this,r],this._def)}and(r){return hp.create(this,r,this._def)}transform(r){return new ri({...Vt(this._def),schema:this,typeName:Tt.ZodEffects,effect:{type:"transform",transform:r}})}default(r){const s=typeof r=="function"?r:()=>r;return new vp({...Vt(this._def),innerType:this,defaultValue:s,typeName:Tt.ZodDefault})}brand(){return new oC({typeName:Tt.ZodBranded,type:this,...Vt(this._def)})}catch(r){const s=typeof r=="function"?r:()=>r;return new yp({...Vt(this._def),innerType:this,catchValue:s,typeName:Tt.ZodCatch})}describe(r){const s=this.constructor;return new s({...this._def,description:r})}pipe(r){return jf.create(this,r)}readonly(){return jp.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const xJ=/^c[^\s-]{8,}$/i,gJ=/^[0-9a-z]+$/,vJ=/^[0-9A-HJKMNP-TV-Z]{26}$/,yJ=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,jJ=/^[a-z0-9_-]{21}$/i,bJ=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,NJ=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,wJ="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let p0;const SJ=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,CJ=/^(([a-f0-9]{1,4}:){7}|::([a-f0-9]{1,4}:){0,6}|([a-f0-9]{1,4}:){1}:([a-f0-9]{1,4}:){0,5}|([a-f0-9]{1,4}:){2}:([a-f0-9]{1,4}:){0,4}|([a-f0-9]{1,4}:){3}:([a-f0-9]{1,4}:){0,3}|([a-f0-9]{1,4}:){4}:([a-f0-9]{1,4}:){0,2}|([a-f0-9]{1,4}:){5}:([a-f0-9]{1,4}:){0,1})([a-f0-9]{1,4}|(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2})))$/,PJ=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,z$="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",kJ=new RegExp(`^${z$}$`);function K$(t){let r="([01]\\d|2[0-3]):[0-5]\\d:[0-5]\\d";return t.precision?r=`${r}\\.\\d{${t.precision}}`:t.precision==null&&(r=`${r}(\\.\\d+)?`),r}function AJ(t){return new RegExp(`^${K$(t)}$`)}function H$(t){let r=`${z$}T${K$(t)}`;const s=[];return s.push(t.local?"Z?":"Z"),t.offset&&s.push("([+-]\\d{2}:?\\d{2})"),r=`${r}(${s.join("|")})`,new RegExp(`^${r}$`)}function _J(t,r){return!!((r==="v4"||!r)&&SJ.test(t)||(r==="v6"||!r)&&CJ.test(t))}class Wa extends Zt{_parse(r){if(this._def.coerce&&(r.data=String(r.data)),this._getType(r)!==ot.string){const i=this._getOrReturnCtx(r);return it(i,{code:Ke.invalid_type,expected:ot.string,received:i.parsedType}),Mt}const n=new tn;let a;for(const i of this._def.checks)if(i.kind==="min")r.data.length<i.value&&(a=this._getOrReturnCtx(r,a),it(a,{code:Ke.too_small,minimum:i.value,type:"string",inclusive:!0,exact:!1,message:i.message}),n.dirty());else if(i.kind==="max")r.data.length>i.value&&(a=this._getOrReturnCtx(r,a),it(a,{code:Ke.too_big,maximum:i.value,type:"string",inclusive:!0,exact:!1,message:i.message}),n.dirty());else if(i.kind==="length"){const l=r.data.length>i.value,o=r.data.length<i.value;(l||o)&&(a=this._getOrReturnCtx(r,a),l?it(a,{code:Ke.too_big,maximum:i.value,type:"string",inclusive:!0,exact:!0,message:i.message}):o&&it(a,{code:Ke.too_small,minimum:i.value,type:"string",inclusive:!0,exact:!0,message:i.message}),n.dirty())}else if(i.kind==="email")NJ.test(r.data)||(a=this._getOrReturnCtx(r,a),it(a,{validation:"email",code:Ke.invalid_string,message:i.message}),n.dirty());else if(i.kind==="emoji")p0||(p0=new RegExp(wJ,"u")),p0.test(r.data)||(a=this._getOrReturnCtx(r,a),it(a,{validation:"emoji",code:Ke.invalid_string,message:i.message}),n.dirty());else if(i.kind==="uuid")yJ.test(r.data)||(a=this._getOrReturnCtx(r,a),it(a,{validation:"uuid",code:Ke.invalid_string,message:i.message}),n.dirty());else if(i.kind==="nanoid")jJ.test(r.data)||(a=this._getOrReturnCtx(r,a),it(a,{validation:"nanoid",code:Ke.invalid_string,message:i.message}),n.dirty());else if(i.kind==="cuid")xJ.test(r.data)||(a=this._getOrReturnCtx(r,a),it(a,{validation:"cuid",code:Ke.invalid_string,message:i.message}),n.dirty());else if(i.kind==="cuid2")gJ.test(r.data)||(a=this._getOrReturnCtx(r,a),it(a,{validation:"cuid2",code:Ke.invalid_string,message:i.message}),n.dirty());else if(i.kind==="ulid")vJ.test(r.data)||(a=this._getOrReturnCtx(r,a),it(a,{validation:"ulid",code:Ke.invalid_string,message:i.message}),n.dirty());else if(i.kind==="url")try{new URL(r.data)}catch{a=this._getOrReturnCtx(r,a),it(a,{validation:"url",code:Ke.invalid_string,message:i.message}),n.dirty()}else i.kind==="regex"?(i.regex.lastIndex=0,i.regex.test(r.data)||(a=this._getOrReturnCtx(r,a),it(a,{validation:"regex",code:Ke.invalid_string,message:i.message}),n.dirty())):i.kind==="trim"?r.data=r.data.trim():i.kind==="includes"?r.data.includes(i.value,i.position)||(a=this._getOrReturnCtx(r,a),it(a,{code:Ke.invalid_string,validation:{includes:i.value,position:i.position},message:i.message}),n.dirty()):i.kind==="toLowerCase"?r.data=r.data.toLowerCase():i.kind==="toUpperCase"?r.data=r.data.toUpperCase():i.kind==="startsWith"?r.data.startsWith(i.value)||(a=this._getOrReturnCtx(r,a),it(a,{code:Ke.invalid_string,validation:{startsWith:i.value},message:i.message}),n.dirty()):i.kind==="endsWith"?r.data.endsWith(i.value)||(a=this._getOrReturnCtx(r,a),it(a,{code:Ke.invalid_string,validation:{endsWith:i.value},message:i.message}),n.dirty()):i.kind==="datetime"?H$(i).test(r.data)||(a=this._getOrReturnCtx(r,a),it(a,{code:Ke.invalid_string,validation:"datetime",message:i.message}),n.dirty()):i.kind==="date"?kJ.test(r.data)||(a=this._getOrReturnCtx(r,a),it(a,{code:Ke.invalid_string,validation:"date",message:i.message}),n.dirty()):i.kind==="time"?AJ(i).test(r.data)||(a=this._getOrReturnCtx(r,a),it(a,{code:Ke.invalid_string,validation:"time",message:i.message}),n.dirty()):i.kind==="duration"?bJ.test(r.data)||(a=this._getOrReturnCtx(r,a),it(a,{validation:"duration",code:Ke.invalid_string,message:i.message}),n.dirty()):i.kind==="ip"?_J(r.data,i.version)||(a=this._getOrReturnCtx(r,a),it(a,{validation:"ip",code:Ke.invalid_string,message:i.message}),n.dirty()):i.kind==="base64"?PJ.test(r.data)||(a=this._getOrReturnCtx(r,a),it(a,{validation:"base64",code:Ke.invalid_string,message:i.message}),n.dirty()):lr.assertNever(i);return{status:n.value,value:r.data}}_regex(r,s,n){return this.refinement(a=>r.test(a),{validation:s,code:Ke.invalid_string,...vt.errToObj(n)})}_addCheck(r){return new Wa({...this._def,checks:[...this._def.checks,r]})}email(r){return this._addCheck({kind:"email",...vt.errToObj(r)})}url(r){return this._addCheck({kind:"url",...vt.errToObj(r)})}emoji(r){return this._addCheck({kind:"emoji",...vt.errToObj(r)})}uuid(r){return this._addCheck({kind:"uuid",...vt.errToObj(r)})}nanoid(r){return this._addCheck({kind:"nanoid",...vt.errToObj(r)})}cuid(r){return this._addCheck({kind:"cuid",...vt.errToObj(r)})}cuid2(r){return this._addCheck({kind:"cuid2",...vt.errToObj(r)})}ulid(r){return this._addCheck({kind:"ulid",...vt.errToObj(r)})}base64(r){return this._addCheck({kind:"base64",...vt.errToObj(r)})}ip(r){return this._addCheck({kind:"ip",...vt.errToObj(r)})}datetime(r){var s,n;return typeof r=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:r}):this._addCheck({kind:"datetime",precision:typeof(r==null?void 0:r.precision)>"u"?null:r==null?void 0:r.precision,offset:(s=r==null?void 0:r.offset)!==null&&s!==void 0?s:!1,local:(n=r==null?void 0:r.local)!==null&&n!==void 0?n:!1,...vt.errToObj(r==null?void 0:r.message)})}date(r){return this._addCheck({kind:"date",message:r})}time(r){return typeof r=="string"?this._addCheck({kind:"time",precision:null,message:r}):this._addCheck({kind:"time",precision:typeof(r==null?void 0:r.precision)>"u"?null:r==null?void 0:r.precision,...vt.errToObj(r==null?void 0:r.message)})}duration(r){return this._addCheck({kind:"duration",...vt.errToObj(r)})}regex(r,s){return this._addCheck({kind:"regex",regex:r,...vt.errToObj(s)})}includes(r,s){return this._addCheck({kind:"includes",value:r,position:s==null?void 0:s.position,...vt.errToObj(s==null?void 0:s.message)})}startsWith(r,s){return this._addCheck({kind:"startsWith",value:r,...vt.errToObj(s)})}endsWith(r,s){return this._addCheck({kind:"endsWith",value:r,...vt.errToObj(s)})}min(r,s){return this._addCheck({kind:"min",value:r,...vt.errToObj(s)})}max(r,s){return this._addCheck({kind:"max",value:r,...vt.errToObj(s)})}length(r,s){return this._addCheck({kind:"length",value:r,...vt.errToObj(s)})}nonempty(r){return this.min(1,vt.errToObj(r))}trim(){return new Wa({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new Wa({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new Wa({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(r=>r.kind==="datetime")}get isDate(){return!!this._def.checks.find(r=>r.kind==="date")}get isTime(){return!!this._def.checks.find(r=>r.kind==="time")}get isDuration(){return!!this._def.checks.find(r=>r.kind==="duration")}get isEmail(){return!!this._def.checks.find(r=>r.kind==="email")}get isURL(){return!!this._def.checks.find(r=>r.kind==="url")}get isEmoji(){return!!this._def.checks.find(r=>r.kind==="emoji")}get isUUID(){return!!this._def.checks.find(r=>r.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(r=>r.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(r=>r.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(r=>r.kind==="cuid2")}get isULID(){return!!this._def.checks.find(r=>r.kind==="ulid")}get isIP(){return!!this._def.checks.find(r=>r.kind==="ip")}get isBase64(){return!!this._def.checks.find(r=>r.kind==="base64")}get minLength(){let r=null;for(const s of this._def.checks)s.kind==="min"&&(r===null||s.value>r)&&(r=s.value);return r}get maxLength(){let r=null;for(const s of this._def.checks)s.kind==="max"&&(r===null||s.value<r)&&(r=s.value);return r}}Wa.create=t=>{var r;return new Wa({checks:[],typeName:Tt.ZodString,coerce:(r=t==null?void 0:t.coerce)!==null&&r!==void 0?r:!1,...Vt(t)})};function TJ(t,r){const s=(t.toString().split(".")[1]||"").length,n=(r.toString().split(".")[1]||"").length,a=s>n?s:n,i=parseInt(t.toFixed(a).replace(".","")),l=parseInt(r.toFixed(a).replace(".",""));return i%l/Math.pow(10,a)}class vo extends Zt{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(r){if(this._def.coerce&&(r.data=Number(r.data)),this._getType(r)!==ot.number){const i=this._getOrReturnCtx(r);return it(i,{code:Ke.invalid_type,expected:ot.number,received:i.parsedType}),Mt}let n;const a=new tn;for(const i of this._def.checks)i.kind==="int"?lr.isInteger(r.data)||(n=this._getOrReturnCtx(r,n),it(n,{code:Ke.invalid_type,expected:"integer",received:"float",message:i.message}),a.dirty()):i.kind==="min"?(i.inclusive?r.data<i.value:r.data<=i.value)&&(n=this._getOrReturnCtx(r,n),it(n,{code:Ke.too_small,minimum:i.value,type:"number",inclusive:i.inclusive,exact:!1,message:i.message}),a.dirty()):i.kind==="max"?(i.inclusive?r.data>i.value:r.data>=i.value)&&(n=this._getOrReturnCtx(r,n),it(n,{code:Ke.too_big,maximum:i.value,type:"number",inclusive:i.inclusive,exact:!1,message:i.message}),a.dirty()):i.kind==="multipleOf"?TJ(r.data,i.value)!==0&&(n=this._getOrReturnCtx(r,n),it(n,{code:Ke.not_multiple_of,multipleOf:i.value,message:i.message}),a.dirty()):i.kind==="finite"?Number.isFinite(r.data)||(n=this._getOrReturnCtx(r,n),it(n,{code:Ke.not_finite,message:i.message}),a.dirty()):lr.assertNever(i);return{status:a.value,value:r.data}}gte(r,s){return this.setLimit("min",r,!0,vt.toString(s))}gt(r,s){return this.setLimit("min",r,!1,vt.toString(s))}lte(r,s){return this.setLimit("max",r,!0,vt.toString(s))}lt(r,s){return this.setLimit("max",r,!1,vt.toString(s))}setLimit(r,s,n,a){return new vo({...this._def,checks:[...this._def.checks,{kind:r,value:s,inclusive:n,message:vt.toString(a)}]})}_addCheck(r){return new vo({...this._def,checks:[...this._def.checks,r]})}int(r){return this._addCheck({kind:"int",message:vt.toString(r)})}positive(r){return this._addCheck({kind:"min",value:0,inclusive:!1,message:vt.toString(r)})}negative(r){return this._addCheck({kind:"max",value:0,inclusive:!1,message:vt.toString(r)})}nonpositive(r){return this._addCheck({kind:"max",value:0,inclusive:!0,message:vt.toString(r)})}nonnegative(r){return this._addCheck({kind:"min",value:0,inclusive:!0,message:vt.toString(r)})}multipleOf(r,s){return this._addCheck({kind:"multipleOf",value:r,message:vt.toString(s)})}finite(r){return this._addCheck({kind:"finite",message:vt.toString(r)})}safe(r){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:vt.toString(r)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:vt.toString(r)})}get minValue(){let r=null;for(const s of this._def.checks)s.kind==="min"&&(r===null||s.value>r)&&(r=s.value);return r}get maxValue(){let r=null;for(const s of this._def.checks)s.kind==="max"&&(r===null||s.value<r)&&(r=s.value);return r}get isInt(){return!!this._def.checks.find(r=>r.kind==="int"||r.kind==="multipleOf"&&lr.isInteger(r.value))}get isFinite(){let r=null,s=null;for(const n of this._def.checks){if(n.kind==="finite"||n.kind==="int"||n.kind==="multipleOf")return!0;n.kind==="min"?(s===null||n.value>s)&&(s=n.value):n.kind==="max"&&(r===null||n.value<r)&&(r=n.value)}return Number.isFinite(s)&&Number.isFinite(r)}}vo.create=t=>new vo({checks:[],typeName:Tt.ZodNumber,coerce:(t==null?void 0:t.coerce)||!1,...Vt(t)});class yo extends Zt{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(r){if(this._def.coerce&&(r.data=BigInt(r.data)),this._getType(r)!==ot.bigint){const i=this._getOrReturnCtx(r);return it(i,{code:Ke.invalid_type,expected:ot.bigint,received:i.parsedType}),Mt}let n;const a=new tn;for(const i of this._def.checks)i.kind==="min"?(i.inclusive?r.data<i.value:r.data<=i.value)&&(n=this._getOrReturnCtx(r,n),it(n,{code:Ke.too_small,type:"bigint",minimum:i.value,inclusive:i.inclusive,message:i.message}),a.dirty()):i.kind==="max"?(i.inclusive?r.data>i.value:r.data>=i.value)&&(n=this._getOrReturnCtx(r,n),it(n,{code:Ke.too_big,type:"bigint",maximum:i.value,inclusive:i.inclusive,message:i.message}),a.dirty()):i.kind==="multipleOf"?r.data%i.value!==BigInt(0)&&(n=this._getOrReturnCtx(r,n),it(n,{code:Ke.not_multiple_of,multipleOf:i.value,message:i.message}),a.dirty()):lr.assertNever(i);return{status:a.value,value:r.data}}gte(r,s){return this.setLimit("min",r,!0,vt.toString(s))}gt(r,s){return this.setLimit("min",r,!1,vt.toString(s))}lte(r,s){return this.setLimit("max",r,!0,vt.toString(s))}lt(r,s){return this.setLimit("max",r,!1,vt.toString(s))}setLimit(r,s,n,a){return new yo({...this._def,checks:[...this._def.checks,{kind:r,value:s,inclusive:n,message:vt.toString(a)}]})}_addCheck(r){return new yo({...this._def,checks:[...this._def.checks,r]})}positive(r){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:vt.toString(r)})}negative(r){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:vt.toString(r)})}nonpositive(r){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:vt.toString(r)})}nonnegative(r){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:vt.toString(r)})}multipleOf(r,s){return this._addCheck({kind:"multipleOf",value:r,message:vt.toString(s)})}get minValue(){let r=null;for(const s of this._def.checks)s.kind==="min"&&(r===null||s.value>r)&&(r=s.value);return r}get maxValue(){let r=null;for(const s of this._def.checks)s.kind==="max"&&(r===null||s.value<r)&&(r=s.value);return r}}yo.create=t=>{var r;return new yo({checks:[],typeName:Tt.ZodBigInt,coerce:(r=t==null?void 0:t.coerce)!==null&&r!==void 0?r:!1,...Vt(t)})};class cp extends Zt{_parse(r){if(this._def.coerce&&(r.data=!!r.data),this._getType(r)!==ot.boolean){const n=this._getOrReturnCtx(r);return it(n,{code:Ke.invalid_type,expected:ot.boolean,received:n.parsedType}),Mt}return yn(r.data)}}cp.create=t=>new cp({typeName:Tt.ZodBoolean,coerce:(t==null?void 0:t.coerce)||!1,...Vt(t)});class Cc extends Zt{_parse(r){if(this._def.coerce&&(r.data=new Date(r.data)),this._getType(r)!==ot.date){const i=this._getOrReturnCtx(r);return it(i,{code:Ke.invalid_type,expected:ot.date,received:i.parsedType}),Mt}if(isNaN(r.data.getTime())){const i=this._getOrReturnCtx(r);return it(i,{code:Ke.invalid_date}),Mt}const n=new tn;let a;for(const i of this._def.checks)i.kind==="min"?r.data.getTime()<i.value&&(a=this._getOrReturnCtx(r,a),it(a,{code:Ke.too_small,message:i.message,inclusive:!0,exact:!1,minimum:i.value,type:"date"}),n.dirty()):i.kind==="max"?r.data.getTime()>i.value&&(a=this._getOrReturnCtx(r,a),it(a,{code:Ke.too_big,message:i.message,inclusive:!0,exact:!1,maximum:i.value,type:"date"}),n.dirty()):lr.assertNever(i);return{status:n.value,value:new Date(r.data.getTime())}}_addCheck(r){return new Cc({...this._def,checks:[...this._def.checks,r]})}min(r,s){return this._addCheck({kind:"min",value:r.getTime(),message:vt.toString(s)})}max(r,s){return this._addCheck({kind:"max",value:r.getTime(),message:vt.toString(s)})}get minDate(){let r=null;for(const s of this._def.checks)s.kind==="min"&&(r===null||s.value>r)&&(r=s.value);return r!=null?new Date(r):null}get maxDate(){let r=null;for(const s of this._def.checks)s.kind==="max"&&(r===null||s.value<r)&&(r=s.value);return r!=null?new Date(r):null}}Cc.create=t=>new Cc({checks:[],coerce:(t==null?void 0:t.coerce)||!1,typeName:Tt.ZodDate,...Vt(t)});class nv extends Zt{_parse(r){if(this._getType(r)!==ot.symbol){const n=this._getOrReturnCtx(r);return it(n,{code:Ke.invalid_type,expected:ot.symbol,received:n.parsedType}),Mt}return yn(r.data)}}nv.create=t=>new nv({typeName:Tt.ZodSymbol,...Vt(t)});class dp extends Zt{_parse(r){if(this._getType(r)!==ot.undefined){const n=this._getOrReturnCtx(r);return it(n,{code:Ke.invalid_type,expected:ot.undefined,received:n.parsedType}),Mt}return yn(r.data)}}dp.create=t=>new dp({typeName:Tt.ZodUndefined,...Vt(t)});class up extends Zt{_parse(r){if(this._getType(r)!==ot.null){const n=this._getOrReturnCtx(r);return it(n,{code:Ke.invalid_type,expected:ot.null,received:n.parsedType}),Mt}return yn(r.data)}}up.create=t=>new up({typeName:Tt.ZodNull,...Vt(t)});class gu extends Zt{constructor(){super(...arguments),this._any=!0}_parse(r){return yn(r.data)}}gu.create=t=>new gu({typeName:Tt.ZodAny,...Vt(t)});class hc extends Zt{constructor(){super(...arguments),this._unknown=!0}_parse(r){return yn(r.data)}}hc.create=t=>new hc({typeName:Tt.ZodUnknown,...Vt(t)});class gl extends Zt{_parse(r){const s=this._getOrReturnCtx(r);return it(s,{code:Ke.invalid_type,expected:ot.never,received:s.parsedType}),Mt}}gl.create=t=>new gl({typeName:Tt.ZodNever,...Vt(t)});class av extends Zt{_parse(r){if(this._getType(r)!==ot.undefined){const n=this._getOrReturnCtx(r);return it(n,{code:Ke.invalid_type,expected:ot.void,received:n.parsedType}),Mt}return yn(r.data)}}av.create=t=>new av({typeName:Tt.ZodVoid,...Vt(t)});class Za extends Zt{_parse(r){const{ctx:s,status:n}=this._processInputParams(r),a=this._def;if(s.parsedType!==ot.array)return it(s,{code:Ke.invalid_type,expected:ot.array,received:s.parsedType}),Mt;if(a.exactLength!==null){const l=s.data.length>a.exactLength.value,o=s.data.length<a.exactLength.value;(l||o)&&(it(s,{code:l?Ke.too_big:Ke.too_small,minimum:o?a.exactLength.value:void 0,maximum:l?a.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:a.exactLength.message}),n.dirty())}if(a.minLength!==null&&s.data.length<a.minLength.value&&(it(s,{code:Ke.too_small,minimum:a.minLength.value,type:"array",inclusive:!0,exact:!1,message:a.minLength.message}),n.dirty()),a.maxLength!==null&&s.data.length>a.maxLength.value&&(it(s,{code:Ke.too_big,maximum:a.maxLength.value,type:"array",inclusive:!0,exact:!1,message:a.maxLength.message}),n.dirty()),s.common.async)return Promise.all([...s.data].map((l,o)=>a.type._parseAsync(new Ei(s,l,s.path,o)))).then(l=>tn.mergeArray(n,l));const i=[...s.data].map((l,o)=>a.type._parseSync(new Ei(s,l,s.path,o)));return tn.mergeArray(n,i)}get element(){return this._def.type}min(r,s){return new Za({...this._def,minLength:{value:r,message:vt.toString(s)}})}max(r,s){return new Za({...this._def,maxLength:{value:r,message:vt.toString(s)}})}length(r,s){return new Za({...this._def,exactLength:{value:r,message:vt.toString(s)}})}nonempty(r){return this.min(1,r)}}Za.create=(t,r)=>new Za({type:t,minLength:null,maxLength:null,exactLength:null,typeName:Tt.ZodArray,...Vt(r)});function dd(t){if(t instanceof Qr){const r={};for(const s in t.shape){const n=t.shape[s];r[s]=Pi.create(dd(n))}return new Qr({...t._def,shape:()=>r})}else return t instanceof Za?new Za({...t._def,type:dd(t.element)}):t instanceof Pi?Pi.create(dd(t.unwrap())):t instanceof bo?bo.create(dd(t.unwrap())):t instanceof Di?Di.create(t.items.map(r=>dd(r))):t}class Qr extends Zt{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const r=this._def.shape(),s=lr.objectKeys(r);return this._cached={shape:r,keys:s}}_parse(r){if(this._getType(r)!==ot.object){const d=this._getOrReturnCtx(r);return it(d,{code:Ke.invalid_type,expected:ot.object,received:d.parsedType}),Mt}const{status:n,ctx:a}=this._processInputParams(r),{shape:i,keys:l}=this._getCached(),o=[];if(!(this._def.catchall instanceof gl&&this._def.unknownKeys==="strip"))for(const d in a.data)l.includes(d)||o.push(d);const c=[];for(const d of l){const u=i[d],m=a.data[d];c.push({key:{status:"valid",value:d},value:u._parse(new Ei(a,m,a.path,d)),alwaysSet:d in a.data})}if(this._def.catchall instanceof gl){const d=this._def.unknownKeys;if(d==="passthrough")for(const u of o)c.push({key:{status:"valid",value:u},value:{status:"valid",value:a.data[u]}});else if(d==="strict")o.length>0&&(it(a,{code:Ke.unrecognized_keys,keys:o}),n.dirty());else if(d!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const d=this._def.catchall;for(const u of o){const m=a.data[u];c.push({key:{status:"valid",value:u},value:d._parse(new Ei(a,m,a.path,u)),alwaysSet:u in a.data})}}return a.common.async?Promise.resolve().then(async()=>{const d=[];for(const u of c){const m=await u.key,h=await u.value;d.push({key:m,value:h,alwaysSet:u.alwaysSet})}return d}).then(d=>tn.mergeObjectSync(n,d)):tn.mergeObjectSync(n,c)}get shape(){return this._def.shape()}strict(r){return vt.errToObj,new Qr({...this._def,unknownKeys:"strict",...r!==void 0?{errorMap:(s,n)=>{var a,i,l,o;const c=(l=(i=(a=this._def).errorMap)===null||i===void 0?void 0:i.call(a,s,n).message)!==null&&l!==void 0?l:n.defaultError;return s.code==="unrecognized_keys"?{message:(o=vt.errToObj(r).message)!==null&&o!==void 0?o:c}:{message:c}}}:{}})}strip(){return new Qr({...this._def,unknownKeys:"strip"})}passthrough(){return new Qr({...this._def,unknownKeys:"passthrough"})}extend(r){return new Qr({...this._def,shape:()=>({...this._def.shape(),...r})})}merge(r){return new Qr({unknownKeys:r._def.unknownKeys,catchall:r._def.catchall,shape:()=>({...this._def.shape(),...r._def.shape()}),typeName:Tt.ZodObject})}setKey(r,s){return this.augment({[r]:s})}catchall(r){return new Qr({...this._def,catchall:r})}pick(r){const s={};return lr.objectKeys(r).forEach(n=>{r[n]&&this.shape[n]&&(s[n]=this.shape[n])}),new Qr({...this._def,shape:()=>s})}omit(r){const s={};return lr.objectKeys(this.shape).forEach(n=>{r[n]||(s[n]=this.shape[n])}),new Qr({...this._def,shape:()=>s})}deepPartial(){return dd(this)}partial(r){const s={};return lr.objectKeys(this.shape).forEach(n=>{const a=this.shape[n];r&&!r[n]?s[n]=a:s[n]=a.optional()}),new Qr({...this._def,shape:()=>s})}required(r){const s={};return lr.objectKeys(this.shape).forEach(n=>{if(r&&!r[n])s[n]=this.shape[n];else{let i=this.shape[n];for(;i instanceof Pi;)i=i._def.innerType;s[n]=i}}),new Qr({...this._def,shape:()=>s})}keyof(){return W$(lr.objectKeys(this.shape))}}Qr.create=(t,r)=>new Qr({shape:()=>t,unknownKeys:"strip",catchall:gl.create(),typeName:Tt.ZodObject,...Vt(r)});Qr.strictCreate=(t,r)=>new Qr({shape:()=>t,unknownKeys:"strict",catchall:gl.create(),typeName:Tt.ZodObject,...Vt(r)});Qr.lazycreate=(t,r)=>new Qr({shape:t,unknownKeys:"strip",catchall:gl.create(),typeName:Tt.ZodObject,...Vt(r)});class mp extends Zt{_parse(r){const{ctx:s}=this._processInputParams(r),n=this._def.options;function a(i){for(const o of i)if(o.result.status==="valid")return o.result;for(const o of i)if(o.result.status==="dirty")return s.common.issues.push(...o.ctx.common.issues),o.result;const l=i.map(o=>new ea(o.ctx.common.issues));return it(s,{code:Ke.invalid_union,unionErrors:l}),Mt}if(s.common.async)return Promise.all(n.map(async i=>{const l={...s,common:{...s.common,issues:[]},parent:null};return{result:await i._parseAsync({data:s.data,path:s.path,parent:l}),ctx:l}})).then(a);{let i;const l=[];for(const c of n){const d={...s,common:{...s.common,issues:[]},parent:null},u=c._parseSync({data:s.data,path:s.path,parent:d});if(u.status==="valid")return u;u.status==="dirty"&&!i&&(i={result:u,ctx:d}),d.common.issues.length&&l.push(d.common.issues)}if(i)return s.common.issues.push(...i.ctx.common.issues),i.result;const o=l.map(c=>new ea(c));return it(s,{code:Ke.invalid_union,unionErrors:o}),Mt}}get options(){return this._def.options}}mp.create=(t,r)=>new mp({options:t,typeName:Tt.ZodUnion,...Vt(r)});const Gi=t=>t instanceof fp?Gi(t.schema):t instanceof ri?Gi(t.innerType()):t instanceof xp?[t.value]:t instanceof jo?t.options:t instanceof gp?lr.objectValues(t.enum):t instanceof vp?Gi(t._def.innerType):t instanceof dp?[void 0]:t instanceof up?[null]:t instanceof Pi?[void 0,...Gi(t.unwrap())]:t instanceof bo?[null,...Gi(t.unwrap())]:t instanceof oC||t instanceof jp?Gi(t.unwrap()):t instanceof yp?Gi(t._def.innerType):[];class nj extends Zt{_parse(r){const{ctx:s}=this._processInputParams(r);if(s.parsedType!==ot.object)return it(s,{code:Ke.invalid_type,expected:ot.object,received:s.parsedType}),Mt;const n=this.discriminator,a=s.data[n],i=this.optionsMap.get(a);return i?s.common.async?i._parseAsync({data:s.data,path:s.path,parent:s}):i._parseSync({data:s.data,path:s.path,parent:s}):(it(s,{code:Ke.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[n]}),Mt)}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(r,s,n){const a=new Map;for(const i of s){const l=Gi(i.shape[r]);if(!l.length)throw new Error(`A discriminator value for key \`${r}\` could not be extracted from all schema options`);for(const o of l){if(a.has(o))throw new Error(`Discriminator property ${String(r)} has duplicate value ${String(o)}`);a.set(o,i)}}return new nj({typeName:Tt.ZodDiscriminatedUnion,discriminator:r,options:s,optionsMap:a,...Vt(n)})}}function Vw(t,r){const s=zl(t),n=zl(r);if(t===r)return{valid:!0,data:t};if(s===ot.object&&n===ot.object){const a=lr.objectKeys(r),i=lr.objectKeys(t).filter(o=>a.indexOf(o)!==-1),l={...t,...r};for(const o of i){const c=Vw(t[o],r[o]);if(!c.valid)return{valid:!1};l[o]=c.data}return{valid:!0,data:l}}else if(s===ot.array&&n===ot.array){if(t.length!==r.length)return{valid:!1};const a=[];for(let i=0;i<t.length;i++){const l=t[i],o=r[i],c=Vw(l,o);if(!c.valid)return{valid:!1};a.push(c.data)}return{valid:!0,data:a}}else return s===ot.date&&n===ot.date&&+t==+r?{valid:!0,data:t}:{valid:!1}}class hp extends Zt{_parse(r){const{status:s,ctx:n}=this._processInputParams(r),a=(i,l)=>{if(Lw(i)||Lw(l))return Mt;const o=Vw(i.value,l.value);return o.valid?((Bw(i)||Bw(l))&&s.dirty(),{status:s.value,value:o.data}):(it(n,{code:Ke.invalid_intersection_types}),Mt)};return n.common.async?Promise.all([this._def.left._parseAsync({data:n.data,path:n.path,parent:n}),this._def.right._parseAsync({data:n.data,path:n.path,parent:n})]).then(([i,l])=>a(i,l)):a(this._def.left._parseSync({data:n.data,path:n.path,parent:n}),this._def.right._parseSync({data:n.data,path:n.path,parent:n}))}}hp.create=(t,r,s)=>new hp({left:t,right:r,typeName:Tt.ZodIntersection,...Vt(s)});class Di extends Zt{_parse(r){const{status:s,ctx:n}=this._processInputParams(r);if(n.parsedType!==ot.array)return it(n,{code:Ke.invalid_type,expected:ot.array,received:n.parsedType}),Mt;if(n.data.length<this._def.items.length)return it(n,{code:Ke.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),Mt;!this._def.rest&&n.data.length>this._def.items.length&&(it(n,{code:Ke.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),s.dirty());const i=[...n.data].map((l,o)=>{const c=this._def.items[o]||this._def.rest;return c?c._parse(new Ei(n,l,n.path,o)):null}).filter(l=>!!l);return n.common.async?Promise.all(i).then(l=>tn.mergeArray(s,l)):tn.mergeArray(s,i)}get items(){return this._def.items}rest(r){return new Di({...this._def,rest:r})}}Di.create=(t,r)=>{if(!Array.isArray(t))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new Di({items:t,typeName:Tt.ZodTuple,rest:null,...Vt(r)})};class pp extends Zt{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(r){const{status:s,ctx:n}=this._processInputParams(r);if(n.parsedType!==ot.object)return it(n,{code:Ke.invalid_type,expected:ot.object,received:n.parsedType}),Mt;const a=[],i=this._def.keyType,l=this._def.valueType;for(const o in n.data)a.push({key:i._parse(new Ei(n,o,n.path,o)),value:l._parse(new Ei(n,n.data[o],n.path,o)),alwaysSet:o in n.data});return n.common.async?tn.mergeObjectAsync(s,a):tn.mergeObjectSync(s,a)}get element(){return this._def.valueType}static create(r,s,n){return s instanceof Zt?new pp({keyType:r,valueType:s,typeName:Tt.ZodRecord,...Vt(n)}):new pp({keyType:Wa.create(),valueType:r,typeName:Tt.ZodRecord,...Vt(s)})}}class iv extends Zt{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(r){const{status:s,ctx:n}=this._processInputParams(r);if(n.parsedType!==ot.map)return it(n,{code:Ke.invalid_type,expected:ot.map,received:n.parsedType}),Mt;const a=this._def.keyType,i=this._def.valueType,l=[...n.data.entries()].map(([o,c],d)=>({key:a._parse(new Ei(n,o,n.path,[d,"key"])),value:i._parse(new Ei(n,c,n.path,[d,"value"]))}));if(n.common.async){const o=new Map;return Promise.resolve().then(async()=>{for(const c of l){const d=await c.key,u=await c.value;if(d.status==="aborted"||u.status==="aborted")return Mt;(d.status==="dirty"||u.status==="dirty")&&s.dirty(),o.set(d.value,u.value)}return{status:s.value,value:o}})}else{const o=new Map;for(const c of l){const d=c.key,u=c.value;if(d.status==="aborted"||u.status==="aborted")return Mt;(d.status==="dirty"||u.status==="dirty")&&s.dirty(),o.set(d.value,u.value)}return{status:s.value,value:o}}}}iv.create=(t,r,s)=>new iv({valueType:r,keyType:t,typeName:Tt.ZodMap,...Vt(s)});class Pc extends Zt{_parse(r){const{status:s,ctx:n}=this._processInputParams(r);if(n.parsedType!==ot.set)return it(n,{code:Ke.invalid_type,expected:ot.set,received:n.parsedType}),Mt;const a=this._def;a.minSize!==null&&n.data.size<a.minSize.value&&(it(n,{code:Ke.too_small,minimum:a.minSize.value,type:"set",inclusive:!0,exact:!1,message:a.minSize.message}),s.dirty()),a.maxSize!==null&&n.data.size>a.maxSize.value&&(it(n,{code:Ke.too_big,maximum:a.maxSize.value,type:"set",inclusive:!0,exact:!1,message:a.maxSize.message}),s.dirty());const i=this._def.valueType;function l(c){const d=new Set;for(const u of c){if(u.status==="aborted")return Mt;u.status==="dirty"&&s.dirty(),d.add(u.value)}return{status:s.value,value:d}}const o=[...n.data.values()].map((c,d)=>i._parse(new Ei(n,c,n.path,d)));return n.common.async?Promise.all(o).then(c=>l(c)):l(o)}min(r,s){return new Pc({...this._def,minSize:{value:r,message:vt.toString(s)}})}max(r,s){return new Pc({...this._def,maxSize:{value:r,message:vt.toString(s)}})}size(r,s){return this.min(r,s).max(r,s)}nonempty(r){return this.min(1,r)}}Pc.create=(t,r)=>new Pc({valueType:t,minSize:null,maxSize:null,typeName:Tt.ZodSet,...Vt(r)});class Fd extends Zt{constructor(){super(...arguments),this.validate=this.implement}_parse(r){const{ctx:s}=this._processInputParams(r);if(s.parsedType!==ot.function)return it(s,{code:Ke.invalid_type,expected:ot.function,received:s.parsedType}),Mt;function n(o,c){return rv({data:o,path:s.path,errorMaps:[s.common.contextualErrorMap,s.schemaErrorMap,tv(),xu].filter(d=>!!d),issueData:{code:Ke.invalid_arguments,argumentsError:c}})}function a(o,c){return rv({data:o,path:s.path,errorMaps:[s.common.contextualErrorMap,s.schemaErrorMap,tv(),xu].filter(d=>!!d),issueData:{code:Ke.invalid_return_type,returnTypeError:c}})}const i={errorMap:s.common.contextualErrorMap},l=s.data;if(this._def.returns instanceof vu){const o=this;return yn(async function(...c){const d=new ea([]),u=await o._def.args.parseAsync(c,i).catch(g=>{throw d.addIssue(n(c,g)),d}),m=await Reflect.apply(l,this,u);return await o._def.returns._def.type.parseAsync(m,i).catch(g=>{throw d.addIssue(a(m,g)),d})})}else{const o=this;return yn(function(...c){const d=o._def.args.safeParse(c,i);if(!d.success)throw new ea([n(c,d.error)]);const u=Reflect.apply(l,this,d.data),m=o._def.returns.safeParse(u,i);if(!m.success)throw new ea([a(u,m.error)]);return m.data})}}parameters(){return this._def.args}returnType(){return this._def.returns}args(...r){return new Fd({...this._def,args:Di.create(r).rest(hc.create())})}returns(r){return new Fd({...this._def,returns:r})}implement(r){return this.parse(r)}strictImplement(r){return this.parse(r)}static create(r,s,n){return new Fd({args:r||Di.create([]).rest(hc.create()),returns:s||hc.create(),typeName:Tt.ZodFunction,...Vt(n)})}}class fp extends Zt{get schema(){return this._def.getter()}_parse(r){const{ctx:s}=this._processInputParams(r);return this._def.getter()._parse({data:s.data,path:s.path,parent:s})}}fp.create=(t,r)=>new fp({getter:t,typeName:Tt.ZodLazy,...Vt(r)});class xp extends Zt{_parse(r){if(r.data!==this._def.value){const s=this._getOrReturnCtx(r);return it(s,{received:s.data,code:Ke.invalid_literal,expected:this._def.value}),Mt}return{status:"valid",value:r.data}}get value(){return this._def.value}}xp.create=(t,r)=>new xp({value:t,typeName:Tt.ZodLiteral,...Vt(r)});function W$(t,r){return new jo({values:t,typeName:Tt.ZodEnum,...Vt(r)})}class jo extends Zt{constructor(){super(...arguments),mh.set(this,void 0)}_parse(r){if(typeof r.data!="string"){const s=this._getOrReturnCtx(r),n=this._def.values;return it(s,{expected:lr.joinValues(n),received:s.parsedType,code:Ke.invalid_type}),Mt}if(sv(this,mh)||q$(this,mh,new Set(this._def.values)),!sv(this,mh).has(r.data)){const s=this._getOrReturnCtx(r),n=this._def.values;return it(s,{received:s.data,code:Ke.invalid_enum_value,options:n}),Mt}return yn(r.data)}get options(){return this._def.values}get enum(){const r={};for(const s of this._def.values)r[s]=s;return r}get Values(){const r={};for(const s of this._def.values)r[s]=s;return r}get Enum(){const r={};for(const s of this._def.values)r[s]=s;return r}extract(r,s=this._def){return jo.create(r,{...this._def,...s})}exclude(r,s=this._def){return jo.create(this.options.filter(n=>!r.includes(n)),{...this._def,...s})}}mh=new WeakMap;jo.create=W$;class gp extends Zt{constructor(){super(...arguments),hh.set(this,void 0)}_parse(r){const s=lr.getValidEnumValues(this._def.values),n=this._getOrReturnCtx(r);if(n.parsedType!==ot.string&&n.parsedType!==ot.number){const a=lr.objectValues(s);return it(n,{expected:lr.joinValues(a),received:n.parsedType,code:Ke.invalid_type}),Mt}if(sv(this,hh)||q$(this,hh,new Set(lr.getValidEnumValues(this._def.values))),!sv(this,hh).has(r.data)){const a=lr.objectValues(s);return it(n,{received:n.data,code:Ke.invalid_enum_value,options:a}),Mt}return yn(r.data)}get enum(){return this._def.values}}hh=new WeakMap;gp.create=(t,r)=>new gp({values:t,typeName:Tt.ZodNativeEnum,...Vt(r)});class vu extends Zt{unwrap(){return this._def.type}_parse(r){const{ctx:s}=this._processInputParams(r);if(s.parsedType!==ot.promise&&s.common.async===!1)return it(s,{code:Ke.invalid_type,expected:ot.promise,received:s.parsedType}),Mt;const n=s.parsedType===ot.promise?s.data:Promise.resolve(s.data);return yn(n.then(a=>this._def.type.parseAsync(a,{path:s.path,errorMap:s.common.contextualErrorMap})))}}vu.create=(t,r)=>new vu({type:t,typeName:Tt.ZodPromise,...Vt(r)});class ri extends Zt{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===Tt.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(r){const{status:s,ctx:n}=this._processInputParams(r),a=this._def.effect||null,i={addIssue:l=>{it(n,l),l.fatal?s.abort():s.dirty()},get path(){return n.path}};if(i.addIssue=i.addIssue.bind(i),a.type==="preprocess"){const l=a.transform(n.data,i);if(n.common.async)return Promise.resolve(l).then(async o=>{if(s.value==="aborted")return Mt;const c=await this._def.schema._parseAsync({data:o,path:n.path,parent:n});return c.status==="aborted"?Mt:c.status==="dirty"||s.value==="dirty"?wd(c.value):c});{if(s.value==="aborted")return Mt;const o=this._def.schema._parseSync({data:l,path:n.path,parent:n});return o.status==="aborted"?Mt:o.status==="dirty"||s.value==="dirty"?wd(o.value):o}}if(a.type==="refinement"){const l=o=>{const c=a.refinement(o,i);if(n.common.async)return Promise.resolve(c);if(c instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return o};if(n.common.async===!1){const o=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});return o.status==="aborted"?Mt:(o.status==="dirty"&&s.dirty(),l(o.value),{status:s.value,value:o.value})}else return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then(o=>o.status==="aborted"?Mt:(o.status==="dirty"&&s.dirty(),l(o.value).then(()=>({status:s.value,value:o.value}))))}if(a.type==="transform")if(n.common.async===!1){const l=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});if(!lp(l))return l;const o=a.transform(l.value,i);if(o instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:s.value,value:o}}else return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then(l=>lp(l)?Promise.resolve(a.transform(l.value,i)).then(o=>({status:s.value,value:o})):l);lr.assertNever(a)}}ri.create=(t,r,s)=>new ri({schema:t,typeName:Tt.ZodEffects,effect:r,...Vt(s)});ri.createWithPreprocess=(t,r,s)=>new ri({schema:r,effect:{type:"preprocess",transform:t},typeName:Tt.ZodEffects,...Vt(s)});class Pi extends Zt{_parse(r){return this._getType(r)===ot.undefined?yn(void 0):this._def.innerType._parse(r)}unwrap(){return this._def.innerType}}Pi.create=(t,r)=>new Pi({innerType:t,typeName:Tt.ZodOptional,...Vt(r)});class bo extends Zt{_parse(r){return this._getType(r)===ot.null?yn(null):this._def.innerType._parse(r)}unwrap(){return this._def.innerType}}bo.create=(t,r)=>new bo({innerType:t,typeName:Tt.ZodNullable,...Vt(r)});class vp extends Zt{_parse(r){const{ctx:s}=this._processInputParams(r);let n=s.data;return s.parsedType===ot.undefined&&(n=this._def.defaultValue()),this._def.innerType._parse({data:n,path:s.path,parent:s})}removeDefault(){return this._def.innerType}}vp.create=(t,r)=>new vp({innerType:t,typeName:Tt.ZodDefault,defaultValue:typeof r.default=="function"?r.default:()=>r.default,...Vt(r)});class yp extends Zt{_parse(r){const{ctx:s}=this._processInputParams(r),n={...s,common:{...s.common,issues:[]}},a=this._def.innerType._parse({data:n.data,path:n.path,parent:{...n}});return op(a)?a.then(i=>({status:"valid",value:i.status==="valid"?i.value:this._def.catchValue({get error(){return new ea(n.common.issues)},input:n.data})})):{status:"valid",value:a.status==="valid"?a.value:this._def.catchValue({get error(){return new ea(n.common.issues)},input:n.data})}}removeCatch(){return this._def.innerType}}yp.create=(t,r)=>new yp({innerType:t,typeName:Tt.ZodCatch,catchValue:typeof r.catch=="function"?r.catch:()=>r.catch,...Vt(r)});class lv extends Zt{_parse(r){if(this._getType(r)!==ot.nan){const n=this._getOrReturnCtx(r);return it(n,{code:Ke.invalid_type,expected:ot.nan,received:n.parsedType}),Mt}return{status:"valid",value:r.data}}}lv.create=t=>new lv({typeName:Tt.ZodNaN,...Vt(t)});const OJ=Symbol("zod_brand");class oC extends Zt{_parse(r){const{ctx:s}=this._processInputParams(r),n=s.data;return this._def.type._parse({data:n,path:s.path,parent:s})}unwrap(){return this._def.type}}class jf extends Zt{_parse(r){const{status:s,ctx:n}=this._processInputParams(r);if(n.common.async)return(async()=>{const i=await this._def.in._parseAsync({data:n.data,path:n.path,parent:n});return i.status==="aborted"?Mt:i.status==="dirty"?(s.dirty(),wd(i.value)):this._def.out._parseAsync({data:i.value,path:n.path,parent:n})})();{const a=this._def.in._parseSync({data:n.data,path:n.path,parent:n});return a.status==="aborted"?Mt:a.status==="dirty"?(s.dirty(),{status:"dirty",value:a.value}):this._def.out._parseSync({data:a.value,path:n.path,parent:n})}}static create(r,s){return new jf({in:r,out:s,typeName:Tt.ZodPipeline})}}class jp extends Zt{_parse(r){const s=this._def.innerType._parse(r),n=a=>(lp(a)&&(a.value=Object.freeze(a.value)),a);return op(s)?s.then(a=>n(a)):n(s)}unwrap(){return this._def.innerType}}jp.create=(t,r)=>new jp({innerType:t,typeName:Tt.ZodReadonly,...Vt(r)});function G$(t,r={},s){return t?gu.create().superRefine((n,a)=>{var i,l;if(!t(n)){const o=typeof r=="function"?r(n):typeof r=="string"?{message:r}:r,c=(l=(i=o.fatal)!==null&&i!==void 0?i:s)!==null&&l!==void 0?l:!0,d=typeof o=="string"?{message:o}:o;a.addIssue({code:"custom",...d,fatal:c})}}):gu.create()}const EJ={object:Qr.lazycreate};var Tt;(function(t){t.ZodString="ZodString",t.ZodNumber="ZodNumber",t.ZodNaN="ZodNaN",t.ZodBigInt="ZodBigInt",t.ZodBoolean="ZodBoolean",t.ZodDate="ZodDate",t.ZodSymbol="ZodSymbol",t.ZodUndefined="ZodUndefined",t.ZodNull="ZodNull",t.ZodAny="ZodAny",t.ZodUnknown="ZodUnknown",t.ZodNever="ZodNever",t.ZodVoid="ZodVoid",t.ZodArray="ZodArray",t.ZodObject="ZodObject",t.ZodUnion="ZodUnion",t.ZodDiscriminatedUnion="ZodDiscriminatedUnion",t.ZodIntersection="ZodIntersection",t.ZodTuple="ZodTuple",t.ZodRecord="ZodRecord",t.ZodMap="ZodMap",t.ZodSet="ZodSet",t.ZodFunction="ZodFunction",t.ZodLazy="ZodLazy",t.ZodLiteral="ZodLiteral",t.ZodEnum="ZodEnum",t.ZodEffects="ZodEffects",t.ZodNativeEnum="ZodNativeEnum",t.ZodOptional="ZodOptional",t.ZodNullable="ZodNullable",t.ZodDefault="ZodDefault",t.ZodCatch="ZodCatch",t.ZodPromise="ZodPromise",t.ZodBranded="ZodBranded",t.ZodPipeline="ZodPipeline",t.ZodReadonly="ZodReadonly"})(Tt||(Tt={}));const DJ=(t,r={message:`Input not instance of ${t.name}`})=>G$(s=>s instanceof t,r),ov=Wa.create,Y$=vo.create,MJ=lv.create,IJ=yo.create,cC=cp.create,RJ=Cc.create,FJ=nv.create,$J=dp.create,LJ=up.create,BJ=gu.create,VJ=hc.create,UJ=gl.create,qJ=av.create,zJ=Za.create,Q$=Qr.create,KJ=Qr.strictCreate,HJ=mp.create,WJ=nj.create,GJ=hp.create,YJ=Di.create,QJ=pp.create,XJ=iv.create,ZJ=Pc.create,JJ=Fd.create,eee=fp.create,tee=xp.create,ree=jo.create,see=gp.create,nee=vu.create,M_=ri.create,aee=Pi.create,iee=bo.create,lee=ri.createWithPreprocess,oee=jf.create,cee=()=>ov().optional(),dee=()=>Y$().optional(),uee=()=>cC().optional(),ph={string:t=>Wa.create({...t,coerce:!0}),number:t=>vo.create({...t,coerce:!0}),boolean:t=>cp.create({...t,coerce:!0}),bigint:t=>yo.create({...t,coerce:!0}),date:t=>Cc.create({...t,coerce:!0})},mee=Mt;var _=Object.freeze({__proto__:null,defaultErrorMap:xu,setErrorMap:pJ,getErrorMap:tv,makeIssue:rv,EMPTY_PATH:fJ,addIssueToContext:it,ParseStatus:tn,INVALID:Mt,DIRTY:wd,OK:yn,isAborted:Lw,isDirty:Bw,isValid:lp,isAsync:op,get util(){return lr},get objectUtil(){return $w},ZodParsedType:ot,getParsedType:zl,ZodType:Zt,datetimeRegex:H$,ZodString:Wa,ZodNumber:vo,ZodBigInt:yo,ZodBoolean:cp,ZodDate:Cc,ZodSymbol:nv,ZodUndefined:dp,ZodNull:up,ZodAny:gu,ZodUnknown:hc,ZodNever:gl,ZodVoid:av,ZodArray:Za,ZodObject:Qr,ZodUnion:mp,ZodDiscriminatedUnion:nj,ZodIntersection:hp,ZodTuple:Di,ZodRecord:pp,ZodMap:iv,ZodSet:Pc,ZodFunction:Fd,ZodLazy:fp,ZodLiteral:xp,ZodEnum:jo,ZodNativeEnum:gp,ZodPromise:vu,ZodEffects:ri,ZodTransformer:ri,ZodOptional:Pi,ZodNullable:bo,ZodDefault:vp,ZodCatch:yp,ZodNaN:lv,BRAND:OJ,ZodBranded:oC,ZodPipeline:jf,ZodReadonly:jp,custom:G$,Schema:Zt,ZodSchema:Zt,late:EJ,get ZodFirstPartyTypeKind(){return Tt},coerce:ph,any:BJ,array:zJ,bigint:IJ,boolean:cC,date:RJ,discriminatedUnion:WJ,effect:M_,enum:ree,function:JJ,instanceof:DJ,intersection:GJ,lazy:eee,literal:tee,map:XJ,nan:MJ,nativeEnum:see,never:UJ,null:LJ,nullable:iee,number:Y$,object:Q$,oboolean:uee,onumber:dee,optional:aee,ostring:cee,pipeline:oee,preprocess:lee,promise:nee,record:QJ,set:ZJ,strictObject:KJ,string:ov,symbol:FJ,transformer:M_,tuple:YJ,undefined:$J,union:HJ,unknown:VJ,void:qJ,NEVER:mee,ZodIssueCode:Ke,quotelessJson:hJ,ZodError:ea});function aj(){const{user:t}=dt(),{data:r}=fe({queryKey:["/api/provider/registration-status"],enabled:!!t&&t.userType==="service_provider"}),s=(r==null?void 0:r.status)==="approved",n=(r==null?void 0:r.status)==="pending",a=(r==null?void 0:r.providerType)||(r==null?void 0:r.provider_type);return{...(()=>{if(!a&&!n&&!s)return{canAccessFarmerListings:!1,canAccessLocalProducts:!1,canAccessBookingServices:!1,canAccessRentalServices:!1,canAccessTaxiServices:!1,canAccessTransportServices:!1,canAccessRecyclingServices:!1,providerType:null,isApproved:!1,isPending:!1};if(n&&!s)return{canAccessFarmerListings:!1,canAccessLocalProducts:!1,canAccessBookingServices:!1,canAccessRentalServices:!1,canAccessTaxiServices:!1,canAccessTransportServices:!1,canAccessRecyclingServices:!1,providerType:a,isApproved:!1,isPending:!0};switch(a){case"farmer":return{canAccessFarmerListings:!0,canAccessLocalProducts:!1,canAccessBookingServices:!1,canAccessRentalServices:!1,canAccessTaxiServices:!1,canAccessTransportServices:!1,canAccessRecyclingServices:!1,providerType:a,isApproved:!0};case"manufacturer":return{canAccessFarmerListings:!1,canAccessLocalProducts:!0,canAccessBookingServices:!1,canAccessRentalServices:!1,canAccessTaxiServices:!1,canAccessTransportServices:!1,canAccessRecyclingServices:!1,providerType:a,isApproved:!0};case"booking_agent":return{canAccessFarmerListings:!1,canAccessLocalProducts:!1,canAccessBookingServices:!0,canAccessRentalServices:!1,canAccessTaxiServices:!1,canAccessTransportServices:!1,canAccessRecyclingServices:!1,providerType:a,isApproved:!0};case"rental":case"rental_provider":return{canAccessFarmerListings:!1,canAccessLocalProducts:!1,canAccessBookingServices:!1,canAccessRentalServices:!0,canAccessTaxiServices:!1,canAccessTransportServices:!1,canAccessRecyclingServices:!1,providerType:a,isApproved:!0};case"taxi_service":return{canAccessFarmerListings:!1,canAccessLocalProducts:!1,canAccessBookingServices:!1,canAccessRentalServices:!1,canAccessTaxiServices:!0,canAccessTransportServices:!1,canAccessRecyclingServices:!1,providerType:a,isApproved:!0};case"transport_service":return{canAccessFarmerListings:!1,canAccessLocalProducts:!1,canAccessBookingServices:!1,canAccessRentalServices:!1,canAccessTaxiServices:!1,canAccessTransportServices:!0,canAccessRecyclingServices:!1,providerType:a,isApproved:!0};case"recycling_agent":return{canAccessFarmerListings:!1,canAccessLocalProducts:!1,canAccessBookingServices:!1,canAccessRentalServices:!1,canAccessTaxiServices:!1,canAccessTransportServices:!1,canAccessRecyclingServices:!0,providerType:a,isApproved:!0};default:return{canAccessFarmerListings:!1,canAccessLocalProducts:!1,canAccessBookingServices:!1,canAccessRentalServices:!1,canAccessTaxiServices:!1,canAccessTransportServices:!1,canAccessRecyclingServices:!1,providerType:null,isApproved:!1}}})(),providerRegistration:r,isLoading:t&&t.userType==="provider"&&r===void 0}}const bp=im("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),T=j.forwardRef(({className:t,variant:r,size:s,asChild:n=!1,...a},i)=>{const l=n?Oi:"button";return e.jsx(l,{className:Oe(bp({variant:r,size:s,className:t})),ref:i,...a})});T.displayName="Button";const $=j.forwardRef(({className:t,type:r,...s},n)=>e.jsx("input",{type:r,className:Oe("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",t),ref:n,...s}));$.displayName="Input";const at=j.forwardRef(({className:t,...r},s)=>e.jsx("textarea",{className:Oe("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",t),ref:s,...r}));at.displayName="Textarea";function Uw(t,[r,s]){return Math.min(s,Math.max(r,t))}var hee=j.createContext(void 0);function Vc(t){const r=j.useContext(hee);return t||r||"ltr"}var f0=0;function ij(){j.useEffect(()=>{const t=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",t[0]??I_()),document.body.insertAdjacentElement("beforeend",t[1]??I_()),f0++,()=>{f0===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(r=>r.remove()),f0--}},[])}function I_(){const t=document.createElement("span");return t.setAttribute("data-radix-focus-guard",""),t.tabIndex=0,t.style.outline="none",t.style.opacity="0",t.style.position="fixed",t.style.pointerEvents="none",t}var x0="focusScope.autoFocusOnMount",g0="focusScope.autoFocusOnUnmount",R_={bubbles:!1,cancelable:!0},pee="FocusScope",bf=j.forwardRef((t,r)=>{const{loop:s=!1,trapped:n=!1,onMountAutoFocus:a,onUnmountAutoFocus:i,...l}=t,[o,c]=j.useState(null),d=Hr(a),u=Hr(i),m=j.useRef(null),h=Lt(r,p=>c(p)),g=j.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;j.useEffect(()=>{if(n){let p=function(b){if(g.paused||!o)return;const N=b.target;o.contains(N)?m.current=N:Fl(m.current,{select:!0})},y=function(b){if(g.paused||!o)return;const N=b.relatedTarget;N!==null&&(o.contains(N)||Fl(m.current,{select:!0}))},v=function(b){if(document.activeElement===document.body)for(const w of b)w.removedNodes.length>0&&Fl(o)};document.addEventListener("focusin",p),document.addEventListener("focusout",y);const x=new MutationObserver(v);return o&&x.observe(o,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",p),document.removeEventListener("focusout",y),x.disconnect()}}},[n,o,g.paused]),j.useEffect(()=>{if(o){$_.add(g);const p=document.activeElement;if(!o.contains(p)){const v=new CustomEvent(x0,R_);o.addEventListener(x0,d),o.dispatchEvent(v),v.defaultPrevented||(fee(jee(X$(o)),{select:!0}),document.activeElement===p&&Fl(o))}return()=>{o.removeEventListener(x0,d),setTimeout(()=>{const v=new CustomEvent(g0,R_);o.addEventListener(g0,u),o.dispatchEvent(v),v.defaultPrevented||Fl(p??document.body,{select:!0}),o.removeEventListener(g0,u),$_.remove(g)},0)}}},[o,d,u,g]);const f=j.useCallback(p=>{if(!s&&!n||g.paused)return;const y=p.key==="Tab"&&!p.altKey&&!p.ctrlKey&&!p.metaKey,v=document.activeElement;if(y&&v){const x=p.currentTarget,[b,N]=xee(x);b&&N?!p.shiftKey&&v===N?(p.preventDefault(),s&&Fl(b,{select:!0})):p.shiftKey&&v===b&&(p.preventDefault(),s&&Fl(N,{select:!0})):v===x&&p.preventDefault()}},[s,n,g.paused]);return e.jsx(ct.div,{tabIndex:-1,...l,ref:h,onKeyDown:f})});bf.displayName=pee;function fee(t,{select:r=!1}={}){const s=document.activeElement;for(const n of t)if(Fl(n,{select:r}),document.activeElement!==s)return}function xee(t){const r=X$(t),s=F_(r,t),n=F_(r.reverse(),t);return[s,n]}function X$(t){const r=[],s=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const a=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||a?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;s.nextNode();)r.push(s.currentNode);return r}function F_(t,r){for(const s of t)if(!gee(s,{upTo:r}))return s}function gee(t,{upTo:r}){if(getComputedStyle(t).visibility==="hidden")return!0;for(;t;){if(r!==void 0&&t===r)return!1;if(getComputedStyle(t).display==="none")return!0;t=t.parentElement}return!1}function vee(t){return t instanceof HTMLInputElement&&"select"in t}function Fl(t,{select:r=!1}={}){if(t&&t.focus){const s=document.activeElement;t.focus({preventScroll:!0}),t!==s&&vee(t)&&r&&t.select()}}var $_=yee();function yee(){let t=[];return{add(r){const s=t[0];r!==s&&(s==null||s.pause()),t=L_(t,r),t.unshift(r)},remove(r){var s;t=L_(t,r),(s=t[0])==null||s.resume()}}}function L_(t,r){const s=[...t],n=s.indexOf(r);return n!==-1&&s.splice(n,1),s}function jee(t){return t.filter(r=>r.tagName!=="A")}var bee=J3.useId||(()=>{}),Nee=0;function ta(t){const[r,s]=j.useState(bee());return fs(()=>{s(n=>n??String(Nee++))},[t]),r?`radix-${r}`:""}const wee=["top","right","bottom","left"],No=Math.min,Hn=Math.max,cv=Math.round,vx=Math.floor,ki=t=>({x:t,y:t}),See={left:"right",right:"left",bottom:"top",top:"bottom"},Cee={start:"end",end:"start"};function qw(t,r,s){return Hn(t,No(r,s))}function vl(t,r){return typeof t=="function"?t(r):t}function yl(t){return t.split("-")[0]}function om(t){return t.split("-")[1]}function dC(t){return t==="x"?"y":"x"}function uC(t){return t==="y"?"height":"width"}function wo(t){return["top","bottom"].includes(yl(t))?"y":"x"}function mC(t){return dC(wo(t))}function Pee(t,r,s){s===void 0&&(s=!1);const n=om(t),a=mC(t),i=uC(a);let l=a==="x"?n===(s?"end":"start")?"right":"left":n==="start"?"bottom":"top";return r.reference[i]>r.floating[i]&&(l=dv(l)),[l,dv(l)]}function kee(t){const r=dv(t);return[zw(t),r,zw(r)]}function zw(t){return t.replace(/start|end/g,r=>Cee[r])}function Aee(t,r,s){const n=["left","right"],a=["right","left"],i=["top","bottom"],l=["bottom","top"];switch(t){case"top":case"bottom":return s?r?a:n:r?n:a;case"left":case"right":return r?i:l;default:return[]}}function _ee(t,r,s,n){const a=om(t);let i=Aee(yl(t),s==="start",n);return a&&(i=i.map(l=>l+"-"+a),r&&(i=i.concat(i.map(zw)))),i}function dv(t){return t.replace(/left|right|bottom|top/g,r=>See[r])}function Tee(t){return{top:0,right:0,bottom:0,left:0,...t}}function Z$(t){return typeof t!="number"?Tee(t):{top:t,right:t,bottom:t,left:t}}function uv(t){const{x:r,y:s,width:n,height:a}=t;return{width:n,height:a,top:s,left:r,right:r+n,bottom:s+a,x:r,y:s}}function B_(t,r,s){let{reference:n,floating:a}=t;const i=wo(r),l=mC(r),o=uC(l),c=yl(r),d=i==="y",u=n.x+n.width/2-a.width/2,m=n.y+n.height/2-a.height/2,h=n[o]/2-a[o]/2;let g;switch(c){case"top":g={x:u,y:n.y-a.height};break;case"bottom":g={x:u,y:n.y+n.height};break;case"right":g={x:n.x+n.width,y:m};break;case"left":g={x:n.x-a.width,y:m};break;default:g={x:n.x,y:n.y}}switch(om(r)){case"start":g[l]-=h*(s&&d?-1:1);break;case"end":g[l]+=h*(s&&d?-1:1);break}return g}const Oee=async(t,r,s)=>{const{placement:n="bottom",strategy:a="absolute",middleware:i=[],platform:l}=s,o=i.filter(Boolean),c=await(l.isRTL==null?void 0:l.isRTL(r));let d=await l.getElementRects({reference:t,floating:r,strategy:a}),{x:u,y:m}=B_(d,n,c),h=n,g={},f=0;for(let p=0;p<o.length;p++){const{name:y,fn:v}=o[p],{x,y:b,data:N,reset:w}=await v({x:u,y:m,initialPlacement:n,placement:h,strategy:a,middlewareData:g,rects:d,platform:l,elements:{reference:t,floating:r}});u=x??u,m=b??m,g={...g,[y]:{...g[y],...N}},w&&f<=50&&(f++,typeof w=="object"&&(w.placement&&(h=w.placement),w.rects&&(d=w.rects===!0?await l.getElementRects({reference:t,floating:r,strategy:a}):w.rects),{x:u,y:m}=B_(d,h,c)),p=-1)}return{x:u,y:m,placement:h,strategy:a,middlewareData:g}};async function Np(t,r){var s;r===void 0&&(r={});const{x:n,y:a,platform:i,rects:l,elements:o,strategy:c}=t,{boundary:d="clippingAncestors",rootBoundary:u="viewport",elementContext:m="floating",altBoundary:h=!1,padding:g=0}=vl(r,t),f=Z$(g),y=o[h?m==="floating"?"reference":"floating":m],v=uv(await i.getClippingRect({element:(s=await(i.isElement==null?void 0:i.isElement(y)))==null||s?y:y.contextElement||await(i.getDocumentElement==null?void 0:i.getDocumentElement(o.floating)),boundary:d,rootBoundary:u,strategy:c})),x=m==="floating"?{x:n,y:a,width:l.floating.width,height:l.floating.height}:l.reference,b=await(i.getOffsetParent==null?void 0:i.getOffsetParent(o.floating)),N=await(i.isElement==null?void 0:i.isElement(b))?await(i.getScale==null?void 0:i.getScale(b))||{x:1,y:1}:{x:1,y:1},w=uv(i.convertOffsetParentRelativeRectToViewportRelativeRect?await i.convertOffsetParentRelativeRectToViewportRelativeRect({elements:o,rect:x,offsetParent:b,strategy:c}):x);return{top:(v.top-w.top+f.top)/N.y,bottom:(w.bottom-v.bottom+f.bottom)/N.y,left:(v.left-w.left+f.left)/N.x,right:(w.right-v.right+f.right)/N.x}}const Eee=t=>({name:"arrow",options:t,async fn(r){const{x:s,y:n,placement:a,rects:i,platform:l,elements:o,middlewareData:c}=r,{element:d,padding:u=0}=vl(t,r)||{};if(d==null)return{};const m=Z$(u),h={x:s,y:n},g=mC(a),f=uC(g),p=await l.getDimensions(d),y=g==="y",v=y?"top":"left",x=y?"bottom":"right",b=y?"clientHeight":"clientWidth",N=i.reference[f]+i.reference[g]-h[g]-i.floating[f],w=h[g]-i.reference[g],C=await(l.getOffsetParent==null?void 0:l.getOffsetParent(d));let P=C?C[b]:0;(!P||!await(l.isElement==null?void 0:l.isElement(C)))&&(P=o.floating[b]||i.floating[f]);const S=N/2-w/2,A=P/2-p[f]/2-1,k=No(m[v],A),I=No(m[x],A),L=k,K=P-p[f]-I,R=P/2-p[f]/2+S,F=qw(L,R,K),W=!c.arrow&&om(a)!=null&&R!==F&&i.reference[f]/2-(R<L?k:I)-p[f]/2<0,Q=W?R<L?R-L:R-K:0;return{[g]:h[g]+Q,data:{[g]:F,centerOffset:R-F-Q,...W&&{alignmentOffset:Q}},reset:W}}}),Dee=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(r){var s,n;const{placement:a,middlewareData:i,rects:l,initialPlacement:o,platform:c,elements:d}=r,{mainAxis:u=!0,crossAxis:m=!0,fallbackPlacements:h,fallbackStrategy:g="bestFit",fallbackAxisSideDirection:f="none",flipAlignment:p=!0,...y}=vl(t,r);if((s=i.arrow)!=null&&s.alignmentOffset)return{};const v=yl(a),x=wo(o),b=yl(o)===o,N=await(c.isRTL==null?void 0:c.isRTL(d.floating)),w=h||(b||!p?[dv(o)]:kee(o)),C=f!=="none";!h&&C&&w.push(..._ee(o,p,f,N));const P=[o,...w],S=await Np(r,y),A=[];let k=((n=i.flip)==null?void 0:n.overflows)||[];if(u&&A.push(S[v]),m){const R=Pee(a,l,N);A.push(S[R[0]],S[R[1]])}if(k=[...k,{placement:a,overflows:A}],!A.every(R=>R<=0)){var I,L;const R=(((I=i.flip)==null?void 0:I.index)||0)+1,F=P[R];if(F)return{data:{index:R,overflows:k},reset:{placement:F}};let W=(L=k.filter(Q=>Q.overflows[0]<=0).sort((Q,H)=>Q.overflows[1]-H.overflows[1])[0])==null?void 0:L.placement;if(!W)switch(g){case"bestFit":{var K;const Q=(K=k.filter(H=>{if(C){const Z=wo(H.placement);return Z===x||Z==="y"}return!0}).map(H=>[H.placement,H.overflows.filter(Z=>Z>0).reduce((Z,me)=>Z+me,0)]).sort((H,Z)=>H[1]-Z[1])[0])==null?void 0:K[0];Q&&(W=Q);break}case"initialPlacement":W=o;break}if(a!==W)return{reset:{placement:W}}}return{}}}};function V_(t,r){return{top:t.top-r.height,right:t.right-r.width,bottom:t.bottom-r.height,left:t.left-r.width}}function U_(t){return wee.some(r=>t[r]>=0)}const Mee=function(t){return t===void 0&&(t={}),{name:"hide",options:t,async fn(r){const{rects:s}=r,{strategy:n="referenceHidden",...a}=vl(t,r);switch(n){case"referenceHidden":{const i=await Np(r,{...a,elementContext:"reference"}),l=V_(i,s.reference);return{data:{referenceHiddenOffsets:l,referenceHidden:U_(l)}}}case"escaped":{const i=await Np(r,{...a,altBoundary:!0}),l=V_(i,s.floating);return{data:{escapedOffsets:l,escaped:U_(l)}}}default:return{}}}}};async function Iee(t,r){const{placement:s,platform:n,elements:a}=t,i=await(n.isRTL==null?void 0:n.isRTL(a.floating)),l=yl(s),o=om(s),c=wo(s)==="y",d=["left","top"].includes(l)?-1:1,u=i&&c?-1:1,m=vl(r,t);let{mainAxis:h,crossAxis:g,alignmentAxis:f}=typeof m=="number"?{mainAxis:m,crossAxis:0,alignmentAxis:null}:{mainAxis:m.mainAxis||0,crossAxis:m.crossAxis||0,alignmentAxis:m.alignmentAxis};return o&&typeof f=="number"&&(g=o==="end"?f*-1:f),c?{x:g*u,y:h*d}:{x:h*d,y:g*u}}const Ree=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(r){var s,n;const{x:a,y:i,placement:l,middlewareData:o}=r,c=await Iee(r,t);return l===((s=o.offset)==null?void 0:s.placement)&&(n=o.arrow)!=null&&n.alignmentOffset?{}:{x:a+c.x,y:i+c.y,data:{...c,placement:l}}}}},Fee=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(r){const{x:s,y:n,placement:a}=r,{mainAxis:i=!0,crossAxis:l=!1,limiter:o={fn:y=>{let{x:v,y:x}=y;return{x:v,y:x}}},...c}=vl(t,r),d={x:s,y:n},u=await Np(r,c),m=wo(yl(a)),h=dC(m);let g=d[h],f=d[m];if(i){const y=h==="y"?"top":"left",v=h==="y"?"bottom":"right",x=g+u[y],b=g-u[v];g=qw(x,g,b)}if(l){const y=m==="y"?"top":"left",v=m==="y"?"bottom":"right",x=f+u[y],b=f-u[v];f=qw(x,f,b)}const p=o.fn({...r,[h]:g,[m]:f});return{...p,data:{x:p.x-s,y:p.y-n,enabled:{[h]:i,[m]:l}}}}}},$ee=function(t){return t===void 0&&(t={}),{options:t,fn(r){const{x:s,y:n,placement:a,rects:i,middlewareData:l}=r,{offset:o=0,mainAxis:c=!0,crossAxis:d=!0}=vl(t,r),u={x:s,y:n},m=wo(a),h=dC(m);let g=u[h],f=u[m];const p=vl(o,r),y=typeof p=="number"?{mainAxis:p,crossAxis:0}:{mainAxis:0,crossAxis:0,...p};if(c){const b=h==="y"?"height":"width",N=i.reference[h]-i.floating[b]+y.mainAxis,w=i.reference[h]+i.reference[b]-y.mainAxis;g<N?g=N:g>w&&(g=w)}if(d){var v,x;const b=h==="y"?"width":"height",N=["top","left"].includes(yl(a)),w=i.reference[m]-i.floating[b]+(N&&((v=l.offset)==null?void 0:v[m])||0)+(N?0:y.crossAxis),C=i.reference[m]+i.reference[b]+(N?0:((x=l.offset)==null?void 0:x[m])||0)-(N?y.crossAxis:0);f<w?f=w:f>C&&(f=C)}return{[h]:g,[m]:f}}}},Lee=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(r){var s,n;const{placement:a,rects:i,platform:l,elements:o}=r,{apply:c=()=>{},...d}=vl(t,r),u=await Np(r,d),m=yl(a),h=om(a),g=wo(a)==="y",{width:f,height:p}=i.floating;let y,v;m==="top"||m==="bottom"?(y=m,v=h===(await(l.isRTL==null?void 0:l.isRTL(o.floating))?"start":"end")?"left":"right"):(v=m,y=h==="end"?"top":"bottom");const x=p-u.top-u.bottom,b=f-u.left-u.right,N=No(p-u[y],x),w=No(f-u[v],b),C=!r.middlewareData.shift;let P=N,S=w;if((s=r.middlewareData.shift)!=null&&s.enabled.x&&(S=b),(n=r.middlewareData.shift)!=null&&n.enabled.y&&(P=x),C&&!h){const k=Hn(u.left,0),I=Hn(u.right,0),L=Hn(u.top,0),K=Hn(u.bottom,0);g?S=f-2*(k!==0||I!==0?k+I:Hn(u.left,u.right)):P=p-2*(L!==0||K!==0?L+K:Hn(u.top,u.bottom))}await c({...r,availableWidth:S,availableHeight:P});const A=await l.getDimensions(o.floating);return f!==A.width||p!==A.height?{reset:{rects:!0}}:{}}}};function lj(){return typeof window<"u"}function cm(t){return J$(t)?(t.nodeName||"").toLowerCase():"#document"}function ra(t){var r;return(t==null||(r=t.ownerDocument)==null?void 0:r.defaultView)||window}function Li(t){var r;return(r=(J$(t)?t.ownerDocument:t.document)||window.document)==null?void 0:r.documentElement}function J$(t){return lj()?t instanceof Node||t instanceof ra(t).Node:!1}function si(t){return lj()?t instanceof Element||t instanceof ra(t).Element:!1}function Mi(t){return lj()?t instanceof HTMLElement||t instanceof ra(t).HTMLElement:!1}function q_(t){return!lj()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof ra(t).ShadowRoot}function Nf(t){const{overflow:r,overflowX:s,overflowY:n,display:a}=ni(t);return/auto|scroll|overlay|hidden|clip/.test(r+n+s)&&!["inline","contents"].includes(a)}function Bee(t){return["table","td","th"].includes(cm(t))}function oj(t){return[":popover-open",":modal"].some(r=>{try{return t.matches(r)}catch{return!1}})}function hC(t){const r=pC(),s=si(t)?ni(t):t;return s.transform!=="none"||s.perspective!=="none"||(s.containerType?s.containerType!=="normal":!1)||!r&&(s.backdropFilter?s.backdropFilter!=="none":!1)||!r&&(s.filter?s.filter!=="none":!1)||["transform","perspective","filter"].some(n=>(s.willChange||"").includes(n))||["paint","layout","strict","content"].some(n=>(s.contain||"").includes(n))}function Vee(t){let r=So(t);for(;Mi(r)&&!yu(r);){if(hC(r))return r;if(oj(r))return null;r=So(r)}return null}function pC(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function yu(t){return["html","body","#document"].includes(cm(t))}function ni(t){return ra(t).getComputedStyle(t)}function cj(t){return si(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function So(t){if(cm(t)==="html")return t;const r=t.assignedSlot||t.parentNode||q_(t)&&t.host||Li(t);return q_(r)?r.host:r}function eL(t){const r=So(t);return yu(r)?t.ownerDocument?t.ownerDocument.body:t.body:Mi(r)&&Nf(r)?r:eL(r)}function wp(t,r,s){var n;r===void 0&&(r=[]),s===void 0&&(s=!0);const a=eL(t),i=a===((n=t.ownerDocument)==null?void 0:n.body),l=ra(a);if(i){const o=Kw(l);return r.concat(l,l.visualViewport||[],Nf(a)?a:[],o&&s?wp(o):[])}return r.concat(a,wp(a,[],s))}function Kw(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function tL(t){const r=ni(t);let s=parseFloat(r.width)||0,n=parseFloat(r.height)||0;const a=Mi(t),i=a?t.offsetWidth:s,l=a?t.offsetHeight:n,o=cv(s)!==i||cv(n)!==l;return o&&(s=i,n=l),{width:s,height:n,$:o}}function fC(t){return si(t)?t:t.contextElement}function $d(t){const r=fC(t);if(!Mi(r))return ki(1);const s=r.getBoundingClientRect(),{width:n,height:a,$:i}=tL(r);let l=(i?cv(s.width):s.width)/n,o=(i?cv(s.height):s.height)/a;return(!l||!Number.isFinite(l))&&(l=1),(!o||!Number.isFinite(o))&&(o=1),{x:l,y:o}}const Uee=ki(0);function rL(t){const r=ra(t);return!pC()||!r.visualViewport?Uee:{x:r.visualViewport.offsetLeft,y:r.visualViewport.offsetTop}}function qee(t,r,s){return r===void 0&&(r=!1),!s||r&&s!==ra(t)?!1:r}function kc(t,r,s,n){r===void 0&&(r=!1),s===void 0&&(s=!1);const a=t.getBoundingClientRect(),i=fC(t);let l=ki(1);r&&(n?si(n)&&(l=$d(n)):l=$d(t));const o=qee(i,s,n)?rL(i):ki(0);let c=(a.left+o.x)/l.x,d=(a.top+o.y)/l.y,u=a.width/l.x,m=a.height/l.y;if(i){const h=ra(i),g=n&&si(n)?ra(n):n;let f=h,p=Kw(f);for(;p&&n&&g!==f;){const y=$d(p),v=p.getBoundingClientRect(),x=ni(p),b=v.left+(p.clientLeft+parseFloat(x.paddingLeft))*y.x,N=v.top+(p.clientTop+parseFloat(x.paddingTop))*y.y;c*=y.x,d*=y.y,u*=y.x,m*=y.y,c+=b,d+=N,f=ra(p),p=Kw(f)}}return uv({width:u,height:m,x:c,y:d})}function xC(t,r){const s=cj(t).scrollLeft;return r?r.left+s:kc(Li(t)).left+s}function sL(t,r,s){s===void 0&&(s=!1);const n=t.getBoundingClientRect(),a=n.left+r.scrollLeft-(s?0:xC(t,n)),i=n.top+r.scrollTop;return{x:a,y:i}}function zee(t){let{elements:r,rect:s,offsetParent:n,strategy:a}=t;const i=a==="fixed",l=Li(n),o=r?oj(r.floating):!1;if(n===l||o&&i)return s;let c={scrollLeft:0,scrollTop:0},d=ki(1);const u=ki(0),m=Mi(n);if((m||!m&&!i)&&((cm(n)!=="body"||Nf(l))&&(c=cj(n)),Mi(n))){const g=kc(n);d=$d(n),u.x=g.x+n.clientLeft,u.y=g.y+n.clientTop}const h=l&&!m&&!i?sL(l,c,!0):ki(0);return{width:s.width*d.x,height:s.height*d.y,x:s.x*d.x-c.scrollLeft*d.x+u.x+h.x,y:s.y*d.y-c.scrollTop*d.y+u.y+h.y}}function Kee(t){return Array.from(t.getClientRects())}function Hee(t){const r=Li(t),s=cj(t),n=t.ownerDocument.body,a=Hn(r.scrollWidth,r.clientWidth,n.scrollWidth,n.clientWidth),i=Hn(r.scrollHeight,r.clientHeight,n.scrollHeight,n.clientHeight);let l=-s.scrollLeft+xC(t);const o=-s.scrollTop;return ni(n).direction==="rtl"&&(l+=Hn(r.clientWidth,n.clientWidth)-a),{width:a,height:i,x:l,y:o}}function Wee(t,r){const s=ra(t),n=Li(t),a=s.visualViewport;let i=n.clientWidth,l=n.clientHeight,o=0,c=0;if(a){i=a.width,l=a.height;const d=pC();(!d||d&&r==="fixed")&&(o=a.offsetLeft,c=a.offsetTop)}return{width:i,height:l,x:o,y:c}}function Gee(t,r){const s=kc(t,!0,r==="fixed"),n=s.top+t.clientTop,a=s.left+t.clientLeft,i=Mi(t)?$d(t):ki(1),l=t.clientWidth*i.x,o=t.clientHeight*i.y,c=a*i.x,d=n*i.y;return{width:l,height:o,x:c,y:d}}function z_(t,r,s){let n;if(r==="viewport")n=Wee(t,s);else if(r==="document")n=Hee(Li(t));else if(si(r))n=Gee(r,s);else{const a=rL(t);n={x:r.x-a.x,y:r.y-a.y,width:r.width,height:r.height}}return uv(n)}function nL(t,r){const s=So(t);return s===r||!si(s)||yu(s)?!1:ni(s).position==="fixed"||nL(s,r)}function Yee(t,r){const s=r.get(t);if(s)return s;let n=wp(t,[],!1).filter(o=>si(o)&&cm(o)!=="body"),a=null;const i=ni(t).position==="fixed";let l=i?So(t):t;for(;si(l)&&!yu(l);){const o=ni(l),c=hC(l);!c&&o.position==="fixed"&&(a=null),(i?!c&&!a:!c&&o.position==="static"&&!!a&&["absolute","fixed"].includes(a.position)||Nf(l)&&!c&&nL(t,l))?n=n.filter(u=>u!==l):a=o,l=So(l)}return r.set(t,n),n}function Qee(t){let{element:r,boundary:s,rootBoundary:n,strategy:a}=t;const l=[...s==="clippingAncestors"?oj(r)?[]:Yee(r,this._c):[].concat(s),n],o=l[0],c=l.reduce((d,u)=>{const m=z_(r,u,a);return d.top=Hn(m.top,d.top),d.right=No(m.right,d.right),d.bottom=No(m.bottom,d.bottom),d.left=Hn(m.left,d.left),d},z_(r,o,a));return{width:c.right-c.left,height:c.bottom-c.top,x:c.left,y:c.top}}function Xee(t){const{width:r,height:s}=tL(t);return{width:r,height:s}}function Zee(t,r,s){const n=Mi(r),a=Li(r),i=s==="fixed",l=kc(t,!0,i,r);let o={scrollLeft:0,scrollTop:0};const c=ki(0);if(n||!n&&!i)if((cm(r)!=="body"||Nf(a))&&(o=cj(r)),n){const h=kc(r,!0,i,r);c.x=h.x+r.clientLeft,c.y=h.y+r.clientTop}else a&&(c.x=xC(a));const d=a&&!n&&!i?sL(a,o):ki(0),u=l.left+o.scrollLeft-c.x-d.x,m=l.top+o.scrollTop-c.y-d.y;return{x:u,y:m,width:l.width,height:l.height}}function v0(t){return ni(t).position==="static"}function K_(t,r){if(!Mi(t)||ni(t).position==="fixed")return null;if(r)return r(t);let s=t.offsetParent;return Li(t)===s&&(s=s.ownerDocument.body),s}function aL(t,r){const s=ra(t);if(oj(t))return s;if(!Mi(t)){let a=So(t);for(;a&&!yu(a);){if(si(a)&&!v0(a))return a;a=So(a)}return s}let n=K_(t,r);for(;n&&Bee(n)&&v0(n);)n=K_(n,r);return n&&yu(n)&&v0(n)&&!hC(n)?s:n||Vee(t)||s}const Jee=async function(t){const r=this.getOffsetParent||aL,s=this.getDimensions,n=await s(t.floating);return{reference:Zee(t.reference,await r(t.floating),t.strategy),floating:{x:0,y:0,width:n.width,height:n.height}}};function ete(t){return ni(t).direction==="rtl"}const tte={convertOffsetParentRelativeRectToViewportRelativeRect:zee,getDocumentElement:Li,getClippingRect:Qee,getOffsetParent:aL,getElementRects:Jee,getClientRects:Kee,getDimensions:Xee,getScale:$d,isElement:si,isRTL:ete};function rte(t,r){let s=null,n;const a=Li(t);function i(){var o;clearTimeout(n),(o=s)==null||o.disconnect(),s=null}function l(o,c){o===void 0&&(o=!1),c===void 0&&(c=1),i();const{left:d,top:u,width:m,height:h}=t.getBoundingClientRect();if(o||r(),!m||!h)return;const g=vx(u),f=vx(a.clientWidth-(d+m)),p=vx(a.clientHeight-(u+h)),y=vx(d),x={rootMargin:-g+"px "+-f+"px "+-p+"px "+-y+"px",threshold:Hn(0,No(1,c))||1};let b=!0;function N(w){const C=w[0].intersectionRatio;if(C!==c){if(!b)return l();C?l(!1,C):n=setTimeout(()=>{l(!1,1e-7)},1e3)}b=!1}try{s=new IntersectionObserver(N,{...x,root:a.ownerDocument})}catch{s=new IntersectionObserver(N,x)}s.observe(t)}return l(!0),i}function ste(t,r,s,n){n===void 0&&(n={});const{ancestorScroll:a=!0,ancestorResize:i=!0,elementResize:l=typeof ResizeObserver=="function",layoutShift:o=typeof IntersectionObserver=="function",animationFrame:c=!1}=n,d=fC(t),u=a||i?[...d?wp(d):[],...wp(r)]:[];u.forEach(v=>{a&&v.addEventListener("scroll",s,{passive:!0}),i&&v.addEventListener("resize",s)});const m=d&&o?rte(d,s):null;let h=-1,g=null;l&&(g=new ResizeObserver(v=>{let[x]=v;x&&x.target===d&&g&&(g.unobserve(r),cancelAnimationFrame(h),h=requestAnimationFrame(()=>{var b;(b=g)==null||b.observe(r)})),s()}),d&&!c&&g.observe(d),g.observe(r));let f,p=c?kc(t):null;c&&y();function y(){const v=kc(t);p&&(v.x!==p.x||v.y!==p.y||v.width!==p.width||v.height!==p.height)&&s(),p=v,f=requestAnimationFrame(y)}return s(),()=>{var v;u.forEach(x=>{a&&x.removeEventListener("scroll",s),i&&x.removeEventListener("resize",s)}),m==null||m(),(v=g)==null||v.disconnect(),g=null,c&&cancelAnimationFrame(f)}}const nte=Ree,ate=Fee,ite=Dee,lte=Lee,ote=Mee,H_=Eee,cte=$ee,dte=(t,r,s)=>{const n=new Map,a={platform:tte,...s},i={...a.platform,_c:n};return Oee(t,r,{...a,platform:i})};var dg=typeof document<"u"?j.useLayoutEffect:j.useEffect;function mv(t,r){if(t===r)return!0;if(typeof t!=typeof r)return!1;if(typeof t=="function"&&t.toString()===r.toString())return!0;let s,n,a;if(t&&r&&typeof t=="object"){if(Array.isArray(t)){if(s=t.length,s!==r.length)return!1;for(n=s;n--!==0;)if(!mv(t[n],r[n]))return!1;return!0}if(a=Object.keys(t),s=a.length,s!==Object.keys(r).length)return!1;for(n=s;n--!==0;)if(!{}.hasOwnProperty.call(r,a[n]))return!1;for(n=s;n--!==0;){const i=a[n];if(!(i==="_owner"&&t.$$typeof)&&!mv(t[i],r[i]))return!1}return!0}return t!==t&&r!==r}function iL(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function W_(t,r){const s=iL(t);return Math.round(r*s)/s}function y0(t){const r=j.useRef(t);return dg(()=>{r.current=t}),r}function ute(t){t===void 0&&(t={});const{placement:r="bottom",strategy:s="absolute",middleware:n=[],platform:a,elements:{reference:i,floating:l}={},transform:o=!0,whileElementsMounted:c,open:d}=t,[u,m]=j.useState({x:0,y:0,strategy:s,placement:r,middlewareData:{},isPositioned:!1}),[h,g]=j.useState(n);mv(h,n)||g(n);const[f,p]=j.useState(null),[y,v]=j.useState(null),x=j.useCallback(H=>{H!==C.current&&(C.current=H,p(H))},[]),b=j.useCallback(H=>{H!==P.current&&(P.current=H,v(H))},[]),N=i||f,w=l||y,C=j.useRef(null),P=j.useRef(null),S=j.useRef(u),A=c!=null,k=y0(c),I=y0(a),L=y0(d),K=j.useCallback(()=>{if(!C.current||!P.current)return;const H={placement:r,strategy:s,middleware:h};I.current&&(H.platform=I.current),dte(C.current,P.current,H).then(Z=>{const me={...Z,isPositioned:L.current!==!1};R.current&&!mv(S.current,me)&&(S.current=me,Lc.flushSync(()=>{m(me)}))})},[h,r,s,I,L]);dg(()=>{d===!1&&S.current.isPositioned&&(S.current.isPositioned=!1,m(H=>({...H,isPositioned:!1})))},[d]);const R=j.useRef(!1);dg(()=>(R.current=!0,()=>{R.current=!1}),[]),dg(()=>{if(N&&(C.current=N),w&&(P.current=w),N&&w){if(k.current)return k.current(N,w,K);K()}},[N,w,K,k,A]);const F=j.useMemo(()=>({reference:C,floating:P,setReference:x,setFloating:b}),[x,b]),W=j.useMemo(()=>({reference:N,floating:w}),[N,w]),Q=j.useMemo(()=>{const H={position:s,left:0,top:0};if(!W.floating)return H;const Z=W_(W.floating,u.x),me=W_(W.floating,u.y);return o?{...H,transform:"translate("+Z+"px, "+me+"px)",...iL(W.floating)>=1.5&&{willChange:"transform"}}:{position:s,left:Z,top:me}},[s,o,W.floating,u.x,u.y]);return j.useMemo(()=>({...u,update:K,refs:F,elements:W,floatingStyles:Q}),[u,K,F,W,Q])}const mte=t=>{function r(s){return{}.hasOwnProperty.call(s,"current")}return{name:"arrow",options:t,fn(s){const{element:n,padding:a}=typeof t=="function"?t(s):t;return n&&r(n)?n.current!=null?H_({element:n.current,padding:a}).fn(s):{}:n?H_({element:n,padding:a}).fn(s):{}}}},hte=(t,r)=>({...nte(t),options:[t,r]}),pte=(t,r)=>({...ate(t),options:[t,r]}),fte=(t,r)=>({...cte(t),options:[t,r]}),xte=(t,r)=>({...ite(t),options:[t,r]}),gte=(t,r)=>({...lte(t),options:[t,r]}),vte=(t,r)=>({...ote(t),options:[t,r]}),yte=(t,r)=>({...mte(t),options:[t,r]});var jte="Arrow",lL=j.forwardRef((t,r)=>{const{children:s,width:n=10,height:a=5,...i}=t;return e.jsx(ct.svg,{...i,ref:r,width:n,height:a,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:t.asChild?s:e.jsx("polygon",{points:"0,0 30,0 15,10"})})});lL.displayName=jte;var bte=lL;function Nte(t,r=[]){let s=[];function n(i,l){const o=j.createContext(l),c=s.length;s=[...s,l];function d(m){const{scope:h,children:g,...f}=m,p=(h==null?void 0:h[t][c])||o,y=j.useMemo(()=>f,Object.values(f));return e.jsx(p.Provider,{value:y,children:g})}function u(m,h){const g=(h==null?void 0:h[t][c])||o,f=j.useContext(g);if(f)return f;if(l!==void 0)return l;throw new Error(`\`${m}\` must be used within \`${i}\``)}return d.displayName=i+"Provider",[d,u]}const a=()=>{const i=s.map(l=>j.createContext(l));return function(o){const c=(o==null?void 0:o[t])||i;return j.useMemo(()=>({[`__scope${t}`]:{...o,[t]:c}}),[o,c])}};return a.scopeName=t,[n,wte(a,...r)]}function wte(...t){const r=t[0];if(t.length===1)return r;const s=()=>{const n=t.map(a=>({useScope:a(),scopeName:a.scopeName}));return function(i){const l=n.reduce((o,{useScope:c,scopeName:d})=>{const m=c(i)[`__scope${d}`];return{...o,...m}},{});return j.useMemo(()=>({[`__scope${r.scopeName}`]:l}),[l])}};return s.scopeName=r.scopeName,s}function dj(t){const[r,s]=j.useState(void 0);return fs(()=>{if(t){s({width:t.offsetWidth,height:t.offsetHeight});const n=new ResizeObserver(a=>{if(!Array.isArray(a)||!a.length)return;const i=a[0];let l,o;if("borderBoxSize"in i){const c=i.borderBoxSize,d=Array.isArray(c)?c[0]:c;l=d.inlineSize,o=d.blockSize}else l=t.offsetWidth,o=t.offsetHeight;s({width:l,height:o})});return n.observe(t,{box:"border-box"}),()=>n.unobserve(t)}else s(void 0)},[t]),r}var gC="Popper",[oL,dm]=Nte(gC),[Ste,cL]=oL(gC),dL=t=>{const{__scopePopper:r,children:s}=t,[n,a]=j.useState(null);return e.jsx(Ste,{scope:r,anchor:n,onAnchorChange:a,children:s})};dL.displayName=gC;var uL="PopperAnchor",mL=j.forwardRef((t,r)=>{const{__scopePopper:s,virtualRef:n,...a}=t,i=cL(uL,s),l=j.useRef(null),o=Lt(r,l);return j.useEffect(()=>{i.onAnchorChange((n==null?void 0:n.current)||l.current)}),n?null:e.jsx(ct.div,{...a,ref:o})});mL.displayName=uL;var vC="PopperContent",[Cte,Pte]=oL(vC),hL=j.forwardRef((t,r)=>{var De,rt,Me,Ge,Xe,Ce;const{__scopePopper:s,side:n="bottom",sideOffset:a=0,align:i="center",alignOffset:l=0,arrowPadding:o=0,avoidCollisions:c=!0,collisionBoundary:d=[],collisionPadding:u=0,sticky:m="partial",hideWhenDetached:h=!1,updatePositionStrategy:g="optimized",onPlaced:f,...p}=t,y=cL(vC,s),[v,x]=j.useState(null),b=Lt(r,Ft=>x(Ft)),[N,w]=j.useState(null),C=dj(N),P=(C==null?void 0:C.width)??0,S=(C==null?void 0:C.height)??0,A=n+(i!=="center"?"-"+i:""),k=typeof u=="number"?u:{top:0,right:0,bottom:0,left:0,...u},I=Array.isArray(d)?d:[d],L=I.length>0,K={padding:k,boundary:I.filter(Ate),altBoundary:L},{refs:R,floatingStyles:F,placement:W,isPositioned:Q,middlewareData:H}=ute({strategy:"fixed",placement:A,whileElementsMounted:(...Ft)=>ste(...Ft,{animationFrame:g==="always"}),elements:{reference:y.anchor},middleware:[hte({mainAxis:a+S,alignmentAxis:l}),c&&pte({mainAxis:!0,crossAxis:!1,limiter:m==="partial"?fte():void 0,...K}),c&&xte({...K}),gte({...K,apply:({elements:Ft,rects:yt,availableWidth:cr,availableHeight:ar})=>{const{width:Sr,height:re}=yt.reference,ee=Ft.floating.style;ee.setProperty("--radix-popper-available-width",`${cr}px`),ee.setProperty("--radix-popper-available-height",`${ar}px`),ee.setProperty("--radix-popper-anchor-width",`${Sr}px`),ee.setProperty("--radix-popper-anchor-height",`${re}px`)}}),N&&yte({element:N,padding:o}),_te({arrowWidth:P,arrowHeight:S}),h&&vte({strategy:"referenceHidden",...K})]}),[Z,me]=xL(W),Ne=Hr(f);fs(()=>{Q&&(Ne==null||Ne())},[Q,Ne]);const te=(De=H.arrow)==null?void 0:De.x,Ie=(rt=H.arrow)==null?void 0:rt.y,Te=((Me=H.arrow)==null?void 0:Me.centerOffset)!==0,[de,Ee]=j.useState();return fs(()=>{v&&Ee(window.getComputedStyle(v).zIndex)},[v]),e.jsx("div",{ref:R.setFloating,"data-radix-popper-content-wrapper":"",style:{...F,transform:Q?F.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:de,"--radix-popper-transform-origin":[(Ge=H.transformOrigin)==null?void 0:Ge.x,(Xe=H.transformOrigin)==null?void 0:Xe.y].join(" "),...((Ce=H.hide)==null?void 0:Ce.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:t.dir,children:e.jsx(Cte,{scope:s,placedSide:Z,onArrowChange:w,arrowX:te,arrowY:Ie,shouldHideArrow:Te,children:e.jsx(ct.div,{"data-side":Z,"data-align":me,...p,ref:b,style:{...p.style,animation:Q?void 0:"none"}})})})});hL.displayName=vC;var pL="PopperArrow",kte={top:"bottom",right:"left",bottom:"top",left:"right"},fL=j.forwardRef(function(r,s){const{__scopePopper:n,...a}=r,i=Pte(pL,n),l=kte[i.placedSide];return e.jsx("span",{ref:i.onArrowChange,style:{position:"absolute",left:i.arrowX,top:i.arrowY,[l]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[i.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[i.placedSide],visibility:i.shouldHideArrow?"hidden":void 0},children:e.jsx(bte,{...a,ref:s,style:{...a.style,display:"block"}})})});fL.displayName=pL;function Ate(t){return t!==null}var _te=t=>({name:"transformOrigin",options:t,fn(r){var y,v,x;const{placement:s,rects:n,middlewareData:a}=r,l=((y=a.arrow)==null?void 0:y.centerOffset)!==0,o=l?0:t.arrowWidth,c=l?0:t.arrowHeight,[d,u]=xL(s),m={start:"0%",center:"50%",end:"100%"}[u],h=(((v=a.arrow)==null?void 0:v.x)??0)+o/2,g=(((x=a.arrow)==null?void 0:x.y)??0)+c/2;let f="",p="";return d==="bottom"?(f=l?m:`${h}px`,p=`${-c}px`):d==="top"?(f=l?m:`${h}px`,p=`${n.floating.height+c}px`):d==="right"?(f=`${-c}px`,p=l?m:`${g}px`):d==="left"&&(f=`${n.floating.width+c}px`,p=l?m:`${g}px`),{data:{x:f,y:p}}}});function xL(t){const[r,s="center"]=t.split("-");return[r,s]}var yC=dL,uj=mL,jC=hL,bC=fL;function mj(t){const r=j.useRef({value:t,previous:t});return j.useMemo(()=>(r.current.value!==t&&(r.current.previous=r.current.value,r.current.value=t),r.current.previous),[t])}var Tte=function(t){if(typeof document>"u")return null;var r=Array.isArray(t)?t[0]:t;return r.ownerDocument.body},td=new WeakMap,yx=new WeakMap,jx={},j0=0,gL=function(t){return t&&(t.host||gL(t.parentNode))},Ote=function(t,r){return r.map(function(s){if(t.contains(s))return s;var n=gL(s);return n&&t.contains(n)?n:(console.error("aria-hidden",s,"in not contained inside",t,". Doing nothing"),null)}).filter(function(s){return!!s})},Ete=function(t,r,s,n){var a=Ote(r,Array.isArray(t)?t:[t]);jx[s]||(jx[s]=new WeakMap);var i=jx[s],l=[],o=new Set,c=new Set(a),d=function(m){!m||o.has(m)||(o.add(m),d(m.parentNode))};a.forEach(d);var u=function(m){!m||c.has(m)||Array.prototype.forEach.call(m.children,function(h){if(o.has(h))u(h);else try{var g=h.getAttribute(n),f=g!==null&&g!=="false",p=(td.get(h)||0)+1,y=(i.get(h)||0)+1;td.set(h,p),i.set(h,y),l.push(h),p===1&&f&&yx.set(h,!0),y===1&&h.setAttribute(s,"true"),f||h.setAttribute(n,"true")}catch(v){console.error("aria-hidden: cannot operate on ",h,v)}})};return u(r),o.clear(),j0++,function(){l.forEach(function(m){var h=td.get(m)-1,g=i.get(m)-1;td.set(m,h),i.set(m,g),h||(yx.has(m)||m.removeAttribute(n),yx.delete(m)),g||m.removeAttribute(s)}),j0--,j0||(td=new WeakMap,td=new WeakMap,yx=new WeakMap,jx={})}},hj=function(t,r,s){s===void 0&&(s="data-aria-hidden");var n=Array.from(Array.isArray(t)?t:[t]),a=Tte(t);return a?(n.push.apply(n,Array.from(a.querySelectorAll("[aria-live]"))),Ete(n,a,s,"aria-hidden")):function(){return null}},xi=function(){return xi=Object.assign||function(r){for(var s,n=1,a=arguments.length;n<a;n++){s=arguments[n];for(var i in s)Object.prototype.hasOwnProperty.call(s,i)&&(r[i]=s[i])}return r},xi.apply(this,arguments)};function vL(t,r){var s={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&r.indexOf(n)<0&&(s[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,n=Object.getOwnPropertySymbols(t);a<n.length;a++)r.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(t,n[a])&&(s[n[a]]=t[n[a]]);return s}function Dte(t,r,s){if(s||arguments.length===2)for(var n=0,a=r.length,i;n<a;n++)(i||!(n in r))&&(i||(i=Array.prototype.slice.call(r,0,n)),i[n]=r[n]);return t.concat(i||Array.prototype.slice.call(r))}var ug="right-scroll-bar-position",mg="width-before-scroll-bar",Mte="with-scroll-bars-hidden",Ite="--removed-body-scroll-bar-size";function b0(t,r){return typeof t=="function"?t(r):t&&(t.current=r),t}function Rte(t,r){var s=j.useState(function(){return{value:t,callback:r,facade:{get current(){return s.value},set current(n){var a=s.value;a!==n&&(s.value=n,s.callback(n,a))}}}})[0];return s.callback=r,s.facade}var Fte=typeof window<"u"?j.useLayoutEffect:j.useEffect,G_=new WeakMap;function $te(t,r){var s=Rte(null,function(n){return t.forEach(function(a){return b0(a,n)})});return Fte(function(){var n=G_.get(s);if(n){var a=new Set(n),i=new Set(t),l=s.current;a.forEach(function(o){i.has(o)||b0(o,null)}),i.forEach(function(o){a.has(o)||b0(o,l)})}G_.set(s,t)},[t]),s}function Lte(t){return t}function Bte(t,r){r===void 0&&(r=Lte);var s=[],n=!1,a={read:function(){if(n)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return s.length?s[s.length-1]:t},useMedium:function(i){var l=r(i,n);return s.push(l),function(){s=s.filter(function(o){return o!==l})}},assignSyncMedium:function(i){for(n=!0;s.length;){var l=s;s=[],l.forEach(i)}s={push:function(o){return i(o)},filter:function(){return s}}},assignMedium:function(i){n=!0;var l=[];if(s.length){var o=s;s=[],o.forEach(i),l=s}var c=function(){var u=l;l=[],u.forEach(i)},d=function(){return Promise.resolve().then(c)};d(),s={push:function(u){l.push(u),d()},filter:function(u){return l=l.filter(u),s}}}};return a}function Vte(t){t===void 0&&(t={});var r=Bte(null);return r.options=xi({async:!0,ssr:!1},t),r}var yL=function(t){var r=t.sideCar,s=vL(t,["sideCar"]);if(!r)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var n=r.read();if(!n)throw new Error("Sidecar medium not found");return j.createElement(n,xi({},s))};yL.isSideCarExport=!0;function Ute(t,r){return t.useMedium(r),yL}var jL=Vte(),N0=function(){},pj=j.forwardRef(function(t,r){var s=j.useRef(null),n=j.useState({onScrollCapture:N0,onWheelCapture:N0,onTouchMoveCapture:N0}),a=n[0],i=n[1],l=t.forwardProps,o=t.children,c=t.className,d=t.removeScrollBar,u=t.enabled,m=t.shards,h=t.sideCar,g=t.noIsolation,f=t.inert,p=t.allowPinchZoom,y=t.as,v=y===void 0?"div":y,x=t.gapMode,b=vL(t,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as","gapMode"]),N=h,w=$te([s,r]),C=xi(xi({},b),a);return j.createElement(j.Fragment,null,u&&j.createElement(N,{sideCar:jL,removeScrollBar:d,shards:m,noIsolation:g,inert:f,setCallbacks:i,allowPinchZoom:!!p,lockRef:s,gapMode:x}),l?j.cloneElement(j.Children.only(o),xi(xi({},C),{ref:w})):j.createElement(v,xi({},C,{className:c,ref:w}),o))});pj.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};pj.classNames={fullWidth:mg,zeroRight:ug};var qte=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function zte(){if(!document)return null;var t=document.createElement("style");t.type="text/css";var r=qte();return r&&t.setAttribute("nonce",r),t}function Kte(t,r){t.styleSheet?t.styleSheet.cssText=r:t.appendChild(document.createTextNode(r))}function Hte(t){var r=document.head||document.getElementsByTagName("head")[0];r.appendChild(t)}var Wte=function(){var t=0,r=null;return{add:function(s){t==0&&(r=zte())&&(Kte(r,s),Hte(r)),t++},remove:function(){t--,!t&&r&&(r.parentNode&&r.parentNode.removeChild(r),r=null)}}},Gte=function(){var t=Wte();return function(r,s){j.useEffect(function(){return t.add(r),function(){t.remove()}},[r&&s])}},bL=function(){var t=Gte(),r=function(s){var n=s.styles,a=s.dynamic;return t(n,a),null};return r},Yte={left:0,top:0,right:0,gap:0},w0=function(t){return parseInt(t||"",10)||0},Qte=function(t){var r=window.getComputedStyle(document.body),s=r[t==="padding"?"paddingLeft":"marginLeft"],n=r[t==="padding"?"paddingTop":"marginTop"],a=r[t==="padding"?"paddingRight":"marginRight"];return[w0(s),w0(n),w0(a)]},Xte=function(t){if(t===void 0&&(t="margin"),typeof window>"u")return Yte;var r=Qte(t),s=document.documentElement.clientWidth,n=window.innerWidth;return{left:r[0],top:r[1],right:r[2],gap:Math.max(0,n-s+r[2]-r[0])}},Zte=bL(),Ld="data-scroll-locked",Jte=function(t,r,s,n){var a=t.left,i=t.top,l=t.right,o=t.gap;return s===void 0&&(s="margin"),`
  .`.concat(Mte,` {
   overflow: hidden `).concat(n,`;
   padding-right: `).concat(o,"px ").concat(n,`;
  }
  body[`).concat(Ld,`] {
    overflow: hidden `).concat(n,`;
    overscroll-behavior: contain;
    `).concat([r&&"position: relative ".concat(n,";"),s==="margin"&&`
    padding-left: `.concat(a,`px;
    padding-top: `).concat(i,`px;
    padding-right: `).concat(l,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(o,"px ").concat(n,`;
    `),s==="padding"&&"padding-right: ".concat(o,"px ").concat(n,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(ug,` {
    right: `).concat(o,"px ").concat(n,`;
  }
  
  .`).concat(mg,` {
    margin-right: `).concat(o,"px ").concat(n,`;
  }
  
  .`).concat(ug," .").concat(ug,` {
    right: 0 `).concat(n,`;
  }
  
  .`).concat(mg," .").concat(mg,` {
    margin-right: 0 `).concat(n,`;
  }
  
  body[`).concat(Ld,`] {
    `).concat(Ite,": ").concat(o,`px;
  }
`)},Y_=function(){var t=parseInt(document.body.getAttribute(Ld)||"0",10);return isFinite(t)?t:0},ere=function(){j.useEffect(function(){return document.body.setAttribute(Ld,(Y_()+1).toString()),function(){var t=Y_()-1;t<=0?document.body.removeAttribute(Ld):document.body.setAttribute(Ld,t.toString())}},[])},tre=function(t){var r=t.noRelative,s=t.noImportant,n=t.gapMode,a=n===void 0?"margin":n;ere();var i=j.useMemo(function(){return Xte(a)},[a]);return j.createElement(Zte,{styles:Jte(i,!r,a,s?"":"!important")})},Hw=!1;if(typeof window<"u")try{var bx=Object.defineProperty({},"passive",{get:function(){return Hw=!0,!0}});window.addEventListener("test",bx,bx),window.removeEventListener("test",bx,bx)}catch{Hw=!1}var rd=Hw?{passive:!1}:!1,rre=function(t){return t.tagName==="TEXTAREA"},NL=function(t,r){if(!(t instanceof Element))return!1;var s=window.getComputedStyle(t);return s[r]!=="hidden"&&!(s.overflowY===s.overflowX&&!rre(t)&&s[r]==="visible")},sre=function(t){return NL(t,"overflowY")},nre=function(t){return NL(t,"overflowX")},Q_=function(t,r){var s=r.ownerDocument,n=r;do{typeof ShadowRoot<"u"&&n instanceof ShadowRoot&&(n=n.host);var a=wL(t,n);if(a){var i=SL(t,n),l=i[1],o=i[2];if(l>o)return!0}n=n.parentNode}while(n&&n!==s.body);return!1},are=function(t){var r=t.scrollTop,s=t.scrollHeight,n=t.clientHeight;return[r,s,n]},ire=function(t){var r=t.scrollLeft,s=t.scrollWidth,n=t.clientWidth;return[r,s,n]},wL=function(t,r){return t==="v"?sre(r):nre(r)},SL=function(t,r){return t==="v"?are(r):ire(r)},lre=function(t,r){return t==="h"&&r==="rtl"?-1:1},ore=function(t,r,s,n,a){var i=lre(t,window.getComputedStyle(r).direction),l=i*n,o=s.target,c=r.contains(o),d=!1,u=l>0,m=0,h=0;do{var g=SL(t,o),f=g[0],p=g[1],y=g[2],v=p-y-i*f;(f||v)&&wL(t,o)&&(m+=v,h+=f),o instanceof ShadowRoot?o=o.host:o=o.parentNode}while(!c&&o!==document.body||c&&(r.contains(o)||r===o));return(u&&(Math.abs(m)<1||!a)||!u&&(Math.abs(h)<1||!a))&&(d=!0),d},Nx=function(t){return"changedTouches"in t?[t.changedTouches[0].clientX,t.changedTouches[0].clientY]:[0,0]},X_=function(t){return[t.deltaX,t.deltaY]},Z_=function(t){return t&&"current"in t?t.current:t},cre=function(t,r){return t[0]===r[0]&&t[1]===r[1]},dre=function(t){return`
  .block-interactivity-`.concat(t,` {pointer-events: none;}
  .allow-interactivity-`).concat(t,` {pointer-events: all;}
`)},ure=0,sd=[];function mre(t){var r=j.useRef([]),s=j.useRef([0,0]),n=j.useRef(),a=j.useState(ure++)[0],i=j.useState(bL)[0],l=j.useRef(t);j.useEffect(function(){l.current=t},[t]),j.useEffect(function(){if(t.inert){document.body.classList.add("block-interactivity-".concat(a));var p=Dte([t.lockRef.current],(t.shards||[]).map(Z_),!0).filter(Boolean);return p.forEach(function(y){return y.classList.add("allow-interactivity-".concat(a))}),function(){document.body.classList.remove("block-interactivity-".concat(a)),p.forEach(function(y){return y.classList.remove("allow-interactivity-".concat(a))})}}},[t.inert,t.lockRef.current,t.shards]);var o=j.useCallback(function(p,y){if("touches"in p&&p.touches.length===2||p.type==="wheel"&&p.ctrlKey)return!l.current.allowPinchZoom;var v=Nx(p),x=s.current,b="deltaX"in p?p.deltaX:x[0]-v[0],N="deltaY"in p?p.deltaY:x[1]-v[1],w,C=p.target,P=Math.abs(b)>Math.abs(N)?"h":"v";if("touches"in p&&P==="h"&&C.type==="range")return!1;var S=Q_(P,C);if(!S)return!0;if(S?w=P:(w=P==="v"?"h":"v",S=Q_(P,C)),!S)return!1;if(!n.current&&"changedTouches"in p&&(b||N)&&(n.current=w),!w)return!0;var A=n.current||w;return ore(A,y,p,A==="h"?b:N,!0)},[]),c=j.useCallback(function(p){var y=p;if(!(!sd.length||sd[sd.length-1]!==i)){var v="deltaY"in y?X_(y):Nx(y),x=r.current.filter(function(w){return w.name===y.type&&(w.target===y.target||y.target===w.shadowParent)&&cre(w.delta,v)})[0];if(x&&x.should){y.cancelable&&y.preventDefault();return}if(!x){var b=(l.current.shards||[]).map(Z_).filter(Boolean).filter(function(w){return w.contains(y.target)}),N=b.length>0?o(y,b[0]):!l.current.noIsolation;N&&y.cancelable&&y.preventDefault()}}},[]),d=j.useCallback(function(p,y,v,x){var b={name:p,delta:y,target:v,should:x,shadowParent:hre(v)};r.current.push(b),setTimeout(function(){r.current=r.current.filter(function(N){return N!==b})},1)},[]),u=j.useCallback(function(p){s.current=Nx(p),n.current=void 0},[]),m=j.useCallback(function(p){d(p.type,X_(p),p.target,o(p,t.lockRef.current))},[]),h=j.useCallback(function(p){d(p.type,Nx(p),p.target,o(p,t.lockRef.current))},[]);j.useEffect(function(){return sd.push(i),t.setCallbacks({onScrollCapture:m,onWheelCapture:m,onTouchMoveCapture:h}),document.addEventListener("wheel",c,rd),document.addEventListener("touchmove",c,rd),document.addEventListener("touchstart",u,rd),function(){sd=sd.filter(function(p){return p!==i}),document.removeEventListener("wheel",c,rd),document.removeEventListener("touchmove",c,rd),document.removeEventListener("touchstart",u,rd)}},[]);var g=t.removeScrollBar,f=t.inert;return j.createElement(j.Fragment,null,f?j.createElement(i,{styles:dre(a)}):null,g?j.createElement(tre,{gapMode:t.gapMode}):null)}function hre(t){for(var r=null;t!==null;)t instanceof ShadowRoot&&(r=t.host,t=t.host),t=t.parentNode;return r}const pre=Ute(jL,mre);var wf=j.forwardRef(function(t,r){return j.createElement(pj,xi({},t,{ref:r,sideCar:pre}))});wf.classNames=pj.classNames;var fre=[" ","Enter","ArrowUp","ArrowDown"],xre=[" ","Enter"],Sf="Select",[fj,xj,gre]=gf(Sf),[um,lFe]=rn(Sf,[gre,dm]),gj=dm(),[vre,Eo]=um(Sf),[yre,jre]=um(Sf),CL=t=>{const{__scopeSelect:r,children:s,open:n,defaultOpen:a,onOpenChange:i,value:l,defaultValue:o,onValueChange:c,dir:d,name:u,autoComplete:m,disabled:h,required:g,form:f}=t,p=gj(r),[y,v]=j.useState(null),[x,b]=j.useState(null),[N,w]=j.useState(!1),C=Vc(d),[P=!1,S]=Fn({prop:n,defaultProp:a,onChange:i}),[A,k]=Fn({prop:l,defaultProp:o,onChange:c}),I=j.useRef(null),L=y?f||!!y.closest("form"):!0,[K,R]=j.useState(new Set),F=Array.from(K).map(W=>W.props.value).join(";");return e.jsx(yC,{...p,children:e.jsxs(vre,{required:g,scope:r,trigger:y,onTriggerChange:v,valueNode:x,onValueNodeChange:b,valueNodeHasChildren:N,onValueNodeHasChildrenChange:w,contentId:ta(),value:A,onValueChange:k,open:P,onOpenChange:S,dir:C,triggerPointerDownPosRef:I,disabled:h,children:[e.jsx(fj.Provider,{scope:r,children:e.jsx(yre,{scope:t.__scopeSelect,onNativeOptionAdd:j.useCallback(W=>{R(Q=>new Set(Q).add(W))},[]),onNativeOptionRemove:j.useCallback(W=>{R(Q=>{const H=new Set(Q);return H.delete(W),H})},[]),children:s})}),L?e.jsxs(QL,{"aria-hidden":!0,required:g,tabIndex:-1,name:u,autoComplete:m,value:A,onChange:W=>k(W.target.value),disabled:h,form:f,children:[A===void 0?e.jsx("option",{value:""}):null,Array.from(K)]},F):null]})})};CL.displayName=Sf;var PL="SelectTrigger",kL=j.forwardRef((t,r)=>{const{__scopeSelect:s,disabled:n=!1,...a}=t,i=gj(s),l=Eo(PL,s),o=l.disabled||n,c=Lt(r,l.onTriggerChange),d=xj(s),u=j.useRef("touch"),[m,h,g]=XL(p=>{const y=d().filter(b=>!b.disabled),v=y.find(b=>b.value===l.value),x=ZL(y,p,v);x!==void 0&&l.onValueChange(x.value)}),f=p=>{o||(l.onOpenChange(!0),g()),p&&(l.triggerPointerDownPosRef.current={x:Math.round(p.pageX),y:Math.round(p.pageY)})};return e.jsx(uj,{asChild:!0,...i,children:e.jsx(ct.button,{type:"button",role:"combobox","aria-controls":l.contentId,"aria-expanded":l.open,"aria-required":l.required,"aria-autocomplete":"none",dir:l.dir,"data-state":l.open?"open":"closed",disabled:o,"data-disabled":o?"":void 0,"data-placeholder":YL(l.value)?"":void 0,...a,ref:c,onClick:He(a.onClick,p=>{p.currentTarget.focus(),u.current!=="mouse"&&f(p)}),onPointerDown:He(a.onPointerDown,p=>{u.current=p.pointerType;const y=p.target;y.hasPointerCapture(p.pointerId)&&y.releasePointerCapture(p.pointerId),p.button===0&&p.ctrlKey===!1&&p.pointerType==="mouse"&&(f(p),p.preventDefault())}),onKeyDown:He(a.onKeyDown,p=>{const y=m.current!=="";!(p.ctrlKey||p.altKey||p.metaKey)&&p.key.length===1&&h(p.key),!(y&&p.key===" ")&&fre.includes(p.key)&&(f(),p.preventDefault())})})})});kL.displayName=PL;var AL="SelectValue",_L=j.forwardRef((t,r)=>{const{__scopeSelect:s,className:n,style:a,children:i,placeholder:l="",...o}=t,c=Eo(AL,s),{onValueNodeHasChildrenChange:d}=c,u=i!==void 0,m=Lt(r,c.onValueNodeChange);return fs(()=>{d(u)},[d,u]),e.jsx(ct.span,{...o,ref:m,style:{pointerEvents:"none"},children:YL(c.value)?e.jsx(e.Fragment,{children:l}):i})});_L.displayName=AL;var bre="SelectIcon",TL=j.forwardRef((t,r)=>{const{__scopeSelect:s,children:n,...a}=t;return e.jsx(ct.span,{"aria-hidden":!0,...a,ref:r,children:n||""})});TL.displayName=bre;var Nre="SelectPortal",OL=t=>e.jsx(am,{asChild:!0,...t});OL.displayName=Nre;var Ac="SelectContent",EL=j.forwardRef((t,r)=>{const s=Eo(Ac,t.__scopeSelect),[n,a]=j.useState();if(fs(()=>{a(new DocumentFragment)},[]),!s.open){const i=n;return i?Lc.createPortal(e.jsx(DL,{scope:t.__scopeSelect,children:e.jsx(fj.Slot,{scope:t.__scopeSelect,children:e.jsx("div",{children:t.children})})}),i):null}return e.jsx(ML,{...t,ref:r})});EL.displayName=Ac;var Ma=10,[DL,Do]=um(Ac),wre="SelectContentImpl",ML=j.forwardRef((t,r)=>{const{__scopeSelect:s,position:n="item-aligned",onCloseAutoFocus:a,onEscapeKeyDown:i,onPointerDownOutside:l,side:o,sideOffset:c,align:d,alignOffset:u,arrowPadding:m,collisionBoundary:h,collisionPadding:g,sticky:f,hideWhenDetached:p,avoidCollisions:y,...v}=t,x=Eo(Ac,s),[b,N]=j.useState(null),[w,C]=j.useState(null),P=Lt(r,De=>N(De)),[S,A]=j.useState(null),[k,I]=j.useState(null),L=xj(s),[K,R]=j.useState(!1),F=j.useRef(!1);j.useEffect(()=>{if(b)return hj(b)},[b]),ij();const W=j.useCallback(De=>{const[rt,...Me]=L().map(Ce=>Ce.ref.current),[Ge]=Me.slice(-1),Xe=document.activeElement;for(const Ce of De)if(Ce===Xe||(Ce==null||Ce.scrollIntoView({block:"nearest"}),Ce===rt&&w&&(w.scrollTop=0),Ce===Ge&&w&&(w.scrollTop=w.scrollHeight),Ce==null||Ce.focus(),document.activeElement!==Xe))return},[L,w]),Q=j.useCallback(()=>W([S,b]),[W,S,b]);j.useEffect(()=>{K&&Q()},[K,Q]);const{onOpenChange:H,triggerPointerDownPosRef:Z}=x;j.useEffect(()=>{if(b){let De={x:0,y:0};const rt=Ge=>{var Xe,Ce;De={x:Math.abs(Math.round(Ge.pageX)-(((Xe=Z.current)==null?void 0:Xe.x)??0)),y:Math.abs(Math.round(Ge.pageY)-(((Ce=Z.current)==null?void 0:Ce.y)??0))}},Me=Ge=>{De.x<=10&&De.y<=10?Ge.preventDefault():b.contains(Ge.target)||H(!1),document.removeEventListener("pointermove",rt),Z.current=null};return Z.current!==null&&(document.addEventListener("pointermove",rt),document.addEventListener("pointerup",Me,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",rt),document.removeEventListener("pointerup",Me,{capture:!0})}}},[b,H,Z]),j.useEffect(()=>{const De=()=>H(!1);return window.addEventListener("blur",De),window.addEventListener("resize",De),()=>{window.removeEventListener("blur",De),window.removeEventListener("resize",De)}},[H]);const[me,Ne]=XL(De=>{const rt=L().filter(Xe=>!Xe.disabled),Me=rt.find(Xe=>Xe.ref.current===document.activeElement),Ge=ZL(rt,De,Me);Ge&&setTimeout(()=>Ge.ref.current.focus())}),te=j.useCallback((De,rt,Me)=>{const Ge=!F.current&&!Me;(x.value!==void 0&&x.value===rt||Ge)&&(A(De),Ge&&(F.current=!0))},[x.value]),Ie=j.useCallback(()=>b==null?void 0:b.focus(),[b]),Te=j.useCallback((De,rt,Me)=>{const Ge=!F.current&&!Me;(x.value!==void 0&&x.value===rt||Ge)&&I(De)},[x.value]),de=n==="popper"?Ww:IL,Ee=de===Ww?{side:o,sideOffset:c,align:d,alignOffset:u,arrowPadding:m,collisionBoundary:h,collisionPadding:g,sticky:f,hideWhenDetached:p,avoidCollisions:y}:{};return e.jsx(DL,{scope:s,content:b,viewport:w,onViewportChange:C,itemRefCallback:te,selectedItem:S,onItemLeave:Ie,itemTextRefCallback:Te,focusSelectedItem:Q,selectedItemText:k,position:n,isPositioned:K,searchRef:me,children:e.jsx(wf,{as:Oi,allowPinchZoom:!0,children:e.jsx(bf,{asChild:!0,trapped:x.open,onMountAutoFocus:De=>{De.preventDefault()},onUnmountAutoFocus:He(a,De=>{var rt;(rt=x.trigger)==null||rt.focus({preventScroll:!0}),De.preventDefault()}),children:e.jsx(nm,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:i,onPointerDownOutside:l,onFocusOutside:De=>De.preventDefault(),onDismiss:()=>x.onOpenChange(!1),children:e.jsx(de,{role:"listbox",id:x.contentId,"data-state":x.open?"open":"closed",dir:x.dir,onContextMenu:De=>De.preventDefault(),...v,...Ee,onPlaced:()=>R(!0),ref:P,style:{display:"flex",flexDirection:"column",outline:"none",...v.style},onKeyDown:He(v.onKeyDown,De=>{const rt=De.ctrlKey||De.altKey||De.metaKey;if(De.key==="Tab"&&De.preventDefault(),!rt&&De.key.length===1&&Ne(De.key),["ArrowUp","ArrowDown","Home","End"].includes(De.key)){let Ge=L().filter(Xe=>!Xe.disabled).map(Xe=>Xe.ref.current);if(["ArrowUp","End"].includes(De.key)&&(Ge=Ge.slice().reverse()),["ArrowUp","ArrowDown"].includes(De.key)){const Xe=De.target,Ce=Ge.indexOf(Xe);Ge=Ge.slice(Ce+1)}setTimeout(()=>W(Ge)),De.preventDefault()}})})})})})})});ML.displayName=wre;var Sre="SelectItemAlignedPosition",IL=j.forwardRef((t,r)=>{const{__scopeSelect:s,onPlaced:n,...a}=t,i=Eo(Ac,s),l=Do(Ac,s),[o,c]=j.useState(null),[d,u]=j.useState(null),m=Lt(r,P=>u(P)),h=xj(s),g=j.useRef(!1),f=j.useRef(!0),{viewport:p,selectedItem:y,selectedItemText:v,focusSelectedItem:x}=l,b=j.useCallback(()=>{if(i.trigger&&i.valueNode&&o&&d&&p&&y&&v){const P=i.trigger.getBoundingClientRect(),S=d.getBoundingClientRect(),A=i.valueNode.getBoundingClientRect(),k=v.getBoundingClientRect();if(i.dir!=="rtl"){const Xe=k.left-S.left,Ce=A.left-Xe,Ft=P.left-Ce,yt=P.width+Ft,cr=Math.max(yt,S.width),ar=window.innerWidth-Ma,Sr=Uw(Ce,[Ma,Math.max(Ma,ar-cr)]);o.style.minWidth=yt+"px",o.style.left=Sr+"px"}else{const Xe=S.right-k.right,Ce=window.innerWidth-A.right-Xe,Ft=window.innerWidth-P.right-Ce,yt=P.width+Ft,cr=Math.max(yt,S.width),ar=window.innerWidth-Ma,Sr=Uw(Ce,[Ma,Math.max(Ma,ar-cr)]);o.style.minWidth=yt+"px",o.style.right=Sr+"px"}const I=h(),L=window.innerHeight-Ma*2,K=p.scrollHeight,R=window.getComputedStyle(d),F=parseInt(R.borderTopWidth,10),W=parseInt(R.paddingTop,10),Q=parseInt(R.borderBottomWidth,10),H=parseInt(R.paddingBottom,10),Z=F+W+K+H+Q,me=Math.min(y.offsetHeight*5,Z),Ne=window.getComputedStyle(p),te=parseInt(Ne.paddingTop,10),Ie=parseInt(Ne.paddingBottom,10),Te=P.top+P.height/2-Ma,de=L-Te,Ee=y.offsetHeight/2,De=y.offsetTop+Ee,rt=F+W+De,Me=Z-rt;if(rt<=Te){const Xe=I.length>0&&y===I[I.length-1].ref.current;o.style.bottom="0px";const Ce=d.clientHeight-p.offsetTop-p.offsetHeight,Ft=Math.max(de,Ee+(Xe?Ie:0)+Ce+Q),yt=rt+Ft;o.style.height=yt+"px"}else{const Xe=I.length>0&&y===I[0].ref.current;o.style.top="0px";const Ft=Math.max(Te,F+p.offsetTop+(Xe?te:0)+Ee)+Me;o.style.height=Ft+"px",p.scrollTop=rt-Te+p.offsetTop}o.style.margin=`${Ma}px 0`,o.style.minHeight=me+"px",o.style.maxHeight=L+"px",n==null||n(),requestAnimationFrame(()=>g.current=!0)}},[h,i.trigger,i.valueNode,o,d,p,y,v,i.dir,n]);fs(()=>b(),[b]);const[N,w]=j.useState();fs(()=>{d&&w(window.getComputedStyle(d).zIndex)},[d]);const C=j.useCallback(P=>{P&&f.current===!0&&(b(),x==null||x(),f.current=!1)},[b,x]);return e.jsx(Pre,{scope:s,contentWrapper:o,shouldExpandOnScrollRef:g,onScrollButtonChange:C,children:e.jsx("div",{ref:c,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:N},children:e.jsx(ct.div,{...a,ref:m,style:{boxSizing:"border-box",maxHeight:"100%",...a.style}})})})});IL.displayName=Sre;var Cre="SelectPopperPosition",Ww=j.forwardRef((t,r)=>{const{__scopeSelect:s,align:n="start",collisionPadding:a=Ma,...i}=t,l=gj(s);return e.jsx(jC,{...l,...i,ref:r,align:n,collisionPadding:a,style:{boxSizing:"border-box",...i.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});Ww.displayName=Cre;var[Pre,NC]=um(Ac,{}),Gw="SelectViewport",RL=j.forwardRef((t,r)=>{const{__scopeSelect:s,nonce:n,...a}=t,i=Do(Gw,s),l=NC(Gw,s),o=Lt(r,i.onViewportChange),c=j.useRef(0);return e.jsxs(e.Fragment,{children:[e.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:n}),e.jsx(fj.Slot,{scope:s,children:e.jsx(ct.div,{"data-radix-select-viewport":"",role:"presentation",...a,ref:o,style:{position:"relative",flex:1,overflow:"hidden auto",...a.style},onScroll:He(a.onScroll,d=>{const u=d.currentTarget,{contentWrapper:m,shouldExpandOnScrollRef:h}=l;if(h!=null&&h.current&&m){const g=Math.abs(c.current-u.scrollTop);if(g>0){const f=window.innerHeight-Ma*2,p=parseFloat(m.style.minHeight),y=parseFloat(m.style.height),v=Math.max(p,y);if(v<f){const x=v+g,b=Math.min(f,x),N=x-b;m.style.height=b+"px",m.style.bottom==="0px"&&(u.scrollTop=N>0?N:0,m.style.justifyContent="flex-end")}}}c.current=u.scrollTop})})})]})});RL.displayName=Gw;var FL="SelectGroup",[kre,Are]=um(FL),_re=j.forwardRef((t,r)=>{const{__scopeSelect:s,...n}=t,a=ta();return e.jsx(kre,{scope:s,id:a,children:e.jsx(ct.div,{role:"group","aria-labelledby":a,...n,ref:r})})});_re.displayName=FL;var $L="SelectLabel",LL=j.forwardRef((t,r)=>{const{__scopeSelect:s,...n}=t,a=Are($L,s);return e.jsx(ct.div,{id:a.id,...n,ref:r})});LL.displayName=$L;var hv="SelectItem",[Tre,BL]=um(hv),VL=j.forwardRef((t,r)=>{const{__scopeSelect:s,value:n,disabled:a=!1,textValue:i,...l}=t,o=Eo(hv,s),c=Do(hv,s),d=o.value===n,[u,m]=j.useState(i??""),[h,g]=j.useState(!1),f=Lt(r,x=>{var b;return(b=c.itemRefCallback)==null?void 0:b.call(c,x,n,a)}),p=ta(),y=j.useRef("touch"),v=()=>{a||(o.onValueChange(n),o.onOpenChange(!1))};if(n==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return e.jsx(Tre,{scope:s,value:n,disabled:a,textId:p,isSelected:d,onItemTextChange:j.useCallback(x=>{m(b=>b||((x==null?void 0:x.textContent)??"").trim())},[]),children:e.jsx(fj.ItemSlot,{scope:s,value:n,disabled:a,textValue:u,children:e.jsx(ct.div,{role:"option","aria-labelledby":p,"data-highlighted":h?"":void 0,"aria-selected":d&&h,"data-state":d?"checked":"unchecked","aria-disabled":a||void 0,"data-disabled":a?"":void 0,tabIndex:a?void 0:-1,...l,ref:f,onFocus:He(l.onFocus,()=>g(!0)),onBlur:He(l.onBlur,()=>g(!1)),onClick:He(l.onClick,()=>{y.current!=="mouse"&&v()}),onPointerUp:He(l.onPointerUp,()=>{y.current==="mouse"&&v()}),onPointerDown:He(l.onPointerDown,x=>{y.current=x.pointerType}),onPointerMove:He(l.onPointerMove,x=>{var b;y.current=x.pointerType,a?(b=c.onItemLeave)==null||b.call(c):y.current==="mouse"&&x.currentTarget.focus({preventScroll:!0})}),onPointerLeave:He(l.onPointerLeave,x=>{var b;x.currentTarget===document.activeElement&&((b=c.onItemLeave)==null||b.call(c))}),onKeyDown:He(l.onKeyDown,x=>{var N;((N=c.searchRef)==null?void 0:N.current)!==""&&x.key===" "||(xre.includes(x.key)&&v(),x.key===" "&&x.preventDefault())})})})})});VL.displayName=hv;var fh="SelectItemText",UL=j.forwardRef((t,r)=>{const{__scopeSelect:s,className:n,style:a,...i}=t,l=Eo(fh,s),o=Do(fh,s),c=BL(fh,s),d=jre(fh,s),[u,m]=j.useState(null),h=Lt(r,v=>m(v),c.onItemTextChange,v=>{var x;return(x=o.itemTextRefCallback)==null?void 0:x.call(o,v,c.value,c.disabled)}),g=u==null?void 0:u.textContent,f=j.useMemo(()=>e.jsx("option",{value:c.value,disabled:c.disabled,children:g},c.value),[c.disabled,c.value,g]),{onNativeOptionAdd:p,onNativeOptionRemove:y}=d;return fs(()=>(p(f),()=>y(f)),[p,y,f]),e.jsxs(e.Fragment,{children:[e.jsx(ct.span,{id:c.textId,...i,ref:h}),c.isSelected&&l.valueNode&&!l.valueNodeHasChildren?Lc.createPortal(i.children,l.valueNode):null]})});UL.displayName=fh;var qL="SelectItemIndicator",zL=j.forwardRef((t,r)=>{const{__scopeSelect:s,...n}=t;return BL(qL,s).isSelected?e.jsx(ct.span,{"aria-hidden":!0,...n,ref:r}):null});zL.displayName=qL;var Yw="SelectScrollUpButton",KL=j.forwardRef((t,r)=>{const s=Do(Yw,t.__scopeSelect),n=NC(Yw,t.__scopeSelect),[a,i]=j.useState(!1),l=Lt(r,n.onScrollButtonChange);return fs(()=>{if(s.viewport&&s.isPositioned){let o=function(){const d=c.scrollTop>0;i(d)};const c=s.viewport;return o(),c.addEventListener("scroll",o),()=>c.removeEventListener("scroll",o)}},[s.viewport,s.isPositioned]),a?e.jsx(WL,{...t,ref:l,onAutoScroll:()=>{const{viewport:o,selectedItem:c}=s;o&&c&&(o.scrollTop=o.scrollTop-c.offsetHeight)}}):null});KL.displayName=Yw;var Qw="SelectScrollDownButton",HL=j.forwardRef((t,r)=>{const s=Do(Qw,t.__scopeSelect),n=NC(Qw,t.__scopeSelect),[a,i]=j.useState(!1),l=Lt(r,n.onScrollButtonChange);return fs(()=>{if(s.viewport&&s.isPositioned){let o=function(){const d=c.scrollHeight-c.clientHeight,u=Math.ceil(c.scrollTop)<d;i(u)};const c=s.viewport;return o(),c.addEventListener("scroll",o),()=>c.removeEventListener("scroll",o)}},[s.viewport,s.isPositioned]),a?e.jsx(WL,{...t,ref:l,onAutoScroll:()=>{const{viewport:o,selectedItem:c}=s;o&&c&&(o.scrollTop=o.scrollTop+c.offsetHeight)}}):null});HL.displayName=Qw;var WL=j.forwardRef((t,r)=>{const{__scopeSelect:s,onAutoScroll:n,...a}=t,i=Do("SelectScrollButton",s),l=j.useRef(null),o=xj(s),c=j.useCallback(()=>{l.current!==null&&(window.clearInterval(l.current),l.current=null)},[]);return j.useEffect(()=>()=>c(),[c]),fs(()=>{var u;const d=o().find(m=>m.ref.current===document.activeElement);(u=d==null?void 0:d.ref.current)==null||u.scrollIntoView({block:"nearest"})},[o]),e.jsx(ct.div,{"aria-hidden":!0,...a,ref:r,style:{flexShrink:0,...a.style},onPointerDown:He(a.onPointerDown,()=>{l.current===null&&(l.current=window.setInterval(n,50))}),onPointerMove:He(a.onPointerMove,()=>{var d;(d=i.onItemLeave)==null||d.call(i),l.current===null&&(l.current=window.setInterval(n,50))}),onPointerLeave:He(a.onPointerLeave,()=>{c()})})}),Ore="SelectSeparator",GL=j.forwardRef((t,r)=>{const{__scopeSelect:s,...n}=t;return e.jsx(ct.div,{"aria-hidden":!0,...n,ref:r})});GL.displayName=Ore;var Xw="SelectArrow",Ere=j.forwardRef((t,r)=>{const{__scopeSelect:s,...n}=t,a=gj(s),i=Eo(Xw,s),l=Do(Xw,s);return i.open&&l.position==="popper"?e.jsx(bC,{...a,...n,ref:r}):null});Ere.displayName=Xw;function YL(t){return t===""||t===void 0}var QL=j.forwardRef((t,r)=>{const{value:s,...n}=t,a=j.useRef(null),i=Lt(r,a),l=mj(s);return j.useEffect(()=>{const o=a.current,c=window.HTMLSelectElement.prototype,u=Object.getOwnPropertyDescriptor(c,"value").set;if(l!==s&&u){const m=new Event("change",{bubbles:!0});u.call(o,s),o.dispatchEvent(m)}},[l,s]),e.jsx(Xy,{asChild:!0,children:e.jsx("select",{...n,ref:i,defaultValue:s})})});QL.displayName="BubbleSelect";function XL(t){const r=Hr(t),s=j.useRef(""),n=j.useRef(0),a=j.useCallback(l=>{const o=s.current+l;r(o),function c(d){s.current=d,window.clearTimeout(n.current),d!==""&&(n.current=window.setTimeout(()=>c(""),1e3))}(o)},[r]),i=j.useCallback(()=>{s.current="",window.clearTimeout(n.current)},[]);return j.useEffect(()=>()=>window.clearTimeout(n.current),[]),[s,a,i]}function ZL(t,r,s){const a=r.length>1&&Array.from(r).every(d=>d===r[0])?r[0]:r,i=s?t.indexOf(s):-1;let l=Dre(t,Math.max(i,0));a.length===1&&(l=l.filter(d=>d!==s));const c=l.find(d=>d.textValue.toLowerCase().startsWith(a.toLowerCase()));return c!==s?c:void 0}function Dre(t,r){return t.map((s,n)=>t[(r+n)%t.length])}var Mre=CL,JL=kL,Ire=_L,Rre=TL,Fre=OL,e8=EL,$re=RL,t8=LL,r8=VL,Lre=UL,Bre=zL,s8=KL,n8=HL,a8=GL;const je=Mre,be=Ire,ge=j.forwardRef(({className:t,children:r,...s},n)=>e.jsxs(JL,{ref:n,className:Oe("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",t),...s,children:[r,e.jsx(Rre,{asChild:!0,children:e.jsx(ej,{className:"h-4 w-4 opacity-50"})})]}));ge.displayName=JL.displayName;const i8=j.forwardRef(({className:t,...r},s)=>e.jsx(s8,{ref:s,className:Oe("flex cursor-default items-center justify-center py-1",t),...r,children:e.jsx(LX,{className:"h-4 w-4"})}));i8.displayName=s8.displayName;const l8=j.forwardRef(({className:t,...r},s)=>e.jsx(n8,{ref:s,className:Oe("flex cursor-default items-center justify-center py-1",t),...r,children:e.jsx(ej,{className:"h-4 w-4"})}));l8.displayName=n8.displayName;const ve=j.forwardRef(({className:t,children:r,position:s="popper",...n},a)=>e.jsx(Fre,{children:e.jsxs(e8,{ref:a,className:Oe("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",s==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",t),position:s,...n,children:[e.jsx(i8,{}),e.jsx($re,{className:Oe("p-1",s==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:r}),e.jsx(l8,{})]})}));ve.displayName=e8.displayName;const Vre=j.forwardRef(({className:t,...r},s)=>e.jsx(t8,{ref:s,className:Oe("py-1.5 pl-8 pr-2 text-sm font-semibold",t),...r}));Vre.displayName=t8.displayName;const O=j.forwardRef(({className:t,children:r,...s},n)=>e.jsxs(r8,{ref:n,className:Oe("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),...s,children:[e.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:e.jsx(Bre,{children:e.jsx(Is,{className:"h-4 w-4"})})}),e.jsx(Lre,{children:r})]}));O.displayName=r8.displayName;const Ure=j.forwardRef(({className:t,...r},s)=>e.jsx(a8,{ref:s,className:Oe("-mx-1 my-1 h-px bg-muted",t),...r}));Ure.displayName=a8.displayName;const E=j.forwardRef(({className:t,...r},s)=>e.jsx("div",{ref:s,className:Oe("rounded-lg border bg-card text-card-foreground shadow-sm",t),...r}));E.displayName="Card";const Y=j.forwardRef(({className:t,...r},s)=>e.jsx("div",{ref:s,className:Oe("flex flex-col space-y-1.5 p-6",t),...r}));Y.displayName="CardHeader";const X=j.forwardRef(({className:t,...r},s)=>e.jsx("h3",{ref:s,className:Oe("text-2xl font-semibold leading-none tracking-tight",t),...r}));X.displayName="CardTitle";const he=j.forwardRef(({className:t,...r},s)=>e.jsx("p",{ref:s,className:Oe("text-sm text-muted-foreground",t),...r}));he.displayName="CardDescription";const D=j.forwardRef(({className:t,...r},s)=>e.jsx("div",{ref:s,className:Oe("p-6 pt-0",t),...r}));D.displayName="CardContent";const mr=j.forwardRef(({className:t,...r},s)=>e.jsx("div",{ref:s,className:Oe("flex items-center p-6 pt-0",t),...r}));mr.displayName="CardFooter";var qre="Separator",J_="horizontal",zre=["horizontal","vertical"],o8=j.forwardRef((t,r)=>{const{decorative:s,orientation:n=J_,...a}=t,i=Kre(n)?n:J_,o=s?{role:"none"}:{"aria-orientation":i==="vertical"?i:void 0,role:"separator"};return e.jsx(ct.div,{"data-orientation":i,...o,...a,ref:r})});o8.displayName=qre;function Kre(t){return zre.includes(t)}var c8=o8;const kr=j.forwardRef(({className:t,orientation:r="horizontal",decorative:s=!0,...n},a)=>e.jsx(c8,{ref:a,decorative:s,orientation:r,className:Oe("shrink-0 bg-border",r==="horizontal"?"h-[1px] w-full":"h-full w-[1px]",t),...n}));kr.displayName=c8.displayName;var Hre="Label",d8=j.forwardRef((t,r)=>e.jsx(ct.label,{...t,ref:r,onMouseDown:s=>{var a;s.target.closest("button, input, select, textarea")||((a=t.onMouseDown)==null||a.call(t,s),!s.defaultPrevented&&s.detail>1&&s.preventDefault())}}));d8.displayName=Hre;var u8=d8;const Wre=im("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),se=j.forwardRef(({className:t,...r},s)=>e.jsx(u8,{ref:s,className:Oe(Wre(),t),...r}));se.displayName=u8.displayName;const Gt=GZ,m8=j.createContext({}),q=({...t})=>e.jsx(m8.Provider,{value:{name:t.name},children:e.jsx(ZZ,{...t})}),vj=()=>{const t=j.useContext(m8),r=j.useContext(h8),{getFieldState:s,formState:n}=sj(),a=s(t.name,n);if(!t)throw new Error("useFormField should be used within <FormField>");const{id:i}=r;return{id:i,name:t.name,formItemId:`${i}-form-item`,formDescriptionId:`${i}-form-item-description`,formMessageId:`${i}-form-item-message`,...a}},h8=j.createContext({}),B=j.forwardRef(({className:t,...r},s)=>{const n=j.useId();return e.jsx(h8.Provider,{value:{id:n},children:e.jsx("div",{ref:s,className:Oe("space-y-2",t),...r})})});B.displayName="FormItem";const V=j.forwardRef(({className:t,...r},s)=>{const{error:n,formItemId:a}=vj();return e.jsx(se,{ref:s,className:Oe(n&&"text-destructive",t),htmlFor:a,...r})});V.displayName="FormLabel";const U=j.forwardRef(({...t},r)=>{const{error:s,formItemId:n,formDescriptionId:a,formMessageId:i}=vj();return e.jsx(Oi,{ref:r,id:n,"aria-describedby":s?`${a} ${i}`:`${a}`,"aria-invalid":!!s,...t})});U.displayName="FormControl";const Ue=j.forwardRef(({className:t,...r},s)=>{const{formDescriptionId:n}=vj();return e.jsx("p",{ref:s,id:n,className:Oe("text-sm text-muted-foreground",t),...r})});Ue.displayName="FormDescription";const z=j.forwardRef(({className:t,children:r,...s},n)=>{const{error:a,formMessageId:i}=vj(),l=a?String(a==null?void 0:a.message):r;return l?e.jsx("p",{ref:n,id:i,className:Oe("text-sm font-medium text-destructive",t),...s,children:l}):null});z.displayName="FormMessage";const Gre=_.object({name:_.string().min(1,"Product name is required"),description:_.string().min(10,"Description must be at least 10 characters"),categoryId:_.string().min(1,"Category is required"),subcategoryId:_.string().optional(),price:_.string().min(1,"Price is required").transform(t=>parseFloat(t)),discountedPrice:_.string().optional().transform(t=>t?parseFloat(t):void 0),specifications:_.string().min(5,"Specifications are required"),stockQuantity:_.string().min(1,"Stock quantity is required").transform(t=>parseInt(t)),unit:_.string().min(1,"Unit is required"),district:_.string().min(1,"District is required"),availableAreas:_.string().min(1,"Available areas are required"),imageUrl:_.string().optional()});function eT(){const{user:t}=dt(),r=aj(),{toast:s}=Be(),n=Sl(),[a,i]=j.useState(""),l=Ht({resolver:Wt(Gre),defaultValues:{name:"",description:"",categoryId:"",subcategoryId:"",specifications:"",unit:"piece",district:(t==null?void 0:t.district)||"",availableAreas:"",imageUrl:""}}),{data:o=[]}=fe({queryKey:["/api/admin/local-product-categories"]}),{data:c=[]}=fe({queryKey:["/api/admin/local-product-subcategories"]}),d=c.filter(h=>h.parentCategoryId===parseInt(a)),u=Se({mutationFn:async h=>(await le("POST","/api/provider/local-products",h)).json(),onSuccess:()=>{s({title:"Success!",description:"Local product added successfully and submitted for review."}),l.reset(),i(""),n.invalidateQueries({queryKey:["/api/provider/local-products"]})},onError:h=>{s({title:"Error",description:h.message||"Failed to add product",variant:"destructive"})}}),m=h=>{u.mutate(h)};return j.useEffect(()=>{const h=l.watch("categoryId");i(h),h!==a&&l.setValue("subcategoryId","")},[l.watch("categoryId")]),!t||t.userType!=="service_provider"||!r.canAccessLocalProducts?e.jsx("div",{className:"container mx-auto px-4 py-8",children:e.jsxs(E,{children:[e.jsxs(Y,{children:[e.jsx(X,{children:"Access Denied"}),e.jsx(he,{children:"Only registered manufacturers can add local products"})]}),e.jsx(D,{children:e.jsx("p",{children:"If you are a manufacturer, please ensure you are logged in with the correct account."})})]})}):e.jsxs("div",{className:"container mx-auto px-4 py-8 max-w-4xl",children:[e.jsxs("div",{className:"mb-8",children:[e.jsxs("h1",{className:"text-3xl font-bold text-gray-900 mb-2 flex items-center gap-2",children:[e.jsx(pt,{className:"h-8 w-8 text-primary"}),"Add Local Product"]}),e.jsx("p",{className:"text-gray-600",children:"Add your local products to reach customers across Tamil Nadu. Products will be reviewed before going live."})]}),e.jsxs(E,{children:[e.jsxs(Y,{children:[e.jsx(X,{children:"Product Information"}),e.jsx(he,{children:"Provide detailed information about your local product. All fields marked with * are required."})]}),e.jsx(D,{children:e.jsx(Gt,{...l,children:e.jsxs("form",{onSubmit:l.handleSubmit(m),className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsx(q,{control:l.control,name:"name",render:({field:h})=>e.jsxs(B,{children:[e.jsx(V,{children:"Product Name *"}),e.jsx(U,{children:e.jsx($,{placeholder:"e.g., Handwoven Cotton Saree",...h})}),e.jsx(z,{})]})}),e.jsx(q,{control:l.control,name:"unit",render:({field:h})=>e.jsxs(B,{children:[e.jsx(V,{children:"Unit *"}),e.jsxs(je,{onValueChange:h.onChange,value:h.value,children:[e.jsx(U,{children:e.jsx(ge,{children:e.jsx(be,{placeholder:"Select unit"})})}),e.jsxs(ve,{children:[e.jsx(O,{value:"piece",children:"Piece"}),e.jsx(O,{value:"set",children:"Set"}),e.jsx(O,{value:"kg",children:"Kilogram"}),e.jsx(O,{value:"gram",children:"Gram"}),e.jsx(O,{value:"liter",children:"Liter"}),e.jsx(O,{value:"meter",children:"Meter"}),e.jsx(O,{value:"pair",children:"Pair"}),e.jsx(O,{value:"dozen",children:"Dozen"})]})]}),e.jsx(z,{})]})})]}),e.jsx(q,{control:l.control,name:"description",render:({field:h})=>e.jsxs(B,{children:[e.jsx(V,{children:"Description *"}),e.jsx(U,{children:e.jsx(at,{placeholder:"Describe your product, its unique features, and what makes it special...",className:"min-h-[100px]",...h})}),e.jsx(Ue,{children:"Provide a detailed description to help customers understand your product better."}),e.jsx(z,{})]})}),e.jsx(q,{control:l.control,name:"specifications",render:({field:h})=>e.jsxs(B,{children:[e.jsx(V,{children:"Specifications *"}),e.jsx(U,{children:e.jsx(at,{placeholder:"Material, dimensions, weight, color options, care instructions, etc...",className:"min-h-[80px]",...h})}),e.jsx(Ue,{children:"Include technical details, materials, dimensions, and other specifications."}),e.jsx(z,{})]})}),e.jsx(kr,{}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsx(q,{control:l.control,name:"categoryId",render:({field:h})=>e.jsxs(B,{children:[e.jsx(V,{children:"Category *"}),e.jsxs(je,{onValueChange:h.onChange,value:h.value,children:[e.jsx(U,{children:e.jsx(ge,{children:e.jsx(be,{placeholder:"Select category"})})}),e.jsx(ve,{children:o.map(g=>e.jsx(O,{value:g.id.toString(),children:g.name},g.id))})]}),e.jsx(z,{})]})}),e.jsx(q,{control:l.control,name:"subcategoryId",render:({field:h})=>e.jsxs(B,{children:[e.jsx(V,{children:"Subcategory"}),e.jsxs(je,{onValueChange:h.onChange,value:h.value,disabled:!a||d.length===0,children:[e.jsx(U,{children:e.jsx(ge,{children:e.jsx(be,{placeholder:"Select subcategory (optional)"})})}),e.jsx(ve,{children:d.map(g=>e.jsx(O,{value:g.id.toString(),children:g.name},g.id))})]}),e.jsx(Ue,{children:a?d.length===0?"No subcategories available":"Optional: Choose a more specific subcategory":"Select a category first"}),e.jsx(z,{})]})})]}),e.jsx(kr,{}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[e.jsx(q,{control:l.control,name:"price",render:({field:h})=>e.jsxs(B,{children:[e.jsx(V,{children:"Price () *"}),e.jsx(U,{children:e.jsxs("div",{className:"relative",children:[e.jsx(Hg,{className:"absolute left-3 top-3 h-4 w-4 text-gray-400"}),e.jsx($,{type:"number",step:"0.01",min:"0",placeholder:"0.00",className:"pl-10",...h})]})}),e.jsx(z,{})]})}),e.jsx(q,{control:l.control,name:"discountedPrice",render:({field:h})=>e.jsxs(B,{children:[e.jsx(V,{children:"Discounted Price ()"}),e.jsx(U,{children:e.jsxs("div",{className:"relative",children:[e.jsx(Hg,{className:"absolute left-3 top-3 h-4 w-4 text-gray-400"}),e.jsx($,{type:"number",step:"0.01",min:"0",placeholder:"0.00",className:"pl-10",...h})]})}),e.jsx(Ue,{children:"Optional: Offer a special price"}),e.jsx(z,{})]})}),e.jsx(q,{control:l.control,name:"stockQuantity",render:({field:h})=>e.jsxs(B,{children:[e.jsx(V,{children:"Stock Quantity *"}),e.jsx(U,{children:e.jsx($,{type:"number",min:"0",placeholder:"0",...h})}),e.jsx(Ue,{children:"Available quantity"}),e.jsx(z,{})]})})]}),e.jsx(kr,{}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsx(q,{control:l.control,name:"district",render:({field:h})=>e.jsxs(B,{children:[e.jsx(V,{children:"District *"}),e.jsx(U,{children:e.jsxs("div",{className:"relative",children:[e.jsx(ft,{className:"absolute left-3 top-3 h-4 w-4 text-gray-400"}),e.jsx($,{placeholder:"e.g., Chennai",className:"pl-10",...h})]})}),e.jsx(z,{})]})}),e.jsx(q,{control:l.control,name:"availableAreas",render:({field:h})=>e.jsxs(B,{children:[e.jsx(V,{children:"Available Areas *"}),e.jsx(U,{children:e.jsx($,{placeholder:"e.g., Chennai, Kanchipuram, Tiruvallur",...h})}),e.jsx(Ue,{children:"Areas where this product can be delivered (comma-separated)"}),e.jsx(z,{})]})})]}),e.jsx(q,{control:l.control,name:"imageUrl",render:({field:h})=>e.jsxs(B,{children:[e.jsx(V,{children:"Product Image URL"}),e.jsx(U,{children:e.jsxs("div",{className:"relative",children:[e.jsx(Ci,{className:"absolute left-3 top-3 h-4 w-4 text-gray-400"}),e.jsx($,{placeholder:"https://example.com/product-image.jpg",className:"pl-10",...h})]})}),e.jsx(Ue,{children:"Optional: Provide a direct URL to your product image"}),e.jsx(z,{})]})}),e.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx(Ow,{className:"h-5 w-5 text-blue-600 mt-0.5"}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-sm font-medium text-blue-900 mb-1",children:"Review Process"}),e.jsx("p",{className:"text-sm text-blue-700",children:"Your product will be reviewed by our admin team before it goes live. You'll receive a notification once the review is complete. This usually takes 1-2 business days."})]})]})}),e.jsxs("div",{className:"flex gap-4 pt-4",children:[e.jsx(T,{type:"submit",disabled:u.isPending,className:"flex-1 md:flex-none",children:u.isPending?"Adding Product...":e.jsxs(e.Fragment,{children:[e.jsx(Rt,{className:"h-4 w-4 mr-2"}),"Add Local Product"]})}),e.jsx(T,{type:"button",variant:"outline",onClick:()=>{l.reset(),i("")},children:"Clear Form"})]})]})})})]})]})}const Yre=im("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function ae({className:t,variant:r,...s}){return e.jsx("div",{className:Oe(Yre({variant:r}),t),...s})}function Qre(t,r=[]){let s=[];function n(i,l){const o=j.createContext(l),c=s.length;s=[...s,l];function d(m){const{scope:h,children:g,...f}=m,p=(h==null?void 0:h[t][c])||o,y=j.useMemo(()=>f,Object.values(f));return e.jsx(p.Provider,{value:y,children:g})}function u(m,h){const g=(h==null?void 0:h[t][c])||o,f=j.useContext(g);if(f)return f;if(l!==void 0)return l;throw new Error(`\`${m}\` must be used within \`${i}\``)}return d.displayName=i+"Provider",[d,u]}const a=()=>{const i=s.map(l=>j.createContext(l));return function(o){const c=(o==null?void 0:o[t])||i;return j.useMemo(()=>({[`__scope${t}`]:{...o,[t]:c}}),[o,c])}};return a.scopeName=t,[n,Xre(a,...r)]}function Xre(...t){const r=t[0];if(t.length===1)return r;const s=()=>{const n=t.map(a=>({useScope:a(),scopeName:a.scopeName}));return function(i){const l=n.reduce((o,{useScope:c,scopeName:d})=>{const m=c(i)[`__scope${d}`];return{...o,...m}},{});return j.useMemo(()=>({[`__scope${r.scopeName}`]:l}),[l])}};return s.scopeName=r.scopeName,s}var S0="rovingFocusGroup.onEntryFocus",Zre={bubbles:!1,cancelable:!0},yj="RovingFocusGroup",[Zw,p8,Jre]=gf(yj),[ese,mm]=Qre(yj,[Jre]),[tse,rse]=ese(yj),f8=j.forwardRef((t,r)=>e.jsx(Zw.Provider,{scope:t.__scopeRovingFocusGroup,children:e.jsx(Zw.Slot,{scope:t.__scopeRovingFocusGroup,children:e.jsx(sse,{...t,ref:r})})}));f8.displayName=yj;var sse=j.forwardRef((t,r)=>{const{__scopeRovingFocusGroup:s,orientation:n,loop:a=!1,dir:i,currentTabStopId:l,defaultCurrentTabStopId:o,onCurrentTabStopIdChange:c,onEntryFocus:d,preventScrollOnEntryFocus:u=!1,...m}=t,h=j.useRef(null),g=Lt(r,h),f=Vc(i),[p=null,y]=Fn({prop:l,defaultProp:o,onChange:c}),[v,x]=j.useState(!1),b=Hr(d),N=p8(s),w=j.useRef(!1),[C,P]=j.useState(0);return j.useEffect(()=>{const S=h.current;if(S)return S.addEventListener(S0,b),()=>S.removeEventListener(S0,b)},[b]),e.jsx(tse,{scope:s,orientation:n,dir:f,loop:a,currentTabStopId:p,onItemFocus:j.useCallback(S=>y(S),[y]),onItemShiftTab:j.useCallback(()=>x(!0),[]),onFocusableItemAdd:j.useCallback(()=>P(S=>S+1),[]),onFocusableItemRemove:j.useCallback(()=>P(S=>S-1),[]),children:e.jsx(ct.div,{tabIndex:v||C===0?-1:0,"data-orientation":n,...m,ref:g,style:{outline:"none",...t.style},onMouseDown:He(t.onMouseDown,()=>{w.current=!0}),onFocus:He(t.onFocus,S=>{const A=!w.current;if(S.target===S.currentTarget&&A&&!v){const k=new CustomEvent(S0,Zre);if(S.currentTarget.dispatchEvent(k),!k.defaultPrevented){const I=N().filter(W=>W.focusable),L=I.find(W=>W.active),K=I.find(W=>W.id===p),F=[L,K,...I].filter(Boolean).map(W=>W.ref.current);v8(F,u)}}w.current=!1}),onBlur:He(t.onBlur,()=>x(!1))})})}),x8="RovingFocusGroupItem",g8=j.forwardRef((t,r)=>{const{__scopeRovingFocusGroup:s,focusable:n=!0,active:a=!1,tabStopId:i,...l}=t,o=ta(),c=i||o,d=rse(x8,s),u=d.currentTabStopId===c,m=p8(s),{onFocusableItemAdd:h,onFocusableItemRemove:g}=d;return j.useEffect(()=>{if(n)return h(),()=>g()},[n,h,g]),e.jsx(Zw.ItemSlot,{scope:s,id:c,focusable:n,active:a,children:e.jsx(ct.span,{tabIndex:u?0:-1,"data-orientation":d.orientation,...l,ref:r,onMouseDown:He(t.onMouseDown,f=>{n?d.onItemFocus(c):f.preventDefault()}),onFocus:He(t.onFocus,()=>d.onItemFocus(c)),onKeyDown:He(t.onKeyDown,f=>{if(f.key==="Tab"&&f.shiftKey){d.onItemShiftTab();return}if(f.target!==f.currentTarget)return;const p=ise(f,d.orientation,d.dir);if(p!==void 0){if(f.metaKey||f.ctrlKey||f.altKey||f.shiftKey)return;f.preventDefault();let v=m().filter(x=>x.focusable).map(x=>x.ref.current);if(p==="last")v.reverse();else if(p==="prev"||p==="next"){p==="prev"&&v.reverse();const x=v.indexOf(f.currentTarget);v=d.loop?lse(v,x+1):v.slice(x+1)}setTimeout(()=>v8(v))}})})})});g8.displayName=x8;var nse={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function ase(t,r){return r!=="rtl"?t:t==="ArrowLeft"?"ArrowRight":t==="ArrowRight"?"ArrowLeft":t}function ise(t,r,s){const n=ase(t.key,s);if(!(r==="vertical"&&["ArrowLeft","ArrowRight"].includes(n))&&!(r==="horizontal"&&["ArrowUp","ArrowDown"].includes(n)))return nse[n]}function v8(t,r=!1){const s=document.activeElement;for(const n of t)if(n===s||(n.focus({preventScroll:r}),document.activeElement!==s))return}function lse(t,r){return t.map((s,n)=>t[(r+n)%t.length])}var wC=f8,SC=g8,CC="Tabs",[ose,oFe]=rn(CC,[mm]),y8=mm(),[cse,PC]=ose(CC),j8=j.forwardRef((t,r)=>{const{__scopeTabs:s,value:n,onValueChange:a,defaultValue:i,orientation:l="horizontal",dir:o,activationMode:c="automatic",...d}=t,u=Vc(o),[m,h]=Fn({prop:n,onChange:a,defaultProp:i});return e.jsx(cse,{scope:s,baseId:ta(),value:m,onValueChange:h,orientation:l,dir:u,activationMode:c,children:e.jsx(ct.div,{dir:u,"data-orientation":l,...d,ref:r})})});j8.displayName=CC;var b8="TabsList",N8=j.forwardRef((t,r)=>{const{__scopeTabs:s,loop:n=!0,...a}=t,i=PC(b8,s),l=y8(s);return e.jsx(wC,{asChild:!0,...l,orientation:i.orientation,dir:i.dir,loop:n,children:e.jsx(ct.div,{role:"tablist","aria-orientation":i.orientation,...a,ref:r})})});N8.displayName=b8;var w8="TabsTrigger",S8=j.forwardRef((t,r)=>{const{__scopeTabs:s,value:n,disabled:a=!1,...i}=t,l=PC(w8,s),o=y8(s),c=k8(l.baseId,n),d=A8(l.baseId,n),u=n===l.value;return e.jsx(SC,{asChild:!0,...o,focusable:!a,active:u,children:e.jsx(ct.button,{type:"button",role:"tab","aria-selected":u,"aria-controls":d,"data-state":u?"active":"inactive","data-disabled":a?"":void 0,disabled:a,id:c,...i,ref:r,onMouseDown:He(t.onMouseDown,m=>{!a&&m.button===0&&m.ctrlKey===!1?l.onValueChange(n):m.preventDefault()}),onKeyDown:He(t.onKeyDown,m=>{[" ","Enter"].includes(m.key)&&l.onValueChange(n)}),onFocus:He(t.onFocus,()=>{const m=l.activationMode!=="manual";!u&&!a&&m&&l.onValueChange(n)})})})});S8.displayName=w8;var C8="TabsContent",P8=j.forwardRef((t,r)=>{const{__scopeTabs:s,value:n,forceMount:a,children:i,...l}=t,o=PC(C8,s),c=k8(o.baseId,n),d=A8(o.baseId,n),u=n===o.value,m=j.useRef(u);return j.useEffect(()=>{const h=requestAnimationFrame(()=>m.current=!1);return()=>cancelAnimationFrame(h)},[]),e.jsx(ks,{present:a||u,children:({present:h})=>e.jsx(ct.div,{"data-state":u?"active":"inactive","data-orientation":o.orientation,role:"tabpanel","aria-labelledby":c,hidden:!h,id:d,tabIndex:0,...l,ref:r,style:{...t.style,animationDuration:m.current?"0s":void 0},children:h&&i})})});P8.displayName=C8;function k8(t,r){return`${t}-trigger-${r}`}function A8(t,r){return`${t}-content-${r}`}var dse=j8,_8=N8,T8=S8,O8=P8;const rr=dse,tr=j.forwardRef(({className:t,...r},s)=>e.jsx(_8,{ref:s,className:Oe("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",t),...r}));tr.displayName=_8.displayName;const ke=j.forwardRef(({className:t,...r},s)=>e.jsx(T8,{ref:s,className:Oe("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",t),...r}));ke.displayName=T8.displayName;const Le=j.forwardRef(({className:t,...r},s)=>e.jsx(O8,{ref:s,className:Oe("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",t),...r}));Le.displayName=O8.displayName;function use(){const{toast:t}=Be(),{user:r}=dt(),s=aj(),[,n]=xr(),[a,i]=j.useState("all"),{data:l,isLoading:o,isError:c,error:d,refetch:u}=fe({queryKey:["/api/local-products/my-products"],queryFn:async()=>{const p=await le("GET","/api/local-products/my-products");if(!p.ok)throw new Error("Failed to fetch your local products");return await p.json()}}),m=Se({mutationFn:async p=>{await le("DELETE",`/api/local-products/${p}`)},onSuccess:()=>{t({title:"Local product deleted",description:"Your local product has been deleted successfully."}),u()},onError:p=>{t({title:"Delete failed",description:p.message||"Failed to delete local product. Please try again.",variant:"destructive"})}}),h=(l==null?void 0:l.filter(p=>a==="all"?!0:a==="pending"?p.status==="pending":a==="approved"?p.status==="approved":a==="rejected"?p.status==="rejected":!0))||[],g=p=>{switch(p){case"approved":return e.jsxs(ae,{className:"bg-green-100 text-green-800 border-green-200",children:[e.jsx(Ot,{className:"w-3 h-3 mr-1"}),"Approved"]});case"pending":return e.jsxs(ae,{className:"bg-yellow-100 text-yellow-800 border-yellow-200",children:[e.jsx(gt,{className:"w-3 h-3 mr-1"}),"Pending"]});case"rejected":return e.jsxs(ae,{className:"bg-red-100 text-red-800 border-red-200",children:[e.jsx(Mr,{className:"w-3 h-3 mr-1"}),"Rejected"]});default:return e.jsx(ae,{variant:"secondary",children:p})}},f=p=>{window.confirm("Are you sure you want to delete this local product?")&&m.mutate(p)};return!r||r.userType!=="service_provider"||!s.canAccessLocalProducts?e.jsx("div",{className:"container mx-auto px-4 py-8",children:e.jsxs(E,{children:[e.jsxs(Y,{children:[e.jsx(X,{children:"Access Denied"}),e.jsx(he,{children:"Only registered manufacturers can view their local products"})]}),e.jsx(D,{children:e.jsx("p",{children:"If you are a manufacturer, please log in to view your local products."})}),e.jsx(mr,{children:e.jsx(T,{onClick:()=>n("/auth"),children:"Go to Login"})})]})}):e.jsxs("div",{className:"container mx-auto px-4 py-8",children:[e.jsxs("div",{className:"flex justify-between items-center mb-6",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold",children:"My Local Products"}),e.jsx("p",{className:"text-gray-600 mt-1",children:"Manage your local products and track their approval status"})]}),e.jsxs(T,{onClick:()=>n("/provider/add-local-product"),children:[e.jsx(Rt,{className:"mr-2 h-4 w-4"}),"Add New Product"]})]}),e.jsx(rr,{defaultValue:"all",value:a,onValueChange:i,className:"mb-6",children:e.jsxs(tr,{className:"grid grid-cols-4 w-full md:w-auto",children:[e.jsxs(ke,{value:"all",className:"flex items-center gap-2",children:["All Products",l&&e.jsx(ae,{variant:"secondary",children:l.length})]}),e.jsxs(ke,{value:"pending",className:"flex items-center gap-2",children:[e.jsx(gt,{className:"w-4 h-4"}),"Pending",l&&e.jsx(ae,{variant:"secondary",children:l.filter(p=>p.status==="pending").length})]}),e.jsxs(ke,{value:"approved",className:"flex items-center gap-2",children:[e.jsx(Ot,{className:"w-4 h-4"}),"Approved",l&&e.jsx(ae,{variant:"secondary",children:l.filter(p=>p.status==="approved").length})]}),e.jsxs(ke,{value:"rejected",className:"flex items-center gap-2",children:[e.jsx(Mr,{className:"w-4 h-4"}),"Rejected",l&&e.jsx(ae,{variant:"secondary",children:l.filter(p=>p.status==="rejected").length})]})]})}),o?e.jsx("div",{className:"flex justify-center items-center py-12",children:e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"})}):c?e.jsx(E,{children:e.jsxs(D,{className:"py-8 text-center",children:[e.jsx(ti,{className:"h-12 w-12 text-red-500 mx-auto mb-4"}),e.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Error loading products"}),e.jsx("p",{className:"text-gray-600 mb-4",children:d instanceof Error?d.message:"Failed to load your local products"}),e.jsx(T,{onClick:()=>u(),children:"Try Again"})]})}):h.length===0?e.jsx(E,{children:e.jsxs(D,{className:"py-12 text-center",children:[e.jsx(pt,{className:"h-16 w-16 text-gray-300 mx-auto mb-4"}),e.jsx("h3",{className:"text-xl font-semibold mb-2",children:a==="all"?"No local products yet":`No ${a} products`}),e.jsx("p",{className:"text-gray-600 mb-6",children:a==="all"?"Start selling by adding your first local product":`You don't have any ${a} products at the moment`}),a==="all"&&e.jsxs(T,{onClick:()=>n("/provider/add-local-product"),children:[e.jsx(pt,{className:"mr-2 h-4 w-4"}),"Add Your First Product"]})]})}):e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:h.map(p=>e.jsxs(E,{className:"overflow-hidden",children:[e.jsx(Y,{className:"pb-3",children:e.jsxs("div",{className:"flex justify-between items-start",children:[e.jsxs("div",{children:[e.jsx(X,{className:"text-lg",children:p.name||"Product"}),e.jsx(he,{children:p.description||"No description available"})]}),g(p.status)]})}),e.jsxs(D,{className:"pb-4",children:[e.jsx("div",{className:"aspect-w-16 aspect-h-9 bg-gray-100 rounded-md flex items-center justify-center mb-4",children:p.imageUrl?e.jsx("img",{src:p.imageUrl,alt:p.name||"Product",className:"object-cover w-full h-full rounded-md"}):e.jsx(pt,{className:"h-16 w-16 text-gray-300"})}),e.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-4",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-500",children:"Price"}),e.jsxs("p",{className:"font-medium",children:["",p.price,p.discountedPrice&&p.discountedPrice<p.price&&e.jsxs("span",{className:"ml-2 text-sm text-green-600",children:["(",p.discountedPrice," after discount)"]})]})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-500",children:"Stock"}),e.jsxs("p",{className:"font-medium",children:[p.stockQuantity||0," ",p.unit]})]})]}),e.jsxs("div",{className:"text-xs text-gray-500 space-y-1 mt-3",children:[p.status==="pending"&&e.jsxs("p",{className:"flex items-center gap-1 text-yellow-600",children:[e.jsx(ti,{className:"h-3 w-3"}),"Awaiting admin approval"]}),e.jsxs("p",{children:["Category: ",p.category]}),e.jsxs("p",{children:["District: ",p.district]}),e.jsxs("p",{children:["Added on: ",p.createdAt?new Date(p.createdAt).toLocaleDateString():"Unknown date"]})]})]}),e.jsxs(mr,{className:"flex justify-between",children:[e.jsxs(T,{variant:"outline",size:"sm",onClick:()=>n(`/provider/edit-local-product/${p.id}`),children:[e.jsx(Gr,{className:"mr-1 h-3 w-3"}),"Edit"]}),e.jsxs(T,{variant:"destructive",size:"sm",onClick:()=>f(p.id),disabled:m.isPending,children:[e.jsx(Er,{className:"mr-1 h-3 w-3"}),"Delete"]})]})]},p.id))})]})}var kC="Dialog",[E8,D8]=rn(kC),[mse,li]=E8(kC),M8=t=>{const{__scopeDialog:r,children:s,open:n,defaultOpen:a,onOpenChange:i,modal:l=!0}=t,o=j.useRef(null),c=j.useRef(null),[d=!1,u]=Fn({prop:n,defaultProp:a,onChange:i});return e.jsx(mse,{scope:r,triggerRef:o,contentRef:c,contentId:ta(),titleId:ta(),descriptionId:ta(),open:d,onOpenChange:u,onOpenToggle:j.useCallback(()=>u(m=>!m),[u]),modal:l,children:s})};M8.displayName=kC;var I8="DialogTrigger",R8=j.forwardRef((t,r)=>{const{__scopeDialog:s,...n}=t,a=li(I8,s),i=Lt(r,a.triggerRef);return e.jsx(ct.button,{type:"button","aria-haspopup":"dialog","aria-expanded":a.open,"aria-controls":a.contentId,"data-state":TC(a.open),...n,ref:i,onClick:He(t.onClick,a.onOpenToggle)})});R8.displayName=I8;var AC="DialogPortal",[hse,F8]=E8(AC,{forceMount:void 0}),$8=t=>{const{__scopeDialog:r,forceMount:s,children:n,container:a}=t,i=li(AC,r);return e.jsx(hse,{scope:r,forceMount:s,children:j.Children.map(n,l=>e.jsx(ks,{present:s||i.open,children:e.jsx(am,{asChild:!0,container:a,children:l})}))})};$8.displayName=AC;var pv="DialogOverlay",L8=j.forwardRef((t,r)=>{const s=F8(pv,t.__scopeDialog),{forceMount:n=s.forceMount,...a}=t,i=li(pv,t.__scopeDialog);return i.modal?e.jsx(ks,{present:n||i.open,children:e.jsx(pse,{...a,ref:r})}):null});L8.displayName=pv;var pse=j.forwardRef((t,r)=>{const{__scopeDialog:s,...n}=t,a=li(pv,s);return e.jsx(wf,{as:Oi,allowPinchZoom:!0,shards:[a.contentRef],children:e.jsx(ct.div,{"data-state":TC(a.open),...n,ref:r,style:{pointerEvents:"auto",...n.style}})})}),_c="DialogContent",B8=j.forwardRef((t,r)=>{const s=F8(_c,t.__scopeDialog),{forceMount:n=s.forceMount,...a}=t,i=li(_c,t.__scopeDialog);return e.jsx(ks,{present:n||i.open,children:i.modal?e.jsx(fse,{...a,ref:r}):e.jsx(xse,{...a,ref:r})})});B8.displayName=_c;var fse=j.forwardRef((t,r)=>{const s=li(_c,t.__scopeDialog),n=j.useRef(null),a=Lt(r,s.contentRef,n);return j.useEffect(()=>{const i=n.current;if(i)return hj(i)},[]),e.jsx(V8,{...t,ref:a,trapFocus:s.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:He(t.onCloseAutoFocus,i=>{var l;i.preventDefault(),(l=s.triggerRef.current)==null||l.focus()}),onPointerDownOutside:He(t.onPointerDownOutside,i=>{const l=i.detail.originalEvent,o=l.button===0&&l.ctrlKey===!0;(l.button===2||o)&&i.preventDefault()}),onFocusOutside:He(t.onFocusOutside,i=>i.preventDefault())})}),xse=j.forwardRef((t,r)=>{const s=li(_c,t.__scopeDialog),n=j.useRef(!1),a=j.useRef(!1);return e.jsx(V8,{...t,ref:r,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:i=>{var l,o;(l=t.onCloseAutoFocus)==null||l.call(t,i),i.defaultPrevented||(n.current||(o=s.triggerRef.current)==null||o.focus(),i.preventDefault()),n.current=!1,a.current=!1},onInteractOutside:i=>{var c,d;(c=t.onInteractOutside)==null||c.call(t,i),i.defaultPrevented||(n.current=!0,i.detail.originalEvent.type==="pointerdown"&&(a.current=!0));const l=i.target;((d=s.triggerRef.current)==null?void 0:d.contains(l))&&i.preventDefault(),i.detail.originalEvent.type==="focusin"&&a.current&&i.preventDefault()}})}),V8=j.forwardRef((t,r)=>{const{__scopeDialog:s,trapFocus:n,onOpenAutoFocus:a,onCloseAutoFocus:i,...l}=t,o=li(_c,s),c=j.useRef(null),d=Lt(r,c);return ij(),e.jsxs(e.Fragment,{children:[e.jsx(bf,{asChild:!0,loop:!0,trapped:n,onMountAutoFocus:a,onUnmountAutoFocus:i,children:e.jsx(nm,{role:"dialog",id:o.contentId,"aria-describedby":o.descriptionId,"aria-labelledby":o.titleId,"data-state":TC(o.open),...l,ref:d,onDismiss:()=>o.onOpenChange(!1)})}),e.jsxs(e.Fragment,{children:[e.jsx(vse,{titleId:o.titleId}),e.jsx(jse,{contentRef:c,descriptionId:o.descriptionId})]})]})}),_C="DialogTitle",U8=j.forwardRef((t,r)=>{const{__scopeDialog:s,...n}=t,a=li(_C,s);return e.jsx(ct.h2,{id:a.titleId,...n,ref:r})});U8.displayName=_C;var q8="DialogDescription",z8=j.forwardRef((t,r)=>{const{__scopeDialog:s,...n}=t,a=li(q8,s);return e.jsx(ct.p,{id:a.descriptionId,...n,ref:r})});z8.displayName=q8;var K8="DialogClose",H8=j.forwardRef((t,r)=>{const{__scopeDialog:s,...n}=t,a=li(K8,s);return e.jsx(ct.button,{type:"button",...n,ref:r,onClick:He(t.onClick,()=>a.onOpenChange(!1))})});H8.displayName=K8;function TC(t){return t?"open":"closed"}var W8="DialogTitleWarning",[gse,G8]=qQ(W8,{contentName:_c,titleName:_C,docsSlug:"dialog"}),vse=({titleId:t})=>{const r=G8(W8),s=`\`${r.contentName}\` requires a \`${r.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${r.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${r.docsSlug}`;return j.useEffect(()=>{t&&(document.getElementById(t)||console.error(s))},[s,t]),null},yse="DialogDescriptionWarning",jse=({contentRef:t,descriptionId:r})=>{const n=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${G8(yse).contentName}}.`;return j.useEffect(()=>{var i;const a=(i=t.current)==null?void 0:i.getAttribute("aria-describedby");r&&a&&(document.getElementById(r)||console.warn(n))},[n,t,r]),null},OC=M8,EC=R8,DC=$8,Cf=L8,Pf=B8,kf=U8,Af=z8,_f=H8;const kt=OC,ls=EC,bse=DC,tT=_f,Y8=j.forwardRef(({className:t,...r},s)=>e.jsx(Cf,{ref:s,className:Oe("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...r}));Y8.displayName=Cf.displayName;const St=j.forwardRef(({className:t,children:r,...s},n)=>e.jsxs(bse,{children:[e.jsx(Y8,{}),e.jsxs(Pf,{ref:n,className:Oe("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",t),...s,children:[r,e.jsxs(_f,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[e.jsx(ws,{className:"h-4 w-4"}),e.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));St.displayName=Pf.displayName;const Ct=({className:t,...r})=>e.jsx("div",{className:Oe("flex flex-col space-y-1.5 text-center sm:text-left",t),...r});Ct.displayName="DialogHeader";const Ms=({className:t,...r})=>e.jsx("div",{className:Oe("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",t),...r});Ms.displayName="DialogFooter";const Pt=j.forwardRef(({className:t,...r},s)=>e.jsx(kf,{ref:s,className:Oe("text-lg font-semibold leading-none tracking-tight",t),...r}));Pt.displayName=kf.displayName;const Yt=j.forwardRef(({className:t,...r},s)=>e.jsx(Af,{ref:s,className:Oe("text-sm text-muted-foreground",t),...r}));Yt.displayName=Af.displayName;function Nse(){const{user:t}=dt(),{toast:r}=Be(),[s,n]=j.useState(!1),[a,i]=j.useState("category"),{data:l=[]}=fe({queryKey:["/api/local-product-categories"]}),{data:o=[],isLoading:c}=fe({queryKey:["/api/provider/category-requests"]}),d=Se({mutationFn:async m=>await(await le("POST","/api/provider/category-requests",m)).json(),onSuccess:()=>{r({title:"Request Submitted",description:"Your category request has been submitted for admin review."}),pe.invalidateQueries({queryKey:["/api/provider/category-requests"]}),n(!1)},onError:m=>{r({title:"Request Failed",description:m.message,variant:"destructive"})}}),u=m=>{const h={categoryName:m.get("categoryName"),subcategoryName:a==="subcategory"?m.get("subcategoryName"):void 0,parentCategoryId:a==="subcategory"?parseInt(m.get("parentCategoryId")):void 0,description:m.get("description"),justification:m.get("justification")};d.mutate(h)};return!t||t.userType!=="service_provider"?e.jsx("div",{className:"container mx-auto px-4 py-8",children:e.jsxs("div",{className:"text-center",children:[e.jsx("h1",{className:"text-2xl font-bold text-red-600",children:"Access Denied"}),e.jsx("p",{className:"text-gray-600 mt-2",children:"Only service providers can access this page."})]})}):e.jsxs("div",{className:"container mx-auto px-4 py-8",children:[e.jsxs("div",{className:"mb-8",children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Request New Category"}),e.jsx("p",{className:"text-gray-600",children:"Can't find the right category for your products? Request a new category or subcategory."})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[e.jsx("div",{className:"lg:col-span-2",children:e.jsxs(E,{children:[e.jsx(Y,{children:e.jsxs(X,{className:"flex items-center gap-2",children:[e.jsx(Rt,{className:"w-5 h-5"}),"New Category Request"]})}),e.jsxs(D,{children:[e.jsxs(kt,{open:s,onOpenChange:n,children:[e.jsx(ls,{asChild:!0,children:e.jsxs(T,{className:"w-full",children:[e.jsx(i$,{className:"w-4 h-4 mr-2"}),"Submit Category Request"]})}),e.jsxs(St,{className:"max-w-md",children:[e.jsx(Ct,{children:e.jsx(Pt,{children:"Request New Category"})}),e.jsxs("form",{onSubmit:m=>{m.preventDefault(),u(new FormData(m.currentTarget))},className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx(se,{children:"Request Type"}),e.jsxs(je,{value:a,onValueChange:m=>i(m),children:[e.jsx(ge,{children:e.jsx(be,{})}),e.jsxs(ve,{children:[e.jsx(O,{value:"category",children:"New Category"}),e.jsx(O,{value:"subcategory",children:"New Subcategory"})]})]})]}),a==="subcategory"&&e.jsxs("div",{children:[e.jsx(se,{htmlFor:"parentCategoryId",children:"Parent Category"}),e.jsxs(je,{name:"parentCategoryId",required:!0,children:[e.jsx(ge,{children:e.jsx(be,{placeholder:"Select parent category"})}),e.jsx(ve,{children:l.filter(m=>m.isActive).map(m=>e.jsxs(O,{value:m.id.toString(),children:[m.icon," ",m.name]},m.id))})]})]}),e.jsxs("div",{children:[e.jsx(se,{htmlFor:"categoryName",children:a==="category"?"Category Name":"Category Name (if new)"}),e.jsx($,{id:"categoryName",name:"categoryName",required:a==="category",placeholder:a==="subcategory"?"Leave empty if using existing category":""})]}),a==="subcategory"&&e.jsxs("div",{children:[e.jsx(se,{htmlFor:"subcategoryName",children:"Subcategory Name"}),e.jsx($,{id:"subcategoryName",name:"subcategoryName",required:!0})]}),e.jsxs("div",{children:[e.jsx(se,{htmlFor:"description",children:"Description"}),e.jsx(at,{id:"description",name:"description",placeholder:"Describe what products would fall under this category",rows:3})]}),e.jsxs("div",{children:[e.jsx(se,{htmlFor:"justification",children:"Business Justification"}),e.jsx(at,{id:"justification",name:"justification",placeholder:"Explain why this category is needed for your business",rows:3,required:!0})]}),e.jsx(T,{type:"submit",disabled:d.isPending,className:"w-full",children:d.isPending?"Submitting...":"Submit Request"})]})]})]}),e.jsxs("div",{className:"mt-6 p-4 bg-blue-50 rounded-lg",children:[e.jsx("h3",{className:"font-medium text-blue-900 mb-2",children:"Guidelines for Category Requests"}),e.jsxs("ul",{className:"text-sm text-blue-800 space-y-1",children:[e.jsx("li",{children:" Be specific about the products that would fall under this category"}),e.jsx("li",{children:" Explain how this helps your business and customers"}),e.jsx("li",{children:" Check if a similar category already exists"}),e.jsx("li",{children:" Admin review typically takes 1-3 business days"})]})]})]})]})}),e.jsx("div",{children:e.jsxs(E,{children:[e.jsx(Y,{children:e.jsxs(X,{className:"flex items-center gap-2",children:[e.jsx(pt,{className:"w-5 h-5"}),"Existing Categories"]})}),e.jsx(D,{children:e.jsx("div",{className:"space-y-2 max-h-96 overflow-y-auto",children:l.map(m=>e.jsxs("div",{className:"p-2 border rounded text-sm",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[m.icon&&e.jsx("span",{children:m.icon}),e.jsx("span",{className:"font-medium",children:m.name})]}),m.description&&e.jsx("p",{className:"text-gray-600 text-xs mt-1",children:m.description})]},m.id))})})]})})]}),e.jsxs("div",{className:"mt-8",children:[e.jsxs("h2",{className:"text-xl font-semibold mb-4",children:["Your Requests (",o.length,")"]}),c?e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:Array.from({length:3}).map((m,h)=>e.jsx(E,{className:"animate-pulse",children:e.jsxs(D,{className:"p-6",children:[e.jsx("div",{className:"h-4 bg-gray-200 rounded mb-2"}),e.jsx("div",{className:"h-3 bg-gray-200 rounded mb-4"}),e.jsx("div",{className:"h-6 bg-gray-200 rounded w-20"})]})},h))}):e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:o.map(m=>e.jsx(E,{children:e.jsxs(D,{className:"p-6",children:[e.jsxs("div",{className:"flex justify-between items-start mb-3",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold",children:m.categoryName}),m.subcategoryName&&e.jsxs("p",{className:"text-gray-600 text-sm",children:["Subcategory: ",m.subcategoryName]})]}),e.jsxs(ae,{variant:m.status==="approved"?"default":m.status==="rejected"?"destructive":"secondary",className:"flex items-center gap-1",children:[m.status==="approved"&&e.jsx(Ot,{className:"w-3 h-3"}),m.status==="rejected"&&e.jsx(Mr,{className:"w-3 h-3"}),m.status==="pending"&&e.jsx(gt,{className:"w-3 h-3"}),m.status]})]}),m.description&&e.jsx("p",{className:"text-gray-600 text-sm mb-2",children:m.description}),m.adminResponse&&e.jsxs("div",{className:"mt-3 p-3 bg-gray-50 rounded",children:[e.jsxs("h4",{className:"text-sm font-medium text-gray-700 mb-1 flex items-center gap-1",children:[e.jsx(hu,{className:"w-3 h-3"}),"Admin Response:"]}),e.jsx("p",{className:"text-sm text-gray-600",children:m.adminResponse})]}),e.jsxs("div",{className:"mt-3 text-xs text-gray-500",children:["Requested: ",new Date(m.createdAt).toLocaleDateString(),m.reviewedAt&&e.jsxs("span",{children:["  Reviewed: ",new Date(m.reviewedAt).toLocaleDateString()]})]})]})},m.id))}),o.length===0&&!c&&e.jsxs("div",{className:"text-center py-12",children:[e.jsx(pt,{className:"w-16 h-16 mx-auto text-gray-400 mb-4"}),e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No requests yet"}),e.jsx("p",{className:"text-gray-500",children:"Your category requests will appear here once submitted"})]})]})]})}var MC="Checkbox",[wse,cFe]=rn(MC),[Sse,Cse]=wse(MC),Q8=j.forwardRef((t,r)=>{const{__scopeCheckbox:s,name:n,checked:a,defaultChecked:i,required:l,disabled:o,value:c="on",onCheckedChange:d,form:u,...m}=t,[h,g]=j.useState(null),f=Lt(r,N=>g(N)),p=j.useRef(!1),y=h?u||!!h.closest("form"):!0,[v=!1,x]=Fn({prop:a,defaultProp:i,onChange:d}),b=j.useRef(v);return j.useEffect(()=>{const N=h==null?void 0:h.form;if(N){const w=()=>x(b.current);return N.addEventListener("reset",w),()=>N.removeEventListener("reset",w)}},[h,x]),e.jsxs(Sse,{scope:s,state:v,disabled:o,children:[e.jsx(ct.button,{type:"button",role:"checkbox","aria-checked":ho(v)?"mixed":v,"aria-required":l,"data-state":J8(v),"data-disabled":o?"":void 0,disabled:o,value:c,...m,ref:f,onKeyDown:He(t.onKeyDown,N=>{N.key==="Enter"&&N.preventDefault()}),onClick:He(t.onClick,N=>{x(w=>ho(w)?!0:!w),y&&(p.current=N.isPropagationStopped(),p.current||N.stopPropagation())})}),y&&e.jsx(Pse,{control:h,bubbles:!p.current,name:n,value:c,checked:v,required:l,disabled:o,form:u,style:{transform:"translateX(-100%)"},defaultChecked:ho(i)?!1:i})]})});Q8.displayName=MC;var X8="CheckboxIndicator",Z8=j.forwardRef((t,r)=>{const{__scopeCheckbox:s,forceMount:n,...a}=t,i=Cse(X8,s);return e.jsx(ks,{present:n||ho(i.state)||i.state===!0,children:e.jsx(ct.span,{"data-state":J8(i.state),"data-disabled":i.disabled?"":void 0,...a,ref:r,style:{pointerEvents:"none",...t.style}})})});Z8.displayName=X8;var Pse=t=>{const{control:r,checked:s,bubbles:n=!0,defaultChecked:a,...i}=t,l=j.useRef(null),o=mj(s),c=dj(r);j.useEffect(()=>{const u=l.current,m=window.HTMLInputElement.prototype,g=Object.getOwnPropertyDescriptor(m,"checked").set;if(o!==s&&g){const f=new Event("click",{bubbles:n});u.indeterminate=ho(s),g.call(u,ho(s)?!1:s),u.dispatchEvent(f)}},[o,s,n]);const d=j.useRef(ho(s)?!1:s);return e.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:a??d.current,...i,tabIndex:-1,ref:l,style:{...t.style,...c,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function ho(t){return t==="indeterminate"}function J8(t){return ho(t)?"indeterminate":t?"checked":"unchecked"}var eB=Q8,kse=Z8;const xn=j.forwardRef(({className:t,...r},s)=>e.jsx(eB,{ref:s,className:Oe("peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",t),...r,children:e.jsx(kse,{className:Oe("flex items-center justify-center text-current"),children:e.jsx(Is,{className:"h-4 w-4"})})}));xn.displayName=eB.displayName;const $e=Symbol.for("drizzle:entityKind");function Bs(t,r){if(!t||typeof t!="object")return!1;if(t instanceof r)return!0;if(!Object.prototype.hasOwnProperty.call(r,$e))throw new Error(`Class "${r.name??"<unknown>"}" doesn't look like a Drizzle entity. If this is incorrect and the class is provided by Drizzle, please report this as a bug.`);let s=Object.getPrototypeOf(t).constructor;if(s)for(;s;){if($e in s&&s[$e]===r[$e])return!0;s=Object.getPrototypeOf(s)}return!1}var nM;nM=$e;class ju{constructor(r,s){oe(this,"name");oe(this,"keyAsName");oe(this,"primary");oe(this,"notNull");oe(this,"default");oe(this,"defaultFn");oe(this,"onUpdateFn");oe(this,"hasDefault");oe(this,"isUnique");oe(this,"uniqueName");oe(this,"uniqueType");oe(this,"dataType");oe(this,"columnType");oe(this,"enumValues");oe(this,"generated");oe(this,"generatedIdentity");oe(this,"config");this.table=r,this.config=s,this.name=s.name,this.keyAsName=s.keyAsName,this.notNull=s.notNull,this.default=s.default,this.defaultFn=s.defaultFn,this.onUpdateFn=s.onUpdateFn,this.hasDefault=s.hasDefault,this.primary=s.primaryKey,this.isUnique=s.isUnique,this.uniqueName=s.uniqueName,this.uniqueType=s.uniqueType,this.dataType=s.dataType,this.columnType=s.columnType,this.generated=s.generated,this.generatedIdentity=s.generatedIdentity}mapFromDriverValue(r){return r}mapToDriverValue(r){return r}shouldDisableInsert(){return this.config.generated!==void 0&&this.config.generated.type!=="byDefault"}}oe(ju,nM,"Column");var aM;aM=$e;class tB{constructor(r,s,n){oe(this,"config");oe(this,"$default",this.$defaultFn);oe(this,"$onUpdate",this.$onUpdateFn);this.config={name:r,keyAsName:r==="",notNull:!1,default:void 0,hasDefault:!1,primaryKey:!1,isUnique:!1,uniqueName:void 0,uniqueType:void 0,dataType:s,columnType:n,generated:void 0}}$type(){return this}notNull(){return this.config.notNull=!0,this}default(r){return this.config.default=r,this.config.hasDefault=!0,this}$defaultFn(r){return this.config.defaultFn=r,this.config.hasDefault=!0,this}$onUpdateFn(r){return this.config.onUpdateFn=r,this.config.hasDefault=!0,this}primaryKey(){return this.config.primaryKey=!0,this.config.notNull=!0,this}setName(r){this.config.name===""&&(this.config.name=r)}}oe(tB,aM,"ColumnBuilder");const Bd=Symbol.for("drizzle:Name");var iM;iM=$e;class rB{constructor(r,s){oe(this,"reference");oe(this,"_onUpdate","no action");oe(this,"_onDelete","no action");this.reference=()=>{const{name:n,columns:a,foreignColumns:i}=r();return{name:n,columns:a,foreignTable:i[0].table,foreignColumns:i}},s&&(this._onUpdate=s.onUpdate,this._onDelete=s.onDelete)}onUpdate(r){return this._onUpdate=r===void 0?"no action":r,this}onDelete(r){return this._onDelete=r===void 0?"no action":r,this}build(r){return new sB(r,this)}}oe(rB,iM,"PgForeignKeyBuilder");var lM;lM=$e;class sB{constructor(r,s){oe(this,"reference");oe(this,"onUpdate");oe(this,"onDelete");this.table=r,this.reference=s.reference,this.onUpdate=s._onUpdate,this.onDelete=s._onDelete}getName(){const{name:r,columns:s,foreignColumns:n}=this.reference(),a=s.map(o=>o.name),i=n.map(o=>o.name),l=[this.table[Bd],...a,n[0].table[Bd],...i];return r??`${l.join("_")}_fk`}}oe(sB,lM,"PgForeignKey");function Ase(t,...r){return t(...r)}function nB(t){return new lB(t)}function aB(t,r){return`${t[Bd]}_${r.join("_")}_unique`}var oM;oM=$e;class iB{constructor(r,s){oe(this,"columns");oe(this,"nullsNotDistinctConfig",!1);this.name=s,this.columns=r}nullsNotDistinct(){return this.nullsNotDistinctConfig=!0,this}build(r){return new oB(r,this.columns,this.nullsNotDistinctConfig,this.name)}}oe(iB,oM,"PgUniqueConstraintBuilder");var cM;cM=$e;class lB{constructor(r){oe(this,"name");this.name=r}on(...r){return new iB(r,this.name)}}oe(lB,cM,"PgUniqueOnConstraintBuilder");var dM;dM=$e;class oB{constructor(r,s,n,a){oe(this,"columns");oe(this,"name");oe(this,"nullsNotDistinct",!1);this.table=r,this.columns=s,this.name=a??aB(this.table,this.columns.map(i=>i.name)),this.nullsNotDistinct=n}getName(){return this.name}}oe(oB,dM,"PgUniqueConstraint");function rT(t,r,s){for(let n=r;n<t.length;n++){const a=t[n];if(a==="\\"){n++;continue}if(a==='"')return[t.slice(r,n).replace(/\\/g,""),n+1];if(!s&&(a===","||a==="}"))return[t.slice(r,n).replace(/\\/g,""),n]}return[t.slice(r).replace(/\\/g,""),t.length]}function cB(t,r=0){const s=[];let n=r,a=!1;for(;n<t.length;){const i=t[n];if(i===","){(a||n===r)&&s.push(""),a=!0,n++;continue}if(a=!1,i==="\\"){n+=2;continue}if(i==='"'){const[c,d]=rT(t,n+1,!0);s.push(c),n=d;continue}if(i==="}")return[s,n+1];if(i==="{"){const[c,d]=cB(t,n+1);s.push(c),n=d;continue}const[l,o]=rT(t,n,!1);s.push(l),n=o}return[s,n]}function _se(t){const[r]=cB(t,1);return r}function dB(t){return`{${t.map(r=>Array.isArray(r)?dB(r):typeof r=="string"?`"${r.replace(/\\/g,"\\\\").replace(/"/g,'\\"')}"`:`${r}`).join(",")}}`}var uM,mM;class or extends(mM=tB,uM=$e,mM){constructor(){super(...arguments);oe(this,"foreignKeyConfigs",[])}array(s){return new mB(this.config.name,this,s)}references(s,n={}){return this.foreignKeyConfigs.push({ref:s,actions:n}),this}unique(s,n){return this.config.isUnique=!0,this.config.uniqueName=s,this.config.uniqueType=n==null?void 0:n.nulls,this}generatedAlwaysAs(s){return this.config.generated={as:s,type:"always",mode:"stored"},this}buildForeignKeys(s,n){return this.foreignKeyConfigs.map(({ref:a,actions:i})=>Ase((l,o)=>{const c=new rB(()=>{const d=l();return{columns:[s],foreignColumns:[d]}});return o.onUpdate&&c.onUpdate(o.onUpdate),o.onDelete&&c.onDelete(o.onDelete),c.build(n)},a,i))}buildExtraConfigColumn(s){return new uB(s,this.config)}}oe(or,uM,"PgColumnBuilder");var hM,pM;class Ut extends(pM=ju,hM=$e,pM){constructor(r,s){s.uniqueName||(s.uniqueName=aB(r,[s.name])),super(r,s),this.table=r}}oe(Ut,hM,"PgColumn");var fM,xM;class uB extends(xM=Ut,fM=$e,xM){constructor(){super(...arguments);oe(this,"indexConfig",{order:this.config.order??"asc",nulls:this.config.nulls??"last",opClass:this.config.opClass});oe(this,"defaultConfig",{order:"asc",nulls:"last",opClass:void 0})}getSQLType(){return this.getSQLType()}asc(){return this.indexConfig.order="asc",this}desc(){return this.indexConfig.order="desc",this}nullsFirst(){return this.indexConfig.nulls="first",this}nullsLast(){return this.indexConfig.nulls="last",this}op(s){return this.indexConfig.opClass=s,this}}oe(uB,fM,"ExtraConfigColumn");var gM,vM;class mB extends(vM=or,gM=$e,vM){constructor(r,s,n){super(r,"array","PgArray"),this.config.baseBuilder=s,this.config.size=n}build(r){const s=this.config.baseBuilder.build(r);return new Jw(r,this.config,s)}}oe(mB,gM,"PgArrayBuilder");var yM,jM;const Oy=class Oy extends(jM=Ut,yM=$e,jM){constructor(s,n,a,i){super(s,n);oe(this,"size");this.baseColumn=a,this.range=i,this.size=n.size}getSQLType(){return`${this.baseColumn.getSQLType()}[${typeof this.size=="number"?this.size:""}]`}mapFromDriverValue(s){return typeof s=="string"&&(s=_se(s)),s.map(n=>this.baseColumn.mapFromDriverValue(n))}mapToDriverValue(s,n=!1){const a=s.map(i=>i===null?null:Bs(this.baseColumn,Oy)?this.baseColumn.mapToDriverValue(i,!0):this.baseColumn.mapToDriverValue(i));return n?a:dB(a)}};oe(Oy,yM,"PgArray");let Jw=Oy;const sT=Symbol.for("drizzle:isPgEnum");function Tse(t){return!!t&&typeof t=="function"&&sT in t&&t[sT]===!0}var bM;bM=$e;class IC{constructor(r,s,n,a=!1){this._={brand:"Subquery",sql:r,selectedFields:s,alias:n,isWith:a}}}oe(IC,bM,"Subquery");const Ose={startActiveSpan(t,r){return r()}},Vd=Symbol.for("drizzle:ViewBaseConfig"),C0=Symbol.for("drizzle:Schema"),nT=Symbol.for("drizzle:Columns"),aT=Symbol.for("drizzle:ExtraConfigColumns"),P0=Symbol.for("drizzle:OriginalName"),k0=Symbol.for("drizzle:BaseName"),fv=Symbol.for("drizzle:IsAlias"),iT=Symbol.for("drizzle:ExtraConfigBuilder"),hB=Symbol.for("drizzle:IsDrizzleTable");var NM,wM,SM,CM,PM,kM,AM,_M,TM,OM,Kx;let Wn=(OM=$e,TM=Bd,_M=P0,AM=C0,kM=nT,PM=aT,CM=k0,SM=fv,wM=hB,NM=iT,Kx=class{constructor(r,s,n){oe(this,TM);oe(this,_M);oe(this,AM);oe(this,kM);oe(this,PM);oe(this,CM);oe(this,SM,!1);oe(this,wM,!0);oe(this,NM);this[Bd]=this[P0]=r,this[C0]=s,this[k0]=n}},oe(Kx,OM,"Table"),oe(Kx,"Symbol",{Name:Bd,Schema:C0,OriginalName:P0,Columns:nT,ExtraConfigColumns:aT,BaseName:k0,IsAlias:fv,ExtraConfigBuilder:iT}),Kx);function pB(t){return typeof t=="object"&&t!==null&&hB in t}function Ese(t){return t!=null&&typeof t.getSQL=="function"}function Dse(t){var s;const r={sql:"",params:[]};for(const n of t)r.sql+=n.sql,r.params.push(...n.params),(s=n.typings)!=null&&s.length&&(r.typings||(r.typings=[]),r.typings.push(...n.typings));return r}var EM;EM=$e;class ga{constructor(r){oe(this,"value");this.value=Array.isArray(r)?r:[r]}getSQL(){return new Ss([this])}}oe(ga,EM,"StringChunk");var DM;DM=$e;const Yo=class Yo{constructor(r){oe(this,"decoder",fB);oe(this,"shouldInlineParams",!1);this.queryChunks=r}append(r){return this.queryChunks.push(...r.queryChunks),this}toQuery(r){return Ose.startActiveSpan("drizzle.buildSQL",s=>{const n=this.buildQueryFromSourceParams(this.queryChunks,r);return s==null||s.setAttributes({"drizzle.query.text":n.sql,"drizzle.query.params":JSON.stringify(n.params)}),n})}buildQueryFromSourceParams(r,s){const n=Object.assign({},s,{inlineParams:s.inlineParams||this.shouldInlineParams,paramStartIndex:s.paramStartIndex||{value:0}}),{casing:a,escapeName:i,escapeParam:l,prepareTyping:o,inlineParams:c,paramStartIndex:d}=n;return Dse(r.map(u=>{var m;if(Bs(u,ga))return{sql:u.value.join(""),params:[]};if(Bs(u,xv))return{sql:i(u.value),params:[]};if(u===void 0)return{sql:"",params:[]};if(Array.isArray(u)){const h=[new ga("(")];for(const[g,f]of u.entries())h.push(f),g<u.length-1&&h.push(new ga(", "));return h.push(new ga(")")),this.buildQueryFromSourceParams(h,n)}if(Bs(u,Yo))return this.buildQueryFromSourceParams(u.queryChunks,{...n,inlineParams:c||u.shouldInlineParams});if(Bs(u,Wn)){const h=u[Wn.Symbol.Schema],g=u[Wn.Symbol.Name];return{sql:h===void 0||u[fv]?i(g):i(h)+"."+i(g),params:[]}}if(Bs(u,ju)){const h=a.getColumnCasing(u);if(s.invokeSource==="indexes")return{sql:i(h),params:[]};const g=u.table[Wn.Symbol.Schema];return{sql:u.table[fv]||g===void 0?i(u.table[Wn.Symbol.Name])+"."+i(h):i(g)+"."+i(u.table[Wn.Symbol.Name])+"."+i(h),params:[]}}if(Bs(u,vB)){const h=u[Vd].schema,g=u[Vd].name;return{sql:h===void 0||u[Vd].isAlias?i(g):i(h)+"."+i(g),params:[]}}if(Bs(u,RC)){if(Bs(u.value,vv))return{sql:l(d.value++,u),params:[u],typings:["none"]};const h=u.value===null?null:u.encoder.mapToDriverValue(u.value);if(Bs(h,Yo))return this.buildQueryFromSourceParams([h],n);if(c)return{sql:this.mapInlineParam(h,n),params:[]};let g=["none"];return o&&(g=[o(u.encoder)]),{sql:l(d.value++,h),params:[h],typings:g}}return Bs(u,vv)?{sql:l(d.value++,u),params:[u],typings:["none"]}:Bs(u,Yo.Aliased)&&u.fieldAlias!==void 0?{sql:i(u.fieldAlias),params:[]}:Bs(u,IC)?u._.isWith?{sql:i(u._.alias),params:[]}:this.buildQueryFromSourceParams([new ga("("),u._.sql,new ga(") "),new xv(u._.alias)],n):Tse(u)?u.schema?{sql:i(u.schema)+"."+i(u.enumName),params:[]}:{sql:i(u.enumName),params:[]}:Ese(u)?(m=u.shouldOmitSQLParens)!=null&&m.call(u)?this.buildQueryFromSourceParams([u.getSQL()],n):this.buildQueryFromSourceParams([new ga("("),u.getSQL(),new ga(")")],n):c?{sql:this.mapInlineParam(u,n),params:[]}:{sql:l(d.value++,u),params:[u],typings:["none"]}}))}mapInlineParam(r,{escapeString:s}){if(r===null)return"null";if(typeof r=="number"||typeof r=="boolean")return r.toString();if(typeof r=="string")return s(r);if(typeof r=="object"){const n=r.toString();return s(n==="[object Object]"?JSON.stringify(r):n)}throw new Error("Unexpected param value: "+r)}getSQL(){return this}as(r){return r===void 0?this:new Yo.Aliased(this,r)}mapWith(r){return this.decoder=typeof r=="function"?{mapFromDriverValue:r}:r,this}inlineParams(){return this.shouldInlineParams=!0,this}if(r){return r?this:void 0}};oe(Yo,DM,"SQL");let Ss=Yo;var MM;MM=$e;class xv{constructor(r){oe(this,"brand");this.value=r}getSQL(){return new Ss([this])}}oe(xv,MM,"Name");const fB={mapFromDriverValue:t=>t},xB={mapToDriverValue:t=>t};({...fB,...xB});var IM;IM=$e;class RC{constructor(r,s=xB){oe(this,"brand");this.value=r,this.encoder=s}getSQL(){return new Ss([this])}}oe(RC,IM,"Param");function gv(t,...r){const s=[];(r.length>0||t.length>0&&t[0]!=="")&&s.push(new ga(t[0]));for(const[n,a]of r.entries())s.push(a,new ga(t[n+1]));return new Ss(s)}(t=>{function r(){return new Ss([])}t.empty=r;function s(c){return new Ss(c)}t.fromList=s;function n(c){return new Ss([new ga(c)])}t.raw=n;function a(c,d){const u=[];for(const[m,h]of c.entries())m>0&&d!==void 0&&u.push(d),u.push(h);return new Ss(u)}t.join=a;function i(c){return new xv(c)}t.identifier=i;function l(c){return new vv(c)}t.placeholder=l;function o(c,d){return new RC(c,d)}t.param=o})(gv||(gv={}));(t=>{var s;s=$e;const n=class n{constructor(i,l){oe(this,"isSelectionField",!1);this.sql=i,this.fieldAlias=l}getSQL(){return this.sql}clone(){return new n(this.sql,this.fieldAlias)}};oe(n,s,"SQL.Aliased");let r=n;t.Aliased=r})(Ss||(Ss={}));var RM;RM=$e;class vv{constructor(r){this.name=r}getSQL(){return new Ss([this])}}oe(vv,RM,"Placeholder");const gB=Symbol.for("drizzle:IsDrizzleView");var FM,$M,LM;LM=$e,$M=Vd,FM=gB;class vB{constructor({name:r,schema:s,selectedFields:n,query:a}){oe(this,$M);oe(this,FM,!0);this[Vd]={name:r,originalName:r,schema:s,selectedFields:n,query:a,isExisting:!a,isAlias:!1}}getSQL(){return new Ss([this])}}oe(vB,LM,"View");function Mse(t){return typeof t=="object"&&t!==null&&gB in t}ju.prototype.getSQL=function(){return new Ss([this])};Wn.prototype.getSQL=function(){return new Ss([this])};IC.prototype.getSQL=function(){return new Ss([this])};function Ise(t){return t[Wn.Symbol.Columns]}function Rse(t){return t[Vd].selectedFields}function Rs(t,r){return{name:typeof t=="string"&&t.length>0?t:"",config:typeof t=="object"?t:r}}var BM,VM;class Tf extends(VM=or,BM=$e,VM){generatedAlwaysAsIdentity(r){if(r){const{name:s,...n}=r;this.config.generatedIdentity={type:"always",sequenceName:s,sequenceOptions:n}}else this.config.generatedIdentity={type:"always"};return this.config.hasDefault=!0,this.config.notNull=!0,this}generatedByDefaultAsIdentity(r){if(r){const{name:s,...n}=r;this.config.generatedIdentity={type:"byDefault",sequenceName:s,sequenceOptions:n}}else this.config.generatedIdentity={type:"byDefault"};return this.config.hasDefault=!0,this.config.notNull=!0,this}}oe(Tf,BM,"PgIntColumnBaseBuilder");var UM,qM;class yB extends(qM=Tf,UM=$e,qM){constructor(r){super(r,"number","PgBigInt53")}build(r){return new jB(r,this.config)}}oe(yB,UM,"PgBigInt53Builder");var zM,KM;class jB extends(KM=Ut,zM=$e,KM){getSQLType(){return"bigint"}mapFromDriverValue(r){return typeof r=="number"?r:Number(r)}}oe(jB,zM,"PgBigInt53");var HM,WM;class bB extends(WM=Tf,HM=$e,WM){constructor(r){super(r,"bigint","PgBigInt64")}build(r){return new NB(r,this.config)}}oe(bB,HM,"PgBigInt64Builder");var GM,YM;class NB extends(YM=Ut,GM=$e,YM){getSQLType(){return"bigint"}mapFromDriverValue(r){return BigInt(r)}}oe(NB,GM,"PgBigInt64");function Fse(t,r){const{name:s,config:n}=Rs(t,r);return n.mode==="number"?new yB(s):new bB(s)}var QM,XM;class wB extends(XM=or,QM=$e,XM){constructor(r){super(r,"number","PgBigSerial53"),this.config.hasDefault=!0,this.config.notNull=!0}build(r){return new SB(r,this.config)}}oe(wB,QM,"PgBigSerial53Builder");var ZM,JM;class SB extends(JM=Ut,ZM=$e,JM){getSQLType(){return"bigserial"}mapFromDriverValue(r){return typeof r=="number"?r:Number(r)}}oe(SB,ZM,"PgBigSerial53");var eI,tI;class CB extends(tI=or,eI=$e,tI){constructor(r){super(r,"bigint","PgBigSerial64"),this.config.hasDefault=!0}build(r){return new PB(r,this.config)}}oe(CB,eI,"PgBigSerial64Builder");var rI,sI;class PB extends(sI=Ut,rI=$e,sI){getSQLType(){return"bigserial"}mapFromDriverValue(r){return BigInt(r)}}oe(PB,rI,"PgBigSerial64");function $se(t,r){const{name:s,config:n}=Rs(t,r);return n.mode==="number"?new wB(s):new CB(s)}var nI,aI;class kB extends(aI=or,nI=$e,aI){constructor(r){super(r,"boolean","PgBoolean")}build(r){return new AB(r,this.config)}}oe(kB,nI,"PgBooleanBuilder");var iI,lI;class AB extends(lI=Ut,iI=$e,lI){getSQLType(){return"boolean"}}oe(AB,iI,"PgBoolean");function jt(t){return new kB(t??"")}var oI,cI;class _B extends(cI=or,oI=$e,cI){constructor(r,s){super(r,"string","PgChar"),this.config.length=s.length,this.config.enumValues=s.enum}build(r){return new TB(r,this.config)}}oe(_B,oI,"PgCharBuilder");var dI,uI;class TB extends(uI=Ut,dI=$e,uI){constructor(){super(...arguments);oe(this,"length",this.config.length);oe(this,"enumValues",this.config.enumValues)}getSQLType(){return this.length===void 0?"char":`char(${this.length})`}}oe(TB,dI,"PgChar");function Lse(t,r={}){const{name:s,config:n}=Rs(t,r);return new _B(s,n)}var mI,hI;class OB extends(hI=or,mI=$e,hI){constructor(r){super(r,"string","PgCidr")}build(r){return new EB(r,this.config)}}oe(OB,mI,"PgCidrBuilder");var pI,fI;class EB extends(fI=Ut,pI=$e,fI){getSQLType(){return"cidr"}}oe(EB,pI,"PgCidr");function Bse(t){return new OB(t??"")}var xI,gI;class DB extends(gI=or,xI=$e,gI){constructor(r,s,n){super(r,"custom","PgCustomColumn"),this.config.fieldConfig=s,this.config.customTypeParams=n}build(r){return new MB(r,this.config)}}oe(DB,xI,"PgCustomColumnBuilder");var vI,yI;class MB extends(yI=Ut,vI=$e,yI){constructor(s,n){super(s,n);oe(this,"sqlName");oe(this,"mapTo");oe(this,"mapFrom");this.sqlName=n.customTypeParams.dataType(n.fieldConfig),this.mapTo=n.customTypeParams.toDriver,this.mapFrom=n.customTypeParams.fromDriver}getSQLType(){return this.sqlName}mapFromDriverValue(s){return typeof this.mapFrom=="function"?this.mapFrom(s):s}mapToDriverValue(s){return typeof this.mapTo=="function"?this.mapTo(s):s}}oe(MB,vI,"PgCustomColumn");function Vse(t){return(r,s)=>{const{name:n,config:a}=Rs(r,s);return new DB(n,a,t)}}var jI,bI;class hm extends(bI=or,jI=$e,bI){defaultNow(){return this.default(gv`now()`)}}oe(hm,jI,"PgDateColumnBaseBuilder");var NI,wI;class IB extends(wI=hm,NI=$e,wI){constructor(r){super(r,"date","PgDate")}build(r){return new RB(r,this.config)}}oe(IB,NI,"PgDateBuilder");var SI,CI;class RB extends(CI=Ut,SI=$e,CI){getSQLType(){return"date"}mapFromDriverValue(r){return new Date(r)}mapToDriverValue(r){return r.toISOString()}}oe(RB,SI,"PgDate");var PI,kI;class FB extends(kI=hm,PI=$e,kI){constructor(r){super(r,"string","PgDateString")}build(r){return new $B(r,this.config)}}oe(FB,PI,"PgDateStringBuilder");var AI,_I;class $B extends(_I=Ut,AI=$e,_I){getSQLType(){return"date"}}oe($B,AI,"PgDateString");function Ps(t,r){const{name:s,config:n}=Rs(t,r);return(n==null?void 0:n.mode)==="date"?new IB(s):new FB(s)}var TI,OI;class LB extends(OI=or,TI=$e,OI){constructor(r){super(r,"number","PgDoublePrecision")}build(r){return new BB(r,this.config)}}oe(LB,TI,"PgDoublePrecisionBuilder");var EI,DI;class BB extends(DI=Ut,EI=$e,DI){getSQLType(){return"double precision"}mapFromDriverValue(r){return typeof r=="string"?Number.parseFloat(r):r}}oe(BB,EI,"PgDoublePrecision");function Fe(t){return new LB(t??"")}var MI,II;class VB extends(II=or,MI=$e,II){constructor(r){super(r,"string","PgInet")}build(r){return new UB(r,this.config)}}oe(VB,MI,"PgInetBuilder");var RI,FI;class UB extends(FI=Ut,RI=$e,FI){getSQLType(){return"inet"}}oe(UB,RI,"PgInet");function Use(t){return new VB(t??"")}var $I,LI;class qB extends(LI=Tf,$I=$e,LI){constructor(r){super(r,"number","PgInteger")}build(r){return new zB(r,this.config)}}oe(qB,$I,"PgIntegerBuilder");var BI,VI;class zB extends(VI=Ut,BI=$e,VI){getSQLType(){return"integer"}mapFromDriverValue(r){return typeof r=="string"?Number.parseInt(r):r}}oe(zB,BI,"PgInteger");function ce(t){return new qB(t??"")}var UI,qI;class KB extends(qI=or,UI=$e,qI){constructor(r,s){super(r,"string","PgInterval"),this.config.intervalConfig=s}build(r){return new HB(r,this.config)}}oe(KB,UI,"PgIntervalBuilder");var zI,KI;class HB extends(KI=Ut,zI=$e,KI){constructor(){super(...arguments);oe(this,"fields",this.config.intervalConfig.fields);oe(this,"precision",this.config.intervalConfig.precision)}getSQLType(){const s=this.fields?` ${this.fields}`:"",n=this.precision?`(${this.precision})`:"";return`interval${s}${n}`}}oe(HB,zI,"PgInterval");function qse(t,r={}){const{name:s,config:n}=Rs(t,r);return new KB(s,n)}var HI,WI;class WB extends(WI=or,HI=$e,WI){constructor(r){super(r,"json","PgJson")}build(r){return new GB(r,this.config)}}oe(WB,HI,"PgJsonBuilder");var GI,YI;class GB extends(YI=Ut,GI=$e,YI){constructor(r,s){super(r,s)}getSQLType(){return"json"}mapToDriverValue(r){return JSON.stringify(r)}mapFromDriverValue(r){if(typeof r=="string")try{return JSON.parse(r)}catch{return r}return r}}oe(GB,GI,"PgJson");function gn(t){return new WB(t??"")}var QI,XI;class YB extends(XI=or,QI=$e,XI){constructor(r){super(r,"json","PgJsonb")}build(r){return new QB(r,this.config)}}oe(YB,QI,"PgJsonbBuilder");var ZI,JI;class QB extends(JI=Ut,ZI=$e,JI){constructor(r,s){super(r,s)}getSQLType(){return"jsonb"}mapToDriverValue(r){return JSON.stringify(r)}mapFromDriverValue(r){if(typeof r=="string")try{return JSON.parse(r)}catch{return r}return r}}oe(QB,ZI,"PgJsonb");function Ar(t){return new YB(t??"")}var eR,tR;class XB extends(tR=or,eR=$e,tR){constructor(r){super(r,"array","PgLine")}build(r){return new ZB(r,this.config)}}oe(XB,eR,"PgLineBuilder");var rR,sR;class ZB extends(sR=Ut,rR=$e,sR){getSQLType(){return"line"}mapFromDriverValue(r){const[s,n,a]=r.slice(1,-1).split(",");return[Number.parseFloat(s),Number.parseFloat(n),Number.parseFloat(a)]}mapToDriverValue(r){return`{${r[0]},${r[1]},${r[2]}}`}}oe(ZB,rR,"PgLine");var nR,aR;class JB extends(aR=or,nR=$e,aR){constructor(r){super(r,"json","PgLineABC")}build(r){return new eV(r,this.config)}}oe(JB,nR,"PgLineABCBuilder");var iR,lR;class eV extends(lR=Ut,iR=$e,lR){getSQLType(){return"line"}mapFromDriverValue(r){const[s,n,a]=r.slice(1,-1).split(",");return{a:Number.parseFloat(s),b:Number.parseFloat(n),c:Number.parseFloat(a)}}mapToDriverValue(r){return`{${r.a},${r.b},${r.c}}`}}oe(eV,iR,"PgLineABC");function zse(t,r){const{name:s,config:n}=Rs(t,r);return!(n!=null&&n.mode)||n.mode==="tuple"?new XB(s):new JB(s)}var oR,cR;class tV extends(cR=or,oR=$e,cR){constructor(r){super(r,"string","PgMacaddr")}build(r){return new rV(r,this.config)}}oe(tV,oR,"PgMacaddrBuilder");var dR,uR;class rV extends(uR=Ut,dR=$e,uR){getSQLType(){return"macaddr"}}oe(rV,dR,"PgMacaddr");function Kse(t){return new tV(t??"")}var mR,hR;class sV extends(hR=or,mR=$e,hR){constructor(r){super(r,"string","PgMacaddr8")}build(r){return new nV(r,this.config)}}oe(sV,mR,"PgMacaddr8Builder");var pR,fR;class nV extends(fR=Ut,pR=$e,fR){getSQLType(){return"macaddr8"}}oe(nV,pR,"PgMacaddr8");function Hse(t){return new sV(t??"")}var xR,gR;class aV extends(gR=or,xR=$e,gR){constructor(r,s,n){super(r,"string","PgNumeric"),this.config.precision=s,this.config.scale=n}build(r){return new iV(r,this.config)}}oe(aV,xR,"PgNumericBuilder");var vR,yR;class iV extends(yR=Ut,vR=$e,yR){constructor(s,n){super(s,n);oe(this,"precision");oe(this,"scale");this.precision=n.precision,this.scale=n.scale}getSQLType(){return this.precision!==void 0&&this.scale!==void 0?`numeric(${this.precision}, ${this.scale})`:this.precision===void 0?"numeric":`numeric(${this.precision})`}}oe(iV,vR,"PgNumeric");function lV(t,r){const{name:s,config:n}=Rs(t,r);return new aV(s,n==null?void 0:n.precision,n==null?void 0:n.scale)}var jR,bR;class oV extends(bR=or,jR=$e,bR){constructor(r){super(r,"array","PgPointTuple")}build(r){return new cV(r,this.config)}}oe(oV,jR,"PgPointTupleBuilder");var NR,wR;class cV extends(wR=Ut,NR=$e,wR){getSQLType(){return"point"}mapFromDriverValue(r){if(typeof r=="string"){const[s,n]=r.slice(1,-1).split(",");return[Number.parseFloat(s),Number.parseFloat(n)]}return[r.x,r.y]}mapToDriverValue(r){return`(${r[0]},${r[1]})`}}oe(cV,NR,"PgPointTuple");var SR,CR;class dV extends(CR=or,SR=$e,CR){constructor(r){super(r,"json","PgPointObject")}build(r){return new uV(r,this.config)}}oe(dV,SR,"PgPointObjectBuilder");var PR,kR;class uV extends(kR=Ut,PR=$e,kR){getSQLType(){return"point"}mapFromDriverValue(r){if(typeof r=="string"){const[s,n]=r.slice(1,-1).split(",");return{x:Number.parseFloat(s),y:Number.parseFloat(n)}}return r}mapToDriverValue(r){return`(${r.x},${r.y})`}}oe(uV,PR,"PgPointObject");function Wse(t,r){const{name:s,config:n}=Rs(t,r);return!(n!=null&&n.mode)||n.mode==="tuple"?new oV(s):new dV(s)}function Gse(t){const r=[];for(let s=0;s<t.length;s+=2)r.push(Number.parseInt(t.slice(s,s+2),16));return new Uint8Array(r)}function lT(t,r){const s=new ArrayBuffer(8),n=new DataView(s);for(let a=0;a<8;a++)n.setUint8(a,t[r+a]);return n.getFloat64(0,!0)}function mV(t){const r=Gse(t);let s=0;const n=r[s];s+=1;const a=new DataView(r.buffer),i=a.getUint32(s,n===1);if(s+=4,i&536870912&&(a.getUint32(s,n===1),s+=4),(i&65535)===1){const l=lT(r,s);s+=8;const o=lT(r,s);return s+=8,[l,o]}throw new Error("Unsupported geometry type")}var AR,_R;class hV extends(_R=or,AR=$e,_R){constructor(r){super(r,"array","PgGeometry")}build(r){return new pV(r,this.config)}}oe(hV,AR,"PgGeometryBuilder");var TR,OR;class pV extends(OR=Ut,TR=$e,OR){getSQLType(){return"geometry(point)"}mapFromDriverValue(r){return mV(r)}mapToDriverValue(r){return`point(${r[0]} ${r[1]})`}}oe(pV,TR,"PgGeometry");var ER,DR;class fV extends(DR=or,ER=$e,DR){constructor(r){super(r,"json","PgGeometryObject")}build(r){return new xV(r,this.config)}}oe(fV,ER,"PgGeometryObjectBuilder");var MR,IR;class xV extends(IR=Ut,MR=$e,IR){getSQLType(){return"geometry(point)"}mapFromDriverValue(r){const s=mV(r);return{x:s[0],y:s[1]}}mapToDriverValue(r){return`point(${r.x} ${r.y})`}}oe(xV,MR,"PgGeometryObject");function Yse(t,r){const{name:s,config:n}=Rs(t,r);return!(n!=null&&n.mode)||n.mode==="tuple"?new hV(s):new fV(s)}var RR,FR;class gV extends(FR=or,RR=$e,FR){constructor(r,s){super(r,"number","PgReal"),this.config.length=s}build(r){return new vV(r,this.config)}}oe(gV,RR,"PgRealBuilder");var $R,LR;class vV extends(LR=Ut,$R=$e,LR){constructor(s,n){super(s,n);oe(this,"mapFromDriverValue",s=>typeof s=="string"?Number.parseFloat(s):s)}getSQLType(){return"real"}}oe(vV,$R,"PgReal");function Qse(t){return new gV(t??"")}var BR,VR;class yV extends(VR=or,BR=$e,VR){constructor(r){super(r,"number","PgSerial"),this.config.hasDefault=!0,this.config.notNull=!0}build(r){return new jV(r,this.config)}}oe(yV,BR,"PgSerialBuilder");var UR,qR;class jV extends(qR=Ut,UR=$e,qR){getSQLType(){return"serial"}}oe(jV,UR,"PgSerial");function Ze(t){return new yV(t??"")}var zR,KR;class bV extends(KR=Tf,zR=$e,KR){constructor(r){super(r,"number","PgSmallInt")}build(r){return new NV(r,this.config)}}oe(bV,zR,"PgSmallIntBuilder");var HR,WR;class NV extends(WR=Ut,HR=$e,WR){constructor(){super(...arguments);oe(this,"mapFromDriverValue",s=>typeof s=="string"?Number(s):s)}getSQLType(){return"smallint"}}oe(NV,HR,"PgSmallInt");function Xse(t){return new bV(t??"")}var GR,YR;class wV extends(YR=or,GR=$e,YR){constructor(r){super(r,"number","PgSmallSerial"),this.config.hasDefault=!0,this.config.notNull=!0}build(r){return new SV(r,this.config)}}oe(wV,GR,"PgSmallSerialBuilder");var QR,XR;class SV extends(XR=Ut,QR=$e,XR){getSQLType(){return"smallserial"}}oe(SV,QR,"PgSmallSerial");function Zse(t){return new wV(t??"")}var ZR,JR;class CV extends(JR=or,ZR=$e,JR){constructor(r,s){super(r,"string","PgText"),this.config.enumValues=s.enum}build(r){return new PV(r,this.config)}}oe(CV,ZR,"PgTextBuilder");var e3,t3;class PV extends(t3=Ut,e3=$e,t3){constructor(){super(...arguments);oe(this,"enumValues",this.config.enumValues)}getSQLType(){return"text"}}oe(PV,e3,"PgText");function M(t,r={}){const{name:s,config:n}=Rs(t,r);return new CV(s,n)}var r3,s3;class kV extends(s3=hm,r3=$e,s3){constructor(r,s,n){super(r,"string","PgTime"),this.withTimezone=s,this.precision=n,this.config.withTimezone=s,this.config.precision=n}build(r){return new AV(r,this.config)}}oe(kV,r3,"PgTimeBuilder");var n3,a3;class AV extends(a3=Ut,n3=$e,a3){constructor(s,n){super(s,n);oe(this,"withTimezone");oe(this,"precision");this.withTimezone=n.withTimezone,this.precision=n.precision}getSQLType(){return`time${this.precision===void 0?"":`(${this.precision})`}${this.withTimezone?" with time zone":""}`}}oe(AV,n3,"PgTime");function Jse(t,r={}){const{name:s,config:n}=Rs(t,r);return new kV(s,n.withTimezone??!1,n.precision)}var i3,l3;class _V extends(l3=hm,i3=$e,l3){constructor(r,s,n){super(r,"date","PgTimestamp"),this.config.withTimezone=s,this.config.precision=n}build(r){return new TV(r,this.config)}}oe(_V,i3,"PgTimestampBuilder");var o3,c3;class TV extends(c3=Ut,o3=$e,c3){constructor(s,n){super(s,n);oe(this,"withTimezone");oe(this,"precision");oe(this,"mapFromDriverValue",s=>new Date(this.withTimezone?s:s+"+0000"));oe(this,"mapToDriverValue",s=>s.toISOString());this.withTimezone=n.withTimezone,this.precision=n.precision}getSQLType(){return`timestamp${this.precision===void 0?"":` (${this.precision})`}${this.withTimezone?" with time zone":""}`}}oe(TV,o3,"PgTimestamp");var d3,u3;class OV extends(u3=hm,d3=$e,u3){constructor(r,s,n){super(r,"string","PgTimestampString"),this.config.withTimezone=s,this.config.precision=n}build(r){return new EV(r,this.config)}}oe(OV,d3,"PgTimestampStringBuilder");var m3,h3;class EV extends(h3=Ut,m3=$e,h3){constructor(s,n){super(s,n);oe(this,"withTimezone");oe(this,"precision");this.withTimezone=n.withTimezone,this.precision=n.precision}getSQLType(){return`timestamp${this.precision===void 0?"":`(${this.precision})`}${this.withTimezone?" with time zone":""}`}}oe(EV,m3,"PgTimestampString");function ye(t,r={}){const{name:s,config:n}=Rs(t,r);return(n==null?void 0:n.mode)==="string"?new OV(s,n.withTimezone??!1,n.precision):new _V(s,(n==null?void 0:n.withTimezone)??!1,n==null?void 0:n.precision)}var p3,f3;class DV extends(f3=or,p3=$e,f3){constructor(r){super(r,"string","PgUUID")}defaultRandom(){return this.default(gv`gen_random_uuid()`)}build(r){return new MV(r,this.config)}}oe(DV,p3,"PgUUIDBuilder");var x3,g3;class MV extends(g3=Ut,x3=$e,g3){getSQLType(){return"uuid"}}oe(MV,x3,"PgUUID");function ene(t){return new DV(t??"")}var v3,y3;class IV extends(y3=or,v3=$e,y3){constructor(r,s){super(r,"string","PgVarchar"),this.config.length=s.length,this.config.enumValues=s.enum}build(r){return new RV(r,this.config)}}oe(IV,v3,"PgVarcharBuilder");var j3,b3;class RV extends(b3=Ut,j3=$e,b3){constructor(){super(...arguments);oe(this,"length",this.config.length);oe(this,"enumValues",this.config.enumValues)}getSQLType(){return this.length===void 0?"varchar":`varchar(${this.length})`}}oe(RV,j3,"PgVarchar");function tne(t,r={}){const{name:s,config:n}=Rs(t,r);return new IV(s,n)}var N3,w3;class FV extends(w3=or,N3=$e,w3){constructor(r,s){super(r,"string","PgBinaryVector"),this.config.dimensions=s.dimensions}build(r){return new $V(r,this.config)}}oe(FV,N3,"PgBinaryVectorBuilder");var S3,C3;class $V extends(C3=Ut,S3=$e,C3){constructor(){super(...arguments);oe(this,"dimensions",this.config.dimensions)}getSQLType(){return`bit(${this.dimensions})`}}oe($V,S3,"PgBinaryVector");function rne(t,r){const{name:s,config:n}=Rs(t,r);return new FV(s,n)}var P3,k3;class LV extends(k3=or,P3=$e,k3){constructor(r,s){super(r,"array","PgHalfVector"),this.config.dimensions=s.dimensions}build(r){return new BV(r,this.config)}}oe(LV,P3,"PgHalfVectorBuilder");var A3,_3;class BV extends(_3=Ut,A3=$e,_3){constructor(){super(...arguments);oe(this,"dimensions",this.config.dimensions)}getSQLType(){return`halfvec(${this.dimensions})`}mapToDriverValue(s){return JSON.stringify(s)}mapFromDriverValue(s){return s.slice(1,-1).split(",").map(n=>Number.parseFloat(n))}}oe(BV,A3,"PgHalfVector");function sne(t,r){const{name:s,config:n}=Rs(t,r);return new LV(s,n)}var T3,O3;class VV extends(O3=or,T3=$e,O3){constructor(r,s){super(r,"string","PgSparseVector"),this.config.dimensions=s.dimensions}build(r){return new UV(r,this.config)}}oe(VV,T3,"PgSparseVectorBuilder");var E3,D3;class UV extends(D3=Ut,E3=$e,D3){constructor(){super(...arguments);oe(this,"dimensions",this.config.dimensions)}getSQLType(){return`sparsevec(${this.dimensions})`}}oe(UV,E3,"PgSparseVector");function nne(t,r){const{name:s,config:n}=Rs(t,r);return new VV(s,n)}var M3,I3;class qV extends(I3=or,M3=$e,I3){constructor(r,s){super(r,"array","PgVector"),this.config.dimensions=s.dimensions}build(r){return new zV(r,this.config)}}oe(qV,M3,"PgVectorBuilder");var R3,F3;class zV extends(F3=Ut,R3=$e,F3){constructor(){super(...arguments);oe(this,"dimensions",this.config.dimensions)}getSQLType(){return`vector(${this.dimensions})`}mapToDriverValue(s){return JSON.stringify(s)}mapFromDriverValue(s){return s.slice(1,-1).split(",").map(n=>Number.parseFloat(n))}}oe(zV,R3,"PgVector");function ane(t,r){const{name:s,config:n}=Rs(t,r);return new qV(s,n)}function ine(){return{bigint:Fse,bigserial:$se,boolean:jt,char:Lse,cidr:Bse,customType:Vse,date:Ps,doublePrecision:Fe,inet:Use,integer:ce,interval:qse,json:gn,jsonb:Ar,line:zse,macaddr:Kse,macaddr8:Hse,numeric:lV,point:Wse,geometry:Yse,real:Qse,serial:Ze,smallint:Xse,smallserial:Zse,text:M,time:Jse,timestamp:ye,uuid:ene,varchar:tne,bit:rne,halfvec:sne,sparsevec:nne,vector:ane}}const e1=Symbol.for("drizzle:PgInlineForeignKeys"),oT=Symbol.for("drizzle:EnableRLS");var $3,L3,B3,V3,U3;class Dh extends(U3=Wn,V3=$e,B3=e1,L3=oT,$3=Wn.Symbol.ExtraConfigBuilder,U3){constructor(){super(...arguments);oe(this,B3,[]);oe(this,L3,!1);oe(this,$3)}}oe(Dh,V3,"PgTable"),oe(Dh,"Symbol",Object.assign({},Wn.Symbol,{InlineForeignKeys:e1,EnableRLS:oT}));function lne(t,r,s,n,a=t){const i=new Dh(t,n,a),l=typeof r=="function"?r(ine()):r,o=Object.fromEntries(Object.entries(l).map(([u,m])=>{const h=m;h.setName(u);const g=h.build(i);return i[e1].push(...h.buildForeignKeys(g,i)),[u,g]})),c=Object.fromEntries(Object.entries(l).map(([u,m])=>{const h=m;h.setName(u);const g=h.buildExtraConfigColumn(i);return[u,g]})),d=Object.assign(i,o);return d[Wn.Symbol.Columns]=o,d[Wn.Symbol.ExtraConfigColumns]=c,s&&(d[Dh.Symbol.ExtraConfigBuilder]=s),Object.assign(d,{enableRLS:()=>(d[Dh.Symbol.EnableRLS]=!0,d)})}const et=(t,r,s)=>lne(t,r,s,void 0),Yr={INT8_MIN:-128,INT8_MAX:127,INT8_UNSIGNED_MAX:255,INT16_MIN:-32768,INT16_MAX:32767,INT16_UNSIGNED_MAX:65535,INT24_MIN:-8388608,INT24_MAX:8388607,INT24_UNSIGNED_MAX:16777215,INT32_MIN:-2147483648,INT32_MAX:2147483647,INT32_UNSIGNED_MAX:4294967295,INT48_MIN:-0x800000000000,INT48_MAX:0x7fffffffffff,INT48_UNSIGNED_MAX:0xffffffffffff,INT64_MIN:-9223372036854775808n,INT64_MAX:9223372036854775807n,INT64_UNSIGNED_MAX:18446744073709551615n};function os(t,r){return r.includes(t.columnType)}function one(t){return"enumValues"in t&&Array.isArray(t.enumValues)&&t.enumValues.length>0}const cne=_.union([_.string(),_.number(),_.boolean(),_.null()]),dne=_.union([cne,_.record(_.any()),_.array(_.any())]),une=_.custom(t=>t instanceof Buffer);function KV(t,r){const s=(r==null?void 0:r.zodInstance)??_,n=(r==null?void 0:r.coerce)??{};let a;return one(t)&&(a=t.enumValues.length?s.enum(t.enumValues):s.string()),a||(os(t,["PgGeometry","PgPointTuple"])?a=s.tuple([s.number(),s.number()]):os(t,["PgGeometryObject","PgPointObject"])?a=s.object({x:s.number(),y:s.number()}):os(t,["PgHalfVector","PgVector"])?(a=s.array(s.number()),a=t.dimensions?a.length(t.dimensions):a):os(t,["PgLine"])?a=s.tuple([s.number(),s.number(),s.number()]):os(t,["PgLineABC"])?a=s.object({a:s.number(),b:s.number(),c:s.number()}):os(t,["PgArray"])?(a=s.array(KV(t.baseColumn,s)),a=t.size?a.length(t.size):a):t.dataType==="array"?a=s.array(s.any()):t.dataType==="number"?a=mne(t,s,n):t.dataType==="bigint"?a=hne(t,s,n):t.dataType==="boolean"?a=n===!0||n.boolean?s.coerce.boolean():s.boolean():t.dataType==="date"?a=n===!0||n.date?s.coerce.date():s.date():t.dataType==="string"?a=pne(t,s,n):t.dataType==="json"?a=dne:t.dataType==="custom"?a=s.any():t.dataType==="buffer"&&(a=une)),a||(a=s.any()),a}function mne(t,r,s){let n=t.getSQLType().includes("unsigned"),a,i,l=!1;os(t,["MySqlTinyInt","SingleStoreTinyInt"])?(a=n?0:Yr.INT8_MIN,i=n?Yr.INT8_UNSIGNED_MAX:Yr.INT8_MAX,l=!0):os(t,["PgSmallInt","PgSmallSerial","MySqlSmallInt","SingleStoreSmallInt"])?(a=n?0:Yr.INT16_MIN,i=n?Yr.INT16_UNSIGNED_MAX:Yr.INT16_MAX,l=!0):os(t,["PgReal","MySqlFloat","MySqlMediumInt","SingleStoreMediumInt","SingleStoreFloat"])?(a=n?0:Yr.INT24_MIN,i=n?Yr.INT24_UNSIGNED_MAX:Yr.INT24_MAX,l=os(t,["MySqlMediumInt","SingleStoreMediumInt"])):os(t,["PgInteger","PgSerial","MySqlInt","SingleStoreInt"])?(a=n?0:Yr.INT32_MIN,i=n?Yr.INT32_UNSIGNED_MAX:Yr.INT32_MAX,l=!0):os(t,["PgDoublePrecision","MySqlReal","MySqlDouble","SingleStoreReal","SingleStoreDouble","SQLiteReal"])?(a=n?0:Yr.INT48_MIN,i=n?Yr.INT48_UNSIGNED_MAX:Yr.INT48_MAX):os(t,["PgBigInt53","PgBigSerial53","MySqlBigInt53","MySqlSerial","SingleStoreBigInt53","SingleStoreSerial","SQLiteInteger"])?(n=n||os(t,["MySqlSerial","SingleStoreSerial"]),a=n?0:Number.MIN_SAFE_INTEGER,i=Number.MAX_SAFE_INTEGER,l=!0):os(t,["MySqlYear","SingleStoreYear"])?(a=1901,i=2155,l=!0):(a=Number.MIN_SAFE_INTEGER,i=Number.MAX_SAFE_INTEGER);let o=s===!0||s!=null&&s.number?r.coerce.number():r.number();return o=o.min(a).max(i),l?o.int():o}function hne(t,r,s){const n=t.getSQLType().includes("unsigned"),a=n?0n:Yr.INT64_MIN,i=n?Yr.INT64_UNSIGNED_MAX:Yr.INT64_MAX;return(s===!0||s!=null&&s.bigint?r.coerce.bigint():r.bigint()).min(a).max(i)}function pne(t,r,s){if(os(t,["PgUUID"]))return r.string().uuid();let n,a,i=!1;os(t,["PgVarchar","SQLiteText"])?n=t.length:os(t,["MySqlVarChar","SingleStoreVarChar"])?n=t.length??Yr.INT16_UNSIGNED_MAX:os(t,["MySqlText","SingleStoreText"])&&(t.textType==="longtext"?n=Yr.INT32_UNSIGNED_MAX:t.textType==="mediumtext"?n=Yr.INT24_UNSIGNED_MAX:t.textType==="text"?n=Yr.INT16_UNSIGNED_MAX:n=Yr.INT8_UNSIGNED_MAX),os(t,["PgChar","MySqlChar","SingleStoreChar"])&&(n=t.length,i=!0),os(t,["PgBinaryVector"])&&(a=/^[01]+$/,n=t.dimensions);let l=s===!0||s!=null&&s.string?r.coerce.string():r.string();return l=a?l.regex(a):l,n&&i?l.length(n):n?l.max(n):l}function HV(t){return pB(t)?Ise(t):Rse(t)}function WV(t,r,s,n){const a={};for(const[i,l]of Object.entries(t)){if(!Bs(l,ju)&&!Bs(l,Ss)&&!Bs(l,Ss.Aliased)&&typeof l=="object"){const m=pB(l)||Mse(l)?HV(l):l;a[i]=WV(m,r[i]??{},s,n);continue}const o=r[i];if(o!==void 0&&typeof o!="function"){a[i]=o;continue}const c=Bs(l,ju)?l:void 0,d=c?KV(c,n):_.any(),u=typeof o=="function"?o(d):d;s.never(c)||(a[i]=u,c&&(s.nullable(c)&&(a[i]=a[i].nullable()),s.optional(c)&&(a[i]=a[i].optional())))}return _.object(a)}const fne={never:t=>{var r,s;return((r=t==null?void 0:t.generated)==null?void 0:r.type)==="always"||((s=t==null?void 0:t.generatedIdentity)==null?void 0:s.type)==="always"},optional:t=>!t.notNull||t.notNull&&t.hasDefault,nullable:t=>!t.notNull},tt=(t,r)=>{const s=HV(t);return WV(s,{},fne)},jj=et("users",{id:Ze("id").primaryKey(),username:M("username").notNull().unique(),password:M("password").notNull(),fullName:M("full_name").notNull(),email:M("email").notNull(),phone:M("phone"),userType:M("user_type").notNull(),parentId:ce("parent_id"),district:M("district"),taluk:M("taluk"),pincode:M("pincode"),profilePhoto:M("profile_photo"),walletBalance:Fe("wallet_balance").default(0),createdAt:ye("created_at").defaultNow()});tt(jj).pick({username:!0,password:!0,fullName:!0,email:!0,phone:!0,userType:!0,parentId:!0,district:!0,taluk:!0,pincode:!0,profilePhoto:!0,walletBalance:!0});et("transactions",{id:Ze("id").primaryKey(),userId:ce("user_id").notNull(),amount:Fe("amount").notNull(),type:M("type").notNull(),description:M("description").notNull(),serviceType:M("service_type"),createdAt:ye("created_at").defaultNow()});const xne=et("bus_operators",{id:Ze("id").primaryKey(),operatorId:M("operator_id").notNull().unique(),operatorName:M("operator_name").notNull(),isActive:jt("is_active").default(!0),createdAt:ye("created_at").defaultNow()}),gne=et("bus_cities",{id:Ze("id").primaryKey(),cityCode:M("city_code").notNull().unique(),cityName:M("city_name").notNull(),state:M("state").default("Tamil Nadu"),isActive:jt("is_active").default(!0),createdAt:ye("created_at").defaultNow()}),vne=et("bus_routes",{id:Ze("id").primaryKey(),routeId:M("route_id").notNull().unique(),operatorId:ce("operator_id").notNull(),sourceCityId:ce("source_city_id").notNull(),destinationCityId:ce("destination_city_id").notNull(),busType:M("bus_type").notNull(),serviceName:M("service_name").notNull(),travelName:M("travel_name").notNull(),departureTime:M("departure_time").notNull(),arrivalTime:M("arrival_time").notNull(),basePrice:Fe("base_price").notNull(),offeredPrice:Fe("offered_price").notNull(),agentCommission:Fe("agent_commission").notNull(),availableSeats:ce("available_seats").notNull(),isActive:jt("is_active").default(!0),createdAt:ye("created_at").defaultNow()}),yne=et("bus_bookings",{id:Ze("id").primaryKey(),userId:ce("user_id").notNull(),routeId:M("route_id").notNull(),traceId:M("trace_id").notNull(),resultIndex:ce("result_index").notNull(),passengerName:M("passenger_name").notNull(),passengerAge:ce("passenger_age").notNull(),passengerGender:M("passenger_gender").notNull(),passengerPhone:M("passenger_phone").notNull(),seatNumbers:gn("seat_numbers").notNull(),boardingPoint:gn("boarding_point").notNull(),droppingPoint:gn("dropping_point").notNull(),totalAmount:Fe("total_amount").notNull(),commissionAmount:Fe("commission_amount").notNull(),bookingStatus:M("booking_status").notNull().default("pending"),pnr:M("pnr"),ticketNumber:M("ticket_number"),journeyDate:Ps("journey_date").notNull(),bookingDate:ye("booking_date").defaultNow(),cancellationDate:ye("cancellation_date"),cancellationCharge:Fe("cancellation_charge").default(0),refundAmount:Fe("refund_amount").default(0),paymentStatus:M("payment_status").notNull().default("pending"),razorpayOrderId:M("razorpay_order_id"),razorpayPaymentId:M("razorpay_payment_id")}),jne=et("flight_bookings",{id:Ze("id").primaryKey(),userId:ce("user_id").notNull(),bookingReference:M("booking_reference").notNull(),pnr:M("pnr"),origin:M("origin").notNull(),destination:M("destination").notNull(),departureDate:Ps("departure_date").notNull(),returnDate:Ps("return_date"),tripType:M("trip_type").notNull().default("one_way"),airline:M("airline").notNull(),flightNumber:M("flight_number").notNull(),passengers:gn("passengers").notNull(),totalAmount:Fe("total_amount").notNull(),commissionAmount:Fe("commission_amount").notNull(),bookingStatus:M("booking_status").notNull().default("pending"),seatPreferences:gn("seat_preferences"),mealPreferences:gn("meal_preferences"),specialRequests:M("special_requests"),bookingDate:ye("booking_date").defaultNow(),cancellationDate:ye("cancellation_date"),cancellationCharge:Fe("cancellation_charge").default(0),refundAmount:Fe("refund_amount").default(0),paymentStatus:M("payment_status").notNull().default("pending"),razorpayOrderId:M("razorpay_order_id"),razorpayPaymentId:M("razorpay_payment_id")}),bne=et("hotel_bookings",{id:Ze("id").primaryKey(),userId:ce("user_id").notNull(),bookingReference:M("booking_reference").notNull(),hotelName:M("hotel_name").notNull(),hotelId:M("hotel_id"),city:M("city").notNull(),state:M("state").notNull(),address:M("address").notNull(),checkInDate:Ps("check_in_date").notNull(),checkOutDate:Ps("check_out_date").notNull(),nights:ce("nights").notNull(),roomType:M("room_type").notNull(),roomsCount:ce("rooms_count").notNull().default(1),guestsCount:ce("guests_count").notNull().default(1),guestDetails:gn("guest_details").notNull(),totalAmount:Fe("total_amount").notNull(),commissionAmount:Fe("commission_amount").notNull(),bookingStatus:M("booking_status").notNull().default("pending"),amenities:gn("amenities"),specialRequests:M("special_requests"),bookingDate:ye("booking_date").defaultNow(),cancellationDate:ye("cancellation_date"),cancellationCharge:Fe("cancellation_charge").default(0),refundAmount:Fe("refund_amount").default(0),paymentStatus:M("payment_status").notNull().default("pending"),razorpayOrderId:M("razorpay_order_id"),razorpayPaymentId:M("razorpay_payment_id")}),Nne=et("bus_commissions",{id:Ze("id").primaryKey(),bookingId:ce("booking_id").notNull(),userId:ce("user_id").notNull(),userType:M("user_type").notNull(),commissionAmount:Fe("commission_amount").notNull(),commissionPercent:Fe("commission_percent").notNull(),status:M("status").notNull().default("pending"),createdAt:ye("created_at").defaultNow(),paidAt:ye("paid_at")});tt(xne).pick({operatorId:!0,operatorName:!0,isActive:!0});tt(gne).pick({cityCode:!0,cityName:!0,state:!0,isActive:!0});tt(vne).pick({routeId:!0,operatorId:!0,sourceCityId:!0,destinationCityId:!0,busType:!0,serviceName:!0,travelName:!0,departureTime:!0,arrivalTime:!0,basePrice:!0,offeredPrice:!0,agentCommission:!0,availableSeats:!0,isActive:!0});tt(yne).pick({userId:!0,routeId:!0,traceId:!0,resultIndex:!0,passengerName:!0,passengerAge:!0,passengerGender:!0,passengerPhone:!0,seatNumbers:!0,boardingPoint:!0,droppingPoint:!0,totalAmount:!0,commissionAmount:!0,journeyDate:!0,pnr:!0,ticketNumber:!0,razorpayOrderId:!0,razorpayPaymentId:!0});tt(jne).pick({userId:!0,bookingReference:!0,origin:!0,destination:!0,departureDate:!0,returnDate:!0,tripType:!0,airline:!0,flightNumber:!0,passengers:!0,totalAmount:!0,commissionAmount:!0,seatPreferences:!0,mealPreferences:!0,specialRequests:!0,razorpayOrderId:!0,razorpayPaymentId:!0});tt(bne).pick({userId:!0,bookingReference:!0,hotelName:!0,hotelId:!0,city:!0,state:!0,address:!0,checkInDate:!0,checkOutDate:!0,nights:!0,roomType:!0,roomsCount:!0,guestsCount:!0,guestDetails:!0,totalAmount:!0,commissionAmount:!0,amenities:!0,specialRequests:!0,razorpayOrderId:!0,razorpayPaymentId:!0});tt(Nne).pick({bookingId:!0,userId:!0,userType:!0,commissionAmount:!0,commissionPercent:!0,status:!0});const wne=et("feedback",{id:Ze("id").primaryKey(),userId:ce("user_id").notNull(),serviceType:M("service_type").notNull(),rating:ce("rating").notNull(),comment:M("comment"),createdAt:ye("created_at").defaultNow()});tt(wne).pick({userId:!0,serviceType:!0,rating:!0,comment:!0});const Sne=et("service_requests",{id:Ze("id").primaryKey(),srNumber:M("sr_number").notNull().unique(),userId:ce("user_id").notNull(),serviceType:M("service_type").notNull(),amount:lV("amount").notNull(),status:M("status").notNull().default("new"),paymentStatus:M("payment_status").default("pending"),paymentMethod:M("payment_method"),paymentId:M("payment_id"),razorpayPaymentId:M("razorpay_payment_id"),razorpayOrderId:M("razorpay_order_id"),razorpaySignature:M("razorpay_signature"),serviceData:Ar("service_data"),assignedTo:ce("assigned_to"),processedBy:ce("processed_by"),pincodeAgentId:ce("pincode_agent_id"),talukManagerId:ce("taluk_manager_id"),branchManagerId:ce("branch_manager_id"),adminApprovedBy:ce("admin_approved_by"),createdAt:ye("created_at").defaultNow(),updatedAt:ye("updated_at").defaultNow(),completedAt:ye("completed_at"),approvedAt:ye("approved_at")});tt(Sne).pick({srNumber:!0,userId:!0,serviceType:!0,amount:!0,status:!0,paymentStatus:!0,paymentMethod:!0,serviceData:!0}).extend({userId:_.number().min(1,"User ID is required"),amount:_.number().min(0,"Amount must be positive")});const Cne=et("service_request_status_updates",{id:Ze("id").primaryKey(),serviceRequestId:ce("service_request_id").notNull(),previousStatus:M("previous_status").notNull(),newStatus:M("new_status").notNull(),updatedBy:ce("updated_by").notNull(),reason:M("reason"),notes:M("notes"),attachments:Ar("attachments").default([]),createdAt:ye("created_at").defaultNow()});tt(Cne).pick({serviceRequestId:!0,previousStatus:!0,newStatus:!0,updatedBy:!0,reason:!0,notes:!0,attachments:!0});const Pne=et("service_request_commission_transactions",{id:Ze("id").primaryKey(),serviceRequestId:ce("service_request_id").notNull(),userId:ce("user_id").notNull(),userType:M("user_type").notNull(),commissionType:M("commission_type").notNull(),commissionPercentage:Fe("commission_percentage").notNull(),commissionAmount:Fe("commission_amount").notNull(),baseAmount:Fe("base_amount").notNull(),status:M("status").notNull().default("pending"),paidAt:ye("paid_at"),createdAt:ye("created_at").defaultNow()});tt(Pne).pick({serviceRequestId:!0,userId:!0,userType:!0,commissionType:!0,commissionPercentage:!0,commissionAmount:!0,baseAmount:!0});const kne=et("service_request_notifications",{id:Ze("id").primaryKey(),userId:ce("user_id").notNull(),serviceRequestId:ce("service_request_id"),title:M("title").notNull(),message:M("message").notNull(),type:M("type").notNull(),category:M("category").notNull(),isRead:jt("is_read").default(!1),actionUrl:M("action_url"),createdAt:ye("created_at").defaultNow()});tt(kne).pick({userId:!0,serviceRequestId:!0,title:!0,message:!0,type:!0,category:!0,actionUrl:!0});const Ane=et("commission_configs",{id:Ze("id").primaryKey(),serviceType:M("service_type").notNull(),provider:M("provider"),adminCommission:Fe("admin_commission").notNull().default(.5),branchManagerCommission:Fe("branch_manager_commission").notNull().default(.5),talukManagerCommission:Fe("taluk_manager_commission").notNull().default(1),serviceAgentCommission:Fe("service_agent_commission").notNull().default(3),registeredUserCommission:Fe("registered_user_commission").notNull().default(1),totalCommission:Fe("total_commission").notNull().default(6),startDate:Ps("start_date"),endDate:Ps("end_date"),isPeakRate:jt("is_peak_rate").default(!1),seasonName:M("season_name"),isActive:jt("is_active").notNull().default(!0),createdAt:ye("created_at").defaultNow(),updatedAt:ye("updated_at").defaultNow()}),_ne=tt(Ane).pick({serviceType:!0,provider:!0,adminCommission:!0,branchManagerCommission:!0,talukManagerCommission:!0,serviceAgentCommission:!0,registeredUserCommission:!0,totalCommission:!0,startDate:!0,endDate:!0,isPeakRate:!0,seasonName:!0,isActive:!0}),Tne=et("commissions",{id:Ze("id").primaryKey(),transactionId:ce("transaction_id").notNull(),userId:ce("user_id").notNull(),userType:M("user_type").notNull(),serviceType:M("service_type").notNull(),serviceId:ce("service_id").notNull(),originalAmount:Fe("original_amount").notNull(),commissionPercentage:Fe("commission_percentage").notNull(),commissionAmount:Fe("commission_amount").notNull(),status:M("status").notNull().default("pending"),createdAt:ye("created_at").defaultNow()});tt(Tne).pick({transactionId:!0,userId:!0,userType:!0,serviceType:!0,serviceId:!0,originalAmount:!0,commissionPercentage:!0,commissionAmount:!0,status:!0});const One=et("recharges",{id:Ze("id").primaryKey(),userId:ce("user_id").notNull(),mobileNumber:M("mobile_number").notNull(),amount:Fe("amount").notNull(),provider:M("provider").notNull(),status:M("status").notNull(),serviceType:M("service_type").default("mobile"),processedBy:ce("processed_by"),totalCommissionPercent:Fe("total_commission_percent"),totalCommissionAmount:Fe("total_commission_amount"),commissionConfigId:ce("commission_config_id"),createdAt:ye("created_at").defaultNow(),completedAt:ye("completed_at")});tt(One).pick({userId:!0,mobileNumber:!0,amount:!0,provider:!0,status:!0,serviceType:!0,processedBy:!0,totalCommissionPercent:!0,totalCommissionAmount:!0,commissionConfigId:!0});const Ene=et("bookings",{id:Ze("id").primaryKey(),userId:ce("user_id").notNull(),bookingType:M("booking_type").notNull(),provider:M("provider"),origin:M("origin"),destination:M("destination"),checkIn:Ps("check_in"),checkOut:Ps("check_out"),passengers:ce("passengers"),amount:Fe("amount").notNull(),status:M("status").notNull(),processedBy:ce("processed_by"),totalCommissionPercent:Fe("total_commission_percent"),totalCommissionAmount:Fe("total_commission_amount"),commissionConfigId:ce("commission_config_id"),createdAt:ye("created_at").defaultNow(),completedAt:ye("completed_at")});tt(Ene).pick({userId:!0,bookingType:!0,provider:!0,origin:!0,destination:!0,checkIn:!0,checkOut:!0,passengers:!0,amount:!0,status:!0,processedBy:!0,totalCommissionPercent:!0,totalCommissionAmount:!0,commissionConfigId:!0,completedAt:!0});const Dne=et("rentals",{id:Ze("id").primaryKey(),userId:ce("user_id").notNull(),itemName:M("item_name").notNull(),category:M("category").notNull(),startDate:Ps("start_date").notNull(),endDate:Ps("end_date").notNull(),amount:Fe("amount").notNull(),status:M("status").notNull(),createdAt:ye("created_at").defaultNow()});tt(Dne).pick({userId:!0,itemName:!0,category:!0,startDate:!0,endDate:!0,amount:!0,status:!0});const Mne=et("taxi_rides",{id:Ze("id").primaryKey(),userId:ce("user_id").notNull(),pickup:M("pickup").notNull(),dropoff:M("dropoff").notNull(),distance:Fe("distance").notNull(),amount:Fe("amount").notNull(),status:M("status").notNull(),vehicleType:M("vehicle_type").default("taxi"),createdAt:ye("created_at").defaultNow()});tt(Mne).pick({userId:!0,pickup:!0,dropoff:!0,distance:!0,amount:!0,status:!0,vehicleType:!0});const Ine=et("deliveries",{id:Ze("id").primaryKey(),userId:ce("user_id").notNull(),pickupAddress:M("pickup_address").notNull(),deliveryAddress:M("delivery_address").notNull(),packageDetails:M("package_details").notNull(),amount:Fe("amount").notNull(),status:M("status").notNull(),createdAt:ye("created_at").defaultNow()});tt(Ine).pick({userId:!0,pickupAddress:!0,deliveryAddress:!0,packageDetails:!0,amount:!0,status:!0});const Rne=et("grocery_categories",{id:Ze("id").primaryKey(),name:M("name").notNull().unique(),description:M("description"),icon:M("icon"),color:M("color"),imageUrl:M("image_url"),isActive:jt("is_active").default(!0),displayOrder:ce("display_order"),createdAt:ye("created_at").defaultNow()});tt(Rne).pick({name:!0,description:!0,icon:!0,color:!0,imageUrl:!0,isActive:!0,displayOrder:!0}).extend({imageUrl:_.string().optional()});const Fne=et("grocery_subcategories",{id:Ze("id").primaryKey(),name:M("name").notNull(),description:M("description"),parentCategoryId:ce("parent_category_id").notNull(),imageUrl:M("image_url"),isActive:jt("is_active").default(!0),displayOrder:ce("display_order"),createdAt:ye("created_at").defaultNow()});tt(Fne).pick({name:!0,description:!0,parentCategoryId:!0,imageUrl:!0,isActive:!0,displayOrder:!0}).extend({imageUrl:_.string().optional()});const $ne=et("grocery_products",{id:Ze("id").primaryKey(),name:M("name").notNull(),description:M("description").notNull(),categoryId:ce("category_id").notNull(),subcategoryId:ce("subcategory_id"),providerId:ce("provider_id").notNull(),price:Fe("price").notNull(),discountedPrice:Fe("discounted_price"),stock:ce("stock").notNull(),unit:M("unit").notNull(),isOrganic:jt("is_organic").default(!1),district:M("district").notNull(),imageUrl:M("image_url"),deliveryOption:M("delivery_option").default("both"),availableAreas:M("available_areas"),adminApproved:jt("admin_approved").default(!1),status:M("status").default("pending"),createdAt:ye("created_at").defaultNow(),updatedAt:ye("updated_at").defaultNow()}),Lne=tt($ne).pick({name:!0,description:!0,categoryId:!0,subcategoryId:!0,providerId:!0,price:!0,discountedPrice:!0,stock:!0,unit:!0,isOrganic:!0,district:!0,imageUrl:!0,deliveryOption:!0,availableAreas:!0,status:!0}).extend({imageUrl:_.string().optional(),deliveryOption:_.enum(["direct","service","both"]).default("both"),availableAreas:_.string().optional(),status:_.enum(["pending","active","inactive"]).default("pending"),subcategoryId:_.number().optional(),discountedPrice:_.number().optional(),isOrganic:_.boolean().default(!1)}),GV=et("local_product_base",{id:Ze("id").primaryKey(),name:M("name").notNull(),category:M("category").notNull(),subcategory:M("subcategory"),manufacturerId:ce("manufacturer_id"),adminApproved:jt("admin_approved").default(!1),providerId:ce("provider_id"),createdAt:ye("created_at").defaultNow(),updatedAt:ye("updated_at").defaultNow()}),Bne=et("local_product_details",{id:Ze("id").primaryKey(),productId:ce("product_id").references(()=>GV.id,{onDelete:"cascade"}).notNull(),subcategoryId:ce("subcategory_id").references(()=>YV.id),description:M("description").notNull(),specifications:Ar("specifications").default({}).notNull(),price:Fe("price").notNull(),discountedPrice:Fe("discounted_price"),stock:ce("stock").notNull(),district:M("district").notNull(),imageUrl:M("image_url"),deliveryOption:M("delivery_option").default("both"),availableAreas:M("available_areas"),isDraft:jt("is_draft").default(!0),status:M("status").default("pending"),updatedAt:ye("updated_at").defaultNow()});tt(GV).pick({name:!0,category:!0,manufacturerId:!0}).extend({});tt(Bne).pick({productId:!0,description:!0,price:!0,discountedPrice:!0,stock:!0,district:!0,imageUrl:!0,deliveryOption:!0,availableAreas:!0,isDraft:!0,status:!0}).extend({specifications:_.record(_.string(),_.any()).default({}),imageUrl:_.string().optional(),deliveryOption:_.enum(["direct","service","both"]).default("both"),availableAreas:_.string().optional(),isDraft:_.boolean().default(!0),status:_.enum(["active","inactive","pending"]).default("pending"),productId:_.number().optional()});_.object({id:_.number(),name:_.string(),category:_.string(),manufacturerId:_.number().optional(),description:_.string(),specifications:_.record(_.string(),_.any()).default({}),price:_.number(),discountedPrice:_.number().optional(),stock:_.number(),district:_.string(),imageUrl:_.string().optional(),deliveryOption:_.string(),availableAreas:_.string().optional(),isDraft:_.boolean(),adminApproved:_.boolean(),status:_.string(),createdAt:_.string(),updatedAt:_.string()});const Vne=et("rental_categories",{id:Ze("id").primaryKey(),name:M("name").notNull(),description:M("description"),imageUrl:M("image_url"),isActive:jt("is_active").default(!0),displayOrder:ce("display_order").default(0),createdAt:ye("created_at").defaultNow(),updatedAt:ye("updated_at").defaultNow()}),Une=et("rental_subcategories",{id:Ze("id").primaryKey(),name:M("name").notNull(),description:M("description"),categoryId:ce("category_id").notNull(),isActive:jt("is_active").default(!0),imageUrl:M("image_url"),displayOrder:ce("display_order").default(0),createdAt:ye("created_at").defaultNow(),updatedAt:ye("updated_at").defaultNow()}),qne=et("rental_equipment",{id:Ze("id").primaryKey(),name:M("name").notNull(),categoryId:ce("category_id").notNull(),subcategoryId:ce("subcategory_id"),providerId:ce("provider_id").notNull(),description:M("description"),specifications:Ar("specifications").default({}),dailyRate:Fe("daily_rate").notNull(),weeklyRate:Fe("weekly_rate"),monthlyRate:Fe("monthly_rate"),securityDeposit:Fe("security_deposit").notNull(),availableQuantity:ce("available_quantity").default(1),totalQuantity:ce("total_quantity").default(1),condition:M("condition").default("excellent"),location:M("location").notNull(),district:M("district").notNull(),pincode:M("pincode"),imageUrl:M("image_url"),additionalImages:gn("additional_images").default([]),deliveryAvailable:jt("delivery_available").default(!1),deliveryCharge:Fe("delivery_charge").default(0),minimumRentalDays:ce("minimum_rental_days").default(1),maximumRentalDays:ce("maximum_rental_days").default(30),isActive:jt("is_active").default(!0),adminApproved:jt("admin_approved").default(!1),status:M("status").default("pending"),createdAt:ye("created_at").defaultNow(),updatedAt:ye("updated_at").defaultNow()}),zne=et("rental_orders",{id:Ze("id").primaryKey(),orderNumber:M("order_number").notNull().unique(),customerId:ce("customer_id").notNull(),providerId:ce("provider_id").notNull(),totalAmount:Fe("total_amount").notNull(),securityDeposit:Fe("security_deposit").notNull(),startDate:Ps("start_date").notNull(),endDate:Ps("end_date").notNull(),totalDays:ce("total_days").notNull(),deliveryAddress:M("delivery_address").notNull(),deliveryPincode:M("delivery_pincode").notNull(),deliveryCharge:Fe("delivery_charge").default(0),specialInstructions:M("special_instructions"),status:M("status").default("pending"),paymentStatus:M("payment_status").default("pending"),agentId:ce("agent_id"),talukManagerId:ce("taluk_manager_id"),branchManagerId:ce("branch_manager_id"),confirmedAt:ye("confirmed_at"),deliveredAt:ye("delivered_at"),returnedAt:ye("returned_at"),completedAt:ye("completed_at"),createdAt:ye("created_at").defaultNow(),updatedAt:ye("updated_at").defaultNow()});et("rental_order_items",{id:Ze("id").primaryKey(),orderId:ce("order_id").notNull(),equipmentId:ce("equipment_id").notNull(),quantity:ce("quantity").notNull(),dailyRate:Fe("daily_rate").notNull(),totalDays:ce("total_days").notNull(),itemTotal:Fe("item_total").notNull(),securityDepositPerItem:Fe("security_deposit_per_item").notNull(),equipmentConditionBefore:M("equipment_condition_before"),equipmentConditionAfter:M("equipment_condition_after"),damageNotes:M("damage_notes"),createdAt:ye("created_at").defaultNow()});const Kne=et("rental_cart",{id:Ze("id").primaryKey(),userId:ce("user_id").notNull(),equipmentId:ce("equipment_id").notNull(),quantity:ce("quantity").notNull(),startDate:Ps("start_date").notNull(),endDate:Ps("end_date").notNull(),totalDays:ce("total_days").notNull(),createdAt:ye("created_at").defaultNow(),updatedAt:ye("updated_at").defaultNow()});tt(Vne).pick({name:!0,description:!0,imageUrl:!0,isActive:!0,displayOrder:!0});tt(Une).pick({name:!0,description:!0,categoryId:!0,imageUrl:!0,isActive:!0,displayOrder:!0});tt(qne).pick({name:!0,categoryId:!0,subcategoryId:!0,providerId:!0,description:!0,specifications:!0,dailyRate:!0,weeklyRate:!0,monthlyRate:!0,securityDeposit:!0,availableQuantity:!0,totalQuantity:!0,condition:!0,location:!0,district:!0,pincode:!0,imageUrl:!0,additionalImages:!0,deliveryAvailable:!0,deliveryCharge:!0,minimumRentalDays:!0,maximumRentalDays:!0,isActive:!0,status:!0});tt(zne).pick({customerId:!0,providerId:!0,totalAmount:!0,securityDeposit:!0,startDate:!0,endDate:!0,totalDays:!0,deliveryAddress:!0,deliveryPincode:!0,deliveryCharge:!0,specialInstructions:!0,status:!0,paymentStatus:!0});tt(Kne).pick({userId:!0,equipmentId:!0,quantity:!0,startDate:!0,endDate:!0,totalDays:!0});const Hne=et("delivery_categories",{id:Ze("id").primaryKey(),name:M("name").notNull().unique(),description:M("description"),basePrice:Fe("base_price").notNull(),pricePerKm:Fe("price_per_km").notNull().default(0),pricePerKg:Fe("price_per_kg").notNull().default(0),isActive:jt("is_active").default(!0),createdAt:ye("created_at").defaultNow(),updatedAt:ye("updated_at").defaultNow()}),Wne=et("delivery_agents",{id:Ze("id").primaryKey(),userId:ce("user_id").notNull(),name:M("name").notNull(),mobileNumber:M("mobile_number").notNull(),email:M("email"),address:M("address").notNull(),district:M("district").notNull(),taluk:M("taluk").notNull(),pincode:M("pincode").notNull(),categoryId:ce("category_id").notNull(),availableStartTime:M("available_start_time"),availableEndTime:M("available_end_time"),operationAreas:gn("operation_areas").default([]),isOnline:jt("is_online").default(!1),isAvailable:jt("is_available").default(!0),adminApproved:jt("admin_approved").default(!1),verificationStatus:M("verification_status").default("pending"),documents:gn("documents").default([]),rating:Fe("rating").default(0),totalDeliveries:ce("total_deliveries").default(0),createdAt:ye("created_at").defaultNow(),updatedAt:ye("updated_at").defaultNow()}),Gne=et("delivery_orders",{id:Ze("id").primaryKey(),orderNumber:M("order_number").notNull().unique(),customerId:ce("customer_id").notNull(),agentId:ce("agent_id"),categoryId:ce("category_id").notNull(),pickupAddress:M("pickup_address").notNull(),pickupDistrict:M("pickup_district").notNull(),pickupTaluk:M("pickup_taluk").notNull(),pickupPincode:M("pickup_pincode").notNull(),pickupContactName:M("pickup_contact_name"),pickupContactPhone:M("pickup_contact_phone"),deliveryAddress:M("delivery_address").notNull(),deliveryDistrict:M("delivery_district").notNull(),deliveryTaluk:M("delivery_taluk").notNull(),deliveryPincode:M("delivery_pincode").notNull(),deliveryContactName:M("delivery_contact_name"),deliveryContactPhone:M("delivery_contact_phone"),packageDetails:M("package_details"),packageWeight:Fe("package_weight"),packageValue:Fe("package_value"),specialInstructions:M("special_instructions"),scheduledPickupTime:ye("scheduled_pickup_time"),estimatedDeliveryTime:ye("estimated_delivery_time"),actualPickupTime:ye("actual_pickup_time"),actualDeliveryTime:ye("actual_delivery_time"),totalAmount:Fe("total_amount").notNull(),paymentMode:M("payment_mode").default("cash"),paymentStatus:M("payment_status").default("pending"),status:M("status").default("pending"),cancellationReason:M("cancellation_reason"),customerRating:ce("customer_rating"),customerFeedback:M("customer_feedback"),createdAt:ye("created_at").defaultNow(),updatedAt:ye("updated_at").defaultNow()}),Yne=et("taxi_categories",{id:Ze("id").primaryKey(),name:M("name").notNull().unique(),description:M("description").notNull(),basePrice:Fe("base_price").notNull(),pricePerKm:Fe("price_per_km").notNull(),waitingChargePerMinute:Fe("waiting_charge_per_minute").notNull(),maxPassengers:ce("max_passengers").notNull(),isActive:jt("is_active").default(!0),createdAt:ye("created_at").defaultNow(),updatedAt:ye("updated_at").defaultNow()}),Qne=et("taxi_vehicles",{id:Ze("id").primaryKey(),providerId:ce("provider_id").notNull(),vehicleNumber:M("vehicle_number").notNull().unique(),vehicleType:M("vehicle_type").notNull(),brand:M("brand").notNull(),model:M("model").notNull(),year:ce("year").notNull(),color:M("color").notNull(),seatingCapacity:ce("seating_capacity").notNull(),fuelType:M("fuel_type").notNull(),acAvailable:jt("ac_available").default(!1),gpsEnabled:jt("gps_enabled").default(!1),insuranceValid:jt("insurance_valid").default(!0),pucValid:jt("puc_valid").default(!0),rcNumber:M("rc_number").notNull(),insuranceNumber:M("insurance_number").notNull(),driverLicenseNumber:M("driver_license_number").notNull(),baseFarePerKm:Fe("base_fare_per_km").notNull(),baseWaitingCharge:Fe("base_waiting_charge").default(0),nightChargeMultiplier:Fe("night_charge_multiplier").default(1.2),tollChargesApplicable:jt("toll_charges_applicable").default(!0),availableAreas:M("available_areas"),currentLocation:M("current_location"),district:M("district").notNull(),pincode:M("pincode"),imageUrl:M("image_url"),additionalImages:gn("additional_images").default([]),isActive:jt("is_active").default(!0),adminApproved:jt("admin_approved").default(!1),status:M("status").default("available"),createdAt:ye("created_at").defaultNow(),updatedAt:ye("updated_at").defaultNow()}),Xne=et("taxi_bookings",{id:Ze("id").primaryKey(),bookingNumber:M("booking_number").notNull().unique(),customerId:ce("customer_id").notNull(),providerId:ce("provider_id").notNull(),vehicleId:ce("vehicle_id").notNull(),bookingType:M("booking_type").notNull(),pickupLocation:M("pickup_location").notNull(),pickupPincode:M("pickup_pincode").notNull(),dropoffLocation:M("dropoff_location").notNull(),dropoffPincode:M("dropoff_pincode").notNull(),scheduledDateTime:ye("scheduled_date_time"),estimatedDistance:Fe("estimated_distance"),estimatedDuration:ce("estimated_duration"),estimatedFare:Fe("estimated_fare"),actualDistance:Fe("actual_distance"),actualDuration:ce("actual_duration"),baseFare:Fe("base_fare"),waitingCharges:Fe("waiting_charges").default(0),tollCharges:Fe("toll_charges").default(0),nightCharges:Fe("night_charges").default(0),totalAmount:Fe("total_amount").notNull(),paymentMode:M("payment_mode").default("cash"),paymentStatus:M("payment_status").default("pending"),specialInstructions:M("special_instructions"),passengerCount:ce("passenger_count").default(1),status:M("status").default("pending"),createdAt:ye("created_at").defaultNow(),updatedAt:ye("updated_at").defaultNow()}),Zne=et("taxi_routes",{id:Ze("id").primaryKey(),routeName:M("route_name").notNull(),fromLocation:M("from_location").notNull(),toLocation:M("to_location").notNull(),distance:Fe("distance").notNull(),estimatedDuration:ce("estimated_duration").notNull(),basePrice:Fe("base_price").notNull(),isActive:jt("is_active").default(!0),createdAt:ye("created_at").defaultNow()}),Jne=et("recycling_requests",{id:Ze("id").primaryKey(),requestNumber:M("request_number").notNull(),userId:ce("user_id").notNull(),address:M("address").notNull(),pincode:M("pincode").notNull(),date:Ps("date").notNull(),timeSlot:M("time_slot").notNull(),materials:M("materials").notNull(),additionalNotes:M("additional_notes"),status:M("status").default("new").notNull(),agentId:ce("agent_id"),talukManagerId:ce("taluk_manager_id"),branchManagerId:ce("branch_manager_id"),assignedAt:ye("assigned_at"),collectedAt:ye("collected_at"),verifiedAt:ye("verified_at"),closedAt:ye("closed_at"),totalWeight:Fe("total_weight"),amount:Fe("amount"),createdAt:ye("created_at").defaultNow()}),eae=et("video_uploads",{id:Ze("id").primaryKey(),uploaderId:ce("uploader_id").notNull(),title:M("title").notNull(),description:M("description"),filePath:M("file_path").notNull(),fileName:M("file_name").notNull(),fileSize:ce("file_size").notNull(),duration:ce("duration"),thumbnailUrl:M("thumbnail_url"),category:M("category").default("advertisement"),targetArea:M("target_area"),status:M("status").default("pending").notNull(),adminApprovalBy:ce("admin_approval_by"),approvalNotes:M("approval_notes"),youtubeVideoId:M("youtube_video_id"),youtubeUrl:M("youtube_url"),uploadedToYoutubeAt:ye("uploaded_to_youtube_at"),rejectedAt:ye("rejected_at"),approvedAt:ye("approved_at"),createdAt:ye("created_at").defaultNow(),updatedAt:ye("updated_at").defaultNow()}),tae=et("video_view_analytics",{id:Ze("id").primaryKey(),videoId:M("video_id").notNull(),viewerId:ce("viewer_id"),sessionId:M("session_id").notNull(),watchStartTime:ye("watch_start_time").defaultNow(),watchEndTime:ye("watch_end_time"),totalWatchTime:ce("total_watch_time").default(0),videoDuration:ce("video_duration"),completionPercentage:Fe("completion_percentage").default(0),pauseCount:ce("pause_count").default(0),seekCount:ce("seek_count").default(0),volumeChanges:ce("volume_changes").default(0),playbackSpeed:Fe("playback_speed").default(1),deviceType:M("device_type"),browserType:M("browser_type"),ipAddress:M("ip_address"),location:M("location"),referrer:M("referrer"),isCompleted:jt("is_completed").default(!1),createdAt:ye("created_at").defaultNow()});et("daily_video_stats",{id:Ze("id").primaryKey(),videoId:M("video_id").notNull(),date:Ps("date").notNull(),totalViews:ce("total_views").default(0),uniqueViewers:ce("unique_viewers").default(0),totalWatchTime:ce("total_watch_time").default(0),averageWatchTime:Fe("average_watch_time").default(0),completionRate:Fe("completion_rate").default(0),topLocations:Ar("top_locations").default([]),deviceBreakdown:Ar("device_breakdown").default({}),createdAt:ye("created_at").defaultNow()},t=>({uniqueVideoDate:nB().on(t.videoId,t.date)}));tt(Hne).pick({name:!0,description:!0,basePrice:!0,pricePerKm:!0,pricePerKg:!0,isActive:!0});tt(Wne).pick({userId:!0,name:!0,mobileNumber:!0,email:!0,address:!0,district:!0,taluk:!0,pincode:!0,categoryId:!0,availableStartTime:!0,availableEndTime:!0,operationAreas:!0,documents:!0});tt(Gne).pick({customerId:!0,categoryId:!0,pickupAddress:!0,pickupDistrict:!0,pickupTaluk:!0,pickupPincode:!0,pickupContactName:!0,pickupContactPhone:!0,deliveryAddress:!0,deliveryDistrict:!0,deliveryTaluk:!0,deliveryPincode:!0,deliveryContactName:!0,deliveryContactPhone:!0,packageDetails:!0,packageWeight:!0,packageValue:!0,specialInstructions:!0,scheduledPickupTime:!0,totalAmount:!0,paymentMode:!0});tt(Yne).pick({name:!0,description:!0,basePrice:!0,pricePerKm:!0,waitingChargePerMinute:!0,maxPassengers:!0,isActive:!0});tt(Qne).pick({providerId:!0,vehicleNumber:!0,vehicleType:!0,brand:!0,model:!0,year:!0,color:!0,seatingCapacity:!0,fuelType:!0,acAvailable:!0,gpsEnabled:!0,insuranceValid:!0,pucValid:!0,rcNumber:!0,insuranceNumber:!0,driverLicenseNumber:!0,baseFarePerKm:!0,baseWaitingCharge:!0,nightChargeMultiplier:!0,tollChargesApplicable:!0,availableAreas:!0,currentLocation:!0,district:!0,pincode:!0,imageUrl:!0,additionalImages:!0,isActive:!0,status:!0});tt(Xne).pick({bookingNumber:!0,customerId:!0,providerId:!0,vehicleId:!0,bookingType:!0,pickupLocation:!0,pickupPincode:!0,dropoffLocation:!0,dropoffPincode:!0,scheduledDateTime:!0,estimatedDistance:!0,estimatedDuration:!0,estimatedFare:!0,totalAmount:!0,paymentMode:!0,paymentStatus:!0,specialInstructions:!0,passengerCount:!0,status:!0});tt(Zne).pick({routeName:!0,fromLocation:!0,toLocation:!0,distance:!0,estimatedDuration:!0,basePrice:!0,isActive:!0});tt(Jne).pick({userId:!0,requestNumber:!0,address:!0,pincode:!0,date:!0,timeSlot:!0,materials:!0,additionalNotes:!0,status:!0,agentId:!0,talukManagerId:!0,branchManagerId:!0,assignedAt:!0,collectedAt:!0,verifiedAt:!0,closedAt:!0,totalWeight:!0,amount:!0}).extend({requestNumber:_.string().optional(),status:_.enum(["new","assigned","collected","verified","closed","cancelled"]).default("new"),assignedAt:_.date().optional(),collectedAt:_.date().optional(),verifiedAt:_.date().optional(),closedAt:_.date().optional(),talukManagerId:_.number().optional(),branchManagerId:_.number().optional()});_.object({id:_.number().optional(),amount:_.number(),description:_.string(),createdAt:_.date().optional()});const rae=et("local_product_categories",{id:Ze("id").primaryKey(),name:M("name").notNull().unique(),description:M("description"),icon:M("icon"),color:M("color"),imageUrl:M("image_url"),isActive:jt("is_active").default(!0),displayOrder:ce("display_order"),createdAt:ye("created_at").defaultNow()});tt(rae).pick({name:!0,description:!0,icon:!0,color:!0,imageUrl:!0,isActive:!0,displayOrder:!0}).extend({imageUrl:_.string().optional()});const YV=et("local_product_subcategories",{id:Ze("id").primaryKey(),name:M("name").notNull(),description:M("description"),parentCategoryId:ce("parent_category_id").notNull(),imageUrl:M("image_url"),isActive:jt("is_active").default(!0),displayOrder:ce("display_order"),createdAt:ye("created_at").defaultNow()});tt(YV).pick({name:!0,description:!0,parentCategoryId:!0,imageUrl:!0,isActive:!0,displayOrder:!0}).extend({imageUrl:_.string().optional(),parentCategoryId:_.number()});const sae=et("local_product_category_requests",{id:Ze("id").primaryKey(),requesterId:ce("requester_id").notNull(),categoryName:M("category_name").notNull(),subcategoryName:M("subcategory_name"),parentCategoryId:ce("parent_category_id"),description:M("description"),justification:M("justification"),status:M("status").default("pending"),adminResponse:M("admin_response"),createdAt:ye("created_at").defaultNow(),reviewedAt:ye("reviewed_at"),reviewedBy:ce("reviewed_by")});tt(sae).pick({categoryName:!0,subcategoryName:!0,parentCategoryId:!0,description:!0,justification:!0}).extend({requesterId:_.number().optional(),subcategoryName:_.string().optional(),parentCategoryId:_.number().optional(),description:_.string().optional(),justification:_.string().optional()});const nae=et("nominations",{id:Ze("id").primaryKey(),name:M("name").notNull(),phoneNumber:M("phone_number").notNull(),otpVerified:jt("otp_verified").default(!1),roleAppliedFor:M("role_applied_for").notNull(),district:M("district").notNull(),taluk:M("taluk").notNull(),pincode:M("pincode").notNull(),servicesProvided:M("services_provided"),status:M("status").default("pending"),adminResponse:M("admin_response"),profilePhoto:M("profile_photo"),userId:ce("user_id"),submittedAt:ye("submitted_at").defaultNow(),reviewedAt:ye("reviewed_at"),reviewedBy:ce("reviewed_by")});tt(nae).pick({name:!0,phoneNumber:!0,roleAppliedFor:!0,district:!0,taluk:!0,pincode:!0,servicesProvided:!0}).extend({phoneNumber:_.string().min(10,"Phone number must be at least 10 digits"),roleAppliedFor:_.string().min(1,"Role is required"),district:_.string().min(1,"District is required"),taluk:_.string().min(1,"Taluk is required"),pincode:_.string().min(6,"Pincode must be at least 6 digits"),servicesProvided:_.string().min(10,"Service description must be at least 10 characters")});const aae=et("otp_verifications",{id:Ze("id").primaryKey(),phoneNumber:M("phone_number").notNull(),otp:M("otp").notNull(),purpose:M("purpose").notNull(),verified:jt("verified").default(!1),expiresAt:ye("expires_at").notNull(),createdAt:ye("created_at").defaultNow()});tt(aae).pick({phoneNumber:!0,otp:!0,purpose:!0,expiresAt:!0});const iae=et("public_messages",{id:Ze("id").primaryKey(),nominationId:ce("nomination_id").notNull(),senderId:ce("sender_id"),senderName:M("sender_name").notNull(),message:M("message").notNull(),messageType:M("message_type").default("public"),isAdminMessage:jt("is_admin_message").default(!1),createdAt:ye("created_at").defaultNow()});tt(iae).pick({nominationId:!0,senderName:!0,message:!0,messageType:!0}).extend({nominationId:_.number(),senderName:_.string().min(1,"Name is required"),message:_.string().min(1,"Message is required"),messageType:_.enum(["public","inquiry","support"]).optional()});const lae=et("applications",{id:Ze("id").primaryKey(),applicantName:M("applicant_name").notNull(),mobileNumber:M("mobile_number").notNull(),email:M("email"),address:M("address").notNull(),district:M("district").notNull(),taluk:M("taluk"),pincode:M("pincode"),degree:M("degree"),experience:M("experience"),roleType:M("role_type").notNull(),specificRole:M("specific_role"),additionalInfo:M("additional_info"),status:M("status").default("pending"),appliedAt:ye("applied_at").defaultNow(),reviewedAt:ye("reviewed_at"),reviewedBy:ce("reviewed_by"),adminNotes:M("admin_notes"),createdAt:ye("created_at").defaultNow(),updatedAt:ye("updated_at").defaultNow()});tt(lae).pick({applicantName:!0,mobileNumber:!0,email:!0,address:!0,district:!0,taluk:!0,pincode:!0,degree:!0,experience:!0,roleType:!0,specificRole:!0,additionalInfo:!0}).extend({email:_.string().email().optional(),taluk:_.string().optional(),pincode:_.string().optional(),degree:_.string().optional(),experience:_.string().optional(),specificRole:_.string().optional(),additionalInfo:_.string().optional()});const oae=et("farmer_product_listings",{id:Ze("id").primaryKey(),farmerId:ce("farmer_id").notNull(),groceryProductId:ce("grocery_product_id").notNull(),quantity:ce("quantity").notNull(),price:Fe("price").notNull(),unit:M("unit").notNull(),imageUrl:M("image_url"),transportAgentRequired:jt("transport_agent_required").default(!0),selfDelivery:jt("self_delivery").default(!1),isOrganic:jt("is_organic").default(!1),status:M("status").default("pending"),createdAt:ye("created_at").defaultNow(),updatedAt:ye("updated_at").defaultNow()});tt(oae).pick({groceryProductId:!0,quantity:!0,price:!0,unit:!0,imageUrl:!0,transportAgentRequired:!0,selfDelivery:!0,isOrganic:!0,status:!0}).extend({farmerId:_.number().optional(),imageUrl:_.string().optional(),transportAgentRequired:_.boolean().default(!0),selfDelivery:_.boolean().default(!1),isOrganic:_.boolean().default(!1),status:_.enum(["pending","approved","rejected"]).default("pending")});const cae=et("delivery_areas",{id:Ze("id").primaryKey(),listingId:ce("listing_id").notNull(),district:M("district").notNull(),taluk:M("taluk").notNull(),pincode:M("pincode").notNull(),isActive:jt("is_active").default(!0),createdAt:ye("created_at").defaultNow()});tt(cae).pick({listingId:!0,district:!0,taluk:!0,pincode:!0,isActive:!0});const dae=et("product_requests",{id:Ze("id").primaryKey(),farmerId:ce("farmer_id").notNull(),requestedProductName:M("requested_product_name").notNull(),description:M("description").notNull(),category:M("category").notNull(),unit:M("unit").notNull(),imageUrl:M("image_url"),status:M("status").default("pending"),adminNotes:M("admin_notes"),createdAt:ye("created_at").defaultNow(),updatedAt:ye("updated_at").defaultNow()}),uae=tt(dae).pick({farmerId:!0,requestedProductName:!0,description:!0,category:!0,unit:!0,imageUrl:!0,status:!0,adminNotes:!0}).extend({imageUrl:_.string().optional(),status:_.enum(["pending","approved","rejected"]).default("pending"),adminNotes:_.string().optional()}),mae=et("grocery_orders",{id:Ze("id").primaryKey(),customerId:ce("customer_id").notNull(),totalAmount:Fe("total_amount").notNull(),shippingAddress:M("shipping_address").notNull(),district:M("district").notNull(),taluk:M("taluk").notNull(),pincode:M("pincode").notNull(),status:M("status").default("pending"),pincodeAgentId:ce("pincode_agent_id"),transportAgentId:ce("transport_agent_id"),deliveryFee:Fe("delivery_fee").default(0),paymentMethod:M("payment_method").default("cash"),paymentStatus:M("payment_status").default("pending"),notes:M("notes"),createdAt:ye("created_at").defaultNow(),completedAt:ye("completed_at")});tt(mae).pick({customerId:!0,totalAmount:!0,shippingAddress:!0,district:!0,taluk:!0,pincode:!0,status:!0,pincodeAgentId:!0,transportAgentId:!0,deliveryFee:!0,paymentMethod:!0,paymentStatus:!0,notes:!0,completedAt:!0}).extend({status:_.enum(["pending","pincode_agent_approved","in_progress","delivered","cancelled"]).default("pending"),paymentMethod:_.enum(["cash","wallet","online"]).default("cash"),paymentStatus:_.enum(["pending","completed"]).default("pending"),notes:_.string().optional(),transportAgentId:_.number().optional(),pincodeAgentId:_.number().optional(),completedAt:_.date().optional()});const hae=et("grocery_order_items",{id:Ze("id").primaryKey(),orderId:ce("order_id").notNull(),farmerProductListingId:ce("farmer_product_listing_id").notNull(),quantity:ce("quantity").notNull(),unitPrice:Fe("unit_price").notNull(),subtotal:Fe("subtotal").notNull(),status:M("status").default("pending"),farmerId:ce("farmer_id").notNull(),productName:M("product_name").notNull(),createdAt:ye("created_at").defaultNow()});tt(hae).pick({orderId:!0,farmerProductListingId:!0,quantity:!0,unitPrice:!0,subtotal:!0,status:!0,farmerId:!0,productName:!0}).extend({status:_.enum(["pending","confirmed","shipped","delivered","cancelled"]).default("pending")});const pae=et("local_product_cart",{id:Ze("id").primaryKey(),userId:ce("user_id").notNull(),productId:ce("product_id").notNull(),quantity:ce("quantity").notNull(),createdAt:ye("created_at").defaultNow(),updatedAt:ye("updated_at").defaultNow()});tt(pae).pick({userId:!0,productId:!0,quantity:!0});const fae=et("local_product_orders",{id:Ze("id").primaryKey(),customerId:ce("customer_id").notNull(),totalAmount:Fe("total_amount").notNull(),shippingAddress:M("shipping_address").notNull(),district:M("district").notNull(),taluk:M("taluk"),pincode:M("pincode").notNull(),status:M("status").default("pending"),paymentMethod:M("payment_method").default("cash"),paymentStatus:M("payment_status").default("pending"),notes:M("notes"),deliveryFee:Fe("delivery_fee").default(0),createdAt:ye("created_at").defaultNow(),completedAt:ye("completed_at")});tt(fae).pick({customerId:!0,totalAmount:!0,shippingAddress:!0,district:!0,taluk:!0,pincode:!0,status:!0,paymentMethod:!0,paymentStatus:!0,notes:!0,deliveryFee:!0,completedAt:!0}).extend({status:_.enum(["pending","confirmed","shipped","delivered","cancelled"]).default("pending"),paymentMethod:_.enum(["cash","wallet","online"]).default("cash"),paymentStatus:_.enum(["pending","completed"]).default("pending"),notes:_.string().optional(),taluk:_.string().optional(),completedAt:_.date().optional()});const xae=et("local_product_order_items",{id:Ze("id").primaryKey(),orderId:ce("order_id").notNull(),productId:ce("product_id").notNull(),quantity:ce("quantity").notNull(),unitPrice:Fe("unit_price").notNull(),subtotal:Fe("subtotal").notNull(),productName:M("product_name").notNull(),manufacturerId:ce("manufacturer_id").notNull(),createdAt:ye("created_at").defaultNow()});tt(xae).pick({orderId:!0,productId:!0,quantity:!0,unitPrice:!0,subtotal:!0,productName:!0,manufacturerId:!0});tt(eae).pick({uploaderId:!0,title:!0,description:!0,filePath:!0,fileName:!0,fileSize:!0,duration:!0,thumbnailUrl:!0,category:!0,targetArea:!0,status:!0}).extend({category:_.enum(["advertisement","tutorial","announcement"]).default("advertisement"),status:_.enum(["pending","approved","uploaded","published","rejected"]).default("pending"),description:_.string().optional(),duration:_.number().optional(),thumbnailUrl:_.string().optional(),targetArea:_.string().optional()});tt(tae).pick({videoId:!0,viewerId:!0,sessionId:!0,totalWatchTime:!0,videoDuration:!0,completionPercentage:!0,pauseCount:!0,seekCount:!0,volumeChanges:!0,playbackSpeed:!0,deviceType:!0,browserType:!0,ipAddress:!0,location:!0,referrer:!0,isCompleted:!0}).extend({viewerId:_.number().optional(),videoDuration:_.number().optional(),deviceType:_.string().optional(),browserType:_.string().optional(),ipAddress:_.string().optional(),location:_.string().optional(),referrer:_.string().optional()});const gae=et("manager_applications",{id:Ze("id").primaryKey(),fullName:M("full_name").notNull(),email:M("email").notNull(),phone:M("phone"),username:M("username").notNull(),password:M("password").notNull(),managerType:M("manager_type").notNull(),district:M("district"),taluk:M("taluk"),pincode:M("pincode"),status:M("status").notNull().default("pending"),notes:M("notes"),approvedBy:ce("approved_by"),createdAt:ye("created_at").defaultNow(),updatedAt:ye("updated_at").defaultNow()});tt(gae).pick({fullName:!0,email:!0,phone:!0,username:!0,password:!0,managerType:!0,district:!0,taluk:!0,pincode:!0});const QV=et("service_providers",{id:Ze("id").primaryKey(),userId:ce("user_id").notNull().unique(),providerType:M("provider_type").notNull(),businessName:M("business_name"),address:M("address").notNull(),district:M("district").notNull(),taluk:M("taluk").notNull(),pincode:M("pincode").notNull(),operatingAreas:Ar("operating_areas"),phone:M("phone").notNull(),email:M("email"),website:M("website"),description:M("description"),status:M("status").notNull().default("pending"),verificationStatus:M("verification_status").notNull().default("pending"),verifiedBy:ce("verified_by"),documents:Ar("documents"),createdAt:ye("created_at").defaultNow(),updatedAt:ye("updated_at").defaultNow()});tt(QV).pick({userId:!0,providerType:!0,businessName:!0,address:!0,district:!0,taluk:!0,pincode:!0,operatingAreas:!0,phone:!0,email:!0,website:!0,description:!0,status:!0,verificationStatus:!0,verifiedBy:!0,documents:!0}).extend({businessName:_.string().optional(),email:_.string().optional(),website:_.string().optional(),description:_.string().optional(),operatingAreas:_.any().optional(),taluk:_.string().optional().default(""),verifiedBy:_.number().optional().nullable(),documents:_.any().optional(),status:_.string().default("pending"),verificationStatus:_.string().default("pending")});const vae=et("farmer_details",{id:Ze("id").primaryKey(),serviceProviderId:ce("service_provider_id").notNull().unique(),farmSize:M("farm_size"),farmType:M("farm_type"),primaryProducts:M("primary_products").notNull(),cultivationSeason:M("cultivation_season"),operatingHours:M("operating_hours"),supportsDelivery:jt("supports_delivery"),bankDetails:Ar("bank_details"),createdAt:ye("created_at"),updatedAt:ye("updated_at")});tt(vae).pick({serviceProviderId:!0,farmSize:!0,farmType:!0,primaryProducts:!0,cultivationSeason:!0,operatingHours:!0,supportsDelivery:!0,bankDetails:!0}).extend({farmSize:_.string().optional(),farmType:_.string().optional(),primaryProducts:_.string().or(_.array(_.string())).transform(t=>typeof t=="string"?t:JSON.stringify(t)),cultivationSeason:_.string().optional(),operatingHours:_.string().optional(),supportsDelivery:_.boolean().default(!1),bankDetails:_.any().optional()});const yae=et("manufacturer_details",{id:Ze("id").primaryKey(),serviceProviderId:ce("service_provider_id").notNull().unique(),businessType:M("business_type"),productCategories:M("product_categories"),establishmentYear:M("establishment_year"),operatingHours:M("operating_hours"),supportsDelivery:jt("supports_delivery"),bankDetails:Ar("bank_details"),createdAt:ye("created_at"),updatedAt:ye("updated_at")});tt(yae).pick({serviceProviderId:!0,businessType:!0,productCategories:!0,establishmentYear:!0,supportsDelivery:!0,operatingHours:!0,bankDetails:!0}).extend({businessType:_.string().optional(),productCategories:_.string().optional(),establishmentYear:_.string().optional(),operatingHours:_.string().optional(),supportsDelivery:_.boolean().default(!1),bankDetails:_.any().optional()});const jae=et("booking_agent_details",{id:Ze("id").primaryKey(),serviceProviderId:ce("service_provider_id").notNull().unique(),serviceTypes:Ar("service_types"),operatingHours:M("operating_hours"),yearsOfExperience:ce("years_of_experience"),preferredProviders:Ar("preferred_providers"),commissionRates:Ar("commission_rates"),bankDetails:Ar("bank_details"),createdAt:ye("created_at").defaultNow(),updatedAt:ye("updated_at").defaultNow()});tt(jae).pick({serviceProviderId:!0,serviceTypes:!0,operatingHours:!0,yearsOfExperience:!0,preferredProviders:!0,commissionRates:!0,bankDetails:!0}).extend({serviceTypes:_.any().optional(),operatingHours:_.string().optional(),yearsOfExperience:_.number().optional(),preferredProviders:_.any().optional(),commissionRates:_.any().optional(),bankDetails:_.any().optional()});const bae=et("taxi_provider_details",{id:Ze("id").primaryKey(),serviceProviderId:ce("service_provider_id").notNull().unique(),vehicleTypes:M("vehicle_types"),operatingHours:M("operating_hours"),bankDetails:Ar("bank_details"),licenseNumber:M("license_number"),dateOfBirth:M("date_of_birth"),photoUrl:M("photo_url"),aadharVerified:jt("aadhar_verified").default(!1),panCardNumber:M("pan_card_number"),vehicleRegistrationNumber:M("vehicle_registration_number"),vehicleInsuranceDetails:M("vehicle_insurance_details"),vehiclePermitDetails:M("vehicle_permit_details"),documents:Ar("documents"),approvalStatus:M("approval_status").default("pending"),approvalNotes:M("approval_notes"),approvedBy:ce("approved_by"),createdAt:ye("created_at"),updatedAt:ye("updated_at")});tt(bae).pick({serviceProviderId:!0,vehicleTypes:!0,operatingHours:!0,bankDetails:!0,licenseNumber:!0,dateOfBirth:!0,photoUrl:!0,aadharVerified:!0,panCardNumber:!0,vehicleRegistrationNumber:!0,vehicleInsuranceDetails:!0,vehiclePermitDetails:!0,documents:!0,approvalStatus:!0,approvalNotes:!0,approvedBy:!0}).extend({vehicleTypes:_.string().optional(),operatingHours:_.string().optional(),bankDetails:_.any().optional(),licenseNumber:_.string().optional(),dateOfBirth:_.string().optional(),photoUrl:_.string().optional(),aadharVerified:_.boolean().default(!1),panCardNumber:_.string().optional(),vehicleRegistrationNumber:_.string().optional(),vehicleInsuranceDetails:_.string().optional(),vehiclePermitDetails:_.string().optional(),documents:_.any().optional(),approvalStatus:_.string().default("pending"),approvalNotes:_.string().optional(),approvedBy:_.number().optional().nullable()});const Nae=et("transportation_agent_details",{id:Ze("id").primaryKey(),serviceProviderId:ce("service_provider_id").notNull().unique(),vehicleTypes:Ar("vehicle_types"),vehicleCount:ce("vehicle_count"),operatingHours:M("operating_hours"),serviceAreas:Ar("service_areas"),maxDistance:ce("max_distance"),maxWeight:Fe("max_weight"),pricePerKg:Fe("price_per_kg"),pricePerKm:Fe("price_per_km"),bankDetails:Ar("bank_details"),createdAt:ye("created_at").defaultNow(),updatedAt:ye("updated_at").defaultNow()});tt(Nae).pick({serviceProviderId:!0,vehicleTypes:!0,vehicleCount:!0,operatingHours:!0,serviceAreas:!0,maxDistance:!0,maxWeight:!0,pricePerKg:!0,pricePerKm:!0,bankDetails:!0}).extend({vehicleTypes:_.any().optional(),vehicleCount:_.number().optional(),operatingHours:_.string().optional(),serviceAreas:_.any().optional(),maxDistance:_.number().optional(),maxWeight:_.number().optional(),pricePerKg:_.number().optional(),pricePerKm:_.number().optional(),bankDetails:_.any().optional()});const wae=et("rental_provider_details",{id:Ze("id").primaryKey(),serviceProviderId:ce("service_provider_id").notNull().unique(),itemCategories:Ar("item_categories"),itemDetails:Ar("item_details"),depositRequired:jt("deposit_required").default(!0),operatingHours:M("operating_hours"),deliveryAvailable:jt("delivery_available").default(!1),deliveryCharge:Fe("delivery_charge"),bankDetails:Ar("bank_details"),createdAt:ye("created_at").defaultNow(),updatedAt:ye("updated_at").defaultNow()});tt(wae).pick({serviceProviderId:!0,itemCategories:!0,itemDetails:!0,depositRequired:!0,operatingHours:!0,deliveryAvailable:!0,deliveryCharge:!0,bankDetails:!0}).extend({itemCategories:_.any().optional(),itemDetails:_.any().optional(),depositRequired:_.boolean().default(!0),operatingHours:_.string().optional(),deliveryAvailable:_.boolean().default(!1),deliveryCharge:_.number().optional(),bankDetails:_.any().optional()});const Sae=et("recycling_material_rates",{id:Ze("id").primaryKey(),materialType:M("material_type").notNull().unique(),ratePerKg:Fe("rate_per_kg").notNull(),description:M("description"),isActive:jt("is_active").default(!0),updatedBy:ce("updated_by"),createdAt:ye("created_at").defaultNow(),updatedAt:ye("updated_at").defaultNow()});tt(Sae).pick({materialType:!0,ratePerKg:!0,description:!0,isActive:!0,updatedBy:!0});const Cae=et("recycling_agent_details",{id:Ze("id").primaryKey(),serviceProviderId:ce("service_provider_id").notNull().unique(),materialTypes:Ar("material_types"),pricePerKg:Ar("price_per_kg"),minQuantity:Fe("min_quantity"),providesPickup:jt("provides_pickup").default(!0),operatingHours:M("operating_hours"),purchaseProcess:M("purchase_process"),bankDetails:Ar("bank_details"),createdAt:ye("created_at").defaultNow(),updatedAt:ye("updated_at").defaultNow()});tt(Cae).pick({serviceProviderId:!0,materialTypes:!0,pricePerKg:!0,minQuantity:!0,providesPickup:!0,operatingHours:!0,purchaseProcess:!0,bankDetails:!0}).extend({materialTypes:_.any().optional(),pricePerKg:_.any().optional(),minQuantity:_.number().optional(),providesPickup:_.boolean().default(!0),operatingHours:_.string().optional(),purchaseProcess:_.string().optional(),bankDetails:_.any().optional()});const Pae=et("provider_product_categories",{id:Ze("id").primaryKey(),providerType:M("provider_type").notNull(),categoryName:M("category_name").notNull(),subcategories:M("subcategories").array(),isActive:jt("is_active").default(!0),createdAt:ye("created_at").defaultNow()}),kae=et("provider_products",{id:Ze("id").primaryKey(),providerId:ce("provider_id").references(()=>QV.id).notNull(),categoryName:M("category_name").notNull(),subcategoryName:M("subcategory_name"),productName:M("product_name").notNull(),description:M("description").notNull(),specifications:M("specifications"),price:Fe("price").notNull(),discountedPrice:Fe("discounted_price"),unit:M("unit").notNull(),stockQuantity:ce("stock_quantity").default(0),availableAreas:M("available_areas").array(),imageUrl:M("image_url"),isOrganic:jt("is_organic").default(!1),seasonality:M("seasonality"),minimumOrder:ce("minimum_order").default(1),deliveryTime:M("delivery_time"),status:M("status").default("active"),adminApproved:jt("admin_approved").default(!1),createdAt:ye("created_at").defaultNow(),updatedAt:ye("updated_at").defaultNow()});tt(Pae).omit({id:!0,createdAt:!0});tt(kae).omit({id:!0,createdAt:!0,updatedAt:!0});const Aae=et("commission_transactions",{id:Ze("id").primaryKey(),userId:ce("user_id").notNull(),amount:Fe("amount").notNull(),commissionAmount:Fe("commission_amount").notNull(),commissionRate:Fe("commission_rate").notNull(),transactionAmount:Fe("transaction_amount").notNull(),serviceType:M("service_type").notNull(),transactionId:ce("transaction_id").notNull(),provider:M("provider"),description:M("description"),status:M("status").notNull().default("pending"),createdAt:ye("created_at").defaultNow(),updatedAt:ye("updated_at").defaultNow()});tt(Aae).pick({userId:!0,amount:!0,commissionAmount:!0,commissionRate:!0,transactionAmount:!0,serviceType:!0,transactionId:!0,provider:!0,description:!0,status:!0});const FC=et("chat_conversations",{id:Ze("id").primaryKey(),createdAt:ye("created_at").defaultNow(),updatedAt:ye("updated_at").defaultNow(),isGroup:jt("is_group").default(!1),name:M("name")}),_ae=et("chat_conversation_members",{id:Ze("id").primaryKey(),conversationId:ce("conversation_id").notNull().references(()=>FC.id),userId:ce("user_id").notNull().references(()=>jj.id),joinedAt:ye("joined_at").defaultNow(),leftAt:ye("left_at"),role:M("role").default("member").notNull()},t=>({uniqueConversationUser:nB("unique_conversation_user").on(t.conversationId,t.userId)})),Tae=et("chat_messages",{id:Ze("id").primaryKey(),conversationId:ce("conversation_id").notNull().references(()=>FC.id),senderId:ce("sender_id").notNull().references(()=>jj.id),content:M("content").notNull(),createdAt:ye("created_at").defaultNow(),readBy:Ar("read_by").default([]).notNull(),status:M("status").default("sent").notNull()});tt(FC).pick({isGroup:!0,name:!0});tt(_ae).pick({conversationId:!0,userId:!0,role:!0});tt(Tae).pick({conversationId:!0,senderId:!0,content:!0});const Oae=et("notifications",{id:Ze("id").primaryKey(),userId:ce("user_id").notNull(),title:M("title").notNull(),content:M("content").notNull(),type:M("type").notNull(),isRead:jt("is_read").default(!1),actionUrl:M("action_url"),relatedEntityType:M("related_entity_type"),relatedEntityId:ce("related_entity_id"),createdAt:ye("created_at").defaultNow(),expiresAt:ye("expires_at")}),Eae=et("user_devices",{id:Ze("id").primaryKey(),userId:ce("user_id").notNull(),deviceToken:M("device_token").notNull().unique(),deviceType:M("device_type").notNull(),lastSeen:ye("last_seen").defaultNow(),isActive:jt("is_active").default(!0),createdAt:ye("created_at").defaultNow()}),Dae=et("analytics_daily",{id:Ze("id").primaryKey(),date:Ps("date").notNull(),metric:M("metric").notNull(),category:M("category").notNull(),district:M("district"),taluk:M("taluk"),value:Fe("value").notNull(),createdAt:ye("created_at").defaultNow()}),Mae=et("reports",{id:Ze("id").primaryKey(),name:M("name").notNull(),description:M("description"),createdBy:ce("created_by").notNull(),isPublic:jt("is_public").default(!1),config:gn("config").notNull(),schedule:M("schedule"),lastRun:ye("last_run"),createdAt:ye("created_at").defaultNow(),updatedAt:ye("updated_at").defaultNow()}),Iae=et("analytics_events",{id:Ze("id").primaryKey(),userId:ce("user_id"),eventType:M("event_type").notNull(),eventSource:M("event_source").notNull(),properties:gn("properties"),timestamp:ye("timestamp").defaultNow()});tt(Oae).pick({userId:!0,title:!0,content:!0,type:!0,actionUrl:!0,relatedEntityType:!0,relatedEntityId:!0,expiresAt:!0});tt(Eae).pick({userId:!0,deviceToken:!0,deviceType:!0});tt(Dae).pick({date:!0,metric:!0,category:!0,district:!0,taluk:!0,value:!0});tt(Mae).pick({name:!0,description:!0,createdBy:!0,isPublic:!0,config:!0,schedule:!0});tt(Iae).pick({userId:!0,eventType:!0,eventSource:!0,properties:!0});const XV=et("videos",{id:Ze("id").primaryKey(),title:M("title").notNull(),description:M("description"),fileName:M("file_name").notNull(),fileUrl:M("file_url").notNull(),fileSize:ce("file_size"),duration:ce("duration"),thumbnailUrl:M("thumbnail_url"),uploadedBy:ce("uploaded_by").notNull(),category:M("category").default("general"),isPublic:jt("is_public").default(!1),tags:M("tags").array(),viewCount:ce("view_count").default(0),status:M("status").default("active"),createdAt:ye("created_at").defaultNow(),updatedAt:ye("updated_at").defaultNow()}),Rae=et("video_views",{id:Ze("id").primaryKey(),videoId:ce("video_id").notNull().references(()=>XV.id),userId:ce("user_id").references(()=>jj.id),ipAddress:M("ip_address"),watchDuration:ce("watch_time").default(0),completionPercentage:ce("completion_percentage").default(0),viewedAt:ye("viewed_at").defaultNow()});tt(XV).pick({title:!0,description:!0,fileName:!0,fileUrl:!0,fileSize:!0,duration:!0,thumbnailUrl:!0,uploadedBy:!0,category:!0,isPublic:!0,tags:!0,status:!0});tt(Rae).pick({videoId:!0,userId:!0,ipAddress:!0,watchDuration:!0,completionPercentage:!0});function Fae(){const{user:t}=dt(),{toast:r}=Be(),[s,n]=xr(),[a,i]=j.useState(null);if(!t||t.userType!=="service_provider"&&t.userType!=="farmer")return e.jsxs("div",{className:"container mx-auto p-6 text-center",children:[e.jsx("h2",{className:"text-xl font-semibold mb-2",children:"Access Restricted"}),e.jsx("p",{children:"Only service providers and farmers can add grocery products."})]});const{data:l=[],isLoading:o}=fe({queryKey:["/api/grocery/categories"]}),{data:c=[],isLoading:d}=fe({queryKey:["/api/grocery/subcategories"]}),u=a?c.filter(p=>p.parentCategoryId===a&&p.isActive):[],m=Ht({resolver:Wt(Lne),defaultValues:{name:"",description:"",categoryId:0,subcategoryId:void 0,providerId:t.id,price:0,discountedPrice:void 0,stock:0,unit:"kg",isOrganic:!1,district:"",imageUrl:"",deliveryOption:"both",availableAreas:"",status:"pending"}}),h=Se({mutationFn:async p=>(await le("POST","/api/provider/grocery/products",p)).json(),onSuccess:()=>{r({title:"Success",description:"Grocery product created successfully and submitted for admin approval."}),pe.invalidateQueries({queryKey:["/api/provider/grocery/products"]}),n("/provider/dashboard")},onError:p=>{r({title:"Error",description:p.message||"Failed to create grocery product.",variant:"destructive"})}}),g=p=>{p.providerId=t.id,h.mutate(p)},f=p=>{const y=parseInt(p);i(y),m.setValue("categoryId",y),m.setValue("subcategoryId",void 0)};return o||d?e.jsx("div",{className:"container mx-auto p-6",children:e.jsx("div",{className:"text-center",children:e.jsx("p",{children:"Loading categories and subcategories..."})})}):e.jsxs("div",{className:"container mx-auto p-6 space-y-6",children:[e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsxs(T,{variant:"outline",size:"sm",onClick:()=>n("/provider/dashboard"),children:[e.jsx(is,{className:"h-4 w-4 mr-2"}),"Back to Dashboard"]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(pt,{className:"h-6 w-6"}),e.jsx("h1",{className:"text-3xl font-bold",children:"Add Grocery Product"})]})]}),e.jsx("p",{className:"text-muted-foreground",children:"Create a new grocery product for customers to purchase. Your product will need admin approval before it becomes visible to customers."}),e.jsxs(E,{children:[e.jsx(Y,{children:e.jsx(X,{children:"Product Information"})}),e.jsx(D,{children:e.jsx(Gt,{...m,children:e.jsxs("form",{onSubmit:m.handleSubmit(g),className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsx(q,{control:m.control,name:"name",render:({field:p})=>e.jsxs(B,{children:[e.jsx(V,{children:"Product Name *"}),e.jsx(U,{children:e.jsx($,{placeholder:"e.g., Organic Basmati Rice",...p})}),e.jsx(z,{})]})}),e.jsx(q,{control:m.control,name:"categoryId",render:({field:p})=>e.jsxs(B,{children:[e.jsx(V,{children:"Category *"}),e.jsxs(je,{onValueChange:f,children:[e.jsx(U,{children:e.jsx(ge,{children:e.jsx(be,{placeholder:"Select a category"})})}),e.jsx(ve,{children:l.map(y=>e.jsx(O,{value:y.id.toString(),children:y.name},y.id))})]}),e.jsx(z,{})]})}),e.jsx(q,{control:m.control,name:"subcategoryId",render:({field:p})=>e.jsxs(B,{children:[e.jsx(V,{children:"Subcategory"}),e.jsxs(je,{onValueChange:y=>p.onChange(parseInt(y)),disabled:!a||u.length===0,children:[e.jsx(U,{children:e.jsx(ge,{children:e.jsx(be,{placeholder:"Select a subcategory"})})}),e.jsx(ve,{children:u.map(y=>e.jsx(O,{value:y.id.toString(),children:y.name},y.id))})]}),e.jsx(z,{})]})}),e.jsx(q,{control:m.control,name:"price",render:({field:p})=>e.jsxs(B,{children:[e.jsx(V,{children:"Price () *"}),e.jsx(U,{children:e.jsx($,{type:"number",placeholder:"0.00",...p,onChange:y=>p.onChange(parseFloat(y.target.value)||0)})}),e.jsx(z,{})]})}),e.jsx(q,{control:m.control,name:"discountedPrice",render:({field:p})=>e.jsxs(B,{children:[e.jsx(V,{children:"Discounted Price ()"}),e.jsx(U,{children:e.jsx($,{type:"number",placeholder:"0.00",...p,onChange:y=>p.onChange(y.target.value?parseFloat(y.target.value):void 0)})}),e.jsx(z,{})]})}),e.jsx(q,{control:m.control,name:"stock",render:({field:p})=>e.jsxs(B,{children:[e.jsx(V,{children:"Stock Quantity *"}),e.jsx(U,{children:e.jsx($,{type:"number",placeholder:"0",...p,onChange:y=>p.onChange(parseInt(y.target.value)||0)})}),e.jsx(z,{})]})}),e.jsx(q,{control:m.control,name:"unit",render:({field:p})=>e.jsxs(B,{children:[e.jsx(V,{children:"Unit *"}),e.jsxs(je,{onValueChange:p.onChange,defaultValue:p.value,children:[e.jsx(U,{children:e.jsx(ge,{children:e.jsx(be,{})})}),e.jsxs(ve,{children:[e.jsx(O,{value:"kg",children:"Kilogram (kg)"}),e.jsx(O,{value:"gram",children:"Gram (g)"}),e.jsx(O,{value:"liter",children:"Liter (l)"}),e.jsx(O,{value:"ml",children:"Milliliter (ml)"}),e.jsx(O,{value:"piece",children:"Piece"}),e.jsx(O,{value:"dozen",children:"Dozen"}),e.jsx(O,{value:"packet",children:"Packet"})]})]}),e.jsx(z,{})]})}),e.jsx(q,{control:m.control,name:"district",render:({field:p})=>e.jsxs(B,{children:[e.jsx(V,{children:"District *"}),e.jsx(U,{children:e.jsx($,{placeholder:"e.g., Chennai",...p})}),e.jsx(z,{})]})}),e.jsx(q,{control:m.control,name:"deliveryOption",render:({field:p})=>e.jsxs(B,{children:[e.jsx(V,{children:"Delivery Option *"}),e.jsxs(je,{onValueChange:p.onChange,defaultValue:p.value,children:[e.jsx(U,{children:e.jsx(ge,{children:e.jsx(be,{})})}),e.jsxs(ve,{children:[e.jsx(O,{value:"pickup",children:"Pickup Only"}),e.jsx(O,{value:"delivery",children:"Delivery Only"}),e.jsx(O,{value:"both",children:"Both Pickup & Delivery"})]})]}),e.jsx(z,{})]})})]}),e.jsx(q,{control:m.control,name:"description",render:({field:p})=>e.jsxs(B,{children:[e.jsx(V,{children:"Description"}),e.jsx(U,{children:e.jsx(at,{placeholder:"Describe your product, its quality, origin, etc.",className:"min-h-[100px]",...p})}),e.jsx(z,{})]})}),e.jsx(q,{control:m.control,name:"availableAreas",render:({field:p})=>e.jsxs(B,{children:[e.jsx(V,{children:"Available Areas"}),e.jsx(U,{children:e.jsx(at,{placeholder:"List areas where you can deliver or customers can pickup",...p})}),e.jsx(z,{})]})}),e.jsx(q,{control:m.control,name:"imageUrl",render:({field:p})=>e.jsxs(B,{children:[e.jsx(V,{children:"Product Image URL"}),e.jsx(U,{children:e.jsx($,{placeholder:"https://example.com/product-image.jpg",...p})}),e.jsx(z,{})]})}),e.jsx(q,{control:m.control,name:"isOrganic",render:({field:p})=>e.jsxs(B,{className:"flex flex-row items-start space-x-3 space-y-0",children:[e.jsx(U,{children:e.jsx(xn,{checked:p.value,onCheckedChange:p.onChange})}),e.jsxs("div",{className:"space-y-1 leading-none",children:[e.jsx(V,{children:"Organic Product"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Check this if your product is organically grown/produced"})]})]})}),e.jsxs("div",{className:"flex gap-4",children:[e.jsx(T,{type:"button",variant:"outline",onClick:()=>n("/provider/dashboard"),children:"Cancel"}),e.jsx(T,{type:"submit",disabled:h.isPending,children:h.isPending?"Creating...":"Create Product"})]})]})})})]})]})}function cT(){var w;const{toast:t}=Be(),[r,s]=j.useState("all"),[n,a]=j.useState("all"),[i,l]=j.useState(""),[o,c]=j.useState("name"),{data:d=[],isLoading:u}=fe({queryKey:["/api/grocery/categories"]}),{data:m=[],isLoading:h}=fe({queryKey:["/api/grocery/subcategories"]}),{data:g=[],isLoading:f}=fe({queryKey:["/api/grocery/products"]}),p=C=>{t({title:"Added to Cart",description:`${C.name} has been added to your cart`})},y=Array.isArray(g)?g.filter(C=>C.adminApproved===!0&&C.status==="active"):[],x=[...y.filter(C=>{var k,I;const P=r==="all"||C.categoryId===parseInt(r),S=n==="all"||C.subcategoryId===parseInt(n),A=i===""||((k=C.name)==null?void 0:k.toLowerCase().includes(i.toLowerCase()))||((I=C.description)==null?void 0:I.toLowerCase().includes(i.toLowerCase()));return P&&S&&A})].sort((C,P)=>{var S;switch(o){case"price":return C.price-P.price;case"name":return((S=C.name)==null?void 0:S.localeCompare(P.name))||0;case"rating":return(P.rating||0)-(C.rating||0);default:return 0}}),b=r==="all"?m:m.filter(C=>C.parentCategoryId===parseInt(r));return u||h||f?e.jsx("div",{className:"container mx-auto p-6",children:e.jsx("div",{className:"flex items-center justify-center min-h-[400px]",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary mx-auto mb-4"}),e.jsx("p",{className:"text-muted-foreground",children:"Loading grocery products..."})]})})}):e.jsxs("div",{className:"container mx-auto px-4 py-6 space-y-6",children:[e.jsxs("div",{className:"bg-gradient-to-r from-green-50 to-blue-50 rounded-lg p-6 border",children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Fresh Grocery Marketplace"}),e.jsx("p",{className:"text-gray-600 text-lg",children:"Discover fresh, quality products from local farmers and trusted providers"})]}),e.jsx(E,{className:"p-6",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[e.jsxs("div",{className:"relative",children:[e.jsx(es,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),e.jsx($,{placeholder:"Search products...",value:i,onChange:C=>l(C.target.value),className:"pl-10"})]}),e.jsxs(je,{value:r,onValueChange:C=>{s(C),a("all")},children:[e.jsx(ge,{children:e.jsx(be,{placeholder:"All Categories"})}),e.jsxs(ve,{children:[e.jsx(O,{value:"all",children:"All Categories"}),d.map(C=>e.jsx(O,{value:C.id.toString(),children:C.name},C.id))]})]}),e.jsxs(je,{value:n,onValueChange:a,children:[e.jsx(ge,{children:e.jsx(be,{placeholder:"All Subcategories"})}),e.jsxs(ve,{children:[e.jsx(O,{value:"all",children:"All Subcategories"}),b.map(C=>e.jsx(O,{value:C.id.toString(),children:C.name},C.id))]})]}),e.jsxs(je,{value:o,onValueChange:c,children:[e.jsx(ge,{children:e.jsx(be,{placeholder:"Sort by"})}),e.jsxs(ve,{children:[e.jsx(O,{value:"name",children:"Name A-Z"}),e.jsx(O,{value:"price",children:"Price Low-High"}),e.jsx(O,{value:"rating",children:"Highest Rated"})]})]})]})}),d.length>0&&e.jsxs(E,{className:"p-6",children:[e.jsxs("h2",{className:"text-xl font-semibold mb-4 flex items-center gap-2",children:[e.jsx(pt,{className:"h-5 w-5"}),"Product Categories"]}),e.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 lg:grid-cols-6 gap-3",children:d.map(C=>e.jsxs("button",{onClick:()=>{s(C.id.toString()),a("all")},className:`p-3 rounded-lg border text-center transition-colors ${r===C.id.toString()?"bg-primary text-primary-foreground border-primary":"bg-background hover:bg-muted border-border"}`,children:[e.jsx("div",{className:"text-sm font-medium",children:C.name}),e.jsxs("div",{className:"text-xs text-muted-foreground mt-1",children:[y.filter(P=>P.categoryId===C.id).length," items"]})]},C.id))})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("p",{className:"text-muted-foreground",children:["Showing ",x.length," of ",y.length," products",r!=="all"&&` in ${(w=d.find(C=>C.id.toString()===r))==null?void 0:w.name}`]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Bc,{className:"h-4 w-4"}),e.jsxs("span",{className:"text-sm",children:[i&&e.jsxs(ae,{variant:"secondary",children:["Search: ",i]}),r!=="all"&&e.jsx(ae,{variant:"outline",children:"Category"}),n!=="all"&&e.jsx(ae,{variant:"outline",children:"Subcategory"})]})]})]}),x.length===0?e.jsx(E,{className:"p-12",children:e.jsxs("div",{className:"text-center",children:[e.jsx(pt,{className:"h-16 w-16 text-muted-foreground mx-auto mb-4"}),e.jsx("h3",{className:"text-lg font-semibold mb-2",children:"No products found"}),e.jsx("p",{className:"text-muted-foreground mb-4",children:i?`No products match "${i}"`:"No approved products available with the selected filters."}),e.jsx(T,{variant:"outline",onClick:()=>{l(""),s("all"),a("all")},children:"Clear Filters"})]})}):e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:x.map(C=>e.jsxs(E,{className:"hover:shadow-lg transition-shadow overflow-hidden",children:[e.jsx("div",{className:"aspect-square bg-gradient-to-br from-gray-100 to-gray-200 flex items-center justify-center",children:C.imageUrl?e.jsx("img",{src:C.imageUrl,alt:C.name,className:"w-full h-full object-cover"}):e.jsx(pt,{className:"h-16 w-16 text-gray-400"})}),e.jsxs(Y,{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsx(X,{className:"text-lg font-semibold line-clamp-2",children:C.name}),C.isOrganic&&e.jsxs(ae,{variant:"secondary",className:"bg-green-100 text-green-800 ml-2",children:[e.jsx(Es,{className:"h-3 w-3 mr-1"}),"Organic"]})]}),C.description&&e.jsx("p",{className:"text-sm text-muted-foreground line-clamp-2",children:C.description})]}),e.jsxs(D,{className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs("span",{className:"text-2xl font-bold text-primary",children:["",C.price]}),C.discountedPrice&&C.discountedPrice<C.price&&e.jsxs("span",{className:"text-sm text-muted-foreground line-through",children:["",C.discountedPrice]})]}),e.jsxs("span",{className:"text-sm text-muted-foreground",children:["per ",C.unit||"unit"]})]}),e.jsxs("div",{className:"flex items-center justify-between text-sm",children:[e.jsx("span",{className:`font-medium ${C.stock>10?"text-green-600":C.stock>0?"text-yellow-600":"text-red-600"}`,children:C.stock>0?`${C.stock} in stock`:"Out of stock"}),C.district&&e.jsx("span",{className:"text-muted-foreground",children:C.district})]})]}),e.jsxs("div",{className:"text-xs text-muted-foreground border-t pt-2",children:["Sold by Provider #",C.providerId]}),C.deliveryOption&&e.jsx("div",{className:"flex items-center gap-1 text-xs",children:e.jsx(ae,{variant:"outline",className:"text-xs",children:C.deliveryOption==="both"?"Pickup & Delivery":C.deliveryOption==="direct"?"Direct Pickup":"Service Delivery"})}),e.jsxs(T,{onClick:()=>p(C),disabled:C.stock===0,className:"w-full",size:"sm",children:[e.jsx(Pr,{className:"h-4 w-4 mr-2"}),C.stock===0?"Out of Stock":"Add to Cart"]})]})]},C.id))})]})}var $ae=Array.isArray,Ln=$ae,Lae=typeof Qf=="object"&&Qf&&Qf.Object===Object&&Qf,ZV=Lae,Bae=ZV,Vae=typeof self=="object"&&self&&self.Object===Object&&self,Uae=Bae||Vae||Function("return this")(),Bi=Uae,qae=Bi,zae=qae.Symbol,Of=zae,dT=Of,JV=Object.prototype,Kae=JV.hasOwnProperty,Hae=JV.toString,zm=dT?dT.toStringTag:void 0;function Wae(t){var r=Kae.call(t,zm),s=t[zm];try{t[zm]=void 0;var n=!0}catch{}var a=Hae.call(t);return n&&(r?t[zm]=s:delete t[zm]),a}var Gae=Wae,Yae=Object.prototype,Qae=Yae.toString;function Xae(t){return Qae.call(t)}var Zae=Xae,uT=Of,Jae=Gae,eie=Zae,tie="[object Null]",rie="[object Undefined]",mT=uT?uT.toStringTag:void 0;function sie(t){return t==null?t===void 0?rie:tie:mT&&mT in Object(t)?Jae(t):eie(t)}var Cl=sie;function nie(t){return t!=null&&typeof t=="object"}var Pl=nie,aie=Cl,iie=Pl,lie="[object Symbol]";function oie(t){return typeof t=="symbol"||iie(t)&&aie(t)==lie}var pm=oie,cie=Ln,die=pm,uie=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,mie=/^\w*$/;function hie(t,r){if(cie(t))return!1;var s=typeof t;return s=="number"||s=="symbol"||s=="boolean"||t==null||die(t)?!0:mie.test(t)||!uie.test(t)||r!=null&&t in Object(r)}var $C=hie;function pie(t){var r=typeof t;return t!=null&&(r=="object"||r=="function")}var Mo=pie;const fm=yr(Mo);var fie=Cl,xie=Mo,gie="[object AsyncFunction]",vie="[object Function]",yie="[object GeneratorFunction]",jie="[object Proxy]";function bie(t){if(!xie(t))return!1;var r=fie(t);return r==vie||r==yie||r==gie||r==jie}var LC=bie;const $t=yr(LC);var Nie=Bi,wie=Nie["__core-js_shared__"],Sie=wie,A0=Sie,hT=function(){var t=/[^.]+$/.exec(A0&&A0.keys&&A0.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();function Cie(t){return!!hT&&hT in t}var Pie=Cie,kie=Function.prototype,Aie=kie.toString;function _ie(t){if(t!=null){try{return Aie.call(t)}catch{}try{return t+""}catch{}}return""}var eU=_ie,Tie=LC,Oie=Pie,Eie=Mo,Die=eU,Mie=/[\\^$.*+?()[\]{}|]/g,Iie=/^\[object .+?Constructor\]$/,Rie=Function.prototype,Fie=Object.prototype,$ie=Rie.toString,Lie=Fie.hasOwnProperty,Bie=RegExp("^"+$ie.call(Lie).replace(Mie,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function Vie(t){if(!Eie(t)||Oie(t))return!1;var r=Tie(t)?Bie:Iie;return r.test(Die(t))}var Uie=Vie;function qie(t,r){return t==null?void 0:t[r]}var zie=qie,Kie=Uie,Hie=zie;function Wie(t,r){var s=Hie(t,r);return Kie(s)?s:void 0}var Uc=Wie,Gie=Uc,Yie=Gie(Object,"create"),bj=Yie,pT=bj;function Qie(){this.__data__=pT?pT(null):{},this.size=0}var Xie=Qie;function Zie(t){var r=this.has(t)&&delete this.__data__[t];return this.size-=r?1:0,r}var Jie=Zie,ele=bj,tle="__lodash_hash_undefined__",rle=Object.prototype,sle=rle.hasOwnProperty;function nle(t){var r=this.__data__;if(ele){var s=r[t];return s===tle?void 0:s}return sle.call(r,t)?r[t]:void 0}var ale=nle,ile=bj,lle=Object.prototype,ole=lle.hasOwnProperty;function cle(t){var r=this.__data__;return ile?r[t]!==void 0:ole.call(r,t)}var dle=cle,ule=bj,mle="__lodash_hash_undefined__";function hle(t,r){var s=this.__data__;return this.size+=this.has(t)?0:1,s[t]=ule&&r===void 0?mle:r,this}var ple=hle,fle=Xie,xle=Jie,gle=ale,vle=dle,yle=ple;function xm(t){var r=-1,s=t==null?0:t.length;for(this.clear();++r<s;){var n=t[r];this.set(n[0],n[1])}}xm.prototype.clear=fle;xm.prototype.delete=xle;xm.prototype.get=gle;xm.prototype.has=vle;xm.prototype.set=yle;var jle=xm;function ble(){this.__data__=[],this.size=0}var Nle=ble;function wle(t,r){return t===r||t!==t&&r!==r}var BC=wle,Sle=BC;function Cle(t,r){for(var s=t.length;s--;)if(Sle(t[s][0],r))return s;return-1}var Nj=Cle,Ple=Nj,kle=Array.prototype,Ale=kle.splice;function _le(t){var r=this.__data__,s=Ple(r,t);if(s<0)return!1;var n=r.length-1;return s==n?r.pop():Ale.call(r,s,1),--this.size,!0}var Tle=_le,Ole=Nj;function Ele(t){var r=this.__data__,s=Ole(r,t);return s<0?void 0:r[s][1]}var Dle=Ele,Mle=Nj;function Ile(t){return Mle(this.__data__,t)>-1}var Rle=Ile,Fle=Nj;function $le(t,r){var s=this.__data__,n=Fle(s,t);return n<0?(++this.size,s.push([t,r])):s[n][1]=r,this}var Lle=$le,Ble=Nle,Vle=Tle,Ule=Dle,qle=Rle,zle=Lle;function gm(t){var r=-1,s=t==null?0:t.length;for(this.clear();++r<s;){var n=t[r];this.set(n[0],n[1])}}gm.prototype.clear=Ble;gm.prototype.delete=Vle;gm.prototype.get=Ule;gm.prototype.has=qle;gm.prototype.set=zle;var wj=gm,Kle=Uc,Hle=Bi,Wle=Kle(Hle,"Map"),VC=Wle,fT=jle,Gle=wj,Yle=VC;function Qle(){this.size=0,this.__data__={hash:new fT,map:new(Yle||Gle),string:new fT}}var Xle=Qle;function Zle(t){var r=typeof t;return r=="string"||r=="number"||r=="symbol"||r=="boolean"?t!=="__proto__":t===null}var Jle=Zle,eoe=Jle;function toe(t,r){var s=t.__data__;return eoe(r)?s[typeof r=="string"?"string":"hash"]:s.map}var Sj=toe,roe=Sj;function soe(t){var r=roe(this,t).delete(t);return this.size-=r?1:0,r}var noe=soe,aoe=Sj;function ioe(t){return aoe(this,t).get(t)}var loe=ioe,ooe=Sj;function coe(t){return ooe(this,t).has(t)}var doe=coe,uoe=Sj;function moe(t,r){var s=uoe(this,t),n=s.size;return s.set(t,r),this.size+=s.size==n?0:1,this}var hoe=moe,poe=Xle,foe=noe,xoe=loe,goe=doe,voe=hoe;function vm(t){var r=-1,s=t==null?0:t.length;for(this.clear();++r<s;){var n=t[r];this.set(n[0],n[1])}}vm.prototype.clear=poe;vm.prototype.delete=foe;vm.prototype.get=xoe;vm.prototype.has=goe;vm.prototype.set=voe;var UC=vm,tU=UC,yoe="Expected a function";function qC(t,r){if(typeof t!="function"||r!=null&&typeof r!="function")throw new TypeError(yoe);var s=function(){var n=arguments,a=r?r.apply(this,n):n[0],i=s.cache;if(i.has(a))return i.get(a);var l=t.apply(this,n);return s.cache=i.set(a,l)||i,l};return s.cache=new(qC.Cache||tU),s}qC.Cache=tU;var rU=qC;const joe=yr(rU);var boe=rU,Noe=500;function woe(t){var r=boe(t,function(n){return s.size===Noe&&s.clear(),n}),s=r.cache;return r}var Soe=woe,Coe=Soe,Poe=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,koe=/\\(\\)?/g,Aoe=Coe(function(t){var r=[];return t.charCodeAt(0)===46&&r.push(""),t.replace(Poe,function(s,n,a,i){r.push(a?i.replace(koe,"$1"):n||s)}),r}),_oe=Aoe;function Toe(t,r){for(var s=-1,n=t==null?0:t.length,a=Array(n);++s<n;)a[s]=r(t[s],s,t);return a}var zC=Toe,xT=Of,Ooe=zC,Eoe=Ln,Doe=pm,Moe=1/0,gT=xT?xT.prototype:void 0,vT=gT?gT.toString:void 0;function sU(t){if(typeof t=="string")return t;if(Eoe(t))return Ooe(t,sU)+"";if(Doe(t))return vT?vT.call(t):"";var r=t+"";return r=="0"&&1/t==-Moe?"-0":r}var Ioe=sU,Roe=Ioe;function Foe(t){return t==null?"":Roe(t)}var nU=Foe,$oe=Ln,Loe=$C,Boe=_oe,Voe=nU;function Uoe(t,r){return $oe(t)?t:Loe(t,r)?[t]:Boe(Voe(t))}var aU=Uoe,qoe=pm,zoe=1/0;function Koe(t){if(typeof t=="string"||qoe(t))return t;var r=t+"";return r=="0"&&1/t==-zoe?"-0":r}var Cj=Koe,Hoe=aU,Woe=Cj;function Goe(t,r){r=Hoe(r,t);for(var s=0,n=r.length;t!=null&&s<n;)t=t[Woe(r[s++])];return s&&s==n?t:void 0}var KC=Goe,Yoe=KC;function Qoe(t,r,s){var n=t==null?void 0:Yoe(t,r);return n===void 0?s:n}var iU=Qoe;const sa=yr(iU);function Xoe(t){return t==null}var Zoe=Xoe;const Bt=yr(Zoe);var Joe=Cl,ece=Ln,tce=Pl,rce="[object String]";function sce(t){return typeof t=="string"||!ece(t)&&tce(t)&&Joe(t)==rce}var nce=sce;const Ef=yr(nce);var lU={exports:{}},wr={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var HC=Symbol.for("react.element"),WC=Symbol.for("react.portal"),Pj=Symbol.for("react.fragment"),kj=Symbol.for("react.strict_mode"),Aj=Symbol.for("react.profiler"),_j=Symbol.for("react.provider"),Tj=Symbol.for("react.context"),ace=Symbol.for("react.server_context"),Oj=Symbol.for("react.forward_ref"),Ej=Symbol.for("react.suspense"),Dj=Symbol.for("react.suspense_list"),Mj=Symbol.for("react.memo"),Ij=Symbol.for("react.lazy"),ice=Symbol.for("react.offscreen"),oU;oU=Symbol.for("react.module.reference");function _a(t){if(typeof t=="object"&&t!==null){var r=t.$$typeof;switch(r){case HC:switch(t=t.type,t){case Pj:case Aj:case kj:case Ej:case Dj:return t;default:switch(t=t&&t.$$typeof,t){case ace:case Tj:case Oj:case Ij:case Mj:case _j:return t;default:return r}}case WC:return r}}}wr.ContextConsumer=Tj;wr.ContextProvider=_j;wr.Element=HC;wr.ForwardRef=Oj;wr.Fragment=Pj;wr.Lazy=Ij;wr.Memo=Mj;wr.Portal=WC;wr.Profiler=Aj;wr.StrictMode=kj;wr.Suspense=Ej;wr.SuspenseList=Dj;wr.isAsyncMode=function(){return!1};wr.isConcurrentMode=function(){return!1};wr.isContextConsumer=function(t){return _a(t)===Tj};wr.isContextProvider=function(t){return _a(t)===_j};wr.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===HC};wr.isForwardRef=function(t){return _a(t)===Oj};wr.isFragment=function(t){return _a(t)===Pj};wr.isLazy=function(t){return _a(t)===Ij};wr.isMemo=function(t){return _a(t)===Mj};wr.isPortal=function(t){return _a(t)===WC};wr.isProfiler=function(t){return _a(t)===Aj};wr.isStrictMode=function(t){return _a(t)===kj};wr.isSuspense=function(t){return _a(t)===Ej};wr.isSuspenseList=function(t){return _a(t)===Dj};wr.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===Pj||t===Aj||t===kj||t===Ej||t===Dj||t===ice||typeof t=="object"&&t!==null&&(t.$$typeof===Ij||t.$$typeof===Mj||t.$$typeof===_j||t.$$typeof===Tj||t.$$typeof===Oj||t.$$typeof===oU||t.getModuleId!==void 0)};wr.typeOf=_a;lU.exports=wr;var lce=lU.exports,oce=Cl,cce=Pl,dce="[object Number]";function uce(t){return typeof t=="number"||cce(t)&&oce(t)==dce}var cU=uce;const mce=yr(cU);var hce=cU;function pce(t){return hce(t)&&t!=+t}var fce=pce;const Df=yr(fce);var dn=function(r){return r===0?0:r>0?1:-1},ec=function(r){return Ef(r)&&r.indexOf("%")===r.length-1},Qe=function(r){return mce(r)&&!Df(r)},Cs=function(r){return Qe(r)||Ef(r)},xce=0,ym=function(r){var s=++xce;return"".concat(r||"").concat(s)},un=function(r,s){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!Qe(r)&&!Ef(r))return n;var i;if(ec(r)){var l=r.indexOf("%");i=s*parseFloat(r.slice(0,l))/100}else i=+r;return Df(i)&&(i=n),a&&i>s&&(i=s),i},Kl=function(r){if(!r)return null;var s=Object.keys(r);return s&&s.length?r[s[0]]:null},gce=function(r){if(!Array.isArray(r))return!1;for(var s=r.length,n={},a=0;a<s;a++)if(!n[r[a]])n[r[a]]=!0;else return!0;return!1},Gn=function(r,s){return Qe(r)&&Qe(s)?function(n){return r+n*(s-r)}:function(){return s}};function yv(t,r,s){return!t||!t.length?null:t.find(function(n){return n&&(typeof r=="function"?r(n):sa(n,r))===s})}function Ud(t,r){for(var s in t)if({}.hasOwnProperty.call(t,s)&&(!{}.hasOwnProperty.call(r,s)||t[s]!==r[s]))return!1;for(var n in r)if({}.hasOwnProperty.call(r,n)&&!{}.hasOwnProperty.call(t,n))return!1;return!0}function t1(t){"@babel/helpers - typeof";return t1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},t1(t)}var vce=["viewBox","children"],yce=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],yT=["points","pathLength"],_0={svg:vce,polygon:yT,polyline:yT},GC=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],jv=function(r,s){if(!r||typeof r=="function"||typeof r=="boolean")return null;var n=r;if(j.isValidElement(r)&&(n=r.props),!fm(n))return null;var a={};return Object.keys(n).forEach(function(i){GC.includes(i)&&(a[i]=s||function(l){return n[i](n,l)})}),a},jce=function(r,s,n){return function(a){return r(s,n,a),null}},Tc=function(r,s,n){if(!fm(r)||t1(r)!=="object")return null;var a=null;return Object.keys(r).forEach(function(i){var l=r[i];GC.includes(i)&&typeof l=="function"&&(a||(a={}),a[i]=jce(l,s,n))}),a},bce=["children"],Nce=["children"];function jT(t,r){if(t==null)return{};var s=wce(t,r),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)n=i[a],!(r.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(s[n]=t[n])}return s}function wce(t,r){if(t==null)return{};var s={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(r.indexOf(n)>=0)continue;s[n]=t[n]}return s}function r1(t){"@babel/helpers - typeof";return r1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},r1(t)}var bT={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart"},ll=function(r){return typeof r=="string"?r:r?r.displayName||r.name||"Component":""},NT=null,T0=null,YC=function t(r){if(r===NT&&Array.isArray(T0))return T0;var s=[];return j.Children.forEach(r,function(n){Bt(n)||(lce.isFragment(n)?s=s.concat(t(n.props.children)):s.push(n))}),T0=s,NT=r,s};function na(t,r){var s=[],n=[];return Array.isArray(r)?n=r.map(function(a){return ll(a)}):n=[ll(r)],YC(t).forEach(function(a){var i=sa(a,"type.displayName")||sa(a,"type.name");n.indexOf(i)!==-1&&s.push(a)}),s}function zn(t,r){var s=na(t,r);return s&&s[0]}var wT=function(r){if(!r||!r.props)return!1;var s=r.props,n=s.width,a=s.height;return!(!Qe(n)||n<=0||!Qe(a)||a<=0)},Sce=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],Cce=function(r){return r&&r.type&&Ef(r.type)&&Sce.indexOf(r.type)>=0},Pce=function(r){return r&&r1(r)==="object"&&"clipDot"in r},kce=function(r,s,n,a){var i,l=(i=_0==null?void 0:_0[a])!==null&&i!==void 0?i:[];return!$t(r)&&(a&&l.includes(s)||yce.includes(s))||n&&GC.includes(s)},Nt=function(r,s,n){if(!r||typeof r=="function"||typeof r=="boolean")return null;var a=r;if(j.isValidElement(r)&&(a=r.props),!fm(a))return null;var i={};return Object.keys(a).forEach(function(l){var o;kce((o=a)===null||o===void 0?void 0:o[l],l,s,n)&&(i[l]=a[l])}),i},s1=function t(r,s){if(r===s)return!0;var n=j.Children.count(r);if(n!==j.Children.count(s))return!1;if(n===0)return!0;if(n===1)return ST(Array.isArray(r)?r[0]:r,Array.isArray(s)?s[0]:s);for(var a=0;a<n;a++){var i=r[a],l=s[a];if(Array.isArray(i)||Array.isArray(l)){if(!t(i,l))return!1}else if(!ST(i,l))return!1}return!0},ST=function(r,s){if(Bt(r)&&Bt(s))return!0;if(!Bt(r)&&!Bt(s)){var n=r.props||{},a=n.children,i=jT(n,bce),l=s.props||{},o=l.children,c=jT(l,Nce);return a&&o?Ud(i,c)&&s1(a,o):!a&&!o?Ud(i,c):!1}return!1},CT=function(r,s){var n=[],a={};return YC(r).forEach(function(i,l){if(Cce(i))n.push(i);else if(i){var o=ll(i.type),c=s[o]||{},d=c.handler,u=c.once;if(d&&(!u||!a[o])){var m=d(i,o,l);n.push(m),a[o]=!0}}}),n},Ace=function(r){var s=r&&r.type;return s&&bT[s]?bT[s]:null},_ce=function(r,s){return YC(s).indexOf(r)},Tce=["children","width","height","viewBox","className","style","title","desc"];function n1(){return n1=Object.assign?Object.assign.bind():function(t){for(var r=1;r<arguments.length;r++){var s=arguments[r];for(var n in s)Object.prototype.hasOwnProperty.call(s,n)&&(t[n]=s[n])}return t},n1.apply(this,arguments)}function Oce(t,r){if(t==null)return{};var s=Ece(t,r),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)n=i[a],!(r.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(s[n]=t[n])}return s}function Ece(t,r){if(t==null)return{};var s={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(r.indexOf(n)>=0)continue;s[n]=t[n]}return s}function a1(t){var r=t.children,s=t.width,n=t.height,a=t.viewBox,i=t.className,l=t.style,o=t.title,c=t.desc,d=Oce(t,Tce),u=a||{width:s,height:n,x:0,y:0},m=Kt("recharts-surface",i);return G.createElement("svg",n1({},Nt(d,!0,"svg"),{className:m,width:s,height:n,style:l,viewBox:"".concat(u.x," ").concat(u.y," ").concat(u.width," ").concat(u.height)}),G.createElement("title",null,o),G.createElement("desc",null,c),r)}var Dce=["children","className"];function i1(){return i1=Object.assign?Object.assign.bind():function(t){for(var r=1;r<arguments.length;r++){var s=arguments[r];for(var n in s)Object.prototype.hasOwnProperty.call(s,n)&&(t[n]=s[n])}return t},i1.apply(this,arguments)}function Mce(t,r){if(t==null)return{};var s=Ice(t,r),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)n=i[a],!(r.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(s[n]=t[n])}return s}function Ice(t,r){if(t==null)return{};var s={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(r.indexOf(n)>=0)continue;s[n]=t[n]}return s}var ur=G.forwardRef(function(t,r){var s=t.children,n=t.className,a=Mce(t,Dce),i=Kt("recharts-layer",n);return G.createElement("g",i1({className:i},Nt(a,!0),{ref:r}),s)}),Ja=function(r,s){for(var n=arguments.length,a=new Array(n>2?n-2:0),i=2;i<n;i++)a[i-2]=arguments[i]};function Rce(t,r,s){var n=-1,a=t.length;r<0&&(r=-r>a?0:a+r),s=s>a?a:s,s<0&&(s+=a),a=r>s?0:s-r>>>0,r>>>=0;for(var i=Array(a);++n<a;)i[n]=t[n+r];return i}var Fce=Rce,$ce=Fce;function Lce(t,r,s){var n=t.length;return s=s===void 0?n:s,!r&&s>=n?t:$ce(t,r,s)}var Bce=Lce,Vce="\\ud800-\\udfff",Uce="\\u0300-\\u036f",qce="\\ufe20-\\ufe2f",zce="\\u20d0-\\u20ff",Kce=Uce+qce+zce,Hce="\\ufe0e\\ufe0f",Wce="\\u200d",Gce=RegExp("["+Wce+Vce+Kce+Hce+"]");function Yce(t){return Gce.test(t)}var dU=Yce;function Qce(t){return t.split("")}var Xce=Qce,uU="\\ud800-\\udfff",Zce="\\u0300-\\u036f",Jce="\\ufe20-\\ufe2f",ede="\\u20d0-\\u20ff",tde=Zce+Jce+ede,rde="\\ufe0e\\ufe0f",sde="["+uU+"]",l1="["+tde+"]",o1="\\ud83c[\\udffb-\\udfff]",nde="(?:"+l1+"|"+o1+")",mU="[^"+uU+"]",hU="(?:\\ud83c[\\udde6-\\uddff]){2}",pU="[\\ud800-\\udbff][\\udc00-\\udfff]",ade="\\u200d",fU=nde+"?",xU="["+rde+"]?",ide="(?:"+ade+"(?:"+[mU,hU,pU].join("|")+")"+xU+fU+")*",lde=xU+fU+ide,ode="(?:"+[mU+l1+"?",l1,hU,pU,sde].join("|")+")",cde=RegExp(o1+"(?="+o1+")|"+ode+lde,"g");function dde(t){return t.match(cde)||[]}var ude=dde,mde=Xce,hde=dU,pde=ude;function fde(t){return hde(t)?pde(t):mde(t)}var xde=fde,gde=Bce,vde=dU,yde=xde,jde=nU;function bde(t){return function(r){r=jde(r);var s=vde(r)?yde(r):void 0,n=s?s[0]:r.charAt(0),a=s?gde(s,1).join(""):r.slice(1);return n[t]()+a}}var Nde=bde,wde=Nde,Sde=wde("toUpperCase"),Cde=Sde;const Rj=yr(Cde);function Or(t){return function(){return t}}const gU=Math.cos,bv=Math.sin,oi=Math.sqrt,Nv=Math.PI,Fj=2*Nv,c1=Math.PI,d1=2*c1,zo=1e-6,Pde=d1-zo;function vU(t){this._+=t[0];for(let r=1,s=t.length;r<s;++r)this._+=arguments[r]+t[r]}function kde(t){let r=Math.floor(t);if(!(r>=0))throw new Error(`invalid digits: ${t}`);if(r>15)return vU;const s=10**r;return function(n){this._+=n[0];for(let a=1,i=n.length;a<i;++a)this._+=Math.round(arguments[a]*s)/s+n[a]}}class Ade{constructor(r){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=r==null?vU:kde(r)}moveTo(r,s){this._append`M${this._x0=this._x1=+r},${this._y0=this._y1=+s}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(r,s){this._append`L${this._x1=+r},${this._y1=+s}`}quadraticCurveTo(r,s,n,a){this._append`Q${+r},${+s},${this._x1=+n},${this._y1=+a}`}bezierCurveTo(r,s,n,a,i,l){this._append`C${+r},${+s},${+n},${+a},${this._x1=+i},${this._y1=+l}`}arcTo(r,s,n,a,i){if(r=+r,s=+s,n=+n,a=+a,i=+i,i<0)throw new Error(`negative radius: ${i}`);let l=this._x1,o=this._y1,c=n-r,d=a-s,u=l-r,m=o-s,h=u*u+m*m;if(this._x1===null)this._append`M${this._x1=r},${this._y1=s}`;else if(h>zo)if(!(Math.abs(m*c-d*u)>zo)||!i)this._append`L${this._x1=r},${this._y1=s}`;else{let g=n-l,f=a-o,p=c*c+d*d,y=g*g+f*f,v=Math.sqrt(p),x=Math.sqrt(h),b=i*Math.tan((c1-Math.acos((p+h-y)/(2*v*x)))/2),N=b/x,w=b/v;Math.abs(N-1)>zo&&this._append`L${r+N*u},${s+N*m}`,this._append`A${i},${i},0,0,${+(m*g>u*f)},${this._x1=r+w*c},${this._y1=s+w*d}`}}arc(r,s,n,a,i,l){if(r=+r,s=+s,n=+n,l=!!l,n<0)throw new Error(`negative radius: ${n}`);let o=n*Math.cos(a),c=n*Math.sin(a),d=r+o,u=s+c,m=1^l,h=l?a-i:i-a;this._x1===null?this._append`M${d},${u}`:(Math.abs(this._x1-d)>zo||Math.abs(this._y1-u)>zo)&&this._append`L${d},${u}`,n&&(h<0&&(h=h%d1+d1),h>Pde?this._append`A${n},${n},0,1,${m},${r-o},${s-c}A${n},${n},0,1,${m},${this._x1=d},${this._y1=u}`:h>zo&&this._append`A${n},${n},0,${+(h>=c1)},${m},${this._x1=r+n*Math.cos(i)},${this._y1=s+n*Math.sin(i)}`)}rect(r,s,n,a){this._append`M${this._x0=this._x1=+r},${this._y0=this._y1=+s}h${n=+n}v${+a}h${-n}Z`}toString(){return this._}}function QC(t){let r=3;return t.digits=function(s){if(!arguments.length)return r;if(s==null)r=null;else{const n=Math.floor(s);if(!(n>=0))throw new RangeError(`invalid digits: ${s}`);r=n}return t},()=>new Ade(r)}function XC(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function yU(t){this._context=t}yU.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,r){switch(t=+t,r=+r,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,r):this._context.moveTo(t,r);break;case 1:this._point=2;default:this._context.lineTo(t,r);break}}};function $j(t){return new yU(t)}function jU(t){return t[0]}function bU(t){return t[1]}function NU(t,r){var s=Or(!0),n=null,a=$j,i=null,l=QC(o);t=typeof t=="function"?t:t===void 0?jU:Or(t),r=typeof r=="function"?r:r===void 0?bU:Or(r);function o(c){var d,u=(c=XC(c)).length,m,h=!1,g;for(n==null&&(i=a(g=l())),d=0;d<=u;++d)!(d<u&&s(m=c[d],d,c))===h&&((h=!h)?i.lineStart():i.lineEnd()),h&&i.point(+t(m,d,c),+r(m,d,c));if(g)return i=null,g+""||null}return o.x=function(c){return arguments.length?(t=typeof c=="function"?c:Or(+c),o):t},o.y=function(c){return arguments.length?(r=typeof c=="function"?c:Or(+c),o):r},o.defined=function(c){return arguments.length?(s=typeof c=="function"?c:Or(!!c),o):s},o.curve=function(c){return arguments.length?(a=c,n!=null&&(i=a(n)),o):a},o.context=function(c){return arguments.length?(c==null?n=i=null:i=a(n=c),o):n},o}function wx(t,r,s){var n=null,a=Or(!0),i=null,l=$j,o=null,c=QC(d);t=typeof t=="function"?t:t===void 0?jU:Or(+t),r=typeof r=="function"?r:Or(r===void 0?0:+r),s=typeof s=="function"?s:s===void 0?bU:Or(+s);function d(m){var h,g,f,p=(m=XC(m)).length,y,v=!1,x,b=new Array(p),N=new Array(p);for(i==null&&(o=l(x=c())),h=0;h<=p;++h){if(!(h<p&&a(y=m[h],h,m))===v)if(v=!v)g=h,o.areaStart(),o.lineStart();else{for(o.lineEnd(),o.lineStart(),f=h-1;f>=g;--f)o.point(b[f],N[f]);o.lineEnd(),o.areaEnd()}v&&(b[h]=+t(y,h,m),N[h]=+r(y,h,m),o.point(n?+n(y,h,m):b[h],s?+s(y,h,m):N[h]))}if(x)return o=null,x+""||null}function u(){return NU().defined(a).curve(l).context(i)}return d.x=function(m){return arguments.length?(t=typeof m=="function"?m:Or(+m),n=null,d):t},d.x0=function(m){return arguments.length?(t=typeof m=="function"?m:Or(+m),d):t},d.x1=function(m){return arguments.length?(n=m==null?null:typeof m=="function"?m:Or(+m),d):n},d.y=function(m){return arguments.length?(r=typeof m=="function"?m:Or(+m),s=null,d):r},d.y0=function(m){return arguments.length?(r=typeof m=="function"?m:Or(+m),d):r},d.y1=function(m){return arguments.length?(s=m==null?null:typeof m=="function"?m:Or(+m),d):s},d.lineX0=d.lineY0=function(){return u().x(t).y(r)},d.lineY1=function(){return u().x(t).y(s)},d.lineX1=function(){return u().x(n).y(r)},d.defined=function(m){return arguments.length?(a=typeof m=="function"?m:Or(!!m),d):a},d.curve=function(m){return arguments.length?(l=m,i!=null&&(o=l(i)),d):l},d.context=function(m){return arguments.length?(m==null?i=o=null:o=l(i=m),d):i},d}class wU{constructor(r,s){this._context=r,this._x=s}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(r,s){switch(r=+r,s=+s,this._point){case 0:{this._point=1,this._line?this._context.lineTo(r,s):this._context.moveTo(r,s);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+r)/2,this._y0,this._x0,s,r,s):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+s)/2,r,this._y0,r,s);break}}this._x0=r,this._y0=s}}function _de(t){return new wU(t,!0)}function Tde(t){return new wU(t,!1)}const ZC={draw(t,r){const s=oi(r/Nv);t.moveTo(s,0),t.arc(0,0,s,0,Fj)}},Ode={draw(t,r){const s=oi(r/5)/2;t.moveTo(-3*s,-s),t.lineTo(-s,-s),t.lineTo(-s,-3*s),t.lineTo(s,-3*s),t.lineTo(s,-s),t.lineTo(3*s,-s),t.lineTo(3*s,s),t.lineTo(s,s),t.lineTo(s,3*s),t.lineTo(-s,3*s),t.lineTo(-s,s),t.lineTo(-3*s,s),t.closePath()}},SU=oi(1/3),Ede=SU*2,Dde={draw(t,r){const s=oi(r/Ede),n=s*SU;t.moveTo(0,-s),t.lineTo(n,0),t.lineTo(0,s),t.lineTo(-n,0),t.closePath()}},Mde={draw(t,r){const s=oi(r),n=-s/2;t.rect(n,n,s,s)}},Ide=.8908130915292852,CU=bv(Nv/10)/bv(7*Nv/10),Rde=bv(Fj/10)*CU,Fde=-gU(Fj/10)*CU,$de={draw(t,r){const s=oi(r*Ide),n=Rde*s,a=Fde*s;t.moveTo(0,-s),t.lineTo(n,a);for(let i=1;i<5;++i){const l=Fj*i/5,o=gU(l),c=bv(l);t.lineTo(c*s,-o*s),t.lineTo(o*n-c*a,c*n+o*a)}t.closePath()}},O0=oi(3),Lde={draw(t,r){const s=-oi(r/(O0*3));t.moveTo(0,s*2),t.lineTo(-O0*s,-s),t.lineTo(O0*s,-s),t.closePath()}},ma=-.5,ha=oi(3)/2,u1=1/oi(12),Bde=(u1/2+1)*3,Vde={draw(t,r){const s=oi(r/Bde),n=s/2,a=s*u1,i=n,l=s*u1+s,o=-i,c=l;t.moveTo(n,a),t.lineTo(i,l),t.lineTo(o,c),t.lineTo(ma*n-ha*a,ha*n+ma*a),t.lineTo(ma*i-ha*l,ha*i+ma*l),t.lineTo(ma*o-ha*c,ha*o+ma*c),t.lineTo(ma*n+ha*a,ma*a-ha*n),t.lineTo(ma*i+ha*l,ma*l-ha*i),t.lineTo(ma*o+ha*c,ma*c-ha*o),t.closePath()}};function Ude(t,r){let s=null,n=QC(a);t=typeof t=="function"?t:Or(t||ZC),r=typeof r=="function"?r:Or(r===void 0?64:+r);function a(){let i;if(s||(s=i=n()),t.apply(this,arguments).draw(s,+r.apply(this,arguments)),i)return s=null,i+""||null}return a.type=function(i){return arguments.length?(t=typeof i=="function"?i:Or(i),a):t},a.size=function(i){return arguments.length?(r=typeof i=="function"?i:Or(+i),a):r},a.context=function(i){return arguments.length?(s=i??null,a):s},a}function wv(){}function Sv(t,r,s){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+r)/6,(t._y0+4*t._y1+s)/6)}function PU(t){this._context=t}PU.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:Sv(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,r){switch(t=+t,r=+r,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,r):this._context.moveTo(t,r);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:Sv(this,t,r);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=r}};function qde(t){return new PU(t)}function kU(t){this._context=t}kU.prototype={areaStart:wv,areaEnd:wv,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(t,r){switch(t=+t,r=+r,this._point){case 0:this._point=1,this._x2=t,this._y2=r;break;case 1:this._point=2,this._x3=t,this._y3=r;break;case 2:this._point=3,this._x4=t,this._y4=r,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+r)/6);break;default:Sv(this,t,r);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=r}};function zde(t){return new kU(t)}function AU(t){this._context=t}AU.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,r){switch(t=+t,r=+r,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var s=(this._x0+4*this._x1+t)/6,n=(this._y0+4*this._y1+r)/6;this._line?this._context.lineTo(s,n):this._context.moveTo(s,n);break;case 3:this._point=4;default:Sv(this,t,r);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=r}};function Kde(t){return new AU(t)}function _U(t){this._context=t}_U.prototype={areaStart:wv,areaEnd:wv,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,r){t=+t,r=+r,this._point?this._context.lineTo(t,r):(this._point=1,this._context.moveTo(t,r))}};function Hde(t){return new _U(t)}function PT(t){return t<0?-1:1}function kT(t,r,s){var n=t._x1-t._x0,a=r-t._x1,i=(t._y1-t._y0)/(n||a<0&&-0),l=(s-t._y1)/(a||n<0&&-0),o=(i*a+l*n)/(n+a);return(PT(i)+PT(l))*Math.min(Math.abs(i),Math.abs(l),.5*Math.abs(o))||0}function AT(t,r){var s=t._x1-t._x0;return s?(3*(t._y1-t._y0)/s-r)/2:r}function E0(t,r,s){var n=t._x0,a=t._y0,i=t._x1,l=t._y1,o=(i-n)/3;t._context.bezierCurveTo(n+o,a+o*r,i-o,l-o*s,i,l)}function Cv(t){this._context=t}Cv.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:E0(this,this._t0,AT(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,r){var s=NaN;if(t=+t,r=+r,!(t===this._x1&&r===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,r):this._context.moveTo(t,r);break;case 1:this._point=2;break;case 2:this._point=3,E0(this,AT(this,s=kT(this,t,r)),s);break;default:E0(this,this._t0,s=kT(this,t,r));break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=r,this._t0=s}}};function TU(t){this._context=new OU(t)}(TU.prototype=Object.create(Cv.prototype)).point=function(t,r){Cv.prototype.point.call(this,r,t)};function OU(t){this._context=t}OU.prototype={moveTo:function(t,r){this._context.moveTo(r,t)},closePath:function(){this._context.closePath()},lineTo:function(t,r){this._context.lineTo(r,t)},bezierCurveTo:function(t,r,s,n,a,i){this._context.bezierCurveTo(r,t,n,s,i,a)}};function Wde(t){return new Cv(t)}function Gde(t){return new TU(t)}function EU(t){this._context=t}EU.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,r=this._y,s=t.length;if(s)if(this._line?this._context.lineTo(t[0],r[0]):this._context.moveTo(t[0],r[0]),s===2)this._context.lineTo(t[1],r[1]);else for(var n=_T(t),a=_T(r),i=0,l=1;l<s;++i,++l)this._context.bezierCurveTo(n[0][i],a[0][i],n[1][i],a[1][i],t[l],r[l]);(this._line||this._line!==0&&s===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,r){this._x.push(+t),this._y.push(+r)}};function _T(t){var r,s=t.length-1,n,a=new Array(s),i=new Array(s),l=new Array(s);for(a[0]=0,i[0]=2,l[0]=t[0]+2*t[1],r=1;r<s-1;++r)a[r]=1,i[r]=4,l[r]=4*t[r]+2*t[r+1];for(a[s-1]=2,i[s-1]=7,l[s-1]=8*t[s-1]+t[s],r=1;r<s;++r)n=a[r]/i[r-1],i[r]-=n,l[r]-=n*l[r-1];for(a[s-1]=l[s-1]/i[s-1],r=s-2;r>=0;--r)a[r]=(l[r]-a[r+1])/i[r];for(i[s-1]=(t[s]+a[s-1])/2,r=0;r<s-1;++r)i[r]=2*t[r+1]-a[r+1];return[a,i]}function Yde(t){return new EU(t)}function Lj(t,r){this._context=t,this._t=r}Lj.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,r){switch(t=+t,r=+r,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,r):this._context.moveTo(t,r);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,r),this._context.lineTo(t,r);else{var s=this._x*(1-this._t)+t*this._t;this._context.lineTo(s,this._y),this._context.lineTo(s,r)}break}}this._x=t,this._y=r}};function Qde(t){return new Lj(t,.5)}function Xde(t){return new Lj(t,0)}function Zde(t){return new Lj(t,1)}function bu(t,r){if((l=t.length)>1)for(var s=1,n,a,i=t[r[0]],l,o=i.length;s<l;++s)for(a=i,i=t[r[s]],n=0;n<o;++n)i[n][1]+=i[n][0]=isNaN(a[n][1])?a[n][0]:a[n][1]}function m1(t){for(var r=t.length,s=new Array(r);--r>=0;)s[r]=r;return s}function Jde(t,r){return t[r]}function eue(t){const r=[];return r.key=t,r}function tue(){var t=Or([]),r=m1,s=bu,n=Jde;function a(i){var l=Array.from(t.apply(this,arguments),eue),o,c=l.length,d=-1,u;for(const m of i)for(o=0,++d;o<c;++o)(l[o][d]=[0,+n(m,l[o].key,d,i)]).data=m;for(o=0,u=XC(r(l));o<c;++o)l[u[o]].index=o;return s(l,u),l}return a.keys=function(i){return arguments.length?(t=typeof i=="function"?i:Or(Array.from(i)),a):t},a.value=function(i){return arguments.length?(n=typeof i=="function"?i:Or(+i),a):n},a.order=function(i){return arguments.length?(r=i==null?m1:typeof i=="function"?i:Or(Array.from(i)),a):r},a.offset=function(i){return arguments.length?(s=i??bu,a):s},a}function rue(t,r){if((n=t.length)>0){for(var s,n,a=0,i=t[0].length,l;a<i;++a){for(l=s=0;s<n;++s)l+=t[s][a][1]||0;if(l)for(s=0;s<n;++s)t[s][a][1]/=l}bu(t,r)}}function sue(t,r){if((a=t.length)>0){for(var s=0,n=t[r[0]],a,i=n.length;s<i;++s){for(var l=0,o=0;l<a;++l)o+=t[l][s][1]||0;n[s][1]+=n[s][0]=-o/2}bu(t,r)}}function nue(t,r){if(!(!((l=t.length)>0)||!((i=(a=t[r[0]]).length)>0))){for(var s=0,n=1,a,i,l;n<i;++n){for(var o=0,c=0,d=0;o<l;++o){for(var u=t[r[o]],m=u[n][1]||0,h=u[n-1][1]||0,g=(m-h)/2,f=0;f<o;++f){var p=t[r[f]],y=p[n][1]||0,v=p[n-1][1]||0;g+=y-v}c+=m,d+=g*m}a[n-1][1]+=a[n-1][0]=s,c&&(s-=d/c)}a[n-1][1]+=a[n-1][0]=s,bu(t,r)}}function Sp(t){"@babel/helpers - typeof";return Sp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},Sp(t)}var aue=["type","size","sizeType"];function h1(){return h1=Object.assign?Object.assign.bind():function(t){for(var r=1;r<arguments.length;r++){var s=arguments[r];for(var n in s)Object.prototype.hasOwnProperty.call(s,n)&&(t[n]=s[n])}return t},h1.apply(this,arguments)}function TT(t,r){var s=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);r&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),s.push.apply(s,n)}return s}function OT(t){for(var r=1;r<arguments.length;r++){var s=arguments[r]!=null?arguments[r]:{};r%2?TT(Object(s),!0).forEach(function(n){iue(t,n,s[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(s)):TT(Object(s)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(s,n))})}return t}function iue(t,r,s){return r=lue(r),r in t?Object.defineProperty(t,r,{value:s,enumerable:!0,configurable:!0,writable:!0}):t[r]=s,t}function lue(t){var r=oue(t,"string");return Sp(r)=="symbol"?r:r+""}function oue(t,r){if(Sp(t)!="object"||!t)return t;var s=t[Symbol.toPrimitive];if(s!==void 0){var n=s.call(t,r||"default");if(Sp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(t)}function cue(t,r){if(t==null)return{};var s=due(t,r),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)n=i[a],!(r.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(s[n]=t[n])}return s}function due(t,r){if(t==null)return{};var s={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(r.indexOf(n)>=0)continue;s[n]=t[n]}return s}var DU={symbolCircle:ZC,symbolCross:Ode,symbolDiamond:Dde,symbolSquare:Mde,symbolStar:$de,symbolTriangle:Lde,symbolWye:Vde},uue=Math.PI/180,mue=function(r){var s="symbol".concat(Rj(r));return DU[s]||ZC},hue=function(r,s,n){if(s==="area")return r;switch(n){case"cross":return 5*r*r/9;case"diamond":return .5*r*r/Math.sqrt(3);case"square":return r*r;case"star":{var a=18*uue;return 1.25*r*r*(Math.tan(a)-Math.tan(a*2)*Math.pow(Math.tan(a),2))}case"triangle":return Math.sqrt(3)*r*r/4;case"wye":return(21-10*Math.sqrt(3))*r*r/8;default:return Math.PI*r*r/4}},pue=function(r,s){DU["symbol".concat(Rj(r))]=s},JC=function(r){var s=r.type,n=s===void 0?"circle":s,a=r.size,i=a===void 0?64:a,l=r.sizeType,o=l===void 0?"area":l,c=cue(r,aue),d=OT(OT({},c),{},{type:n,size:i,sizeType:o}),u=function(){var y=mue(n),v=Ude().type(y).size(hue(i,o,n));return v()},m=d.className,h=d.cx,g=d.cy,f=Nt(d,!0);return h===+h&&g===+g&&i===+i?G.createElement("path",h1({},f,{className:Kt("recharts-symbols",m),transform:"translate(".concat(h,", ").concat(g,")"),d:u()})):null};JC.registerSymbol=pue;function Nu(t){"@babel/helpers - typeof";return Nu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},Nu(t)}function p1(){return p1=Object.assign?Object.assign.bind():function(t){for(var r=1;r<arguments.length;r++){var s=arguments[r];for(var n in s)Object.prototype.hasOwnProperty.call(s,n)&&(t[n]=s[n])}return t},p1.apply(this,arguments)}function ET(t,r){var s=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);r&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),s.push.apply(s,n)}return s}function fue(t){for(var r=1;r<arguments.length;r++){var s=arguments[r]!=null?arguments[r]:{};r%2?ET(Object(s),!0).forEach(function(n){Cp(t,n,s[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(s)):ET(Object(s)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(s,n))})}return t}function xue(t,r){if(!(t instanceof r))throw new TypeError("Cannot call a class as a function")}function gue(t,r){for(var s=0;s<r.length;s++){var n=r[s];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,IU(n.key),n)}}function vue(t,r,s){return r&&gue(t.prototype,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function yue(t,r,s){return r=Pv(r),jue(t,MU()?Reflect.construct(r,s||[],Pv(t).constructor):r.apply(t,s))}function jue(t,r){if(r&&(Nu(r)==="object"||typeof r=="function"))return r;if(r!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return bue(t)}function bue(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function MU(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(MU=function(){return!!t})()}function Pv(t){return Pv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(s){return s.__proto__||Object.getPrototypeOf(s)},Pv(t)}function Nue(t,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(r&&r.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),r&&f1(t,r)}function f1(t,r){return f1=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},f1(t,r)}function Cp(t,r,s){return r=IU(r),r in t?Object.defineProperty(t,r,{value:s,enumerable:!0,configurable:!0,writable:!0}):t[r]=s,t}function IU(t){var r=wue(t,"string");return Nu(r)=="symbol"?r:r+""}function wue(t,r){if(Nu(t)!="object"||!t)return t;var s=t[Symbol.toPrimitive];if(s!==void 0){var n=s.call(t,r||"default");if(Nu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(t)}var pa=32,eP=function(t){function r(){return xue(this,r),yue(this,r,arguments)}return Nue(r,t),vue(r,[{key:"renderIcon",value:function(n){var a=this.props.inactiveColor,i=pa/2,l=pa/6,o=pa/3,c=n.inactive?a:n.color;if(n.type==="plainline")return G.createElement("line",{strokeWidth:4,fill:"none",stroke:c,strokeDasharray:n.payload.strokeDasharray,x1:0,y1:i,x2:pa,y2:i,className:"recharts-legend-icon"});if(n.type==="line")return G.createElement("path",{strokeWidth:4,fill:"none",stroke:c,d:"M0,".concat(i,"h").concat(o,`
            A`).concat(l,",").concat(l,",0,1,1,").concat(2*o,",").concat(i,`
            H`).concat(pa,"M").concat(2*o,",").concat(i,`
            A`).concat(l,",").concat(l,",0,1,1,").concat(o,",").concat(i),className:"recharts-legend-icon"});if(n.type==="rect")return G.createElement("path",{stroke:"none",fill:c,d:"M0,".concat(pa/8,"h").concat(pa,"v").concat(pa*3/4,"h").concat(-pa,"z"),className:"recharts-legend-icon"});if(G.isValidElement(n.legendIcon)){var d=fue({},n);return delete d.legendIcon,G.cloneElement(n.legendIcon,d)}return G.createElement(JC,{fill:c,cx:i,cy:i,size:pa,sizeType:"diameter",type:n.type})}},{key:"renderItems",value:function(){var n=this,a=this.props,i=a.payload,l=a.iconSize,o=a.layout,c=a.formatter,d=a.inactiveColor,u={x:0,y:0,width:pa,height:pa},m={display:o==="horizontal"?"inline-block":"block",marginRight:10},h={display:"inline-block",verticalAlign:"middle",marginRight:4};return i.map(function(g,f){var p=g.formatter||c,y=Kt(Cp(Cp({"recharts-legend-item":!0},"legend-item-".concat(f),!0),"inactive",g.inactive));if(g.type==="none")return null;var v=$t(g.value)?null:g.value;Ja(!$t(g.value),`The name property is also required when using a function for the dataKey of a chart's cartesian components. Ex: <Bar name="Name of my Data"/>`);var x=g.inactive?d:g.color;return G.createElement("li",p1({className:y,style:m,key:"legend-item-".concat(f)},Tc(n.props,g,f)),G.createElement(a1,{width:l,height:l,viewBox:u,style:h},n.renderIcon(g)),G.createElement("span",{className:"recharts-legend-item-text",style:{color:x}},p?p(v,g,f):v))})}},{key:"render",value:function(){var n=this.props,a=n.payload,i=n.layout,l=n.align;if(!a||!a.length)return null;var o={padding:0,margin:0,textAlign:i==="horizontal"?l:"left"};return G.createElement("ul",{className:"recharts-default-legend",style:o},this.renderItems())}}])}(j.PureComponent);Cp(eP,"displayName","Legend");Cp(eP,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var Sue=wj;function Cue(){this.__data__=new Sue,this.size=0}var Pue=Cue;function kue(t){var r=this.__data__,s=r.delete(t);return this.size=r.size,s}var Aue=kue;function _ue(t){return this.__data__.get(t)}var Tue=_ue;function Oue(t){return this.__data__.has(t)}var Eue=Oue,Due=wj,Mue=VC,Iue=UC,Rue=200;function Fue(t,r){var s=this.__data__;if(s instanceof Due){var n=s.__data__;if(!Mue||n.length<Rue-1)return n.push([t,r]),this.size=++s.size,this;s=this.__data__=new Iue(n)}return s.set(t,r),this.size=s.size,this}var $ue=Fue,Lue=wj,Bue=Pue,Vue=Aue,Uue=Tue,que=Eue,zue=$ue;function jm(t){var r=this.__data__=new Lue(t);this.size=r.size}jm.prototype.clear=Bue;jm.prototype.delete=Vue;jm.prototype.get=Uue;jm.prototype.has=que;jm.prototype.set=zue;var RU=jm,Kue="__lodash_hash_undefined__";function Hue(t){return this.__data__.set(t,Kue),this}var Wue=Hue;function Gue(t){return this.__data__.has(t)}var Yue=Gue,Que=UC,Xue=Wue,Zue=Yue;function kv(t){var r=-1,s=t==null?0:t.length;for(this.__data__=new Que;++r<s;)this.add(t[r])}kv.prototype.add=kv.prototype.push=Xue;kv.prototype.has=Zue;var FU=kv;function Jue(t,r){for(var s=-1,n=t==null?0:t.length;++s<n;)if(r(t[s],s,t))return!0;return!1}var $U=Jue;function eme(t,r){return t.has(r)}var LU=eme,tme=FU,rme=$U,sme=LU,nme=1,ame=2;function ime(t,r,s,n,a,i){var l=s&nme,o=t.length,c=r.length;if(o!=c&&!(l&&c>o))return!1;var d=i.get(t),u=i.get(r);if(d&&u)return d==r&&u==t;var m=-1,h=!0,g=s&ame?new tme:void 0;for(i.set(t,r),i.set(r,t);++m<o;){var f=t[m],p=r[m];if(n)var y=l?n(p,f,m,r,t,i):n(f,p,m,t,r,i);if(y!==void 0){if(y)continue;h=!1;break}if(g){if(!rme(r,function(v,x){if(!sme(g,x)&&(f===v||a(f,v,s,n,i)))return g.push(x)})){h=!1;break}}else if(!(f===p||a(f,p,s,n,i))){h=!1;break}}return i.delete(t),i.delete(r),h}var BU=ime,lme=Bi,ome=lme.Uint8Array,cme=ome;function dme(t){var r=-1,s=Array(t.size);return t.forEach(function(n,a){s[++r]=[a,n]}),s}var ume=dme;function mme(t){var r=-1,s=Array(t.size);return t.forEach(function(n){s[++r]=n}),s}var tP=mme,DT=Of,MT=cme,hme=BC,pme=BU,fme=ume,xme=tP,gme=1,vme=2,yme="[object Boolean]",jme="[object Date]",bme="[object Error]",Nme="[object Map]",wme="[object Number]",Sme="[object RegExp]",Cme="[object Set]",Pme="[object String]",kme="[object Symbol]",Ame="[object ArrayBuffer]",_me="[object DataView]",IT=DT?DT.prototype:void 0,D0=IT?IT.valueOf:void 0;function Tme(t,r,s,n,a,i,l){switch(s){case _me:if(t.byteLength!=r.byteLength||t.byteOffset!=r.byteOffset)return!1;t=t.buffer,r=r.buffer;case Ame:return!(t.byteLength!=r.byteLength||!i(new MT(t),new MT(r)));case yme:case jme:case wme:return hme(+t,+r);case bme:return t.name==r.name&&t.message==r.message;case Sme:case Pme:return t==r+"";case Nme:var o=fme;case Cme:var c=n&gme;if(o||(o=xme),t.size!=r.size&&!c)return!1;var d=l.get(t);if(d)return d==r;n|=vme,l.set(t,r);var u=pme(o(t),o(r),n,a,i,l);return l.delete(t),u;case kme:if(D0)return D0.call(t)==D0.call(r)}return!1}var Ome=Tme;function Eme(t,r){for(var s=-1,n=r.length,a=t.length;++s<n;)t[a+s]=r[s];return t}var VU=Eme,Dme=VU,Mme=Ln;function Ime(t,r,s){var n=r(t);return Mme(t)?n:Dme(n,s(t))}var Rme=Ime;function Fme(t,r){for(var s=-1,n=t==null?0:t.length,a=0,i=[];++s<n;){var l=t[s];r(l,s,t)&&(i[a++]=l)}return i}var $me=Fme;function Lme(){return[]}var Bme=Lme,Vme=$me,Ume=Bme,qme=Object.prototype,zme=qme.propertyIsEnumerable,RT=Object.getOwnPropertySymbols,Kme=RT?function(t){return t==null?[]:(t=Object(t),Vme(RT(t),function(r){return zme.call(t,r)}))}:Ume,Hme=Kme;function Wme(t,r){for(var s=-1,n=Array(t);++s<t;)n[s]=r(s);return n}var Gme=Wme,Yme=Cl,Qme=Pl,Xme="[object Arguments]";function Zme(t){return Qme(t)&&Yme(t)==Xme}var Jme=Zme,FT=Jme,ehe=Pl,UU=Object.prototype,the=UU.hasOwnProperty,rhe=UU.propertyIsEnumerable,she=FT(function(){return arguments}())?FT:function(t){return ehe(t)&&the.call(t,"callee")&&!rhe.call(t,"callee")},rP=she,Av={exports:{}};function nhe(){return!1}var ahe=nhe;Av.exports;(function(t,r){var s=Bi,n=ahe,a=r&&!r.nodeType&&r,i=a&&!0&&t&&!t.nodeType&&t,l=i&&i.exports===a,o=l?s.Buffer:void 0,c=o?o.isBuffer:void 0,d=c||n;t.exports=d})(Av,Av.exports);var qU=Av.exports,ihe=9007199254740991,lhe=/^(?:0|[1-9]\d*)$/;function ohe(t,r){var s=typeof t;return r=r??ihe,!!r&&(s=="number"||s!="symbol"&&lhe.test(t))&&t>-1&&t%1==0&&t<r}var sP=ohe,che=9007199254740991;function dhe(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=che}var nP=dhe,uhe=Cl,mhe=nP,hhe=Pl,phe="[object Arguments]",fhe="[object Array]",xhe="[object Boolean]",ghe="[object Date]",vhe="[object Error]",yhe="[object Function]",jhe="[object Map]",bhe="[object Number]",Nhe="[object Object]",whe="[object RegExp]",She="[object Set]",Che="[object String]",Phe="[object WeakMap]",khe="[object ArrayBuffer]",Ahe="[object DataView]",_he="[object Float32Array]",The="[object Float64Array]",Ohe="[object Int8Array]",Ehe="[object Int16Array]",Dhe="[object Int32Array]",Mhe="[object Uint8Array]",Ihe="[object Uint8ClampedArray]",Rhe="[object Uint16Array]",Fhe="[object Uint32Array]",Lr={};Lr[_he]=Lr[The]=Lr[Ohe]=Lr[Ehe]=Lr[Dhe]=Lr[Mhe]=Lr[Ihe]=Lr[Rhe]=Lr[Fhe]=!0;Lr[phe]=Lr[fhe]=Lr[khe]=Lr[xhe]=Lr[Ahe]=Lr[ghe]=Lr[vhe]=Lr[yhe]=Lr[jhe]=Lr[bhe]=Lr[Nhe]=Lr[whe]=Lr[She]=Lr[Che]=Lr[Phe]=!1;function $he(t){return hhe(t)&&mhe(t.length)&&!!Lr[uhe(t)]}var Lhe=$he;function Bhe(t){return function(r){return t(r)}}var zU=Bhe,_v={exports:{}};_v.exports;(function(t,r){var s=ZV,n=r&&!r.nodeType&&r,a=n&&!0&&t&&!t.nodeType&&t,i=a&&a.exports===n,l=i&&s.process,o=function(){try{var c=a&&a.require&&a.require("util").types;return c||l&&l.binding&&l.binding("util")}catch{}}();t.exports=o})(_v,_v.exports);var Vhe=_v.exports,Uhe=Lhe,qhe=zU,$T=Vhe,LT=$T&&$T.isTypedArray,zhe=LT?qhe(LT):Uhe,KU=zhe,Khe=Gme,Hhe=rP,Whe=Ln,Ghe=qU,Yhe=sP,Qhe=KU,Xhe=Object.prototype,Zhe=Xhe.hasOwnProperty;function Jhe(t,r){var s=Whe(t),n=!s&&Hhe(t),a=!s&&!n&&Ghe(t),i=!s&&!n&&!a&&Qhe(t),l=s||n||a||i,o=l?Khe(t.length,String):[],c=o.length;for(var d in t)(r||Zhe.call(t,d))&&!(l&&(d=="length"||a&&(d=="offset"||d=="parent")||i&&(d=="buffer"||d=="byteLength"||d=="byteOffset")||Yhe(d,c)))&&o.push(d);return o}var epe=Jhe,tpe=Object.prototype;function rpe(t){var r=t&&t.constructor,s=typeof r=="function"&&r.prototype||tpe;return t===s}var spe=rpe;function npe(t,r){return function(s){return t(r(s))}}var HU=npe,ape=HU,ipe=ape(Object.keys,Object),lpe=ipe,ope=spe,cpe=lpe,dpe=Object.prototype,upe=dpe.hasOwnProperty;function mpe(t){if(!ope(t))return cpe(t);var r=[];for(var s in Object(t))upe.call(t,s)&&s!="constructor"&&r.push(s);return r}var hpe=mpe,ppe=LC,fpe=nP;function xpe(t){return t!=null&&fpe(t.length)&&!ppe(t)}var Mf=xpe,gpe=epe,vpe=hpe,ype=Mf;function jpe(t){return ype(t)?gpe(t):vpe(t)}var Bj=jpe,bpe=Rme,Npe=Hme,wpe=Bj;function Spe(t){return bpe(t,wpe,Npe)}var Cpe=Spe,BT=Cpe,Ppe=1,kpe=Object.prototype,Ape=kpe.hasOwnProperty;function _pe(t,r,s,n,a,i){var l=s&Ppe,o=BT(t),c=o.length,d=BT(r),u=d.length;if(c!=u&&!l)return!1;for(var m=c;m--;){var h=o[m];if(!(l?h in r:Ape.call(r,h)))return!1}var g=i.get(t),f=i.get(r);if(g&&f)return g==r&&f==t;var p=!0;i.set(t,r),i.set(r,t);for(var y=l;++m<c;){h=o[m];var v=t[h],x=r[h];if(n)var b=l?n(x,v,h,r,t,i):n(v,x,h,t,r,i);if(!(b===void 0?v===x||a(v,x,s,n,i):b)){p=!1;break}y||(y=h=="constructor")}if(p&&!y){var N=t.constructor,w=r.constructor;N!=w&&"constructor"in t&&"constructor"in r&&!(typeof N=="function"&&N instanceof N&&typeof w=="function"&&w instanceof w)&&(p=!1)}return i.delete(t),i.delete(r),p}var Tpe=_pe,Ope=Uc,Epe=Bi,Dpe=Ope(Epe,"DataView"),Mpe=Dpe,Ipe=Uc,Rpe=Bi,Fpe=Ipe(Rpe,"Promise"),$pe=Fpe,Lpe=Uc,Bpe=Bi,Vpe=Lpe(Bpe,"Set"),WU=Vpe,Upe=Uc,qpe=Bi,zpe=Upe(qpe,"WeakMap"),Kpe=zpe,x1=Mpe,g1=VC,v1=$pe,y1=WU,j1=Kpe,GU=Cl,bm=eU,VT="[object Map]",Hpe="[object Object]",UT="[object Promise]",qT="[object Set]",zT="[object WeakMap]",KT="[object DataView]",Wpe=bm(x1),Gpe=bm(g1),Ype=bm(v1),Qpe=bm(y1),Xpe=bm(j1),Ko=GU;(x1&&Ko(new x1(new ArrayBuffer(1)))!=KT||g1&&Ko(new g1)!=VT||v1&&Ko(v1.resolve())!=UT||y1&&Ko(new y1)!=qT||j1&&Ko(new j1)!=zT)&&(Ko=function(t){var r=GU(t),s=r==Hpe?t.constructor:void 0,n=s?bm(s):"";if(n)switch(n){case Wpe:return KT;case Gpe:return VT;case Ype:return UT;case Qpe:return qT;case Xpe:return zT}return r});var Zpe=Ko,M0=RU,Jpe=BU,efe=Ome,tfe=Tpe,HT=Zpe,WT=Ln,GT=qU,rfe=KU,sfe=1,YT="[object Arguments]",QT="[object Array]",Sx="[object Object]",nfe=Object.prototype,XT=nfe.hasOwnProperty;function afe(t,r,s,n,a,i){var l=WT(t),o=WT(r),c=l?QT:HT(t),d=o?QT:HT(r);c=c==YT?Sx:c,d=d==YT?Sx:d;var u=c==Sx,m=d==Sx,h=c==d;if(h&&GT(t)){if(!GT(r))return!1;l=!0,u=!1}if(h&&!u)return i||(i=new M0),l||rfe(t)?Jpe(t,r,s,n,a,i):efe(t,r,c,s,n,a,i);if(!(s&sfe)){var g=u&&XT.call(t,"__wrapped__"),f=m&&XT.call(r,"__wrapped__");if(g||f){var p=g?t.value():t,y=f?r.value():r;return i||(i=new M0),a(p,y,s,n,i)}}return h?(i||(i=new M0),tfe(t,r,s,n,a,i)):!1}var ife=afe,lfe=ife,ZT=Pl;function YU(t,r,s,n,a){return t===r?!0:t==null||r==null||!ZT(t)&&!ZT(r)?t!==t&&r!==r:lfe(t,r,s,n,YU,a)}var aP=YU,ofe=RU,cfe=aP,dfe=1,ufe=2;function mfe(t,r,s,n){var a=s.length,i=a,l=!n;if(t==null)return!i;for(t=Object(t);a--;){var o=s[a];if(l&&o[2]?o[1]!==t[o[0]]:!(o[0]in t))return!1}for(;++a<i;){o=s[a];var c=o[0],d=t[c],u=o[1];if(l&&o[2]){if(d===void 0&&!(c in t))return!1}else{var m=new ofe;if(n)var h=n(d,u,c,t,r,m);if(!(h===void 0?cfe(u,d,dfe|ufe,n,m):h))return!1}}return!0}var hfe=mfe,pfe=Mo;function ffe(t){return t===t&&!pfe(t)}var QU=ffe,xfe=QU,gfe=Bj;function vfe(t){for(var r=gfe(t),s=r.length;s--;){var n=r[s],a=t[n];r[s]=[n,a,xfe(a)]}return r}var yfe=vfe;function jfe(t,r){return function(s){return s==null?!1:s[t]===r&&(r!==void 0||t in Object(s))}}var XU=jfe,bfe=hfe,Nfe=yfe,wfe=XU;function Sfe(t){var r=Nfe(t);return r.length==1&&r[0][2]?wfe(r[0][0],r[0][1]):function(s){return s===t||bfe(s,t,r)}}var Cfe=Sfe;function Pfe(t,r){return t!=null&&r in Object(t)}var kfe=Pfe,Afe=aU,_fe=rP,Tfe=Ln,Ofe=sP,Efe=nP,Dfe=Cj;function Mfe(t,r,s){r=Afe(r,t);for(var n=-1,a=r.length,i=!1;++n<a;){var l=Dfe(r[n]);if(!(i=t!=null&&s(t,l)))break;t=t[l]}return i||++n!=a?i:(a=t==null?0:t.length,!!a&&Efe(a)&&Ofe(l,a)&&(Tfe(t)||_fe(t)))}var Ife=Mfe,Rfe=kfe,Ffe=Ife;function $fe(t,r){return t!=null&&Ffe(t,r,Rfe)}var Lfe=$fe,Bfe=aP,Vfe=iU,Ufe=Lfe,qfe=$C,zfe=QU,Kfe=XU,Hfe=Cj,Wfe=1,Gfe=2;function Yfe(t,r){return qfe(t)&&zfe(r)?Kfe(Hfe(t),r):function(s){var n=Vfe(s,t);return n===void 0&&n===r?Ufe(s,t):Bfe(r,n,Wfe|Gfe)}}var Qfe=Yfe;function Xfe(t){return t}var Nm=Xfe;function Zfe(t){return function(r){return r==null?void 0:r[t]}}var Jfe=Zfe,exe=KC;function txe(t){return function(r){return exe(r,t)}}var rxe=txe,sxe=Jfe,nxe=rxe,axe=$C,ixe=Cj;function lxe(t){return axe(t)?sxe(ixe(t)):nxe(t)}var oxe=lxe,cxe=Cfe,dxe=Qfe,uxe=Nm,mxe=Ln,hxe=oxe;function pxe(t){return typeof t=="function"?t:t==null?uxe:typeof t=="object"?mxe(t)?dxe(t[0],t[1]):cxe(t):hxe(t)}var Vi=pxe;function fxe(t,r,s,n){for(var a=t.length,i=s+(n?1:-1);n?i--:++i<a;)if(r(t[i],i,t))return i;return-1}var ZU=fxe;function xxe(t){return t!==t}var gxe=xxe;function vxe(t,r,s){for(var n=s-1,a=t.length;++n<a;)if(t[n]===r)return n;return-1}var yxe=vxe,jxe=ZU,bxe=gxe,Nxe=yxe;function wxe(t,r,s){return r===r?Nxe(t,r,s):jxe(t,bxe,s)}var Sxe=wxe,Cxe=Sxe;function Pxe(t,r){var s=t==null?0:t.length;return!!s&&Cxe(t,r,0)>-1}var kxe=Pxe;function Axe(t,r,s){for(var n=-1,a=t==null?0:t.length;++n<a;)if(s(r,t[n]))return!0;return!1}var _xe=Axe;function Txe(){}var Oxe=Txe,I0=WU,Exe=Oxe,Dxe=tP,Mxe=1/0,Ixe=I0&&1/Dxe(new I0([,-0]))[1]==Mxe?function(t){return new I0(t)}:Exe,Rxe=Ixe,Fxe=FU,$xe=kxe,Lxe=_xe,Bxe=LU,Vxe=Rxe,Uxe=tP,qxe=200;function zxe(t,r,s){var n=-1,a=$xe,i=t.length,l=!0,o=[],c=o;if(s)l=!1,a=Lxe;else if(i>=qxe){var d=r?null:Vxe(t);if(d)return Uxe(d);l=!1,a=Bxe,c=new Fxe}else c=r?[]:o;e:for(;++n<i;){var u=t[n],m=r?r(u):u;if(u=s||u!==0?u:0,l&&m===m){for(var h=c.length;h--;)if(c[h]===m)continue e;r&&c.push(m),o.push(u)}else a(c,m,s)||(c!==o&&c.push(m),o.push(u))}return o}var Kxe=zxe,Hxe=Vi,Wxe=Kxe;function Gxe(t,r){return t&&t.length?Wxe(t,Hxe(r)):[]}var Yxe=Gxe;const JT=yr(Yxe);function JU(t,r,s){return r===!0?JT(t,s):$t(r)?JT(t,r):t}function wu(t){"@babel/helpers - typeof";return wu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},wu(t)}var Qxe=["ref"];function e4(t,r){var s=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);r&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),s.push.apply(s,n)}return s}function Ki(t){for(var r=1;r<arguments.length;r++){var s=arguments[r]!=null?arguments[r]:{};r%2?e4(Object(s),!0).forEach(function(n){Vj(t,n,s[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(s)):e4(Object(s)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(s,n))})}return t}function Xxe(t,r){if(!(t instanceof r))throw new TypeError("Cannot call a class as a function")}function t4(t,r){for(var s=0;s<r.length;s++){var n=r[s];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,tq(n.key),n)}}function Zxe(t,r,s){return r&&t4(t.prototype,r),s&&t4(t,s),Object.defineProperty(t,"prototype",{writable:!1}),t}function Jxe(t,r,s){return r=Tv(r),ege(t,eq()?Reflect.construct(r,s||[],Tv(t).constructor):r.apply(t,s))}function ege(t,r){if(r&&(wu(r)==="object"||typeof r=="function"))return r;if(r!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return tge(t)}function tge(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function eq(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(eq=function(){return!!t})()}function Tv(t){return Tv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(s){return s.__proto__||Object.getPrototypeOf(s)},Tv(t)}function rge(t,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(r&&r.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),r&&b1(t,r)}function b1(t,r){return b1=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},b1(t,r)}function Vj(t,r,s){return r=tq(r),r in t?Object.defineProperty(t,r,{value:s,enumerable:!0,configurable:!0,writable:!0}):t[r]=s,t}function tq(t){var r=sge(t,"string");return wu(r)=="symbol"?r:r+""}function sge(t,r){if(wu(t)!="object"||!t)return t;var s=t[Symbol.toPrimitive];if(s!==void 0){var n=s.call(t,r||"default");if(wu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(t)}function nge(t,r){if(t==null)return{};var s=age(t,r),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)n=i[a],!(r.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(s[n]=t[n])}return s}function age(t,r){if(t==null)return{};var s={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(r.indexOf(n)>=0)continue;s[n]=t[n]}return s}function ige(t){return t.value}function lge(t,r){if(G.isValidElement(t))return G.cloneElement(t,r);if(typeof t=="function")return G.createElement(t,r);r.ref;var s=nge(r,Qxe);return G.createElement(eP,s)}var r4=1,ol=function(t){function r(){var s;Xxe(this,r);for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return s=Jxe(this,r,[].concat(a)),Vj(s,"lastBoundingBox",{width:-1,height:-1}),s}return rge(r,t),Zxe(r,[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var n=this.wrapperNode.getBoundingClientRect();return n.height=this.wrapperNode.offsetHeight,n.width=this.wrapperNode.offsetWidth,n}return null}},{key:"updateBBox",value:function(){var n=this.props.onBBoxUpdate,a=this.getBBox();a?(Math.abs(a.width-this.lastBoundingBox.width)>r4||Math.abs(a.height-this.lastBoundingBox.height)>r4)&&(this.lastBoundingBox.width=a.width,this.lastBoundingBox.height=a.height,n&&n(a)):(this.lastBoundingBox.width!==-1||this.lastBoundingBox.height!==-1)&&(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,n&&n(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?Ki({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(n){var a=this.props,i=a.layout,l=a.align,o=a.verticalAlign,c=a.margin,d=a.chartWidth,u=a.chartHeight,m,h;if(!n||(n.left===void 0||n.left===null)&&(n.right===void 0||n.right===null))if(l==="center"&&i==="vertical"){var g=this.getBBoxSnapshot();m={left:((d||0)-g.width)/2}}else m=l==="right"?{right:c&&c.right||0}:{left:c&&c.left||0};if(!n||(n.top===void 0||n.top===null)&&(n.bottom===void 0||n.bottom===null))if(o==="middle"){var f=this.getBBoxSnapshot();h={top:((u||0)-f.height)/2}}else h=o==="bottom"?{bottom:c&&c.bottom||0}:{top:c&&c.top||0};return Ki(Ki({},m),h)}},{key:"render",value:function(){var n=this,a=this.props,i=a.content,l=a.width,o=a.height,c=a.wrapperStyle,d=a.payloadUniqBy,u=a.payload,m=Ki(Ki({position:"absolute",width:l||"auto",height:o||"auto"},this.getDefaultPosition(c)),c);return G.createElement("div",{className:"recharts-legend-wrapper",style:m,ref:function(g){n.wrapperNode=g}},lge(i,Ki(Ki({},this.props),{},{payload:JU(u,d,ige)})))}}],[{key:"getWithHeight",value:function(n,a){var i=Ki(Ki({},this.defaultProps),n.props),l=i.layout;return l==="vertical"&&Qe(n.props.height)?{height:n.props.height}:l==="horizontal"?{width:n.props.width||a}:null}}])}(j.PureComponent);Vj(ol,"displayName","Legend");Vj(ol,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var s4=Of,oge=rP,cge=Ln,n4=s4?s4.isConcatSpreadable:void 0;function dge(t){return cge(t)||oge(t)||!!(n4&&t&&t[n4])}var uge=dge,mge=VU,hge=uge;function rq(t,r,s,n,a){var i=-1,l=t.length;for(s||(s=hge),a||(a=[]);++i<l;){var o=t[i];r>0&&s(o)?r>1?rq(o,r-1,s,n,a):mge(a,o):n||(a[a.length]=o)}return a}var sq=rq;function pge(t){return function(r,s,n){for(var a=-1,i=Object(r),l=n(r),o=l.length;o--;){var c=l[t?o:++a];if(s(i[c],c,i)===!1)break}return r}}var fge=pge,xge=fge,gge=xge(),vge=gge,yge=vge,jge=Bj;function bge(t,r){return t&&yge(t,r,jge)}var nq=bge,Nge=Mf;function wge(t,r){return function(s,n){if(s==null)return s;if(!Nge(s))return t(s,n);for(var a=s.length,i=r?a:-1,l=Object(s);(r?i--:++i<a)&&n(l[i],i,l)!==!1;);return s}}var Sge=wge,Cge=nq,Pge=Sge,kge=Pge(Cge),iP=kge,Age=iP,_ge=Mf;function Tge(t,r){var s=-1,n=_ge(t)?Array(t.length):[];return Age(t,function(a,i,l){n[++s]=r(a,i,l)}),n}var aq=Tge;function Oge(t,r){var s=t.length;for(t.sort(r);s--;)t[s]=t[s].value;return t}var Ege=Oge,a4=pm;function Dge(t,r){if(t!==r){var s=t!==void 0,n=t===null,a=t===t,i=a4(t),l=r!==void 0,o=r===null,c=r===r,d=a4(r);if(!o&&!d&&!i&&t>r||i&&l&&c&&!o&&!d||n&&l&&c||!s&&c||!a)return 1;if(!n&&!i&&!d&&t<r||d&&s&&a&&!n&&!i||o&&s&&a||!l&&a||!c)return-1}return 0}var Mge=Dge,Ige=Mge;function Rge(t,r,s){for(var n=-1,a=t.criteria,i=r.criteria,l=a.length,o=s.length;++n<l;){var c=Ige(a[n],i[n]);if(c){if(n>=o)return c;var d=s[n];return c*(d=="desc"?-1:1)}}return t.index-r.index}var Fge=Rge,R0=zC,$ge=KC,Lge=Vi,Bge=aq,Vge=Ege,Uge=zU,qge=Fge,zge=Nm,Kge=Ln;function Hge(t,r,s){r.length?r=R0(r,function(i){return Kge(i)?function(l){return $ge(l,i.length===1?i[0]:i)}:i}):r=[zge];var n=-1;r=R0(r,Uge(Lge));var a=Bge(t,function(i,l,o){var c=R0(r,function(d){return d(i)});return{criteria:c,index:++n,value:i}});return Vge(a,function(i,l){return qge(i,l,s)})}var Wge=Hge;function Gge(t,r,s){switch(s.length){case 0:return t.call(r);case 1:return t.call(r,s[0]);case 2:return t.call(r,s[0],s[1]);case 3:return t.call(r,s[0],s[1],s[2])}return t.apply(r,s)}var Yge=Gge,Qge=Yge,i4=Math.max;function Xge(t,r,s){return r=i4(r===void 0?t.length-1:r,0),function(){for(var n=arguments,a=-1,i=i4(n.length-r,0),l=Array(i);++a<i;)l[a]=n[r+a];a=-1;for(var o=Array(r+1);++a<r;)o[a]=n[a];return o[r]=s(l),Qge(t,this,o)}}var Zge=Xge;function Jge(t){return function(){return t}}var eve=Jge,tve=Uc,rve=function(){try{var t=tve(Object,"defineProperty");return t({},"",{}),t}catch{}}(),iq=rve,sve=eve,l4=iq,nve=Nm,ave=l4?function(t,r){return l4(t,"toString",{configurable:!0,enumerable:!1,value:sve(r),writable:!0})}:nve,ive=ave,lve=800,ove=16,cve=Date.now;function dve(t){var r=0,s=0;return function(){var n=cve(),a=ove-(n-s);if(s=n,a>0){if(++r>=lve)return arguments[0]}else r=0;return t.apply(void 0,arguments)}}var uve=dve,mve=ive,hve=uve,pve=hve(mve),fve=pve,xve=Nm,gve=Zge,vve=fve;function yve(t,r){return vve(gve(t,r,xve),t+"")}var jve=yve,bve=BC,Nve=Mf,wve=sP,Sve=Mo;function Cve(t,r,s){if(!Sve(s))return!1;var n=typeof r;return(n=="number"?Nve(s)&&wve(r,s.length):n=="string"&&r in s)?bve(s[r],t):!1}var Uj=Cve,Pve=sq,kve=Wge,Ave=jve,o4=Uj,_ve=Ave(function(t,r){if(t==null)return[];var s=r.length;return s>1&&o4(t,r[0],r[1])?r=[]:s>2&&o4(r[0],r[1],r[2])&&(r=[r[0]]),kve(t,Pve(r,1),[])}),Tve=_ve;const lP=yr(Tve);function Pp(t){"@babel/helpers - typeof";return Pp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},Pp(t)}function N1(){return N1=Object.assign?Object.assign.bind():function(t){for(var r=1;r<arguments.length;r++){var s=arguments[r];for(var n in s)Object.prototype.hasOwnProperty.call(s,n)&&(t[n]=s[n])}return t},N1.apply(this,arguments)}function Ove(t,r){return Ive(t)||Mve(t,r)||Dve(t,r)||Eve()}function Eve(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Dve(t,r){if(t){if(typeof t=="string")return c4(t,r);var s=Object.prototype.toString.call(t).slice(8,-1);if(s==="Object"&&t.constructor&&(s=t.constructor.name),s==="Map"||s==="Set")return Array.from(t);if(s==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(s))return c4(t,r)}}function c4(t,r){(r==null||r>t.length)&&(r=t.length);for(var s=0,n=new Array(r);s<r;s++)n[s]=t[s];return n}function Mve(t,r){var s=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(s!=null){var n,a,i,l,o=[],c=!0,d=!1;try{if(i=(s=s.call(t)).next,r!==0)for(;!(c=(n=i.call(s)).done)&&(o.push(n.value),o.length!==r);c=!0);}catch(u){d=!0,a=u}finally{try{if(!c&&s.return!=null&&(l=s.return(),Object(l)!==l))return}finally{if(d)throw a}}return o}}function Ive(t){if(Array.isArray(t))return t}function d4(t,r){var s=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);r&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),s.push.apply(s,n)}return s}function F0(t){for(var r=1;r<arguments.length;r++){var s=arguments[r]!=null?arguments[r]:{};r%2?d4(Object(s),!0).forEach(function(n){Rve(t,n,s[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(s)):d4(Object(s)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(s,n))})}return t}function Rve(t,r,s){return r=Fve(r),r in t?Object.defineProperty(t,r,{value:s,enumerable:!0,configurable:!0,writable:!0}):t[r]=s,t}function Fve(t){var r=$ve(t,"string");return Pp(r)=="symbol"?r:r+""}function $ve(t,r){if(Pp(t)!="object"||!t)return t;var s=t[Symbol.toPrimitive];if(s!==void 0){var n=s.call(t,r||"default");if(Pp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(t)}function Lve(t){return Array.isArray(t)&&Cs(t[0])&&Cs(t[1])?t.join(" ~ "):t}var Bve=function(r){var s=r.separator,n=s===void 0?" : ":s,a=r.contentStyle,i=a===void 0?{}:a,l=r.itemStyle,o=l===void 0?{}:l,c=r.labelStyle,d=c===void 0?{}:c,u=r.payload,m=r.formatter,h=r.itemSorter,g=r.wrapperClassName,f=r.labelClassName,p=r.label,y=r.labelFormatter,v=r.accessibilityLayer,x=v===void 0?!1:v,b=function(){if(u&&u.length){var L={padding:0,margin:0},K=(h?lP(u,h):u).map(function(R,F){if(R.type==="none")return null;var W=F0({display:"block",paddingTop:4,paddingBottom:4,color:R.color||"#000"},o),Q=R.formatter||m||Lve,H=R.value,Z=R.name,me=H,Ne=Z;if(Q&&me!=null&&Ne!=null){var te=Q(H,Z,R,F,u);if(Array.isArray(te)){var Ie=Ove(te,2);me=Ie[0],Ne=Ie[1]}else me=te}return G.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(F),style:W},Cs(Ne)?G.createElement("span",{className:"recharts-tooltip-item-name"},Ne):null,Cs(Ne)?G.createElement("span",{className:"recharts-tooltip-item-separator"},n):null,G.createElement("span",{className:"recharts-tooltip-item-value"},me),G.createElement("span",{className:"recharts-tooltip-item-unit"},R.unit||""))});return G.createElement("ul",{className:"recharts-tooltip-item-list",style:L},K)}return null},N=F0({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},i),w=F0({margin:0},d),C=!Bt(p),P=C?p:"",S=Kt("recharts-default-tooltip",g),A=Kt("recharts-tooltip-label",f);C&&y&&u!==void 0&&u!==null&&(P=y(p,u));var k=x?{role:"status","aria-live":"assertive"}:{};return G.createElement("div",N1({className:S,style:N},k),G.createElement("p",{className:A,style:w},G.isValidElement(P)?P:"".concat(P)),b())};function kp(t){"@babel/helpers - typeof";return kp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},kp(t)}function Cx(t,r,s){return r=Vve(r),r in t?Object.defineProperty(t,r,{value:s,enumerable:!0,configurable:!0,writable:!0}):t[r]=s,t}function Vve(t){var r=Uve(t,"string");return kp(r)=="symbol"?r:r+""}function Uve(t,r){if(kp(t)!="object"||!t)return t;var s=t[Symbol.toPrimitive];if(s!==void 0){var n=s.call(t,r||"default");if(kp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(t)}var Km="recharts-tooltip-wrapper",qve={visibility:"hidden"};function zve(t){var r=t.coordinate,s=t.translateX,n=t.translateY;return Kt(Km,Cx(Cx(Cx(Cx({},"".concat(Km,"-right"),Qe(s)&&r&&Qe(r.x)&&s>=r.x),"".concat(Km,"-left"),Qe(s)&&r&&Qe(r.x)&&s<r.x),"".concat(Km,"-bottom"),Qe(n)&&r&&Qe(r.y)&&n>=r.y),"".concat(Km,"-top"),Qe(n)&&r&&Qe(r.y)&&n<r.y))}function u4(t){var r=t.allowEscapeViewBox,s=t.coordinate,n=t.key,a=t.offsetTopLeft,i=t.position,l=t.reverseDirection,o=t.tooltipDimension,c=t.viewBox,d=t.viewBoxDimension;if(i&&Qe(i[n]))return i[n];var u=s[n]-o-a,m=s[n]+a;if(r[n])return l[n]?u:m;if(l[n]){var h=u,g=c[n];return h<g?Math.max(m,c[n]):Math.max(u,c[n])}var f=m+o,p=c[n]+d;return f>p?Math.max(u,c[n]):Math.max(m,c[n])}function Kve(t){var r=t.translateX,s=t.translateY,n=t.useTranslate3d;return{transform:n?"translate3d(".concat(r,"px, ").concat(s,"px, 0)"):"translate(".concat(r,"px, ").concat(s,"px)")}}function Hve(t){var r=t.allowEscapeViewBox,s=t.coordinate,n=t.offsetTopLeft,a=t.position,i=t.reverseDirection,l=t.tooltipBox,o=t.useTranslate3d,c=t.viewBox,d,u,m;return l.height>0&&l.width>0&&s?(u=u4({allowEscapeViewBox:r,coordinate:s,key:"x",offsetTopLeft:n,position:a,reverseDirection:i,tooltipDimension:l.width,viewBox:c,viewBoxDimension:c.width}),m=u4({allowEscapeViewBox:r,coordinate:s,key:"y",offsetTopLeft:n,position:a,reverseDirection:i,tooltipDimension:l.height,viewBox:c,viewBoxDimension:c.height}),d=Kve({translateX:u,translateY:m,useTranslate3d:o})):d=qve,{cssProperties:d,cssClasses:zve({translateX:u,translateY:m,coordinate:s})}}function Su(t){"@babel/helpers - typeof";return Su=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},Su(t)}function m4(t,r){var s=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);r&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),s.push.apply(s,n)}return s}function h4(t){for(var r=1;r<arguments.length;r++){var s=arguments[r]!=null?arguments[r]:{};r%2?m4(Object(s),!0).forEach(function(n){S1(t,n,s[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(s)):m4(Object(s)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(s,n))})}return t}function Wve(t,r){if(!(t instanceof r))throw new TypeError("Cannot call a class as a function")}function Gve(t,r){for(var s=0;s<r.length;s++){var n=r[s];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,oq(n.key),n)}}function Yve(t,r,s){return r&&Gve(t.prototype,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function Qve(t,r,s){return r=Ov(r),Xve(t,lq()?Reflect.construct(r,s||[],Ov(t).constructor):r.apply(t,s))}function Xve(t,r){if(r&&(Su(r)==="object"||typeof r=="function"))return r;if(r!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Zve(t)}function Zve(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function lq(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(lq=function(){return!!t})()}function Ov(t){return Ov=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(s){return s.__proto__||Object.getPrototypeOf(s)},Ov(t)}function Jve(t,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(r&&r.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),r&&w1(t,r)}function w1(t,r){return w1=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},w1(t,r)}function S1(t,r,s){return r=oq(r),r in t?Object.defineProperty(t,r,{value:s,enumerable:!0,configurable:!0,writable:!0}):t[r]=s,t}function oq(t){var r=eye(t,"string");return Su(r)=="symbol"?r:r+""}function eye(t,r){if(Su(t)!="object"||!t)return t;var s=t[Symbol.toPrimitive];if(s!==void 0){var n=s.call(t,r||"default");if(Su(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(t)}var p4=1,tye=function(t){function r(){var s;Wve(this,r);for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return s=Qve(this,r,[].concat(a)),S1(s,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),S1(s,"handleKeyDown",function(l){if(l.key==="Escape"){var o,c,d,u;s.setState({dismissed:!0,dismissedAtCoordinate:{x:(o=(c=s.props.coordinate)===null||c===void 0?void 0:c.x)!==null&&o!==void 0?o:0,y:(d=(u=s.props.coordinate)===null||u===void 0?void 0:u.y)!==null&&d!==void 0?d:0}})}}),s}return Jve(r,t),Yve(r,[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var n=this.wrapperNode.getBoundingClientRect();(Math.abs(n.width-this.state.lastBoundingBox.width)>p4||Math.abs(n.height-this.state.lastBoundingBox.height)>p4)&&this.setState({lastBoundingBox:{width:n.width,height:n.height}})}else(this.state.lastBoundingBox.width!==-1||this.state.lastBoundingBox.height!==-1)&&this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var n,a;this.props.active&&this.updateBBox(),this.state.dismissed&&(((n=this.props.coordinate)===null||n===void 0?void 0:n.x)!==this.state.dismissedAtCoordinate.x||((a=this.props.coordinate)===null||a===void 0?void 0:a.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}},{key:"render",value:function(){var n=this,a=this.props,i=a.active,l=a.allowEscapeViewBox,o=a.animationDuration,c=a.animationEasing,d=a.children,u=a.coordinate,m=a.hasPayload,h=a.isAnimationActive,g=a.offset,f=a.position,p=a.reverseDirection,y=a.useTranslate3d,v=a.viewBox,x=a.wrapperStyle,b=Hve({allowEscapeViewBox:l,coordinate:u,offsetTopLeft:g,position:f,reverseDirection:p,tooltipBox:this.state.lastBoundingBox,useTranslate3d:y,viewBox:v}),N=b.cssClasses,w=b.cssProperties,C=h4(h4({transition:h&&i?"transform ".concat(o,"ms ").concat(c):void 0},w),{},{pointerEvents:"none",visibility:!this.state.dismissed&&i&&m?"visible":"hidden",position:"absolute",top:0,left:0},x);return G.createElement("div",{tabIndex:-1,className:N,style:C,ref:function(S){n.wrapperNode=S}},d)}}])}(j.PureComponent),rye=function(){return!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout)},Ai={isSsr:rye(),get:function(r){return Ai[r]},set:function(r,s){if(typeof r=="string")Ai[r]=s;else{var n=Object.keys(r);n&&n.length&&n.forEach(function(a){Ai[a]=r[a]})}}};function Cu(t){"@babel/helpers - typeof";return Cu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},Cu(t)}function f4(t,r){var s=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);r&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),s.push.apply(s,n)}return s}function x4(t){for(var r=1;r<arguments.length;r++){var s=arguments[r]!=null?arguments[r]:{};r%2?f4(Object(s),!0).forEach(function(n){oP(t,n,s[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(s)):f4(Object(s)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(s,n))})}return t}function sye(t,r){if(!(t instanceof r))throw new TypeError("Cannot call a class as a function")}function nye(t,r){for(var s=0;s<r.length;s++){var n=r[s];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,dq(n.key),n)}}function aye(t,r,s){return r&&nye(t.prototype,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function iye(t,r,s){return r=Ev(r),lye(t,cq()?Reflect.construct(r,s||[],Ev(t).constructor):r.apply(t,s))}function lye(t,r){if(r&&(Cu(r)==="object"||typeof r=="function"))return r;if(r!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return oye(t)}function oye(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function cq(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(cq=function(){return!!t})()}function Ev(t){return Ev=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(s){return s.__proto__||Object.getPrototypeOf(s)},Ev(t)}function cye(t,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(r&&r.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),r&&C1(t,r)}function C1(t,r){return C1=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},C1(t,r)}function oP(t,r,s){return r=dq(r),r in t?Object.defineProperty(t,r,{value:s,enumerable:!0,configurable:!0,writable:!0}):t[r]=s,t}function dq(t){var r=dye(t,"string");return Cu(r)=="symbol"?r:r+""}function dye(t,r){if(Cu(t)!="object"||!t)return t;var s=t[Symbol.toPrimitive];if(s!==void 0){var n=s.call(t,r||"default");if(Cu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(t)}function uye(t){return t.dataKey}function mye(t,r){return G.isValidElement(t)?G.cloneElement(t,r):typeof t=="function"?G.createElement(t,r):G.createElement(Bve,r)}var Kn=function(t){function r(){return sye(this,r),iye(this,r,arguments)}return cye(r,t),aye(r,[{key:"render",value:function(){var n=this,a=this.props,i=a.active,l=a.allowEscapeViewBox,o=a.animationDuration,c=a.animationEasing,d=a.content,u=a.coordinate,m=a.filterNull,h=a.isAnimationActive,g=a.offset,f=a.payload,p=a.payloadUniqBy,y=a.position,v=a.reverseDirection,x=a.useTranslate3d,b=a.viewBox,N=a.wrapperStyle,w=f??[];m&&w.length&&(w=JU(f.filter(function(P){return P.value!=null&&(P.hide!==!0||n.props.includeHidden)}),p,uye));var C=w.length>0;return G.createElement(tye,{allowEscapeViewBox:l,animationDuration:o,animationEasing:c,isAnimationActive:h,active:i,coordinate:u,hasPayload:C,offset:g,position:y,reverseDirection:v,useTranslate3d:x,viewBox:b,wrapperStyle:N},mye(d,x4(x4({},this.props),{},{payload:w})))}}])}(j.PureComponent);oP(Kn,"displayName","Tooltip");oP(Kn,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!Ai.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var hye=Bi,pye=function(){return hye.Date.now()},fye=pye,xye=/\s/;function gye(t){for(var r=t.length;r--&&xye.test(t.charAt(r)););return r}var vye=gye,yye=vye,jye=/^\s+/;function bye(t){return t&&t.slice(0,yye(t)+1).replace(jye,"")}var Nye=bye,wye=Nye,g4=Mo,Sye=pm,v4=NaN,Cye=/^[-+]0x[0-9a-f]+$/i,Pye=/^0b[01]+$/i,kye=/^0o[0-7]+$/i,Aye=parseInt;function _ye(t){if(typeof t=="number")return t;if(Sye(t))return v4;if(g4(t)){var r=typeof t.valueOf=="function"?t.valueOf():t;t=g4(r)?r+"":r}if(typeof t!="string")return t===0?t:+t;t=wye(t);var s=Pye.test(t);return s||kye.test(t)?Aye(t.slice(2),s?2:8):Cye.test(t)?v4:+t}var uq=_ye,Tye=Mo,$0=fye,y4=uq,Oye="Expected a function",Eye=Math.max,Dye=Math.min;function Mye(t,r,s){var n,a,i,l,o,c,d=0,u=!1,m=!1,h=!0;if(typeof t!="function")throw new TypeError(Oye);r=y4(r)||0,Tye(s)&&(u=!!s.leading,m="maxWait"in s,i=m?Eye(y4(s.maxWait)||0,r):i,h="trailing"in s?!!s.trailing:h);function g(C){var P=n,S=a;return n=a=void 0,d=C,l=t.apply(S,P),l}function f(C){return d=C,o=setTimeout(v,r),u?g(C):l}function p(C){var P=C-c,S=C-d,A=r-P;return m?Dye(A,i-S):A}function y(C){var P=C-c,S=C-d;return c===void 0||P>=r||P<0||m&&S>=i}function v(){var C=$0();if(y(C))return x(C);o=setTimeout(v,p(C))}function x(C){return o=void 0,h&&n?g(C):(n=a=void 0,l)}function b(){o!==void 0&&clearTimeout(o),d=0,n=c=a=o=void 0}function N(){return o===void 0?l:x($0())}function w(){var C=$0(),P=y(C);if(n=arguments,a=this,c=C,P){if(o===void 0)return f(c);if(m)return clearTimeout(o),o=setTimeout(v,r),g(c)}return o===void 0&&(o=setTimeout(v,r)),l}return w.cancel=b,w.flush=N,w}var Iye=Mye,Rye=Iye,Fye=Mo,$ye="Expected a function";function Lye(t,r,s){var n=!0,a=!0;if(typeof t!="function")throw new TypeError($ye);return Fye(s)&&(n="leading"in s?!!s.leading:n,a="trailing"in s?!!s.trailing:a),Rye(t,r,{leading:n,maxWait:r,trailing:a})}var Bye=Lye;const mq=yr(Bye);function Ap(t){"@babel/helpers - typeof";return Ap=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},Ap(t)}function j4(t,r){var s=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);r&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),s.push.apply(s,n)}return s}function Px(t){for(var r=1;r<arguments.length;r++){var s=arguments[r]!=null?arguments[r]:{};r%2?j4(Object(s),!0).forEach(function(n){Vye(t,n,s[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(s)):j4(Object(s)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(s,n))})}return t}function Vye(t,r,s){return r=Uye(r),r in t?Object.defineProperty(t,r,{value:s,enumerable:!0,configurable:!0,writable:!0}):t[r]=s,t}function Uye(t){var r=qye(t,"string");return Ap(r)=="symbol"?r:r+""}function qye(t,r){if(Ap(t)!="object"||!t)return t;var s=t[Symbol.toPrimitive];if(s!==void 0){var n=s.call(t,r||"default");if(Ap(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(t)}function zye(t,r){return Gye(t)||Wye(t,r)||Hye(t,r)||Kye()}function Kye(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Hye(t,r){if(t){if(typeof t=="string")return b4(t,r);var s=Object.prototype.toString.call(t).slice(8,-1);if(s==="Object"&&t.constructor&&(s=t.constructor.name),s==="Map"||s==="Set")return Array.from(t);if(s==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(s))return b4(t,r)}}function b4(t,r){(r==null||r>t.length)&&(r=t.length);for(var s=0,n=new Array(r);s<r;s++)n[s]=t[s];return n}function Wye(t,r){var s=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(s!=null){var n,a,i,l,o=[],c=!0,d=!1;try{if(i=(s=s.call(t)).next,r!==0)for(;!(c=(n=i.call(s)).done)&&(o.push(n.value),o.length!==r);c=!0);}catch(u){d=!0,a=u}finally{try{if(!c&&s.return!=null&&(l=s.return(),Object(l)!==l))return}finally{if(d)throw a}}return o}}function Gye(t){if(Array.isArray(t))return t}var Dv=j.forwardRef(function(t,r){var s=t.aspect,n=t.initialDimension,a=n===void 0?{width:-1,height:-1}:n,i=t.width,l=i===void 0?"100%":i,o=t.height,c=o===void 0?"100%":o,d=t.minWidth,u=d===void 0?0:d,m=t.minHeight,h=t.maxHeight,g=t.children,f=t.debounce,p=f===void 0?0:f,y=t.id,v=t.className,x=t.onResize,b=t.style,N=b===void 0?{}:b,w=j.useRef(null),C=j.useRef();C.current=x,j.useImperativeHandle(r,function(){return Object.defineProperty(w.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),w.current},configurable:!0})});var P=j.useState({containerWidth:a.width,containerHeight:a.height}),S=zye(P,2),A=S[0],k=S[1],I=j.useCallback(function(K,R){k(function(F){var W=Math.round(K),Q=Math.round(R);return F.containerWidth===W&&F.containerHeight===Q?F:{containerWidth:W,containerHeight:Q}})},[]);j.useEffect(function(){var K=function(Z){var me,Ne=Z[0].contentRect,te=Ne.width,Ie=Ne.height;I(te,Ie),(me=C.current)===null||me===void 0||me.call(C,te,Ie)};p>0&&(K=mq(K,p,{trailing:!0,leading:!1}));var R=new ResizeObserver(K),F=w.current.getBoundingClientRect(),W=F.width,Q=F.height;return I(W,Q),R.observe(w.current),function(){R.disconnect()}},[I,p]);var L=j.useMemo(function(){var K=A.containerWidth,R=A.containerHeight;if(K<0||R<0)return null;Ja(ec(l)||ec(c),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,l,c),Ja(!s||s>0,"The aspect(%s) must be greater than zero.",s);var F=ec(l)?K:l,W=ec(c)?R:c;s&&s>0&&(F?W=F/s:W&&(F=W*s),h&&W>h&&(W=h)),Ja(F>0||W>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,F,W,l,c,u,m,s);var Q=!Array.isArray(g)&&ll(g.type).endsWith("Chart");return G.Children.map(g,function(H){return G.isValidElement(H)?j.cloneElement(H,Px({width:F,height:W},Q?{style:Px({height:"100%",width:"100%",maxHeight:W,maxWidth:F},H.props.style)}:{})):H})},[s,g,c,h,m,u,A,l]);return G.createElement("div",{id:y?"".concat(y):void 0,className:Kt("recharts-responsive-container",v),style:Px(Px({},N),{},{width:l,height:c,minWidth:u,minHeight:m,maxHeight:h}),ref:w},L)}),qj=function(r){return null};qj.displayName="Cell";function _p(t){"@babel/helpers - typeof";return _p=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},_p(t)}function N4(t,r){var s=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);r&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),s.push.apply(s,n)}return s}function P1(t){for(var r=1;r<arguments.length;r++){var s=arguments[r]!=null?arguments[r]:{};r%2?N4(Object(s),!0).forEach(function(n){Yye(t,n,s[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(s)):N4(Object(s)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(s,n))})}return t}function Yye(t,r,s){return r=Qye(r),r in t?Object.defineProperty(t,r,{value:s,enumerable:!0,configurable:!0,writable:!0}):t[r]=s,t}function Qye(t){var r=Xye(t,"string");return _p(r)=="symbol"?r:r+""}function Xye(t,r){if(_p(t)!="object"||!t)return t;var s=t[Symbol.toPrimitive];if(s!==void 0){var n=s.call(t,r||"default");if(_p(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(t)}var nd={widthCache:{},cacheCount:0},Zye=2e3,Jye={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},w4="recharts_measurement_span";function eje(t){var r=P1({},t);return Object.keys(r).forEach(function(s){r[s]||delete r[s]}),r}var Mh=function(r){var s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(r==null||Ai.isSsr)return{width:0,height:0};var n=eje(s),a=JSON.stringify({text:r,copyStyle:n});if(nd.widthCache[a])return nd.widthCache[a];try{var i=document.getElementById(w4);i||(i=document.createElement("span"),i.setAttribute("id",w4),i.setAttribute("aria-hidden","true"),document.body.appendChild(i));var l=P1(P1({},Jye),n);Object.assign(i.style,l),i.textContent="".concat(r);var o=i.getBoundingClientRect(),c={width:o.width,height:o.height};return nd.widthCache[a]=c,++nd.cacheCount>Zye&&(nd.cacheCount=0,nd.widthCache={}),c}catch{return{width:0,height:0}}},tje=function(r){return{top:r.top+window.scrollY-document.documentElement.clientTop,left:r.left+window.scrollX-document.documentElement.clientLeft}};function Tp(t){"@babel/helpers - typeof";return Tp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},Tp(t)}function Mv(t,r){return aje(t)||nje(t,r)||sje(t,r)||rje()}function rje(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function sje(t,r){if(t){if(typeof t=="string")return S4(t,r);var s=Object.prototype.toString.call(t).slice(8,-1);if(s==="Object"&&t.constructor&&(s=t.constructor.name),s==="Map"||s==="Set")return Array.from(t);if(s==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(s))return S4(t,r)}}function S4(t,r){(r==null||r>t.length)&&(r=t.length);for(var s=0,n=new Array(r);s<r;s++)n[s]=t[s];return n}function nje(t,r){var s=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(s!=null){var n,a,i,l,o=[],c=!0,d=!1;try{if(i=(s=s.call(t)).next,r===0){if(Object(s)!==s)return;c=!1}else for(;!(c=(n=i.call(s)).done)&&(o.push(n.value),o.length!==r);c=!0);}catch(u){d=!0,a=u}finally{try{if(!c&&s.return!=null&&(l=s.return(),Object(l)!==l))return}finally{if(d)throw a}}return o}}function aje(t){if(Array.isArray(t))return t}function ije(t,r){if(!(t instanceof r))throw new TypeError("Cannot call a class as a function")}function C4(t,r){for(var s=0;s<r.length;s++){var n=r[s];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,oje(n.key),n)}}function lje(t,r,s){return r&&C4(t.prototype,r),s&&C4(t,s),Object.defineProperty(t,"prototype",{writable:!1}),t}function oje(t){var r=cje(t,"string");return Tp(r)=="symbol"?r:r+""}function cje(t,r){if(Tp(t)!="object"||!t)return t;var s=t[Symbol.toPrimitive];if(s!==void 0){var n=s.call(t,r);if(Tp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var P4=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,k4=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,dje=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,uje=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,hq={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},mje=Object.keys(hq),Sd="NaN";function hje(t,r){return t*hq[r]}var kx=function(){function t(r,s){ije(this,t),this.num=r,this.unit=s,this.num=r,this.unit=s,Number.isNaN(r)&&(this.unit=""),s!==""&&!dje.test(s)&&(this.num=NaN,this.unit=""),mje.includes(s)&&(this.num=hje(r,s),this.unit="px")}return lje(t,[{key:"add",value:function(s){return this.unit!==s.unit?new t(NaN,""):new t(this.num+s.num,this.unit)}},{key:"subtract",value:function(s){return this.unit!==s.unit?new t(NaN,""):new t(this.num-s.num,this.unit)}},{key:"multiply",value:function(s){return this.unit!==""&&s.unit!==""&&this.unit!==s.unit?new t(NaN,""):new t(this.num*s.num,this.unit||s.unit)}},{key:"divide",value:function(s){return this.unit!==""&&s.unit!==""&&this.unit!==s.unit?new t(NaN,""):new t(this.num/s.num,this.unit||s.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}],[{key:"parse",value:function(s){var n,a=(n=uje.exec(s))!==null&&n!==void 0?n:[],i=Mv(a,3),l=i[1],o=i[2];return new t(parseFloat(l),o??"")}}])}();function pq(t){if(t.includes(Sd))return Sd;for(var r=t;r.includes("*")||r.includes("/");){var s,n=(s=P4.exec(r))!==null&&s!==void 0?s:[],a=Mv(n,4),i=a[1],l=a[2],o=a[3],c=kx.parse(i??""),d=kx.parse(o??""),u=l==="*"?c.multiply(d):c.divide(d);if(u.isNaN())return Sd;r=r.replace(P4,u.toString())}for(;r.includes("+")||/.-\d+(?:\.\d+)?/.test(r);){var m,h=(m=k4.exec(r))!==null&&m!==void 0?m:[],g=Mv(h,4),f=g[1],p=g[2],y=g[3],v=kx.parse(f??""),x=kx.parse(y??""),b=p==="+"?v.add(x):v.subtract(x);if(b.isNaN())return Sd;r=r.replace(k4,b.toString())}return r}var A4=/\(([^()]*)\)/;function pje(t){for(var r=t;r.includes("(");){var s=A4.exec(r),n=Mv(s,2),a=n[1];r=r.replace(A4,pq(a))}return r}function fje(t){var r=t.replace(/\s+/g,"");return r=pje(r),r=pq(r),r}function xje(t){try{return fje(t)}catch{return Sd}}function L0(t){var r=xje(t.slice(5,-1));return r===Sd?"":r}var gje=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],vje=["dx","dy","angle","className","breakAll"];function k1(){return k1=Object.assign?Object.assign.bind():function(t){for(var r=1;r<arguments.length;r++){var s=arguments[r];for(var n in s)Object.prototype.hasOwnProperty.call(s,n)&&(t[n]=s[n])}return t},k1.apply(this,arguments)}function _4(t,r){if(t==null)return{};var s=yje(t,r),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)n=i[a],!(r.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(s[n]=t[n])}return s}function yje(t,r){if(t==null)return{};var s={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(r.indexOf(n)>=0)continue;s[n]=t[n]}return s}function T4(t,r){return wje(t)||Nje(t,r)||bje(t,r)||jje()}function jje(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function bje(t,r){if(t){if(typeof t=="string")return O4(t,r);var s=Object.prototype.toString.call(t).slice(8,-1);if(s==="Object"&&t.constructor&&(s=t.constructor.name),s==="Map"||s==="Set")return Array.from(t);if(s==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(s))return O4(t,r)}}function O4(t,r){(r==null||r>t.length)&&(r=t.length);for(var s=0,n=new Array(r);s<r;s++)n[s]=t[s];return n}function Nje(t,r){var s=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(s!=null){var n,a,i,l,o=[],c=!0,d=!1;try{if(i=(s=s.call(t)).next,r===0){if(Object(s)!==s)return;c=!1}else for(;!(c=(n=i.call(s)).done)&&(o.push(n.value),o.length!==r);c=!0);}catch(u){d=!0,a=u}finally{try{if(!c&&s.return!=null&&(l=s.return(),Object(l)!==l))return}finally{if(d)throw a}}return o}}function wje(t){if(Array.isArray(t))return t}var fq=/[ \f\n\r\t\v\u2028\u2029]+/,xq=function(r){var s=r.children,n=r.breakAll,a=r.style;try{var i=[];Bt(s)||(n?i=s.toString().split(""):i=s.toString().split(fq));var l=i.map(function(c){return{word:c,width:Mh(c,a).width}}),o=n?0:Mh("",a).width;return{wordsWithComputedWidth:l,spaceWidth:o}}catch{return null}},Sje=function(r,s,n,a,i){var l=r.maxLines,o=r.children,c=r.style,d=r.breakAll,u=Qe(l),m=o,h=function(){var F=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return F.reduce(function(W,Q){var H=Q.word,Z=Q.width,me=W[W.length-1];if(me&&(a==null||i||me.width+Z+n<Number(a)))me.words.push(H),me.width+=Z+n;else{var Ne={words:[H],width:Z};W.push(Ne)}return W},[])},g=h(s),f=function(F){return F.reduce(function(W,Q){return W.width>Q.width?W:Q})};if(!u)return g;for(var p="",y=function(F){var W=m.slice(0,F),Q=xq({breakAll:d,style:c,children:W+p}).wordsWithComputedWidth,H=h(Q),Z=H.length>l||f(H).width>Number(a);return[Z,H]},v=0,x=m.length-1,b=0,N;v<=x&&b<=m.length-1;){var w=Math.floor((v+x)/2),C=w-1,P=y(C),S=T4(P,2),A=S[0],k=S[1],I=y(w),L=T4(I,1),K=L[0];if(!A&&!K&&(v=w+1),A&&K&&(x=w-1),!A&&K){N=k;break}b++}return N||g},E4=function(r){var s=Bt(r)?[]:r.toString().split(fq);return[{words:s}]},Cje=function(r){var s=r.width,n=r.scaleToFit,a=r.children,i=r.style,l=r.breakAll,o=r.maxLines;if((s||n)&&!Ai.isSsr){var c,d,u=xq({breakAll:l,children:a,style:i});if(u){var m=u.wordsWithComputedWidth,h=u.spaceWidth;c=m,d=h}else return E4(a);return Sje({breakAll:l,children:a,maxLines:o,style:i},c,d,s,n)}return E4(a)},D4="#808080",Oc=function(r){var s=r.x,n=s===void 0?0:s,a=r.y,i=a===void 0?0:a,l=r.lineHeight,o=l===void 0?"1em":l,c=r.capHeight,d=c===void 0?"0.71em":c,u=r.scaleToFit,m=u===void 0?!1:u,h=r.textAnchor,g=h===void 0?"start":h,f=r.verticalAnchor,p=f===void 0?"end":f,y=r.fill,v=y===void 0?D4:y,x=_4(r,gje),b=j.useMemo(function(){return Cje({breakAll:x.breakAll,children:x.children,maxLines:x.maxLines,scaleToFit:m,style:x.style,width:x.width})},[x.breakAll,x.children,x.maxLines,m,x.style,x.width]),N=x.dx,w=x.dy,C=x.angle,P=x.className,S=x.breakAll,A=_4(x,vje);if(!Cs(n)||!Cs(i))return null;var k=n+(Qe(N)?N:0),I=i+(Qe(w)?w:0),L;switch(p){case"start":L=L0("calc(".concat(d,")"));break;case"middle":L=L0("calc(".concat((b.length-1)/2," * -").concat(o," + (").concat(d," / 2))"));break;default:L=L0("calc(".concat(b.length-1," * -").concat(o,")"));break}var K=[];if(m){var R=b[0].width,F=x.width;K.push("scale(".concat((Qe(F)?F/R:1)/R,")"))}return C&&K.push("rotate(".concat(C,", ").concat(k,", ").concat(I,")")),K.length&&(A.transform=K.join(" ")),G.createElement("text",k1({},Nt(A,!0),{x:k,y:I,className:Kt("recharts-text",P),textAnchor:g,fill:v.includes("url")?D4:v}),b.map(function(W,Q){var H=W.words.join(S?"":" ");return G.createElement("tspan",{x:k,dy:Q===0?L:o,key:"".concat(H,"-").concat(Q)},H)}))};function po(t,r){return t==null||r==null?NaN:t<r?-1:t>r?1:t>=r?0:NaN}function Pje(t,r){return t==null||r==null?NaN:r<t?-1:r>t?1:r>=t?0:NaN}function cP(t){let r,s,n;t.length!==2?(r=po,s=(o,c)=>po(t(o),c),n=(o,c)=>t(o)-c):(r=t===po||t===Pje?t:kje,s=t,n=t);function a(o,c,d=0,u=o.length){if(d<u){if(r(c,c)!==0)return u;do{const m=d+u>>>1;s(o[m],c)<0?d=m+1:u=m}while(d<u)}return d}function i(o,c,d=0,u=o.length){if(d<u){if(r(c,c)!==0)return u;do{const m=d+u>>>1;s(o[m],c)<=0?d=m+1:u=m}while(d<u)}return d}function l(o,c,d=0,u=o.length){const m=a(o,c,d,u-1);return m>d&&n(o[m-1],c)>-n(o[m],c)?m-1:m}return{left:a,center:l,right:i}}function kje(){return 0}function gq(t){return t===null?NaN:+t}function*Aje(t,r){for(let s of t)s!=null&&(s=+s)>=s&&(yield s)}const _je=cP(po),If=_je.right;cP(gq).center;class M4 extends Map{constructor(r,s=Eje){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:s}}),r!=null)for(const[n,a]of r)this.set(n,a)}get(r){return super.get(I4(this,r))}has(r){return super.has(I4(this,r))}set(r,s){return super.set(Tje(this,r),s)}delete(r){return super.delete(Oje(this,r))}}function I4({_intern:t,_key:r},s){const n=r(s);return t.has(n)?t.get(n):s}function Tje({_intern:t,_key:r},s){const n=r(s);return t.has(n)?t.get(n):(t.set(n,s),s)}function Oje({_intern:t,_key:r},s){const n=r(s);return t.has(n)&&(s=t.get(n),t.delete(n)),s}function Eje(t){return t!==null&&typeof t=="object"?t.valueOf():t}function Dje(t=po){if(t===po)return vq;if(typeof t!="function")throw new TypeError("compare is not a function");return(r,s)=>{const n=t(r,s);return n||n===0?n:(t(s,s)===0)-(t(r,r)===0)}}function vq(t,r){return(t==null||!(t>=t))-(r==null||!(r>=r))||(t<r?-1:t>r?1:0)}const Mje=Math.sqrt(50),Ije=Math.sqrt(10),Rje=Math.sqrt(2);function Iv(t,r,s){const n=(r-t)/Math.max(0,s),a=Math.floor(Math.log10(n)),i=n/Math.pow(10,a),l=i>=Mje?10:i>=Ije?5:i>=Rje?2:1;let o,c,d;return a<0?(d=Math.pow(10,-a)/l,o=Math.round(t*d),c=Math.round(r*d),o/d<t&&++o,c/d>r&&--c,d=-d):(d=Math.pow(10,a)*l,o=Math.round(t/d),c=Math.round(r/d),o*d<t&&++o,c*d>r&&--c),c<o&&.5<=s&&s<2?Iv(t,r,s*2):[o,c,d]}function A1(t,r,s){if(r=+r,t=+t,s=+s,!(s>0))return[];if(t===r)return[t];const n=r<t,[a,i,l]=n?Iv(r,t,s):Iv(t,r,s);if(!(i>=a))return[];const o=i-a+1,c=new Array(o);if(n)if(l<0)for(let d=0;d<o;++d)c[d]=(i-d)/-l;else for(let d=0;d<o;++d)c[d]=(i-d)*l;else if(l<0)for(let d=0;d<o;++d)c[d]=(a+d)/-l;else for(let d=0;d<o;++d)c[d]=(a+d)*l;return c}function _1(t,r,s){return r=+r,t=+t,s=+s,Iv(t,r,s)[2]}function T1(t,r,s){r=+r,t=+t,s=+s;const n=r<t,a=n?_1(r,t,s):_1(t,r,s);return(n?-1:1)*(a<0?1/-a:a)}function R4(t,r){let s;for(const n of t)n!=null&&(s<n||s===void 0&&n>=n)&&(s=n);return s}function F4(t,r){let s;for(const n of t)n!=null&&(s>n||s===void 0&&n>=n)&&(s=n);return s}function yq(t,r,s=0,n=1/0,a){if(r=Math.floor(r),s=Math.floor(Math.max(0,s)),n=Math.floor(Math.min(t.length-1,n)),!(s<=r&&r<=n))return t;for(a=a===void 0?vq:Dje(a);n>s;){if(n-s>600){const c=n-s+1,d=r-s+1,u=Math.log(c),m=.5*Math.exp(2*u/3),h=.5*Math.sqrt(u*m*(c-m)/c)*(d-c/2<0?-1:1),g=Math.max(s,Math.floor(r-d*m/c+h)),f=Math.min(n,Math.floor(r+(c-d)*m/c+h));yq(t,r,g,f,a)}const i=t[r];let l=s,o=n;for(Hm(t,s,r),a(t[n],i)>0&&Hm(t,s,n);l<o;){for(Hm(t,l,o),++l,--o;a(t[l],i)<0;)++l;for(;a(t[o],i)>0;)--o}a(t[s],i)===0?Hm(t,s,o):(++o,Hm(t,o,n)),o<=r&&(s=o+1),r<=o&&(n=o-1)}return t}function Hm(t,r,s){const n=t[r];t[r]=t[s],t[s]=n}function Fje(t,r,s){if(t=Float64Array.from(Aje(t)),!(!(n=t.length)||isNaN(r=+r))){if(r<=0||n<2)return F4(t);if(r>=1)return R4(t);var n,a=(n-1)*r,i=Math.floor(a),l=R4(yq(t,i).subarray(0,i+1)),o=F4(t.subarray(i+1));return l+(o-l)*(a-i)}}function $je(t,r,s=gq){if(!(!(n=t.length)||isNaN(r=+r))){if(r<=0||n<2)return+s(t[0],0,t);if(r>=1)return+s(t[n-1],n-1,t);var n,a=(n-1)*r,i=Math.floor(a),l=+s(t[i],i,t),o=+s(t[i+1],i+1,t);return l+(o-l)*(a-i)}}function Lje(t,r,s){t=+t,r=+r,s=(a=arguments.length)<2?(r=t,t=0,1):a<3?1:+s;for(var n=-1,a=Math.max(0,Math.ceil((r-t)/s))|0,i=new Array(a);++n<a;)i[n]=t+n*s;return i}function Ta(t,r){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(r).domain(t);break}return this}function kl(t,r){switch(arguments.length){case 0:break;case 1:{typeof t=="function"?this.interpolator(t):this.range(t);break}default:{this.domain(t),typeof r=="function"?this.interpolator(r):this.range(r);break}}return this}const O1=Symbol("implicit");function dP(){var t=new M4,r=[],s=[],n=O1;function a(i){let l=t.get(i);if(l===void 0){if(n!==O1)return n;t.set(i,l=r.push(i)-1)}return s[l%s.length]}return a.domain=function(i){if(!arguments.length)return r.slice();r=[],t=new M4;for(const l of i)t.has(l)||t.set(l,r.push(l)-1);return a},a.range=function(i){return arguments.length?(s=Array.from(i),a):s.slice()},a.unknown=function(i){return arguments.length?(n=i,a):n},a.copy=function(){return dP(r,s).unknown(n)},Ta.apply(a,arguments),a}function Op(){var t=dP().unknown(void 0),r=t.domain,s=t.range,n=0,a=1,i,l,o=!1,c=0,d=0,u=.5;delete t.unknown;function m(){var h=r().length,g=a<n,f=g?a:n,p=g?n:a;i=(p-f)/Math.max(1,h-c+d*2),o&&(i=Math.floor(i)),f+=(p-f-i*(h-c))*u,l=i*(1-c),o&&(f=Math.round(f),l=Math.round(l));var y=Lje(h).map(function(v){return f+i*v});return s(g?y.reverse():y)}return t.domain=function(h){return arguments.length?(r(h),m()):r()},t.range=function(h){return arguments.length?([n,a]=h,n=+n,a=+a,m()):[n,a]},t.rangeRound=function(h){return[n,a]=h,n=+n,a=+a,o=!0,m()},t.bandwidth=function(){return l},t.step=function(){return i},t.round=function(h){return arguments.length?(o=!!h,m()):o},t.padding=function(h){return arguments.length?(c=Math.min(1,d=+h),m()):c},t.paddingInner=function(h){return arguments.length?(c=Math.min(1,h),m()):c},t.paddingOuter=function(h){return arguments.length?(d=+h,m()):d},t.align=function(h){return arguments.length?(u=Math.max(0,Math.min(1,h)),m()):u},t.copy=function(){return Op(r(),[n,a]).round(o).paddingInner(c).paddingOuter(d).align(u)},Ta.apply(m(),arguments)}function jq(t){var r=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return jq(r())},t}function Ih(){return jq(Op.apply(null,arguments).paddingInner(1))}function uP(t,r,s){t.prototype=r.prototype=s,s.constructor=t}function bq(t,r){var s=Object.create(t.prototype);for(var n in r)s[n]=r[n];return s}function Rf(){}var Ep=.7,Rv=1/Ep,qd="\\s*([+-]?\\d+)\\s*",Dp="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",_i="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Bje=/^#([0-9a-f]{3,8})$/,Vje=new RegExp(`^rgb\\(${qd},${qd},${qd}\\)$`),Uje=new RegExp(`^rgb\\(${_i},${_i},${_i}\\)$`),qje=new RegExp(`^rgba\\(${qd},${qd},${qd},${Dp}\\)$`),zje=new RegExp(`^rgba\\(${_i},${_i},${_i},${Dp}\\)$`),Kje=new RegExp(`^hsl\\(${Dp},${_i},${_i}\\)$`),Hje=new RegExp(`^hsla\\(${Dp},${_i},${_i},${Dp}\\)$`),$4={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};uP(Rf,Mp,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:L4,formatHex:L4,formatHex8:Wje,formatHsl:Gje,formatRgb:B4,toString:B4});function L4(){return this.rgb().formatHex()}function Wje(){return this.rgb().formatHex8()}function Gje(){return Nq(this).formatHsl()}function B4(){return this.rgb().formatRgb()}function Mp(t){var r,s;return t=(t+"").trim().toLowerCase(),(r=Bje.exec(t))?(s=r[1].length,r=parseInt(r[1],16),s===6?V4(r):s===3?new Tn(r>>8&15|r>>4&240,r>>4&15|r&240,(r&15)<<4|r&15,1):s===8?Ax(r>>24&255,r>>16&255,r>>8&255,(r&255)/255):s===4?Ax(r>>12&15|r>>8&240,r>>8&15|r>>4&240,r>>4&15|r&240,((r&15)<<4|r&15)/255):null):(r=Vje.exec(t))?new Tn(r[1],r[2],r[3],1):(r=Uje.exec(t))?new Tn(r[1]*255/100,r[2]*255/100,r[3]*255/100,1):(r=qje.exec(t))?Ax(r[1],r[2],r[3],r[4]):(r=zje.exec(t))?Ax(r[1]*255/100,r[2]*255/100,r[3]*255/100,r[4]):(r=Kje.exec(t))?z4(r[1],r[2]/100,r[3]/100,1):(r=Hje.exec(t))?z4(r[1],r[2]/100,r[3]/100,r[4]):$4.hasOwnProperty(t)?V4($4[t]):t==="transparent"?new Tn(NaN,NaN,NaN,0):null}function V4(t){return new Tn(t>>16&255,t>>8&255,t&255,1)}function Ax(t,r,s,n){return n<=0&&(t=r=s=NaN),new Tn(t,r,s,n)}function Yje(t){return t instanceof Rf||(t=Mp(t)),t?(t=t.rgb(),new Tn(t.r,t.g,t.b,t.opacity)):new Tn}function E1(t,r,s,n){return arguments.length===1?Yje(t):new Tn(t,r,s,n??1)}function Tn(t,r,s,n){this.r=+t,this.g=+r,this.b=+s,this.opacity=+n}uP(Tn,E1,bq(Rf,{brighter(t){return t=t==null?Rv:Math.pow(Rv,t),new Tn(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?Ep:Math.pow(Ep,t),new Tn(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new Tn(pc(this.r),pc(this.g),pc(this.b),Fv(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:U4,formatHex:U4,formatHex8:Qje,formatRgb:q4,toString:q4}));function U4(){return`#${tc(this.r)}${tc(this.g)}${tc(this.b)}`}function Qje(){return`#${tc(this.r)}${tc(this.g)}${tc(this.b)}${tc((isNaN(this.opacity)?1:this.opacity)*255)}`}function q4(){const t=Fv(this.opacity);return`${t===1?"rgb(":"rgba("}${pc(this.r)}, ${pc(this.g)}, ${pc(this.b)}${t===1?")":`, ${t})`}`}function Fv(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function pc(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function tc(t){return t=pc(t),(t<16?"0":"")+t.toString(16)}function z4(t,r,s,n){return n<=0?t=r=s=NaN:s<=0||s>=1?t=r=NaN:r<=0&&(t=NaN),new Ka(t,r,s,n)}function Nq(t){if(t instanceof Ka)return new Ka(t.h,t.s,t.l,t.opacity);if(t instanceof Rf||(t=Mp(t)),!t)return new Ka;if(t instanceof Ka)return t;t=t.rgb();var r=t.r/255,s=t.g/255,n=t.b/255,a=Math.min(r,s,n),i=Math.max(r,s,n),l=NaN,o=i-a,c=(i+a)/2;return o?(r===i?l=(s-n)/o+(s<n)*6:s===i?l=(n-r)/o+2:l=(r-s)/o+4,o/=c<.5?i+a:2-i-a,l*=60):o=c>0&&c<1?0:l,new Ka(l,o,c,t.opacity)}function Xje(t,r,s,n){return arguments.length===1?Nq(t):new Ka(t,r,s,n??1)}function Ka(t,r,s,n){this.h=+t,this.s=+r,this.l=+s,this.opacity=+n}uP(Ka,Xje,bq(Rf,{brighter(t){return t=t==null?Rv:Math.pow(Rv,t),new Ka(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?Ep:Math.pow(Ep,t),new Ka(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,r=isNaN(t)||isNaN(this.s)?0:this.s,s=this.l,n=s+(s<.5?s:1-s)*r,a=2*s-n;return new Tn(B0(t>=240?t-240:t+120,a,n),B0(t,a,n),B0(t<120?t+240:t-120,a,n),this.opacity)},clamp(){return new Ka(K4(this.h),_x(this.s),_x(this.l),Fv(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=Fv(this.opacity);return`${t===1?"hsl(":"hsla("}${K4(this.h)}, ${_x(this.s)*100}%, ${_x(this.l)*100}%${t===1?")":`, ${t})`}`}}));function K4(t){return t=(t||0)%360,t<0?t+360:t}function _x(t){return Math.max(0,Math.min(1,t||0))}function B0(t,r,s){return(t<60?r+(s-r)*t/60:t<180?s:t<240?r+(s-r)*(240-t)/60:r)*255}const mP=t=>()=>t;function Zje(t,r){return function(s){return t+s*r}}function Jje(t,r,s){return t=Math.pow(t,s),r=Math.pow(r,s)-t,s=1/s,function(n){return Math.pow(t+n*r,s)}}function ebe(t){return(t=+t)==1?wq:function(r,s){return s-r?Jje(r,s,t):mP(isNaN(r)?s:r)}}function wq(t,r){var s=r-t;return s?Zje(t,s):mP(isNaN(t)?r:t)}const H4=function t(r){var s=ebe(r);function n(a,i){var l=s((a=E1(a)).r,(i=E1(i)).r),o=s(a.g,i.g),c=s(a.b,i.b),d=wq(a.opacity,i.opacity);return function(u){return a.r=l(u),a.g=o(u),a.b=c(u),a.opacity=d(u),a+""}}return n.gamma=t,n}(1);function tbe(t,r){r||(r=[]);var s=t?Math.min(r.length,t.length):0,n=r.slice(),a;return function(i){for(a=0;a<s;++a)n[a]=t[a]*(1-i)+r[a]*i;return n}}function rbe(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function sbe(t,r){var s=r?r.length:0,n=t?Math.min(s,t.length):0,a=new Array(n),i=new Array(s),l;for(l=0;l<n;++l)a[l]=wm(t[l],r[l]);for(;l<s;++l)i[l]=r[l];return function(o){for(l=0;l<n;++l)i[l]=a[l](o);return i}}function nbe(t,r){var s=new Date;return t=+t,r=+r,function(n){return s.setTime(t*(1-n)+r*n),s}}function $v(t,r){return t=+t,r=+r,function(s){return t*(1-s)+r*s}}function abe(t,r){var s={},n={},a;(t===null||typeof t!="object")&&(t={}),(r===null||typeof r!="object")&&(r={});for(a in r)a in t?s[a]=wm(t[a],r[a]):n[a]=r[a];return function(i){for(a in s)n[a]=s[a](i);return n}}var D1=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,V0=new RegExp(D1.source,"g");function ibe(t){return function(){return t}}function lbe(t){return function(r){return t(r)+""}}function obe(t,r){var s=D1.lastIndex=V0.lastIndex=0,n,a,i,l=-1,o=[],c=[];for(t=t+"",r=r+"";(n=D1.exec(t))&&(a=V0.exec(r));)(i=a.index)>s&&(i=r.slice(s,i),o[l]?o[l]+=i:o[++l]=i),(n=n[0])===(a=a[0])?o[l]?o[l]+=a:o[++l]=a:(o[++l]=null,c.push({i:l,x:$v(n,a)})),s=V0.lastIndex;return s<r.length&&(i=r.slice(s),o[l]?o[l]+=i:o[++l]=i),o.length<2?c[0]?lbe(c[0].x):ibe(r):(r=c.length,function(d){for(var u=0,m;u<r;++u)o[(m=c[u]).i]=m.x(d);return o.join("")})}function wm(t,r){var s=typeof r,n;return r==null||s==="boolean"?mP(r):(s==="number"?$v:s==="string"?(n=Mp(r))?(r=n,H4):obe:r instanceof Mp?H4:r instanceof Date?nbe:rbe(r)?tbe:Array.isArray(r)?sbe:typeof r.valueOf!="function"&&typeof r.toString!="function"||isNaN(r)?abe:$v)(t,r)}function hP(t,r){return t=+t,r=+r,function(s){return Math.round(t*(1-s)+r*s)}}function cbe(t,r){r===void 0&&(r=t,t=wm);for(var s=0,n=r.length-1,a=r[0],i=new Array(n<0?0:n);s<n;)i[s]=t(a,a=r[++s]);return function(l){var o=Math.max(0,Math.min(n-1,Math.floor(l*=n)));return i[o](l-o)}}function dbe(t){return function(){return t}}function Lv(t){return+t}var W4=[0,1];function mn(t){return t}function M1(t,r){return(r-=t=+t)?function(s){return(s-t)/r}:dbe(isNaN(r)?NaN:.5)}function ube(t,r){var s;return t>r&&(s=t,t=r,r=s),function(n){return Math.max(t,Math.min(r,n))}}function mbe(t,r,s){var n=t[0],a=t[1],i=r[0],l=r[1];return a<n?(n=M1(a,n),i=s(l,i)):(n=M1(n,a),i=s(i,l)),function(o){return i(n(o))}}function hbe(t,r,s){var n=Math.min(t.length,r.length)-1,a=new Array(n),i=new Array(n),l=-1;for(t[n]<t[0]&&(t=t.slice().reverse(),r=r.slice().reverse());++l<n;)a[l]=M1(t[l],t[l+1]),i[l]=s(r[l],r[l+1]);return function(o){var c=If(t,o,1,n)-1;return i[c](a[c](o))}}function Ff(t,r){return r.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function zj(){var t=W4,r=W4,s=wm,n,a,i,l=mn,o,c,d;function u(){var h=Math.min(t.length,r.length);return l!==mn&&(l=ube(t[0],t[h-1])),o=h>2?hbe:mbe,c=d=null,m}function m(h){return h==null||isNaN(h=+h)?i:(c||(c=o(t.map(n),r,s)))(n(l(h)))}return m.invert=function(h){return l(a((d||(d=o(r,t.map(n),$v)))(h)))},m.domain=function(h){return arguments.length?(t=Array.from(h,Lv),u()):t.slice()},m.range=function(h){return arguments.length?(r=Array.from(h),u()):r.slice()},m.rangeRound=function(h){return r=Array.from(h),s=hP,u()},m.clamp=function(h){return arguments.length?(l=h?!0:mn,u()):l!==mn},m.interpolate=function(h){return arguments.length?(s=h,u()):s},m.unknown=function(h){return arguments.length?(i=h,m):i},function(h,g){return n=h,a=g,u()}}function pP(){return zj()(mn,mn)}function pbe(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function Bv(t,r){if((s=(t=r?t.toExponential(r-1):t.toExponential()).indexOf("e"))<0)return null;var s,n=t.slice(0,s);return[n.length>1?n[0]+n.slice(2):n,+t.slice(s+1)]}function Pu(t){return t=Bv(Math.abs(t)),t?t[1]:NaN}function fbe(t,r){return function(s,n){for(var a=s.length,i=[],l=0,o=t[0],c=0;a>0&&o>0&&(c+o+1>n&&(o=Math.max(1,n-c)),i.push(s.substring(a-=o,a+o)),!((c+=o+1)>n));)o=t[l=(l+1)%t.length];return i.reverse().join(r)}}function xbe(t){return function(r){return r.replace(/[0-9]/g,function(s){return t[+s]})}}var gbe=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Ip(t){if(!(r=gbe.exec(t)))throw new Error("invalid format: "+t);var r;return new fP({fill:r[1],align:r[2],sign:r[3],symbol:r[4],zero:r[5],width:r[6],comma:r[7],precision:r[8]&&r[8].slice(1),trim:r[9],type:r[10]})}Ip.prototype=fP.prototype;function fP(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}fP.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function vbe(t){e:for(var r=t.length,s=1,n=-1,a;s<r;++s)switch(t[s]){case".":n=a=s;break;case"0":n===0&&(n=s),a=s;break;default:if(!+t[s])break e;n>0&&(n=0);break}return n>0?t.slice(0,n)+t.slice(a+1):t}var Sq;function ybe(t,r){var s=Bv(t,r);if(!s)return t+"";var n=s[0],a=s[1],i=a-(Sq=Math.max(-8,Math.min(8,Math.floor(a/3)))*3)+1,l=n.length;return i===l?n:i>l?n+new Array(i-l+1).join("0"):i>0?n.slice(0,i)+"."+n.slice(i):"0."+new Array(1-i).join("0")+Bv(t,Math.max(0,r+i-1))[0]}function G4(t,r){var s=Bv(t,r);if(!s)return t+"";var n=s[0],a=s[1];return a<0?"0."+new Array(-a).join("0")+n:n.length>a+1?n.slice(0,a+1)+"."+n.slice(a+1):n+new Array(a-n.length+2).join("0")}const Y4={"%":(t,r)=>(t*100).toFixed(r),b:t=>Math.round(t).toString(2),c:t=>t+"",d:pbe,e:(t,r)=>t.toExponential(r),f:(t,r)=>t.toFixed(r),g:(t,r)=>t.toPrecision(r),o:t=>Math.round(t).toString(8),p:(t,r)=>G4(t*100,r),r:G4,s:ybe,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function Q4(t){return t}var X4=Array.prototype.map,Z4=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function jbe(t){var r=t.grouping===void 0||t.thousands===void 0?Q4:fbe(X4.call(t.grouping,Number),t.thousands+""),s=t.currency===void 0?"":t.currency[0]+"",n=t.currency===void 0?"":t.currency[1]+"",a=t.decimal===void 0?".":t.decimal+"",i=t.numerals===void 0?Q4:xbe(X4.call(t.numerals,String)),l=t.percent===void 0?"%":t.percent+"",o=t.minus===void 0?"":t.minus+"",c=t.nan===void 0?"NaN":t.nan+"";function d(m){m=Ip(m);var h=m.fill,g=m.align,f=m.sign,p=m.symbol,y=m.zero,v=m.width,x=m.comma,b=m.precision,N=m.trim,w=m.type;w==="n"?(x=!0,w="g"):Y4[w]||(b===void 0&&(b=12),N=!0,w="g"),(y||h==="0"&&g==="=")&&(y=!0,h="0",g="=");var C=p==="$"?s:p==="#"&&/[boxX]/.test(w)?"0"+w.toLowerCase():"",P=p==="$"?n:/[%p]/.test(w)?l:"",S=Y4[w],A=/[defgprs%]/.test(w);b=b===void 0?6:/[gprs]/.test(w)?Math.max(1,Math.min(21,b)):Math.max(0,Math.min(20,b));function k(I){var L=C,K=P,R,F,W;if(w==="c")K=S(I)+K,I="";else{I=+I;var Q=I<0||1/I<0;if(I=isNaN(I)?c:S(Math.abs(I),b),N&&(I=vbe(I)),Q&&+I==0&&f!=="+"&&(Q=!1),L=(Q?f==="("?f:o:f==="-"||f==="("?"":f)+L,K=(w==="s"?Z4[8+Sq/3]:"")+K+(Q&&f==="("?")":""),A){for(R=-1,F=I.length;++R<F;)if(W=I.charCodeAt(R),48>W||W>57){K=(W===46?a+I.slice(R+1):I.slice(R))+K,I=I.slice(0,R);break}}}x&&!y&&(I=r(I,1/0));var H=L.length+I.length+K.length,Z=H<v?new Array(v-H+1).join(h):"";switch(x&&y&&(I=r(Z+I,Z.length?v-K.length:1/0),Z=""),g){case"<":I=L+I+K+Z;break;case"=":I=L+Z+I+K;break;case"^":I=Z.slice(0,H=Z.length>>1)+L+I+K+Z.slice(H);break;default:I=Z+L+I+K;break}return i(I)}return k.toString=function(){return m+""},k}function u(m,h){var g=d((m=Ip(m),m.type="f",m)),f=Math.max(-8,Math.min(8,Math.floor(Pu(h)/3)))*3,p=Math.pow(10,-f),y=Z4[8+f/3];return function(v){return g(p*v)+y}}return{format:d,formatPrefix:u}}var Tx,xP,Cq;bbe({thousands:",",grouping:[3],currency:["$",""]});function bbe(t){return Tx=jbe(t),xP=Tx.format,Cq=Tx.formatPrefix,Tx}function Nbe(t){return Math.max(0,-Pu(Math.abs(t)))}function wbe(t,r){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Pu(r)/3)))*3-Pu(Math.abs(t)))}function Sbe(t,r){return t=Math.abs(t),r=Math.abs(r)-t,Math.max(0,Pu(r)-Pu(t))+1}function Pq(t,r,s,n){var a=T1(t,r,s),i;switch(n=Ip(n??",f"),n.type){case"s":{var l=Math.max(Math.abs(t),Math.abs(r));return n.precision==null&&!isNaN(i=wbe(a,l))&&(n.precision=i),Cq(n,l)}case"":case"e":case"g":case"p":case"r":{n.precision==null&&!isNaN(i=Sbe(a,Math.max(Math.abs(t),Math.abs(r))))&&(n.precision=i-(n.type==="e"));break}case"f":case"%":{n.precision==null&&!isNaN(i=Nbe(a))&&(n.precision=i-(n.type==="%")*2);break}}return xP(n)}function Io(t){var r=t.domain;return t.ticks=function(s){var n=r();return A1(n[0],n[n.length-1],s??10)},t.tickFormat=function(s,n){var a=r();return Pq(a[0],a[a.length-1],s??10,n)},t.nice=function(s){s==null&&(s=10);var n=r(),a=0,i=n.length-1,l=n[a],o=n[i],c,d,u=10;for(o<l&&(d=l,l=o,o=d,d=a,a=i,i=d);u-- >0;){if(d=_1(l,o,s),d===c)return n[a]=l,n[i]=o,r(n);if(d>0)l=Math.floor(l/d)*d,o=Math.ceil(o/d)*d;else if(d<0)l=Math.ceil(l*d)/d,o=Math.floor(o*d)/d;else break;c=d}return t},t}function Vv(){var t=pP();return t.copy=function(){return Ff(t,Vv())},Ta.apply(t,arguments),Io(t)}function kq(t){var r;function s(n){return n==null||isNaN(n=+n)?r:n}return s.invert=s,s.domain=s.range=function(n){return arguments.length?(t=Array.from(n,Lv),s):t.slice()},s.unknown=function(n){return arguments.length?(r=n,s):r},s.copy=function(){return kq(t).unknown(r)},t=arguments.length?Array.from(t,Lv):[0,1],Io(s)}function Aq(t,r){t=t.slice();var s=0,n=t.length-1,a=t[s],i=t[n],l;return i<a&&(l=s,s=n,n=l,l=a,a=i,i=l),t[s]=r.floor(a),t[n]=r.ceil(i),t}function J4(t){return Math.log(t)}function eO(t){return Math.exp(t)}function Cbe(t){return-Math.log(-t)}function Pbe(t){return-Math.exp(-t)}function kbe(t){return isFinite(t)?+("1e"+t):t<0?0:t}function Abe(t){return t===10?kbe:t===Math.E?Math.exp:r=>Math.pow(t,r)}function _be(t){return t===Math.E?Math.log:t===10&&Math.log10||t===2&&Math.log2||(t=Math.log(t),r=>Math.log(r)/t)}function tO(t){return(r,s)=>-t(-r,s)}function gP(t){const r=t(J4,eO),s=r.domain;let n=10,a,i;function l(){return a=_be(n),i=Abe(n),s()[0]<0?(a=tO(a),i=tO(i),t(Cbe,Pbe)):t(J4,eO),r}return r.base=function(o){return arguments.length?(n=+o,l()):n},r.domain=function(o){return arguments.length?(s(o),l()):s()},r.ticks=o=>{const c=s();let d=c[0],u=c[c.length-1];const m=u<d;m&&([d,u]=[u,d]);let h=a(d),g=a(u),f,p;const y=o==null?10:+o;let v=[];if(!(n%1)&&g-h<y){if(h=Math.floor(h),g=Math.ceil(g),d>0){for(;h<=g;++h)for(f=1;f<n;++f)if(p=h<0?f/i(-h):f*i(h),!(p<d)){if(p>u)break;v.push(p)}}else for(;h<=g;++h)for(f=n-1;f>=1;--f)if(p=h>0?f/i(-h):f*i(h),!(p<d)){if(p>u)break;v.push(p)}v.length*2<y&&(v=A1(d,u,y))}else v=A1(h,g,Math.min(g-h,y)).map(i);return m?v.reverse():v},r.tickFormat=(o,c)=>{if(o==null&&(o=10),c==null&&(c=n===10?"s":","),typeof c!="function"&&(!(n%1)&&(c=Ip(c)).precision==null&&(c.trim=!0),c=xP(c)),o===1/0)return c;const d=Math.max(1,n*o/r.ticks().length);return u=>{let m=u/i(Math.round(a(u)));return m*n<n-.5&&(m*=n),m<=d?c(u):""}},r.nice=()=>s(Aq(s(),{floor:o=>i(Math.floor(a(o))),ceil:o=>i(Math.ceil(a(o)))})),r}function _q(){const t=gP(zj()).domain([1,10]);return t.copy=()=>Ff(t,_q()).base(t.base()),Ta.apply(t,arguments),t}function rO(t){return function(r){return Math.sign(r)*Math.log1p(Math.abs(r/t))}}function sO(t){return function(r){return Math.sign(r)*Math.expm1(Math.abs(r))*t}}function vP(t){var r=1,s=t(rO(r),sO(r));return s.constant=function(n){return arguments.length?t(rO(r=+n),sO(r)):r},Io(s)}function Tq(){var t=vP(zj());return t.copy=function(){return Ff(t,Tq()).constant(t.constant())},Ta.apply(t,arguments)}function nO(t){return function(r){return r<0?-Math.pow(-r,t):Math.pow(r,t)}}function Tbe(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function Obe(t){return t<0?-t*t:t*t}function yP(t){var r=t(mn,mn),s=1;function n(){return s===1?t(mn,mn):s===.5?t(Tbe,Obe):t(nO(s),nO(1/s))}return r.exponent=function(a){return arguments.length?(s=+a,n()):s},Io(r)}function jP(){var t=yP(zj());return t.copy=function(){return Ff(t,jP()).exponent(t.exponent())},Ta.apply(t,arguments),t}function Ebe(){return jP.apply(null,arguments).exponent(.5)}function aO(t){return Math.sign(t)*t*t}function Dbe(t){return Math.sign(t)*Math.sqrt(Math.abs(t))}function Oq(){var t=pP(),r=[0,1],s=!1,n;function a(i){var l=Dbe(t(i));return isNaN(l)?n:s?Math.round(l):l}return a.invert=function(i){return t.invert(aO(i))},a.domain=function(i){return arguments.length?(t.domain(i),a):t.domain()},a.range=function(i){return arguments.length?(t.range((r=Array.from(i,Lv)).map(aO)),a):r.slice()},a.rangeRound=function(i){return a.range(i).round(!0)},a.round=function(i){return arguments.length?(s=!!i,a):s},a.clamp=function(i){return arguments.length?(t.clamp(i),a):t.clamp()},a.unknown=function(i){return arguments.length?(n=i,a):n},a.copy=function(){return Oq(t.domain(),r).round(s).clamp(t.clamp()).unknown(n)},Ta.apply(a,arguments),Io(a)}function Eq(){var t=[],r=[],s=[],n;function a(){var l=0,o=Math.max(1,r.length);for(s=new Array(o-1);++l<o;)s[l-1]=$je(t,l/o);return i}function i(l){return l==null||isNaN(l=+l)?n:r[If(s,l)]}return i.invertExtent=function(l){var o=r.indexOf(l);return o<0?[NaN,NaN]:[o>0?s[o-1]:t[0],o<s.length?s[o]:t[t.length-1]]},i.domain=function(l){if(!arguments.length)return t.slice();t=[];for(let o of l)o!=null&&!isNaN(o=+o)&&t.push(o);return t.sort(po),a()},i.range=function(l){return arguments.length?(r=Array.from(l),a()):r.slice()},i.unknown=function(l){return arguments.length?(n=l,i):n},i.quantiles=function(){return s.slice()},i.copy=function(){return Eq().domain(t).range(r).unknown(n)},Ta.apply(i,arguments)}function Dq(){var t=0,r=1,s=1,n=[.5],a=[0,1],i;function l(c){return c!=null&&c<=c?a[If(n,c,0,s)]:i}function o(){var c=-1;for(n=new Array(s);++c<s;)n[c]=((c+1)*r-(c-s)*t)/(s+1);return l}return l.domain=function(c){return arguments.length?([t,r]=c,t=+t,r=+r,o()):[t,r]},l.range=function(c){return arguments.length?(s=(a=Array.from(c)).length-1,o()):a.slice()},l.invertExtent=function(c){var d=a.indexOf(c);return d<0?[NaN,NaN]:d<1?[t,n[0]]:d>=s?[n[s-1],r]:[n[d-1],n[d]]},l.unknown=function(c){return arguments.length&&(i=c),l},l.thresholds=function(){return n.slice()},l.copy=function(){return Dq().domain([t,r]).range(a).unknown(i)},Ta.apply(Io(l),arguments)}function Mq(){var t=[.5],r=[0,1],s,n=1;function a(i){return i!=null&&i<=i?r[If(t,i,0,n)]:s}return a.domain=function(i){return arguments.length?(t=Array.from(i),n=Math.min(t.length,r.length-1),a):t.slice()},a.range=function(i){return arguments.length?(r=Array.from(i),n=Math.min(t.length,r.length-1),a):r.slice()},a.invertExtent=function(i){var l=r.indexOf(i);return[t[l-1],t[l]]},a.unknown=function(i){return arguments.length?(s=i,a):s},a.copy=function(){return Mq().domain(t).range(r).unknown(s)},Ta.apply(a,arguments)}const U0=new Date,q0=new Date;function As(t,r,s,n){function a(i){return t(i=arguments.length===0?new Date:new Date(+i)),i}return a.floor=i=>(t(i=new Date(+i)),i),a.ceil=i=>(t(i=new Date(i-1)),r(i,1),t(i),i),a.round=i=>{const l=a(i),o=a.ceil(i);return i-l<o-i?l:o},a.offset=(i,l)=>(r(i=new Date(+i),l==null?1:Math.floor(l)),i),a.range=(i,l,o)=>{const c=[];if(i=a.ceil(i),o=o==null?1:Math.floor(o),!(i<l)||!(o>0))return c;let d;do c.push(d=new Date(+i)),r(i,o),t(i);while(d<i&&i<l);return c},a.filter=i=>As(l=>{if(l>=l)for(;t(l),!i(l);)l.setTime(l-1)},(l,o)=>{if(l>=l)if(o<0)for(;++o<=0;)for(;r(l,-1),!i(l););else for(;--o>=0;)for(;r(l,1),!i(l););}),s&&(a.count=(i,l)=>(U0.setTime(+i),q0.setTime(+l),t(U0),t(q0),Math.floor(s(U0,q0))),a.every=i=>(i=Math.floor(i),!isFinite(i)||!(i>0)?null:i>1?a.filter(n?l=>n(l)%i===0:l=>a.count(0,l)%i===0):a)),a}const Uv=As(()=>{},(t,r)=>{t.setTime(+t+r)},(t,r)=>r-t);Uv.every=t=>(t=Math.floor(t),!isFinite(t)||!(t>0)?null:t>1?As(r=>{r.setTime(Math.floor(r/t)*t)},(r,s)=>{r.setTime(+r+s*t)},(r,s)=>(s-r)/t):Uv);Uv.range;const sl=1e3,wa=sl*60,nl=wa*60,jl=nl*24,bP=jl*7,iO=jl*30,z0=jl*365,rc=As(t=>{t.setTime(t-t.getMilliseconds())},(t,r)=>{t.setTime(+t+r*sl)},(t,r)=>(r-t)/sl,t=>t.getUTCSeconds());rc.range;const NP=As(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*sl)},(t,r)=>{t.setTime(+t+r*wa)},(t,r)=>(r-t)/wa,t=>t.getMinutes());NP.range;const wP=As(t=>{t.setUTCSeconds(0,0)},(t,r)=>{t.setTime(+t+r*wa)},(t,r)=>(r-t)/wa,t=>t.getUTCMinutes());wP.range;const SP=As(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*sl-t.getMinutes()*wa)},(t,r)=>{t.setTime(+t+r*nl)},(t,r)=>(r-t)/nl,t=>t.getHours());SP.range;const CP=As(t=>{t.setUTCMinutes(0,0,0)},(t,r)=>{t.setTime(+t+r*nl)},(t,r)=>(r-t)/nl,t=>t.getUTCHours());CP.range;const $f=As(t=>t.setHours(0,0,0,0),(t,r)=>t.setDate(t.getDate()+r),(t,r)=>(r-t-(r.getTimezoneOffset()-t.getTimezoneOffset())*wa)/jl,t=>t.getDate()-1);$f.range;const Kj=As(t=>{t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCDate(t.getUTCDate()+r)},(t,r)=>(r-t)/jl,t=>t.getUTCDate()-1);Kj.range;const Iq=As(t=>{t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCDate(t.getUTCDate()+r)},(t,r)=>(r-t)/jl,t=>Math.floor(t/jl));Iq.range;function qc(t){return As(r=>{r.setDate(r.getDate()-(r.getDay()+7-t)%7),r.setHours(0,0,0,0)},(r,s)=>{r.setDate(r.getDate()+s*7)},(r,s)=>(s-r-(s.getTimezoneOffset()-r.getTimezoneOffset())*wa)/bP)}const Hj=qc(0),qv=qc(1),Mbe=qc(2),Ibe=qc(3),ku=qc(4),Rbe=qc(5),Fbe=qc(6);Hj.range;qv.range;Mbe.range;Ibe.range;ku.range;Rbe.range;Fbe.range;function zc(t){return As(r=>{r.setUTCDate(r.getUTCDate()-(r.getUTCDay()+7-t)%7),r.setUTCHours(0,0,0,0)},(r,s)=>{r.setUTCDate(r.getUTCDate()+s*7)},(r,s)=>(s-r)/bP)}const Wj=zc(0),zv=zc(1),$be=zc(2),Lbe=zc(3),Au=zc(4),Bbe=zc(5),Vbe=zc(6);Wj.range;zv.range;$be.range;Lbe.range;Au.range;Bbe.range;Vbe.range;const PP=As(t=>{t.setDate(1),t.setHours(0,0,0,0)},(t,r)=>{t.setMonth(t.getMonth()+r)},(t,r)=>r.getMonth()-t.getMonth()+(r.getFullYear()-t.getFullYear())*12,t=>t.getMonth());PP.range;const kP=As(t=>{t.setUTCDate(1),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCMonth(t.getUTCMonth()+r)},(t,r)=>r.getUTCMonth()-t.getUTCMonth()+(r.getUTCFullYear()-t.getUTCFullYear())*12,t=>t.getUTCMonth());kP.range;const bl=As(t=>{t.setMonth(0,1),t.setHours(0,0,0,0)},(t,r)=>{t.setFullYear(t.getFullYear()+r)},(t,r)=>r.getFullYear()-t.getFullYear(),t=>t.getFullYear());bl.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:As(r=>{r.setFullYear(Math.floor(r.getFullYear()/t)*t),r.setMonth(0,1),r.setHours(0,0,0,0)},(r,s)=>{r.setFullYear(r.getFullYear()+s*t)});bl.range;const Nl=As(t=>{t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCFullYear(t.getUTCFullYear()+r)},(t,r)=>r.getUTCFullYear()-t.getUTCFullYear(),t=>t.getUTCFullYear());Nl.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:As(r=>{r.setUTCFullYear(Math.floor(r.getUTCFullYear()/t)*t),r.setUTCMonth(0,1),r.setUTCHours(0,0,0,0)},(r,s)=>{r.setUTCFullYear(r.getUTCFullYear()+s*t)});Nl.range;function Rq(t,r,s,n,a,i){const l=[[rc,1,sl],[rc,5,5*sl],[rc,15,15*sl],[rc,30,30*sl],[i,1,wa],[i,5,5*wa],[i,15,15*wa],[i,30,30*wa],[a,1,nl],[a,3,3*nl],[a,6,6*nl],[a,12,12*nl],[n,1,jl],[n,2,2*jl],[s,1,bP],[r,1,iO],[r,3,3*iO],[t,1,z0]];function o(d,u,m){const h=u<d;h&&([d,u]=[u,d]);const g=m&&typeof m.range=="function"?m:c(d,u,m),f=g?g.range(d,+u+1):[];return h?f.reverse():f}function c(d,u,m){const h=Math.abs(u-d)/m,g=cP(([,,y])=>y).right(l,h);if(g===l.length)return t.every(T1(d/z0,u/z0,m));if(g===0)return Uv.every(Math.max(T1(d,u,m),1));const[f,p]=l[h/l[g-1][2]<l[g][2]/h?g-1:g];return f.every(p)}return[o,c]}const[Ube,qbe]=Rq(Nl,kP,Wj,Iq,CP,wP),[zbe,Kbe]=Rq(bl,PP,Hj,$f,SP,NP);function K0(t){if(0<=t.y&&t.y<100){var r=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return r.setFullYear(t.y),r}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function H0(t){if(0<=t.y&&t.y<100){var r=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return r.setUTCFullYear(t.y),r}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function Wm(t,r,s){return{y:t,m:r,d:s,H:0,M:0,S:0,L:0}}function Hbe(t){var r=t.dateTime,s=t.date,n=t.time,a=t.periods,i=t.days,l=t.shortDays,o=t.months,c=t.shortMonths,d=Gm(a),u=Ym(a),m=Gm(i),h=Ym(i),g=Gm(l),f=Ym(l),p=Gm(o),y=Ym(o),v=Gm(c),x=Ym(c),b={a:Q,A:H,b:Z,B:me,c:null,d:mO,e:mO,f:f0e,g:C0e,G:k0e,H:m0e,I:h0e,j:p0e,L:Fq,m:x0e,M:g0e,p:Ne,q:te,Q:fO,s:xO,S:v0e,u:y0e,U:j0e,V:b0e,w:N0e,W:w0e,x:null,X:null,y:S0e,Y:P0e,Z:A0e,"%":pO},N={a:Ie,A:Te,b:de,B:Ee,c:null,d:hO,e:hO,f:E0e,g:U0e,G:z0e,H:_0e,I:T0e,j:O0e,L:Lq,m:D0e,M:M0e,p:De,q:rt,Q:fO,s:xO,S:I0e,u:R0e,U:F0e,V:$0e,w:L0e,W:B0e,x:null,X:null,y:V0e,Y:q0e,Z:K0e,"%":pO},w={a:k,A:I,b:L,B:K,c:R,d:dO,e:dO,f:o0e,g:cO,G:oO,H:uO,I:uO,j:n0e,L:l0e,m:s0e,M:a0e,p:A,q:r0e,Q:d0e,s:u0e,S:i0e,u:Xbe,U:Zbe,V:Jbe,w:Qbe,W:e0e,x:F,X:W,y:cO,Y:oO,Z:t0e,"%":c0e};b.x=C(s,b),b.X=C(n,b),b.c=C(r,b),N.x=C(s,N),N.X=C(n,N),N.c=C(r,N);function C(Me,Ge){return function(Xe){var Ce=[],Ft=-1,yt=0,cr=Me.length,ar,Sr,re;for(Xe instanceof Date||(Xe=new Date(+Xe));++Ft<cr;)Me.charCodeAt(Ft)===37&&(Ce.push(Me.slice(yt,Ft)),(Sr=lO[ar=Me.charAt(++Ft)])!=null?ar=Me.charAt(++Ft):Sr=ar==="e"?" ":"0",(re=Ge[ar])&&(ar=re(Xe,Sr)),Ce.push(ar),yt=Ft+1);return Ce.push(Me.slice(yt,Ft)),Ce.join("")}}function P(Me,Ge){return function(Xe){var Ce=Wm(1900,void 0,1),Ft=S(Ce,Me,Xe+="",0),yt,cr;if(Ft!=Xe.length)return null;if("Q"in Ce)return new Date(Ce.Q);if("s"in Ce)return new Date(Ce.s*1e3+("L"in Ce?Ce.L:0));if(Ge&&!("Z"in Ce)&&(Ce.Z=0),"p"in Ce&&(Ce.H=Ce.H%12+Ce.p*12),Ce.m===void 0&&(Ce.m="q"in Ce?Ce.q:0),"V"in Ce){if(Ce.V<1||Ce.V>53)return null;"w"in Ce||(Ce.w=1),"Z"in Ce?(yt=H0(Wm(Ce.y,0,1)),cr=yt.getUTCDay(),yt=cr>4||cr===0?zv.ceil(yt):zv(yt),yt=Kj.offset(yt,(Ce.V-1)*7),Ce.y=yt.getUTCFullYear(),Ce.m=yt.getUTCMonth(),Ce.d=yt.getUTCDate()+(Ce.w+6)%7):(yt=K0(Wm(Ce.y,0,1)),cr=yt.getDay(),yt=cr>4||cr===0?qv.ceil(yt):qv(yt),yt=$f.offset(yt,(Ce.V-1)*7),Ce.y=yt.getFullYear(),Ce.m=yt.getMonth(),Ce.d=yt.getDate()+(Ce.w+6)%7)}else("W"in Ce||"U"in Ce)&&("w"in Ce||(Ce.w="u"in Ce?Ce.u%7:"W"in Ce?1:0),cr="Z"in Ce?H0(Wm(Ce.y,0,1)).getUTCDay():K0(Wm(Ce.y,0,1)).getDay(),Ce.m=0,Ce.d="W"in Ce?(Ce.w+6)%7+Ce.W*7-(cr+5)%7:Ce.w+Ce.U*7-(cr+6)%7);return"Z"in Ce?(Ce.H+=Ce.Z/100|0,Ce.M+=Ce.Z%100,H0(Ce)):K0(Ce)}}function S(Me,Ge,Xe,Ce){for(var Ft=0,yt=Ge.length,cr=Xe.length,ar,Sr;Ft<yt;){if(Ce>=cr)return-1;if(ar=Ge.charCodeAt(Ft++),ar===37){if(ar=Ge.charAt(Ft++),Sr=w[ar in lO?Ge.charAt(Ft++):ar],!Sr||(Ce=Sr(Me,Xe,Ce))<0)return-1}else if(ar!=Xe.charCodeAt(Ce++))return-1}return Ce}function A(Me,Ge,Xe){var Ce=d.exec(Ge.slice(Xe));return Ce?(Me.p=u.get(Ce[0].toLowerCase()),Xe+Ce[0].length):-1}function k(Me,Ge,Xe){var Ce=g.exec(Ge.slice(Xe));return Ce?(Me.w=f.get(Ce[0].toLowerCase()),Xe+Ce[0].length):-1}function I(Me,Ge,Xe){var Ce=m.exec(Ge.slice(Xe));return Ce?(Me.w=h.get(Ce[0].toLowerCase()),Xe+Ce[0].length):-1}function L(Me,Ge,Xe){var Ce=v.exec(Ge.slice(Xe));return Ce?(Me.m=x.get(Ce[0].toLowerCase()),Xe+Ce[0].length):-1}function K(Me,Ge,Xe){var Ce=p.exec(Ge.slice(Xe));return Ce?(Me.m=y.get(Ce[0].toLowerCase()),Xe+Ce[0].length):-1}function R(Me,Ge,Xe){return S(Me,r,Ge,Xe)}function F(Me,Ge,Xe){return S(Me,s,Ge,Xe)}function W(Me,Ge,Xe){return S(Me,n,Ge,Xe)}function Q(Me){return l[Me.getDay()]}function H(Me){return i[Me.getDay()]}function Z(Me){return c[Me.getMonth()]}function me(Me){return o[Me.getMonth()]}function Ne(Me){return a[+(Me.getHours()>=12)]}function te(Me){return 1+~~(Me.getMonth()/3)}function Ie(Me){return l[Me.getUTCDay()]}function Te(Me){return i[Me.getUTCDay()]}function de(Me){return c[Me.getUTCMonth()]}function Ee(Me){return o[Me.getUTCMonth()]}function De(Me){return a[+(Me.getUTCHours()>=12)]}function rt(Me){return 1+~~(Me.getUTCMonth()/3)}return{format:function(Me){var Ge=C(Me+="",b);return Ge.toString=function(){return Me},Ge},parse:function(Me){var Ge=P(Me+="",!1);return Ge.toString=function(){return Me},Ge},utcFormat:function(Me){var Ge=C(Me+="",N);return Ge.toString=function(){return Me},Ge},utcParse:function(Me){var Ge=P(Me+="",!0);return Ge.toString=function(){return Me},Ge}}}var lO={"-":"",_:" ",0:"0"},Fs=/^\s*\d+/,Wbe=/^%/,Gbe=/[\\^$*+?|[\]().{}]/g;function hr(t,r,s){var n=t<0?"-":"",a=(n?-t:t)+"",i=a.length;return n+(i<s?new Array(s-i+1).join(r)+a:a)}function Ybe(t){return t.replace(Gbe,"\\$&")}function Gm(t){return new RegExp("^(?:"+t.map(Ybe).join("|")+")","i")}function Ym(t){return new Map(t.map((r,s)=>[r.toLowerCase(),s]))}function Qbe(t,r,s){var n=Fs.exec(r.slice(s,s+1));return n?(t.w=+n[0],s+n[0].length):-1}function Xbe(t,r,s){var n=Fs.exec(r.slice(s,s+1));return n?(t.u=+n[0],s+n[0].length):-1}function Zbe(t,r,s){var n=Fs.exec(r.slice(s,s+2));return n?(t.U=+n[0],s+n[0].length):-1}function Jbe(t,r,s){var n=Fs.exec(r.slice(s,s+2));return n?(t.V=+n[0],s+n[0].length):-1}function e0e(t,r,s){var n=Fs.exec(r.slice(s,s+2));return n?(t.W=+n[0],s+n[0].length):-1}function oO(t,r,s){var n=Fs.exec(r.slice(s,s+4));return n?(t.y=+n[0],s+n[0].length):-1}function cO(t,r,s){var n=Fs.exec(r.slice(s,s+2));return n?(t.y=+n[0]+(+n[0]>68?1900:2e3),s+n[0].length):-1}function t0e(t,r,s){var n=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(r.slice(s,s+6));return n?(t.Z=n[1]?0:-(n[2]+(n[3]||"00")),s+n[0].length):-1}function r0e(t,r,s){var n=Fs.exec(r.slice(s,s+1));return n?(t.q=n[0]*3-3,s+n[0].length):-1}function s0e(t,r,s){var n=Fs.exec(r.slice(s,s+2));return n?(t.m=n[0]-1,s+n[0].length):-1}function dO(t,r,s){var n=Fs.exec(r.slice(s,s+2));return n?(t.d=+n[0],s+n[0].length):-1}function n0e(t,r,s){var n=Fs.exec(r.slice(s,s+3));return n?(t.m=0,t.d=+n[0],s+n[0].length):-1}function uO(t,r,s){var n=Fs.exec(r.slice(s,s+2));return n?(t.H=+n[0],s+n[0].length):-1}function a0e(t,r,s){var n=Fs.exec(r.slice(s,s+2));return n?(t.M=+n[0],s+n[0].length):-1}function i0e(t,r,s){var n=Fs.exec(r.slice(s,s+2));return n?(t.S=+n[0],s+n[0].length):-1}function l0e(t,r,s){var n=Fs.exec(r.slice(s,s+3));return n?(t.L=+n[0],s+n[0].length):-1}function o0e(t,r,s){var n=Fs.exec(r.slice(s,s+6));return n?(t.L=Math.floor(n[0]/1e3),s+n[0].length):-1}function c0e(t,r,s){var n=Wbe.exec(r.slice(s,s+1));return n?s+n[0].length:-1}function d0e(t,r,s){var n=Fs.exec(r.slice(s));return n?(t.Q=+n[0],s+n[0].length):-1}function u0e(t,r,s){var n=Fs.exec(r.slice(s));return n?(t.s=+n[0],s+n[0].length):-1}function mO(t,r){return hr(t.getDate(),r,2)}function m0e(t,r){return hr(t.getHours(),r,2)}function h0e(t,r){return hr(t.getHours()%12||12,r,2)}function p0e(t,r){return hr(1+$f.count(bl(t),t),r,3)}function Fq(t,r){return hr(t.getMilliseconds(),r,3)}function f0e(t,r){return Fq(t,r)+"000"}function x0e(t,r){return hr(t.getMonth()+1,r,2)}function g0e(t,r){return hr(t.getMinutes(),r,2)}function v0e(t,r){return hr(t.getSeconds(),r,2)}function y0e(t){var r=t.getDay();return r===0?7:r}function j0e(t,r){return hr(Hj.count(bl(t)-1,t),r,2)}function $q(t){var r=t.getDay();return r>=4||r===0?ku(t):ku.ceil(t)}function b0e(t,r){return t=$q(t),hr(ku.count(bl(t),t)+(bl(t).getDay()===4),r,2)}function N0e(t){return t.getDay()}function w0e(t,r){return hr(qv.count(bl(t)-1,t),r,2)}function S0e(t,r){return hr(t.getFullYear()%100,r,2)}function C0e(t,r){return t=$q(t),hr(t.getFullYear()%100,r,2)}function P0e(t,r){return hr(t.getFullYear()%1e4,r,4)}function k0e(t,r){var s=t.getDay();return t=s>=4||s===0?ku(t):ku.ceil(t),hr(t.getFullYear()%1e4,r,4)}function A0e(t){var r=t.getTimezoneOffset();return(r>0?"-":(r*=-1,"+"))+hr(r/60|0,"0",2)+hr(r%60,"0",2)}function hO(t,r){return hr(t.getUTCDate(),r,2)}function _0e(t,r){return hr(t.getUTCHours(),r,2)}function T0e(t,r){return hr(t.getUTCHours()%12||12,r,2)}function O0e(t,r){return hr(1+Kj.count(Nl(t),t),r,3)}function Lq(t,r){return hr(t.getUTCMilliseconds(),r,3)}function E0e(t,r){return Lq(t,r)+"000"}function D0e(t,r){return hr(t.getUTCMonth()+1,r,2)}function M0e(t,r){return hr(t.getUTCMinutes(),r,2)}function I0e(t,r){return hr(t.getUTCSeconds(),r,2)}function R0e(t){var r=t.getUTCDay();return r===0?7:r}function F0e(t,r){return hr(Wj.count(Nl(t)-1,t),r,2)}function Bq(t){var r=t.getUTCDay();return r>=4||r===0?Au(t):Au.ceil(t)}function $0e(t,r){return t=Bq(t),hr(Au.count(Nl(t),t)+(Nl(t).getUTCDay()===4),r,2)}function L0e(t){return t.getUTCDay()}function B0e(t,r){return hr(zv.count(Nl(t)-1,t),r,2)}function V0e(t,r){return hr(t.getUTCFullYear()%100,r,2)}function U0e(t,r){return t=Bq(t),hr(t.getUTCFullYear()%100,r,2)}function q0e(t,r){return hr(t.getUTCFullYear()%1e4,r,4)}function z0e(t,r){var s=t.getUTCDay();return t=s>=4||s===0?Au(t):Au.ceil(t),hr(t.getUTCFullYear()%1e4,r,4)}function K0e(){return"+0000"}function pO(){return"%"}function fO(t){return+t}function xO(t){return Math.floor(+t/1e3)}var ad,Vq,Uq;H0e({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function H0e(t){return ad=Hbe(t),Vq=ad.format,ad.parse,Uq=ad.utcFormat,ad.utcParse,ad}function W0e(t){return new Date(t)}function G0e(t){return t instanceof Date?+t:+new Date(+t)}function AP(t,r,s,n,a,i,l,o,c,d){var u=pP(),m=u.invert,h=u.domain,g=d(".%L"),f=d(":%S"),p=d("%I:%M"),y=d("%I %p"),v=d("%a %d"),x=d("%b %d"),b=d("%B"),N=d("%Y");function w(C){return(c(C)<C?g:o(C)<C?f:l(C)<C?p:i(C)<C?y:n(C)<C?a(C)<C?v:x:s(C)<C?b:N)(C)}return u.invert=function(C){return new Date(m(C))},u.domain=function(C){return arguments.length?h(Array.from(C,G0e)):h().map(W0e)},u.ticks=function(C){var P=h();return t(P[0],P[P.length-1],C??10)},u.tickFormat=function(C,P){return P==null?w:d(P)},u.nice=function(C){var P=h();return(!C||typeof C.range!="function")&&(C=r(P[0],P[P.length-1],C??10)),C?h(Aq(P,C)):u},u.copy=function(){return Ff(u,AP(t,r,s,n,a,i,l,o,c,d))},u}function Y0e(){return Ta.apply(AP(zbe,Kbe,bl,PP,Hj,$f,SP,NP,rc,Vq).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function Q0e(){return Ta.apply(AP(Ube,qbe,Nl,kP,Wj,Kj,CP,wP,rc,Uq).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function Gj(){var t=0,r=1,s,n,a,i,l=mn,o=!1,c;function d(m){return m==null||isNaN(m=+m)?c:l(a===0?.5:(m=(i(m)-s)*a,o?Math.max(0,Math.min(1,m)):m))}d.domain=function(m){return arguments.length?([t,r]=m,s=i(t=+t),n=i(r=+r),a=s===n?0:1/(n-s),d):[t,r]},d.clamp=function(m){return arguments.length?(o=!!m,d):o},d.interpolator=function(m){return arguments.length?(l=m,d):l};function u(m){return function(h){var g,f;return arguments.length?([g,f]=h,l=m(g,f),d):[l(0),l(1)]}}return d.range=u(wm),d.rangeRound=u(hP),d.unknown=function(m){return arguments.length?(c=m,d):c},function(m){return i=m,s=m(t),n=m(r),a=s===n?0:1/(n-s),d}}function Ro(t,r){return r.domain(t.domain()).interpolator(t.interpolator()).clamp(t.clamp()).unknown(t.unknown())}function qq(){var t=Io(Gj()(mn));return t.copy=function(){return Ro(t,qq())},kl.apply(t,arguments)}function zq(){var t=gP(Gj()).domain([1,10]);return t.copy=function(){return Ro(t,zq()).base(t.base())},kl.apply(t,arguments)}function Kq(){var t=vP(Gj());return t.copy=function(){return Ro(t,Kq()).constant(t.constant())},kl.apply(t,arguments)}function _P(){var t=yP(Gj());return t.copy=function(){return Ro(t,_P()).exponent(t.exponent())},kl.apply(t,arguments)}function X0e(){return _P.apply(null,arguments).exponent(.5)}function Hq(){var t=[],r=mn;function s(n){if(n!=null&&!isNaN(n=+n))return r((If(t,n,1)-1)/(t.length-1))}return s.domain=function(n){if(!arguments.length)return t.slice();t=[];for(let a of n)a!=null&&!isNaN(a=+a)&&t.push(a);return t.sort(po),s},s.interpolator=function(n){return arguments.length?(r=n,s):r},s.range=function(){return t.map((n,a)=>r(a/(t.length-1)))},s.quantiles=function(n){return Array.from({length:n+1},(a,i)=>Fje(t,i/n))},s.copy=function(){return Hq(r).domain(t)},kl.apply(s,arguments)}function Yj(){var t=0,r=.5,s=1,n=1,a,i,l,o,c,d=mn,u,m=!1,h;function g(p){return isNaN(p=+p)?h:(p=.5+((p=+u(p))-i)*(n*p<n*i?o:c),d(m?Math.max(0,Math.min(1,p)):p))}g.domain=function(p){return arguments.length?([t,r,s]=p,a=u(t=+t),i=u(r=+r),l=u(s=+s),o=a===i?0:.5/(i-a),c=i===l?0:.5/(l-i),n=i<a?-1:1,g):[t,r,s]},g.clamp=function(p){return arguments.length?(m=!!p,g):m},g.interpolator=function(p){return arguments.length?(d=p,g):d};function f(p){return function(y){var v,x,b;return arguments.length?([v,x,b]=y,d=cbe(p,[v,x,b]),g):[d(0),d(.5),d(1)]}}return g.range=f(wm),g.rangeRound=f(hP),g.unknown=function(p){return arguments.length?(h=p,g):h},function(p){return u=p,a=p(t),i=p(r),l=p(s),o=a===i?0:.5/(i-a),c=i===l?0:.5/(l-i),n=i<a?-1:1,g}}function Wq(){var t=Io(Yj()(mn));return t.copy=function(){return Ro(t,Wq())},kl.apply(t,arguments)}function Gq(){var t=gP(Yj()).domain([.1,1,10]);return t.copy=function(){return Ro(t,Gq()).base(t.base())},kl.apply(t,arguments)}function Yq(){var t=vP(Yj());return t.copy=function(){return Ro(t,Yq()).constant(t.constant())},kl.apply(t,arguments)}function TP(){var t=yP(Yj());return t.copy=function(){return Ro(t,TP()).exponent(t.exponent())},kl.apply(t,arguments)}function Z0e(){return TP.apply(null,arguments).exponent(.5)}const gO=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:Op,scaleDiverging:Wq,scaleDivergingLog:Gq,scaleDivergingPow:TP,scaleDivergingSqrt:Z0e,scaleDivergingSymlog:Yq,scaleIdentity:kq,scaleImplicit:O1,scaleLinear:Vv,scaleLog:_q,scaleOrdinal:dP,scalePoint:Ih,scalePow:jP,scaleQuantile:Eq,scaleQuantize:Dq,scaleRadial:Oq,scaleSequential:qq,scaleSequentialLog:zq,scaleSequentialPow:_P,scaleSequentialQuantile:Hq,scaleSequentialSqrt:X0e,scaleSequentialSymlog:Kq,scaleSqrt:Ebe,scaleSymlog:Tq,scaleThreshold:Mq,scaleTime:Y0e,scaleUtc:Q0e,tickFormat:Pq},Symbol.toStringTag,{value:"Module"}));var J0e=pm;function eNe(t,r,s){for(var n=-1,a=t.length;++n<a;){var i=t[n],l=r(i);if(l!=null&&(o===void 0?l===l&&!J0e(l):s(l,o)))var o=l,c=i}return c}var Qj=eNe;function tNe(t,r){return t>r}var Qq=tNe,rNe=Qj,sNe=Qq,nNe=Nm;function aNe(t){return t&&t.length?rNe(t,nNe,sNe):void 0}var iNe=aNe;const Xj=yr(iNe);function lNe(t,r){return t<r}var Xq=lNe,oNe=Qj,cNe=Xq,dNe=Nm;function uNe(t){return t&&t.length?oNe(t,dNe,cNe):void 0}var mNe=uNe;const Zj=yr(mNe);var hNe=zC,pNe=Vi,fNe=aq,xNe=Ln;function gNe(t,r){var s=xNe(t)?hNe:fNe;return s(t,pNe(r))}var vNe=gNe,yNe=sq,jNe=vNe;function bNe(t,r){return yNe(jNe(t,r),1)}var NNe=bNe;const wNe=yr(NNe);var SNe=aP;function CNe(t,r){return SNe(t,r)}var PNe=CNe;const Lf=yr(PNe);var Sm=1e9,kNe={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},EP,Wr=!0,Aa="[DecimalError] ",fc=Aa+"Invalid argument: ",OP=Aa+"Exponent out of range: ",Cm=Math.floor,Ho=Math.pow,ANe=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,Yn,_s=1e7,Br=7,Zq=9007199254740991,Kv=Cm(Zq/Br),ht={};ht.absoluteValue=ht.abs=function(){var t=new this.constructor(this);return t.s&&(t.s=1),t};ht.comparedTo=ht.cmp=function(t){var r,s,n,a,i=this;if(t=new i.constructor(t),i.s!==t.s)return i.s||-t.s;if(i.e!==t.e)return i.e>t.e^i.s<0?1:-1;for(n=i.d.length,a=t.d.length,r=0,s=n<a?n:a;r<s;++r)if(i.d[r]!==t.d[r])return i.d[r]>t.d[r]^i.s<0?1:-1;return n===a?0:n>a^i.s<0?1:-1};ht.decimalPlaces=ht.dp=function(){var t=this,r=t.d.length-1,s=(r-t.e)*Br;if(r=t.d[r],r)for(;r%10==0;r/=10)s--;return s<0?0:s};ht.dividedBy=ht.div=function(t){return cl(this,new this.constructor(t))};ht.dividedToIntegerBy=ht.idiv=function(t){var r=this,s=r.constructor;return _r(cl(r,new s(t),0,1),s.precision)};ht.equals=ht.eq=function(t){return!this.cmp(t)};ht.exponent=function(){return ps(this)};ht.greaterThan=ht.gt=function(t){return this.cmp(t)>0};ht.greaterThanOrEqualTo=ht.gte=function(t){return this.cmp(t)>=0};ht.isInteger=ht.isint=function(){return this.e>this.d.length-2};ht.isNegative=ht.isneg=function(){return this.s<0};ht.isPositive=ht.ispos=function(){return this.s>0};ht.isZero=function(){return this.s===0};ht.lessThan=ht.lt=function(t){return this.cmp(t)<0};ht.lessThanOrEqualTo=ht.lte=function(t){return this.cmp(t)<1};ht.logarithm=ht.log=function(t){var r,s=this,n=s.constructor,a=n.precision,i=a+5;if(t===void 0)t=new n(10);else if(t=new n(t),t.s<1||t.eq(Yn))throw Error(Aa+"NaN");if(s.s<1)throw Error(Aa+(s.s?"NaN":"-Infinity"));return s.eq(Yn)?new n(0):(Wr=!1,r=cl(Rp(s,i),Rp(t,i),i),Wr=!0,_r(r,a))};ht.minus=ht.sub=function(t){var r=this;return t=new r.constructor(t),r.s==t.s?tz(r,t):Jq(r,(t.s=-t.s,t))};ht.modulo=ht.mod=function(t){var r,s=this,n=s.constructor,a=n.precision;if(t=new n(t),!t.s)throw Error(Aa+"NaN");return s.s?(Wr=!1,r=cl(s,t,0,1).times(t),Wr=!0,s.minus(r)):_r(new n(s),a)};ht.naturalExponential=ht.exp=function(){return ez(this)};ht.naturalLogarithm=ht.ln=function(){return Rp(this)};ht.negated=ht.neg=function(){var t=new this.constructor(this);return t.s=-t.s||0,t};ht.plus=ht.add=function(t){var r=this;return t=new r.constructor(t),r.s==t.s?Jq(r,t):tz(r,(t.s=-t.s,t))};ht.precision=ht.sd=function(t){var r,s,n,a=this;if(t!==void 0&&t!==!!t&&t!==1&&t!==0)throw Error(fc+t);if(r=ps(a)+1,n=a.d.length-1,s=n*Br+1,n=a.d[n],n){for(;n%10==0;n/=10)s--;for(n=a.d[0];n>=10;n/=10)s++}return t&&r>s?r:s};ht.squareRoot=ht.sqrt=function(){var t,r,s,n,a,i,l,o=this,c=o.constructor;if(o.s<1){if(!o.s)return new c(0);throw Error(Aa+"NaN")}for(t=ps(o),Wr=!1,a=Math.sqrt(+o),a==0||a==1/0?(r=ji(o.d),(r.length+t)%2==0&&(r+="0"),a=Math.sqrt(r),t=Cm((t+1)/2)-(t<0||t%2),a==1/0?r="5e"+t:(r=a.toExponential(),r=r.slice(0,r.indexOf("e")+1)+t),n=new c(r)):n=new c(a.toString()),s=c.precision,a=l=s+3;;)if(i=n,n=i.plus(cl(o,i,l+2)).times(.5),ji(i.d).slice(0,l)===(r=ji(n.d)).slice(0,l)){if(r=r.slice(l-3,l+1),a==l&&r=="4999"){if(_r(i,s+1,0),i.times(i).eq(o)){n=i;break}}else if(r!="9999")break;l+=4}return Wr=!0,_r(n,s)};ht.times=ht.mul=function(t){var r,s,n,a,i,l,o,c,d,u=this,m=u.constructor,h=u.d,g=(t=new m(t)).d;if(!u.s||!t.s)return new m(0);for(t.s*=u.s,s=u.e+t.e,c=h.length,d=g.length,c<d&&(i=h,h=g,g=i,l=c,c=d,d=l),i=[],l=c+d,n=l;n--;)i.push(0);for(n=d;--n>=0;){for(r=0,a=c+n;a>n;)o=i[a]+g[n]*h[a-n-1]+r,i[a--]=o%_s|0,r=o/_s|0;i[a]=(i[a]+r)%_s|0}for(;!i[--l];)i.pop();return r?++s:i.shift(),t.d=i,t.e=s,Wr?_r(t,m.precision):t};ht.toDecimalPlaces=ht.todp=function(t,r){var s=this,n=s.constructor;return s=new n(s),t===void 0?s:(Ii(t,0,Sm),r===void 0?r=n.rounding:Ii(r,0,8),_r(s,t+ps(s)+1,r))};ht.toExponential=function(t,r){var s,n=this,a=n.constructor;return t===void 0?s=Ec(n,!0):(Ii(t,0,Sm),r===void 0?r=a.rounding:Ii(r,0,8),n=_r(new a(n),t+1,r),s=Ec(n,!0,t+1)),s};ht.toFixed=function(t,r){var s,n,a=this,i=a.constructor;return t===void 0?Ec(a):(Ii(t,0,Sm),r===void 0?r=i.rounding:Ii(r,0,8),n=_r(new i(a),t+ps(a)+1,r),s=Ec(n.abs(),!1,t+ps(n)+1),a.isneg()&&!a.isZero()?"-"+s:s)};ht.toInteger=ht.toint=function(){var t=this,r=t.constructor;return _r(new r(t),ps(t)+1,r.rounding)};ht.toNumber=function(){return+this};ht.toPower=ht.pow=function(t){var r,s,n,a,i,l,o=this,c=o.constructor,d=12,u=+(t=new c(t));if(!t.s)return new c(Yn);if(o=new c(o),!o.s){if(t.s<1)throw Error(Aa+"Infinity");return o}if(o.eq(Yn))return o;if(n=c.precision,t.eq(Yn))return _r(o,n);if(r=t.e,s=t.d.length-1,l=r>=s,i=o.s,l){if((s=u<0?-u:u)<=Zq){for(a=new c(Yn),r=Math.ceil(n/Br+4),Wr=!1;s%2&&(a=a.times(o),yO(a.d,r)),s=Cm(s/2),s!==0;)o=o.times(o),yO(o.d,r);return Wr=!0,t.s<0?new c(Yn).div(a):_r(a,n)}}else if(i<0)throw Error(Aa+"NaN");return i=i<0&&t.d[Math.max(r,s)]&1?-1:1,o.s=1,Wr=!1,a=t.times(Rp(o,n+d)),Wr=!0,a=ez(a),a.s=i,a};ht.toPrecision=function(t,r){var s,n,a=this,i=a.constructor;return t===void 0?(s=ps(a),n=Ec(a,s<=i.toExpNeg||s>=i.toExpPos)):(Ii(t,1,Sm),r===void 0?r=i.rounding:Ii(r,0,8),a=_r(new i(a),t,r),s=ps(a),n=Ec(a,t<=s||s<=i.toExpNeg,t)),n};ht.toSignificantDigits=ht.tosd=function(t,r){var s=this,n=s.constructor;return t===void 0?(t=n.precision,r=n.rounding):(Ii(t,1,Sm),r===void 0?r=n.rounding:Ii(r,0,8)),_r(new n(s),t,r)};ht.toString=ht.valueOf=ht.val=ht.toJSON=ht[Symbol.for("nodejs.util.inspect.custom")]=function(){var t=this,r=ps(t),s=t.constructor;return Ec(t,r<=s.toExpNeg||r>=s.toExpPos)};function Jq(t,r){var s,n,a,i,l,o,c,d,u=t.constructor,m=u.precision;if(!t.s||!r.s)return r.s||(r=new u(t)),Wr?_r(r,m):r;if(c=t.d,d=r.d,l=t.e,a=r.e,c=c.slice(),i=l-a,i){for(i<0?(n=c,i=-i,o=d.length):(n=d,a=l,o=c.length),l=Math.ceil(m/Br),o=l>o?l+1:o+1,i>o&&(i=o,n.length=1),n.reverse();i--;)n.push(0);n.reverse()}for(o=c.length,i=d.length,o-i<0&&(i=o,n=d,d=c,c=n),s=0;i;)s=(c[--i]=c[i]+d[i]+s)/_s|0,c[i]%=_s;for(s&&(c.unshift(s),++a),o=c.length;c[--o]==0;)c.pop();return r.d=c,r.e=a,Wr?_r(r,m):r}function Ii(t,r,s){if(t!==~~t||t<r||t>s)throw Error(fc+t)}function ji(t){var r,s,n,a=t.length-1,i="",l=t[0];if(a>0){for(i+=l,r=1;r<a;r++)n=t[r]+"",s=Br-n.length,s&&(i+=Bl(s)),i+=n;l=t[r],n=l+"",s=Br-n.length,s&&(i+=Bl(s))}else if(l===0)return"0";for(;l%10===0;)l/=10;return i+l}var cl=function(){function t(n,a){var i,l=0,o=n.length;for(n=n.slice();o--;)i=n[o]*a+l,n[o]=i%_s|0,l=i/_s|0;return l&&n.unshift(l),n}function r(n,a,i,l){var o,c;if(i!=l)c=i>l?1:-1;else for(o=c=0;o<i;o++)if(n[o]!=a[o]){c=n[o]>a[o]?1:-1;break}return c}function s(n,a,i){for(var l=0;i--;)n[i]-=l,l=n[i]<a[i]?1:0,n[i]=l*_s+n[i]-a[i];for(;!n[0]&&n.length>1;)n.shift()}return function(n,a,i,l){var o,c,d,u,m,h,g,f,p,y,v,x,b,N,w,C,P,S,A=n.constructor,k=n.s==a.s?1:-1,I=n.d,L=a.d;if(!n.s)return new A(n);if(!a.s)throw Error(Aa+"Division by zero");for(c=n.e-a.e,P=L.length,w=I.length,g=new A(k),f=g.d=[],d=0;L[d]==(I[d]||0);)++d;if(L[d]>(I[d]||0)&&--c,i==null?x=i=A.precision:l?x=i+(ps(n)-ps(a))+1:x=i,x<0)return new A(0);if(x=x/Br+2|0,d=0,P==1)for(u=0,L=L[0],x++;(d<w||u)&&x--;d++)b=u*_s+(I[d]||0),f[d]=b/L|0,u=b%L|0;else{for(u=_s/(L[0]+1)|0,u>1&&(L=t(L,u),I=t(I,u),P=L.length,w=I.length),N=P,p=I.slice(0,P),y=p.length;y<P;)p[y++]=0;S=L.slice(),S.unshift(0),C=L[0],L[1]>=_s/2&&++C;do u=0,o=r(L,p,P,y),o<0?(v=p[0],P!=y&&(v=v*_s+(p[1]||0)),u=v/C|0,u>1?(u>=_s&&(u=_s-1),m=t(L,u),h=m.length,y=p.length,o=r(m,p,h,y),o==1&&(u--,s(m,P<h?S:L,h))):(u==0&&(o=u=1),m=L.slice()),h=m.length,h<y&&m.unshift(0),s(p,m,y),o==-1&&(y=p.length,o=r(L,p,P,y),o<1&&(u++,s(p,P<y?S:L,y))),y=p.length):o===0&&(u++,p=[0]),f[d++]=u,o&&p[0]?p[y++]=I[N]||0:(p=[I[N]],y=1);while((N++<w||p[0]!==void 0)&&x--)}return f[0]||f.shift(),g.e=c,_r(g,l?i+ps(g)+1:i)}}();function ez(t,r){var s,n,a,i,l,o,c=0,d=0,u=t.constructor,m=u.precision;if(ps(t)>16)throw Error(OP+ps(t));if(!t.s)return new u(Yn);for(r==null?(Wr=!1,o=m):o=r,l=new u(.03125);t.abs().gte(.1);)t=t.times(l),d+=5;for(n=Math.log(Ho(2,d))/Math.LN10*2+5|0,o+=n,s=a=i=new u(Yn),u.precision=o;;){if(a=_r(a.times(t),o),s=s.times(++c),l=i.plus(cl(a,s,o)),ji(l.d).slice(0,o)===ji(i.d).slice(0,o)){for(;d--;)i=_r(i.times(i),o);return u.precision=m,r==null?(Wr=!0,_r(i,m)):i}i=l}}function ps(t){for(var r=t.e*Br,s=t.d[0];s>=10;s/=10)r++;return r}function W0(t,r,s){if(r>t.LN10.sd())throw Wr=!0,s&&(t.precision=s),Error(Aa+"LN10 precision limit exceeded");return _r(new t(t.LN10),r)}function Bl(t){for(var r="";t--;)r+="0";return r}function Rp(t,r){var s,n,a,i,l,o,c,d,u,m=1,h=10,g=t,f=g.d,p=g.constructor,y=p.precision;if(g.s<1)throw Error(Aa+(g.s?"NaN":"-Infinity"));if(g.eq(Yn))return new p(0);if(r==null?(Wr=!1,d=y):d=r,g.eq(10))return r==null&&(Wr=!0),W0(p,d);if(d+=h,p.precision=d,s=ji(f),n=s.charAt(0),i=ps(g),Math.abs(i)<15e14){for(;n<7&&n!=1||n==1&&s.charAt(1)>3;)g=g.times(t),s=ji(g.d),n=s.charAt(0),m++;i=ps(g),n>1?(g=new p("0."+s),i++):g=new p(n+"."+s.slice(1))}else return c=W0(p,d+2,y).times(i+""),g=Rp(new p(n+"."+s.slice(1)),d-h).plus(c),p.precision=y,r==null?(Wr=!0,_r(g,y)):g;for(o=l=g=cl(g.minus(Yn),g.plus(Yn),d),u=_r(g.times(g),d),a=3;;){if(l=_r(l.times(u),d),c=o.plus(cl(l,new p(a),d)),ji(c.d).slice(0,d)===ji(o.d).slice(0,d))return o=o.times(2),i!==0&&(o=o.plus(W0(p,d+2,y).times(i+""))),o=cl(o,new p(m),d),p.precision=y,r==null?(Wr=!0,_r(o,y)):o;o=c,a+=2}}function vO(t,r){var s,n,a;for((s=r.indexOf("."))>-1&&(r=r.replace(".","")),(n=r.search(/e/i))>0?(s<0&&(s=n),s+=+r.slice(n+1),r=r.substring(0,n)):s<0&&(s=r.length),n=0;r.charCodeAt(n)===48;)++n;for(a=r.length;r.charCodeAt(a-1)===48;)--a;if(r=r.slice(n,a),r){if(a-=n,s=s-n-1,t.e=Cm(s/Br),t.d=[],n=(s+1)%Br,s<0&&(n+=Br),n<a){for(n&&t.d.push(+r.slice(0,n)),a-=Br;n<a;)t.d.push(+r.slice(n,n+=Br));r=r.slice(n),n=Br-r.length}else n-=a;for(;n--;)r+="0";if(t.d.push(+r),Wr&&(t.e>Kv||t.e<-Kv))throw Error(OP+s)}else t.s=0,t.e=0,t.d=[0];return t}function _r(t,r,s){var n,a,i,l,o,c,d,u,m=t.d;for(l=1,i=m[0];i>=10;i/=10)l++;if(n=r-l,n<0)n+=Br,a=r,d=m[u=0];else{if(u=Math.ceil((n+1)/Br),i=m.length,u>=i)return t;for(d=i=m[u],l=1;i>=10;i/=10)l++;n%=Br,a=n-Br+l}if(s!==void 0&&(i=Ho(10,l-a-1),o=d/i%10|0,c=r<0||m[u+1]!==void 0||d%i,c=s<4?(o||c)&&(s==0||s==(t.s<0?3:2)):o>5||o==5&&(s==4||c||s==6&&(n>0?a>0?d/Ho(10,l-a):0:m[u-1])%10&1||s==(t.s<0?8:7))),r<1||!m[0])return c?(i=ps(t),m.length=1,r=r-i-1,m[0]=Ho(10,(Br-r%Br)%Br),t.e=Cm(-r/Br)||0):(m.length=1,m[0]=t.e=t.s=0),t;if(n==0?(m.length=u,i=1,u--):(m.length=u+1,i=Ho(10,Br-n),m[u]=a>0?(d/Ho(10,l-a)%Ho(10,a)|0)*i:0),c)for(;;)if(u==0){(m[0]+=i)==_s&&(m[0]=1,++t.e);break}else{if(m[u]+=i,m[u]!=_s)break;m[u--]=0,i=1}for(n=m.length;m[--n]===0;)m.pop();if(Wr&&(t.e>Kv||t.e<-Kv))throw Error(OP+ps(t));return t}function tz(t,r){var s,n,a,i,l,o,c,d,u,m,h=t.constructor,g=h.precision;if(!t.s||!r.s)return r.s?r.s=-r.s:r=new h(t),Wr?_r(r,g):r;if(c=t.d,m=r.d,n=r.e,d=t.e,c=c.slice(),l=d-n,l){for(u=l<0,u?(s=c,l=-l,o=m.length):(s=m,n=d,o=c.length),a=Math.max(Math.ceil(g/Br),o)+2,l>a&&(l=a,s.length=1),s.reverse(),a=l;a--;)s.push(0);s.reverse()}else{for(a=c.length,o=m.length,u=a<o,u&&(o=a),a=0;a<o;a++)if(c[a]!=m[a]){u=c[a]<m[a];break}l=0}for(u&&(s=c,c=m,m=s,r.s=-r.s),o=c.length,a=m.length-o;a>0;--a)c[o++]=0;for(a=m.length;a>l;){if(c[--a]<m[a]){for(i=a;i&&c[--i]===0;)c[i]=_s-1;--c[i],c[a]+=_s}c[a]-=m[a]}for(;c[--o]===0;)c.pop();for(;c[0]===0;c.shift())--n;return c[0]?(r.d=c,r.e=n,Wr?_r(r,g):r):new h(0)}function Ec(t,r,s){var n,a=ps(t),i=ji(t.d),l=i.length;return r?(s&&(n=s-l)>0?i=i.charAt(0)+"."+i.slice(1)+Bl(n):l>1&&(i=i.charAt(0)+"."+i.slice(1)),i=i+(a<0?"e":"e+")+a):a<0?(i="0."+Bl(-a-1)+i,s&&(n=s-l)>0&&(i+=Bl(n))):a>=l?(i+=Bl(a+1-l),s&&(n=s-a-1)>0&&(i=i+"."+Bl(n))):((n=a+1)<l&&(i=i.slice(0,n)+"."+i.slice(n)),s&&(n=s-l)>0&&(a+1===l&&(i+="."),i+=Bl(n))),t.s<0?"-"+i:i}function yO(t,r){if(t.length>r)return t.length=r,!0}function rz(t){var r,s,n;function a(i){var l=this;if(!(l instanceof a))return new a(i);if(l.constructor=a,i instanceof a){l.s=i.s,l.e=i.e,l.d=(i=i.d)?i.slice():i;return}if(typeof i=="number"){if(i*0!==0)throw Error(fc+i);if(i>0)l.s=1;else if(i<0)i=-i,l.s=-1;else{l.s=0,l.e=0,l.d=[0];return}if(i===~~i&&i<1e7){l.e=0,l.d=[i];return}return vO(l,i.toString())}else if(typeof i!="string")throw Error(fc+i);if(i.charCodeAt(0)===45?(i=i.slice(1),l.s=-1):l.s=1,ANe.test(i))vO(l,i);else throw Error(fc+i)}if(a.prototype=ht,a.ROUND_UP=0,a.ROUND_DOWN=1,a.ROUND_CEIL=2,a.ROUND_FLOOR=3,a.ROUND_HALF_UP=4,a.ROUND_HALF_DOWN=5,a.ROUND_HALF_EVEN=6,a.ROUND_HALF_CEIL=7,a.ROUND_HALF_FLOOR=8,a.clone=rz,a.config=a.set=_Ne,t===void 0&&(t={}),t)for(n=["precision","rounding","toExpNeg","toExpPos","LN10"],r=0;r<n.length;)t.hasOwnProperty(s=n[r++])||(t[s]=this[s]);return a.config(t),a}function _Ne(t){if(!t||typeof t!="object")throw Error(Aa+"Object expected");var r,s,n,a=["precision",1,Sm,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(r=0;r<a.length;r+=3)if((n=t[s=a[r]])!==void 0)if(Cm(n)===n&&n>=a[r+1]&&n<=a[r+2])this[s]=n;else throw Error(fc+s+": "+n);if((n=t[s="LN10"])!==void 0)if(n==Math.LN10)this[s]=new this(n);else throw Error(fc+s+": "+n);return this}var EP=rz(kNe);Yn=new EP(1);const Cr=EP;function TNe(t){return MNe(t)||DNe(t)||ENe(t)||ONe()}function ONe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ENe(t,r){if(t){if(typeof t=="string")return I1(t,r);var s=Object.prototype.toString.call(t).slice(8,-1);if(s==="Object"&&t.constructor&&(s=t.constructor.name),s==="Map"||s==="Set")return Array.from(t);if(s==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(s))return I1(t,r)}}function DNe(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function MNe(t){if(Array.isArray(t))return I1(t)}function I1(t,r){(r==null||r>t.length)&&(r=t.length);for(var s=0,n=new Array(r);s<r;s++)n[s]=t[s];return n}var INe=function(r){return r},sz={"@@functional/placeholder":!0},nz=function(r){return r===sz},jO=function(r){return function s(){return arguments.length===0||arguments.length===1&&nz(arguments.length<=0?void 0:arguments[0])?s:r.apply(void 0,arguments)}},RNe=function t(r,s){return r===1?s:jO(function(){for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];var l=a.filter(function(o){return o!==sz}).length;return l>=r?s.apply(void 0,a):t(r-l,jO(function(){for(var o=arguments.length,c=new Array(o),d=0;d<o;d++)c[d]=arguments[d];var u=a.map(function(m){return nz(m)?c.shift():m});return s.apply(void 0,TNe(u).concat(c))}))})},Jj=function(r){return RNe(r.length,r)},R1=function(r,s){for(var n=[],a=r;a<s;++a)n[a-r]=a;return n},FNe=Jj(function(t,r){return Array.isArray(r)?r.map(t):Object.keys(r).map(function(s){return r[s]}).map(t)}),$Ne=function(){for(var r=arguments.length,s=new Array(r),n=0;n<r;n++)s[n]=arguments[n];if(!s.length)return INe;var a=s.reverse(),i=a[0],l=a.slice(1);return function(){return l.reduce(function(o,c){return c(o)},i.apply(void 0,arguments))}},F1=function(r){return Array.isArray(r)?r.reverse():r.split("").reverse.join("")},az=function(r){var s=null,n=null;return function(){for(var a=arguments.length,i=new Array(a),l=0;l<a;l++)i[l]=arguments[l];return s&&i.every(function(o,c){return o===s[c]})||(s=i,n=r.apply(void 0,i)),n}};function LNe(t){var r;return t===0?r=1:r=Math.floor(new Cr(t).abs().log(10).toNumber())+1,r}function BNe(t,r,s){for(var n=new Cr(t),a=0,i=[];n.lt(r)&&a<1e5;)i.push(n.toNumber()),n=n.add(s),a++;return i}var VNe=Jj(function(t,r,s){var n=+t,a=+r;return n+s*(a-n)}),UNe=Jj(function(t,r,s){var n=r-+t;return n=n||1/0,(s-t)/n}),qNe=Jj(function(t,r,s){var n=r-+t;return n=n||1/0,Math.max(0,Math.min(1,(s-t)/n))});const eb={rangeStep:BNe,getDigitCount:LNe,interpolateNumber:VNe,uninterpolateNumber:UNe,uninterpolateTruncation:qNe};function $1(t){return HNe(t)||KNe(t)||iz(t)||zNe()}function zNe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function KNe(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function HNe(t){if(Array.isArray(t))return L1(t)}function Fp(t,r){return YNe(t)||GNe(t,r)||iz(t,r)||WNe()}function WNe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function iz(t,r){if(t){if(typeof t=="string")return L1(t,r);var s=Object.prototype.toString.call(t).slice(8,-1);if(s==="Object"&&t.constructor&&(s=t.constructor.name),s==="Map"||s==="Set")return Array.from(t);if(s==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(s))return L1(t,r)}}function L1(t,r){(r==null||r>t.length)&&(r=t.length);for(var s=0,n=new Array(r);s<r;s++)n[s]=t[s];return n}function GNe(t,r){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(t)))){var s=[],n=!0,a=!1,i=void 0;try{for(var l=t[Symbol.iterator](),o;!(n=(o=l.next()).done)&&(s.push(o.value),!(r&&s.length===r));n=!0);}catch(c){a=!0,i=c}finally{try{!n&&l.return!=null&&l.return()}finally{if(a)throw i}}return s}}function YNe(t){if(Array.isArray(t))return t}function lz(t){var r=Fp(t,2),s=r[0],n=r[1],a=s,i=n;return s>n&&(a=n,i=s),[a,i]}function oz(t,r,s){if(t.lte(0))return new Cr(0);var n=eb.getDigitCount(t.toNumber()),a=new Cr(10).pow(n),i=t.div(a),l=n!==1?.05:.1,o=new Cr(Math.ceil(i.div(l).toNumber())).add(s).mul(l),c=o.mul(a);return r?c:new Cr(Math.ceil(c))}function QNe(t,r,s){var n=1,a=new Cr(t);if(!a.isint()&&s){var i=Math.abs(t);i<1?(n=new Cr(10).pow(eb.getDigitCount(t)-1),a=new Cr(Math.floor(a.div(n).toNumber())).mul(n)):i>1&&(a=new Cr(Math.floor(t)))}else t===0?a=new Cr(Math.floor((r-1)/2)):s||(a=new Cr(Math.floor(t)));var l=Math.floor((r-1)/2),o=$Ne(FNe(function(c){return a.add(new Cr(c-l).mul(n)).toNumber()}),R1);return o(0,r)}function cz(t,r,s,n){var a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((r-t)/(s-1)))return{step:new Cr(0),tickMin:new Cr(0),tickMax:new Cr(0)};var i=oz(new Cr(r).sub(t).div(s-1),n,a),l;t<=0&&r>=0?l=new Cr(0):(l=new Cr(t).add(r).div(2),l=l.sub(new Cr(l).mod(i)));var o=Math.ceil(l.sub(t).div(i).toNumber()),c=Math.ceil(new Cr(r).sub(l).div(i).toNumber()),d=o+c+1;return d>s?cz(t,r,s,n,a+1):(d<s&&(c=r>0?c+(s-d):c,o=r>0?o:o+(s-d)),{step:i,tickMin:l.sub(new Cr(o).mul(i)),tickMax:l.add(new Cr(c).mul(i))})}function XNe(t){var r=Fp(t,2),s=r[0],n=r[1],a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,l=Math.max(a,2),o=lz([s,n]),c=Fp(o,2),d=c[0],u=c[1];if(d===-1/0||u===1/0){var m=u===1/0?[d].concat($1(R1(0,a-1).map(function(){return 1/0}))):[].concat($1(R1(0,a-1).map(function(){return-1/0})),[u]);return s>n?F1(m):m}if(d===u)return QNe(d,a,i);var h=cz(d,u,l,i),g=h.step,f=h.tickMin,p=h.tickMax,y=eb.rangeStep(f,p.add(new Cr(.1).mul(g)),g);return s>n?F1(y):y}function ZNe(t,r){var s=Fp(t,2),n=s[0],a=s[1],i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,l=lz([n,a]),o=Fp(l,2),c=o[0],d=o[1];if(c===-1/0||d===1/0)return[n,a];if(c===d)return[c];var u=Math.max(r,2),m=oz(new Cr(d).sub(c).div(u-1),i,0),h=[].concat($1(eb.rangeStep(new Cr(c),new Cr(d).sub(new Cr(.99).mul(m)),m)),[d]);return n>a?F1(h):h}var JNe=az(XNe),ewe=az(ZNe),twe="Invariant failed";function Dc(t,r){throw new Error(twe)}var rwe=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function _u(t){"@babel/helpers - typeof";return _u=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},_u(t)}function Hv(){return Hv=Object.assign?Object.assign.bind():function(t){for(var r=1;r<arguments.length;r++){var s=arguments[r];for(var n in s)Object.prototype.hasOwnProperty.call(s,n)&&(t[n]=s[n])}return t},Hv.apply(this,arguments)}function swe(t,r){return lwe(t)||iwe(t,r)||awe(t,r)||nwe()}function nwe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function awe(t,r){if(t){if(typeof t=="string")return bO(t,r);var s=Object.prototype.toString.call(t).slice(8,-1);if(s==="Object"&&t.constructor&&(s=t.constructor.name),s==="Map"||s==="Set")return Array.from(t);if(s==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(s))return bO(t,r)}}function bO(t,r){(r==null||r>t.length)&&(r=t.length);for(var s=0,n=new Array(r);s<r;s++)n[s]=t[s];return n}function iwe(t,r){var s=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(s!=null){var n,a,i,l,o=[],c=!0,d=!1;try{if(i=(s=s.call(t)).next,r!==0)for(;!(c=(n=i.call(s)).done)&&(o.push(n.value),o.length!==r);c=!0);}catch(u){d=!0,a=u}finally{try{if(!c&&s.return!=null&&(l=s.return(),Object(l)!==l))return}finally{if(d)throw a}}return o}}function lwe(t){if(Array.isArray(t))return t}function owe(t,r){if(t==null)return{};var s=cwe(t,r),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)n=i[a],!(r.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(s[n]=t[n])}return s}function cwe(t,r){if(t==null)return{};var s={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(r.indexOf(n)>=0)continue;s[n]=t[n]}return s}function dwe(t,r){if(!(t instanceof r))throw new TypeError("Cannot call a class as a function")}function uwe(t,r){for(var s=0;s<r.length;s++){var n=r[s];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,mz(n.key),n)}}function mwe(t,r,s){return r&&uwe(t.prototype,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function hwe(t,r,s){return r=Wv(r),pwe(t,dz()?Reflect.construct(r,s||[],Wv(t).constructor):r.apply(t,s))}function pwe(t,r){if(r&&(_u(r)==="object"||typeof r=="function"))return r;if(r!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return fwe(t)}function fwe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function dz(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(dz=function(){return!!t})()}function Wv(t){return Wv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(s){return s.__proto__||Object.getPrototypeOf(s)},Wv(t)}function xwe(t,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(r&&r.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),r&&B1(t,r)}function B1(t,r){return B1=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},B1(t,r)}function uz(t,r,s){return r=mz(r),r in t?Object.defineProperty(t,r,{value:s,enumerable:!0,configurable:!0,writable:!0}):t[r]=s,t}function mz(t){var r=gwe(t,"string");return _u(r)=="symbol"?r:r+""}function gwe(t,r){if(_u(t)!="object"||!t)return t;var s=t[Symbol.toPrimitive];if(s!==void 0){var n=s.call(t,r||"default");if(_u(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(t)}var Bf=function(t){function r(){return dwe(this,r),hwe(this,r,arguments)}return xwe(r,t),mwe(r,[{key:"render",value:function(){var n=this.props,a=n.offset,i=n.layout,l=n.width,o=n.dataKey,c=n.data,d=n.dataPointFormatter,u=n.xAxis,m=n.yAxis,h=owe(n,rwe),g=Nt(h,!1);this.props.direction==="x"&&u.type!=="number"&&Dc();var f=c.map(function(p){var y=d(p,o),v=y.x,x=y.y,b=y.value,N=y.errorVal;if(!N)return null;var w=[],C,P;if(Array.isArray(N)){var S=swe(N,2);C=S[0],P=S[1]}else C=P=N;if(i==="vertical"){var A=u.scale,k=x+a,I=k+l,L=k-l,K=A(b-C),R=A(b+P);w.push({x1:R,y1:I,x2:R,y2:L}),w.push({x1:K,y1:k,x2:R,y2:k}),w.push({x1:K,y1:I,x2:K,y2:L})}else if(i==="horizontal"){var F=m.scale,W=v+a,Q=W-l,H=W+l,Z=F(b-C),me=F(b+P);w.push({x1:Q,y1:me,x2:H,y2:me}),w.push({x1:W,y1:Z,x2:W,y2:me}),w.push({x1:Q,y1:Z,x2:H,y2:Z})}return G.createElement(ur,Hv({className:"recharts-errorBar",key:"bar-".concat(w.map(function(Ne){return"".concat(Ne.x1,"-").concat(Ne.x2,"-").concat(Ne.y1,"-").concat(Ne.y2)}))},g),w.map(function(Ne){return G.createElement("line",Hv({},Ne,{key:"line-".concat(Ne.x1,"-").concat(Ne.x2,"-").concat(Ne.y1,"-").concat(Ne.y2)}))}))});return G.createElement(ur,{className:"recharts-errorBars"},f)}}])}(G.Component);uz(Bf,"defaultProps",{stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"});uz(Bf,"displayName","ErrorBar");function $p(t){"@babel/helpers - typeof";return $p=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},$p(t)}function NO(t,r){var s=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);r&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),s.push.apply(s,n)}return s}function Lo(t){for(var r=1;r<arguments.length;r++){var s=arguments[r]!=null?arguments[r]:{};r%2?NO(Object(s),!0).forEach(function(n){vwe(t,n,s[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(s)):NO(Object(s)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(s,n))})}return t}function vwe(t,r,s){return r=ywe(r),r in t?Object.defineProperty(t,r,{value:s,enumerable:!0,configurable:!0,writable:!0}):t[r]=s,t}function ywe(t){var r=jwe(t,"string");return $p(r)=="symbol"?r:r+""}function jwe(t,r){if($p(t)!="object"||!t)return t;var s=t[Symbol.toPrimitive];if(s!==void 0){var n=s.call(t,r||"default");if($p(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(t)}var hz=function(r){var s=r.children,n=r.formattedGraphicalItems,a=r.legendWidth,i=r.legendContent,l=zn(s,ol);if(!l)return null;var o=ol.defaultProps,c=o!==void 0?Lo(Lo({},o),l.props):{},d;return l.props&&l.props.payload?d=l.props&&l.props.payload:i==="children"?d=(n||[]).reduce(function(u,m){var h=m.item,g=m.props,f=g.sectors||g.data||[];return u.concat(f.map(function(p){return{type:l.props.iconType||h.props.legendType,value:p.name,color:p.fill,payload:p}}))},[]):d=(n||[]).map(function(u){var m=u.item,h=m.type.defaultProps,g=h!==void 0?Lo(Lo({},h),m.props):{},f=g.dataKey,p=g.name,y=g.legendType,v=g.hide;return{inactive:v,dataKey:f,type:c.iconType||y||"square",color:DP(m),value:p||f,payload:g}}),Lo(Lo(Lo({},c),ol.getWithHeight(l,a)),{},{payload:d,item:l})};function Lp(t){"@babel/helpers - typeof";return Lp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},Lp(t)}function wO(t){return Swe(t)||wwe(t)||Nwe(t)||bwe()}function bwe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Nwe(t,r){if(t){if(typeof t=="string")return V1(t,r);var s=Object.prototype.toString.call(t).slice(8,-1);if(s==="Object"&&t.constructor&&(s=t.constructor.name),s==="Map"||s==="Set")return Array.from(t);if(s==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(s))return V1(t,r)}}function wwe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Swe(t){if(Array.isArray(t))return V1(t)}function V1(t,r){(r==null||r>t.length)&&(r=t.length);for(var s=0,n=new Array(r);s<r;s++)n[s]=t[s];return n}function SO(t,r){var s=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);r&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),s.push.apply(s,n)}return s}function as(t){for(var r=1;r<arguments.length;r++){var s=arguments[r]!=null?arguments[r]:{};r%2?SO(Object(s),!0).forEach(function(n){zd(t,n,s[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(s)):SO(Object(s)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(s,n))})}return t}function zd(t,r,s){return r=Cwe(r),r in t?Object.defineProperty(t,r,{value:s,enumerable:!0,configurable:!0,writable:!0}):t[r]=s,t}function Cwe(t){var r=Pwe(t,"string");return Lp(r)=="symbol"?r:r+""}function Pwe(t,r){if(Lp(t)!="object"||!t)return t;var s=t[Symbol.toPrimitive];if(s!==void 0){var n=s.call(t,r||"default");if(Lp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(t)}function js(t,r,s){return Bt(t)||Bt(r)?s:Cs(r)?sa(t,r,s):$t(r)?r(t):s}function Rh(t,r,s,n){var a=wNe(t,function(o){return js(o,r)});if(s==="number"){var i=a.filter(function(o){return Qe(o)||parseFloat(o)});return i.length?[Zj(i),Xj(i)]:[1/0,-1/0]}var l=n?a.filter(function(o){return!Bt(o)}):a;return l.map(function(o){return Cs(o)||o instanceof Date?o:""})}var kwe=function(r){var s,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],a=arguments.length>2?arguments[2]:void 0,i=arguments.length>3?arguments[3]:void 0,l=-1,o=(s=n==null?void 0:n.length)!==null&&s!==void 0?s:0;if(o<=1)return 0;if(i&&i.axisType==="angleAxis"&&Math.abs(Math.abs(i.range[1]-i.range[0])-360)<=1e-6)for(var c=i.range,d=0;d<o;d++){var u=d>0?a[d-1].coordinate:a[o-1].coordinate,m=a[d].coordinate,h=d>=o-1?a[0].coordinate:a[d+1].coordinate,g=void 0;if(dn(m-u)!==dn(h-m)){var f=[];if(dn(h-m)===dn(c[1]-c[0])){g=h;var p=m+c[1]-c[0];f[0]=Math.min(p,(p+u)/2),f[1]=Math.max(p,(p+u)/2)}else{g=u;var y=h+c[1]-c[0];f[0]=Math.min(m,(y+m)/2),f[1]=Math.max(m,(y+m)/2)}var v=[Math.min(m,(g+m)/2),Math.max(m,(g+m)/2)];if(r>v[0]&&r<=v[1]||r>=f[0]&&r<=f[1]){l=a[d].index;break}}else{var x=Math.min(u,h),b=Math.max(u,h);if(r>(x+m)/2&&r<=(b+m)/2){l=a[d].index;break}}}else for(var N=0;N<o;N++)if(N===0&&r<=(n[N].coordinate+n[N+1].coordinate)/2||N>0&&N<o-1&&r>(n[N].coordinate+n[N-1].coordinate)/2&&r<=(n[N].coordinate+n[N+1].coordinate)/2||N===o-1&&r>(n[N].coordinate+n[N-1].coordinate)/2){l=n[N].index;break}return l},DP=function(r){var s,n=r,a=n.type.displayName,i=(s=r.type)!==null&&s!==void 0&&s.defaultProps?as(as({},r.type.defaultProps),r.props):r.props,l=i.stroke,o=i.fill,c;switch(a){case"Line":c=l;break;case"Area":case"Radar":c=l&&l!=="none"?l:o;break;default:c=o;break}return c},Awe=function(r){var s=r.barSize,n=r.totalSize,a=r.stackGroups,i=a===void 0?{}:a;if(!i)return{};for(var l={},o=Object.keys(i),c=0,d=o.length;c<d;c++)for(var u=i[o[c]].stackGroups,m=Object.keys(u),h=0,g=m.length;h<g;h++){var f=u[m[h]],p=f.items,y=f.cateAxisId,v=p.filter(function(P){return ll(P.type).indexOf("Bar")>=0});if(v&&v.length){var x=v[0].type.defaultProps,b=x!==void 0?as(as({},x),v[0].props):v[0].props,N=b.barSize,w=b[y];l[w]||(l[w]=[]);var C=Bt(N)?s:N;l[w].push({item:v[0],stackList:v.slice(1),barSize:Bt(C)?void 0:un(C,n,0)})}}return l},_we=function(r){var s=r.barGap,n=r.barCategoryGap,a=r.bandSize,i=r.sizeList,l=i===void 0?[]:i,o=r.maxBarSize,c=l.length;if(c<1)return null;var d=un(s,a,0,!0),u,m=[];if(l[0].barSize===+l[0].barSize){var h=!1,g=a/c,f=l.reduce(function(N,w){return N+w.barSize||0},0);f+=(c-1)*d,f>=a&&(f-=(c-1)*d,d=0),f>=a&&g>0&&(h=!0,g*=.9,f=c*g);var p=(a-f)/2>>0,y={offset:p-d,size:0};u=l.reduce(function(N,w){var C={item:w.item,position:{offset:y.offset+y.size+d,size:h?g:w.barSize}},P=[].concat(wO(N),[C]);return y=P[P.length-1].position,w.stackList&&w.stackList.length&&w.stackList.forEach(function(S){P.push({item:S,position:y})}),P},m)}else{var v=un(n,a,0,!0);a-2*v-(c-1)*d<=0&&(d=0);var x=(a-2*v-(c-1)*d)/c;x>1&&(x>>=0);var b=o===+o?Math.min(x,o):x;u=l.reduce(function(N,w,C){var P=[].concat(wO(N),[{item:w.item,position:{offset:v+(x+d)*C+(x-b)/2,size:b}}]);return w.stackList&&w.stackList.length&&w.stackList.forEach(function(S){P.push({item:S,position:P[P.length-1].position})}),P},m)}return u},Twe=function(r,s,n,a){var i=n.children,l=n.width,o=n.margin,c=l-(o.left||0)-(o.right||0),d=hz({children:i,legendWidth:c});if(d){var u=a||{},m=u.width,h=u.height,g=d.align,f=d.verticalAlign,p=d.layout;if((p==="vertical"||p==="horizontal"&&f==="middle")&&g!=="center"&&Qe(r[g]))return as(as({},r),{},zd({},g,r[g]+(m||0)));if((p==="horizontal"||p==="vertical"&&g==="center")&&f!=="middle"&&Qe(r[f]))return as(as({},r),{},zd({},f,r[f]+(h||0)))}return r},Owe=function(r,s,n){return Bt(s)?!0:r==="horizontal"?s==="yAxis":r==="vertical"||n==="x"?s==="xAxis":n==="y"?s==="yAxis":!0},pz=function(r,s,n,a,i){var l=s.props.children,o=na(l,Bf).filter(function(d){return Owe(a,i,d.props.direction)});if(o&&o.length){var c=o.map(function(d){return d.props.dataKey});return r.reduce(function(d,u){var m=js(u,n);if(Bt(m))return d;var h=Array.isArray(m)?[Zj(m),Xj(m)]:[m,m],g=c.reduce(function(f,p){var y=js(u,p,0),v=h[0]-Math.abs(Array.isArray(y)?y[0]:y),x=h[1]+Math.abs(Array.isArray(y)?y[1]:y);return[Math.min(v,f[0]),Math.max(x,f[1])]},[1/0,-1/0]);return[Math.min(g[0],d[0]),Math.max(g[1],d[1])]},[1/0,-1/0])}return null},Ewe=function(r,s,n,a,i){var l=s.map(function(o){return pz(r,o,n,i,a)}).filter(function(o){return!Bt(o)});return l&&l.length?l.reduce(function(o,c){return[Math.min(o[0],c[0]),Math.max(o[1],c[1])]},[1/0,-1/0]):null},fz=function(r,s,n,a,i){var l=s.map(function(c){var d=c.props.dataKey;return n==="number"&&d&&pz(r,c,d,a)||Rh(r,d,n,i)});if(n==="number")return l.reduce(function(c,d){return[Math.min(c[0],d[0]),Math.max(c[1],d[1])]},[1/0,-1/0]);var o={};return l.reduce(function(c,d){for(var u=0,m=d.length;u<m;u++)o[d[u]]||(o[d[u]]=!0,c.push(d[u]));return c},[])},xz=function(r,s){return r==="horizontal"&&s==="xAxis"||r==="vertical"&&s==="yAxis"||r==="centric"&&s==="angleAxis"||r==="radial"&&s==="radiusAxis"},gz=function(r,s,n,a){if(a)return r.map(function(c){return c.coordinate});var i,l,o=r.map(function(c){return c.coordinate===s&&(i=!0),c.coordinate===n&&(l=!0),c.coordinate});return i||o.push(s),l||o.push(n),o},al=function(r,s,n){if(!r)return null;var a=r.scale,i=r.duplicateDomain,l=r.type,o=r.range,c=r.realScaleType==="scaleBand"?a.bandwidth()/2:2,d=(s||n)&&l==="category"&&a.bandwidth?a.bandwidth()/c:0;if(d=r.axisType==="angleAxis"&&(o==null?void 0:o.length)>=2?dn(o[0]-o[1])*2*d:d,s&&(r.ticks||r.niceTicks)){var u=(r.ticks||r.niceTicks).map(function(m){var h=i?i.indexOf(m):m;return{coordinate:a(h)+d,value:m,offset:d}});return u.filter(function(m){return!Df(m.coordinate)})}return r.isCategorical&&r.categoricalDomain?r.categoricalDomain.map(function(m,h){return{coordinate:a(m)+d,value:m,index:h,offset:d}}):a.ticks&&!n?a.ticks(r.tickCount).map(function(m){return{coordinate:a(m)+d,value:m,offset:d}}):a.domain().map(function(m,h){return{coordinate:a(m)+d,value:i?i[m]:m,index:h,offset:d}})},G0=new WeakMap,Ox=function(r,s){if(typeof s!="function")return r;G0.has(r)||G0.set(r,new WeakMap);var n=G0.get(r);if(n.has(s))return n.get(s);var a=function(){r.apply(void 0,arguments),s.apply(void 0,arguments)};return n.set(s,a),a},vz=function(r,s,n){var a=r.scale,i=r.type,l=r.layout,o=r.axisType;if(a==="auto")return l==="radial"&&o==="radiusAxis"?{scale:Op(),realScaleType:"band"}:l==="radial"&&o==="angleAxis"?{scale:Vv(),realScaleType:"linear"}:i==="category"&&s&&(s.indexOf("LineChart")>=0||s.indexOf("AreaChart")>=0||s.indexOf("ComposedChart")>=0&&!n)?{scale:Ih(),realScaleType:"point"}:i==="category"?{scale:Op(),realScaleType:"band"}:{scale:Vv(),realScaleType:"linear"};if(Ef(a)){var c="scale".concat(Rj(a));return{scale:(gO[c]||Ih)(),realScaleType:gO[c]?c:"point"}}return $t(a)?{scale:a}:{scale:Ih(),realScaleType:"point"}},CO=1e-4,yz=function(r){var s=r.domain();if(!(!s||s.length<=2)){var n=s.length,a=r.range(),i=Math.min(a[0],a[1])-CO,l=Math.max(a[0],a[1])+CO,o=r(s[0]),c=r(s[n-1]);(o<i||o>l||c<i||c>l)&&r.domain([s[0],s[n-1]])}},Dwe=function(r,s){if(!r)return null;for(var n=0,a=r.length;n<a;n++)if(r[n].item===s)return r[n].position;return null},Mwe=function(r,s){if(!s||s.length!==2||!Qe(s[0])||!Qe(s[1]))return r;var n=Math.min(s[0],s[1]),a=Math.max(s[0],s[1]),i=[r[0],r[1]];return(!Qe(r[0])||r[0]<n)&&(i[0]=n),(!Qe(r[1])||r[1]>a)&&(i[1]=a),i[0]>a&&(i[0]=a),i[1]<n&&(i[1]=n),i},Iwe=function(r){var s=r.length;if(!(s<=0))for(var n=0,a=r[0].length;n<a;++n)for(var i=0,l=0,o=0;o<s;++o){var c=Df(r[o][n][1])?r[o][n][0]:r[o][n][1];c>=0?(r[o][n][0]=i,r[o][n][1]=i+c,i=r[o][n][1]):(r[o][n][0]=l,r[o][n][1]=l+c,l=r[o][n][1])}},Rwe=function(r){var s=r.length;if(!(s<=0))for(var n=0,a=r[0].length;n<a;++n)for(var i=0,l=0;l<s;++l){var o=Df(r[l][n][1])?r[l][n][0]:r[l][n][1];o>=0?(r[l][n][0]=i,r[l][n][1]=i+o,i=r[l][n][1]):(r[l][n][0]=0,r[l][n][1]=0)}},Fwe={sign:Iwe,expand:rue,none:bu,silhouette:sue,wiggle:nue,positive:Rwe},$we=function(r,s,n){var a=s.map(function(o){return o.props.dataKey}),i=Fwe[n],l=tue().keys(a).value(function(o,c){return+js(o,c,0)}).order(m1).offset(i);return l(r)},Lwe=function(r,s,n,a,i,l){if(!r)return null;var o=l?s.reverse():s,c={},d=o.reduce(function(m,h){var g,f=(g=h.type)!==null&&g!==void 0&&g.defaultProps?as(as({},h.type.defaultProps),h.props):h.props,p=f.stackId,y=f.hide;if(y)return m;var v=f[n],x=m[v]||{hasStack:!1,stackGroups:{}};if(Cs(p)){var b=x.stackGroups[p]||{numericAxisId:n,cateAxisId:a,items:[]};b.items.push(h),x.hasStack=!0,x.stackGroups[p]=b}else x.stackGroups[ym("_stackId_")]={numericAxisId:n,cateAxisId:a,items:[h]};return as(as({},m),{},zd({},v,x))},c),u={};return Object.keys(d).reduce(function(m,h){var g=d[h];if(g.hasStack){var f={};g.stackGroups=Object.keys(g.stackGroups).reduce(function(p,y){var v=g.stackGroups[y];return as(as({},p),{},zd({},y,{numericAxisId:n,cateAxisId:a,items:v.items,stackedData:$we(r,v.items,i)}))},f)}return as(as({},m),{},zd({},h,g))},u)},jz=function(r,s){var n=s.realScaleType,a=s.type,i=s.tickCount,l=s.originalDomain,o=s.allowDecimals,c=n||s.scale;if(c!=="auto"&&c!=="linear")return null;if(i&&a==="number"&&l&&(l[0]==="auto"||l[1]==="auto")){var d=r.domain();if(!d.length)return null;var u=JNe(d,i,o);return r.domain([Zj(u),Xj(u)]),{niceTicks:u}}if(i&&a==="number"){var m=r.domain(),h=ewe(m,i,o);return{niceTicks:h}}return null};function PO(t){var r=t.axis,s=t.ticks,n=t.bandSize,a=t.entry,i=t.index,l=t.dataKey;if(r.type==="category"){if(!r.allowDuplicatedCategory&&r.dataKey&&!Bt(a[r.dataKey])){var o=yv(s,"value",a[r.dataKey]);if(o)return o.coordinate+n/2}return s[i]?s[i].coordinate+n/2:null}var c=js(a,Bt(l)?r.dataKey:l);return Bt(c)?null:r.scale(c)}var kO=function(r){var s=r.axis,n=r.ticks,a=r.offset,i=r.bandSize,l=r.entry,o=r.index;if(s.type==="category")return n[o]?n[o].coordinate+a:null;var c=js(l,s.dataKey,s.domain[o]);return Bt(c)?null:s.scale(c)-i/2+a},Bwe=function(r){var s=r.numericAxis,n=s.scale.domain();if(s.type==="number"){var a=Math.min(n[0],n[1]),i=Math.max(n[0],n[1]);return a<=0&&i>=0?0:i<0?i:a}return n[0]},Vwe=function(r,s){var n,a=(n=r.type)!==null&&n!==void 0&&n.defaultProps?as(as({},r.type.defaultProps),r.props):r.props,i=a.stackId;if(Cs(i)){var l=s[i];if(l){var o=l.items.indexOf(r);return o>=0?l.stackedData[o]:null}}return null},Uwe=function(r){return r.reduce(function(s,n){return[Zj(n.concat([s[0]]).filter(Qe)),Xj(n.concat([s[1]]).filter(Qe))]},[1/0,-1/0])},bz=function(r,s,n){return Object.keys(r).reduce(function(a,i){var l=r[i],o=l.stackedData,c=o.reduce(function(d,u){var m=Uwe(u.slice(s,n+1));return[Math.min(d[0],m[0]),Math.max(d[1],m[1])]},[1/0,-1/0]);return[Math.min(c[0],a[0]),Math.max(c[1],a[1])]},[1/0,-1/0]).map(function(a){return a===1/0||a===-1/0?0:a})},AO=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,_O=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,U1=function(r,s,n){if($t(r))return r(s,n);if(!Array.isArray(r))return s;var a=[];if(Qe(r[0]))a[0]=n?r[0]:Math.min(r[0],s[0]);else if(AO.test(r[0])){var i=+AO.exec(r[0])[1];a[0]=s[0]-i}else $t(r[0])?a[0]=r[0](s[0]):a[0]=s[0];if(Qe(r[1]))a[1]=n?r[1]:Math.max(r[1],s[1]);else if(_O.test(r[1])){var l=+_O.exec(r[1])[1];a[1]=s[1]+l}else $t(r[1])?a[1]=r[1](s[1]):a[1]=s[1];return a},Gv=function(r,s,n){if(r&&r.scale&&r.scale.bandwidth){var a=r.scale.bandwidth();if(!n||a>0)return a}if(r&&s&&s.length>=2){for(var i=lP(s,function(m){return m.coordinate}),l=1/0,o=1,c=i.length;o<c;o++){var d=i[o],u=i[o-1];l=Math.min((d.coordinate||0)-(u.coordinate||0),l)}return l===1/0?0:l}return n?void 0:0},TO=function(r,s,n){return!r||!r.length||Lf(r,sa(n,"type.defaultProps.domain"))?s:r},Nz=function(r,s){var n=r.type.defaultProps?as(as({},r.type.defaultProps),r.props):r.props,a=n.dataKey,i=n.name,l=n.unit,o=n.formatter,c=n.tooltipType,d=n.chartType,u=n.hide;return as(as({},Nt(r,!1)),{},{dataKey:a,unit:l,formatter:o,name:i||a,color:DP(r),value:js(s,a),type:c,payload:s,chartType:d,hide:u})};function Bp(t){"@babel/helpers - typeof";return Bp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},Bp(t)}function OO(t,r){var s=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);r&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),s.push.apply(s,n)}return s}function Qi(t){for(var r=1;r<arguments.length;r++){var s=arguments[r]!=null?arguments[r]:{};r%2?OO(Object(s),!0).forEach(function(n){wz(t,n,s[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(s)):OO(Object(s)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(s,n))})}return t}function wz(t,r,s){return r=qwe(r),r in t?Object.defineProperty(t,r,{value:s,enumerable:!0,configurable:!0,writable:!0}):t[r]=s,t}function qwe(t){var r=zwe(t,"string");return Bp(r)=="symbol"?r:r+""}function zwe(t,r){if(Bp(t)!="object"||!t)return t;var s=t[Symbol.toPrimitive];if(s!==void 0){var n=s.call(t,r||"default");if(Bp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(t)}function Kwe(t,r){return Ywe(t)||Gwe(t,r)||Wwe(t,r)||Hwe()}function Hwe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Wwe(t,r){if(t){if(typeof t=="string")return EO(t,r);var s=Object.prototype.toString.call(t).slice(8,-1);if(s==="Object"&&t.constructor&&(s=t.constructor.name),s==="Map"||s==="Set")return Array.from(t);if(s==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(s))return EO(t,r)}}function EO(t,r){(r==null||r>t.length)&&(r=t.length);for(var s=0,n=new Array(r);s<r;s++)n[s]=t[s];return n}function Gwe(t,r){var s=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(s!=null){var n,a,i,l,o=[],c=!0,d=!1;try{if(i=(s=s.call(t)).next,r!==0)for(;!(c=(n=i.call(s)).done)&&(o.push(n.value),o.length!==r);c=!0);}catch(u){d=!0,a=u}finally{try{if(!c&&s.return!=null&&(l=s.return(),Object(l)!==l))return}finally{if(d)throw a}}return o}}function Ywe(t){if(Array.isArray(t))return t}var Yv=Math.PI/180,Qwe=function(r){return r*180/Math.PI},Ir=function(r,s,n,a){return{x:r+Math.cos(-Yv*a)*n,y:s+Math.sin(-Yv*a)*n}},Sz=function(r,s){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(r-(n.left||0)-(n.right||0)),Math.abs(s-(n.top||0)-(n.bottom||0)))/2},Xwe=function(r,s,n,a,i){var l=r.width,o=r.height,c=r.startAngle,d=r.endAngle,u=un(r.cx,l,l/2),m=un(r.cy,o,o/2),h=Sz(l,o,n),g=un(r.innerRadius,h,0),f=un(r.outerRadius,h,h*.8),p=Object.keys(s);return p.reduce(function(y,v){var x=s[v],b=x.domain,N=x.reversed,w;if(Bt(x.range))a==="angleAxis"?w=[c,d]:a==="radiusAxis"&&(w=[g,f]),N&&(w=[w[1],w[0]]);else{w=x.range;var C=w,P=Kwe(C,2);c=P[0],d=P[1]}var S=vz(x,i),A=S.realScaleType,k=S.scale;k.domain(b).range(w),yz(k);var I=jz(k,Qi(Qi({},x),{},{realScaleType:A})),L=Qi(Qi(Qi({},x),I),{},{range:w,radius:f,realScaleType:A,scale:k,cx:u,cy:m,innerRadius:g,outerRadius:f,startAngle:c,endAngle:d});return Qi(Qi({},y),{},wz({},v,L))},{})},Zwe=function(r,s){var n=r.x,a=r.y,i=s.x,l=s.y;return Math.sqrt(Math.pow(n-i,2)+Math.pow(a-l,2))},Jwe=function(r,s){var n=r.x,a=r.y,i=s.cx,l=s.cy,o=Zwe({x:n,y:a},{x:i,y:l});if(o<=0)return{radius:o};var c=(n-i)/o,d=Math.acos(c);return a>l&&(d=2*Math.PI-d),{radius:o,angle:Qwe(d),angleInRadian:d}},e1e=function(r){var s=r.startAngle,n=r.endAngle,a=Math.floor(s/360),i=Math.floor(n/360),l=Math.min(a,i);return{startAngle:s-l*360,endAngle:n-l*360}},t1e=function(r,s){var n=s.startAngle,a=s.endAngle,i=Math.floor(n/360),l=Math.floor(a/360),o=Math.min(i,l);return r+o*360},DO=function(r,s){var n=r.x,a=r.y,i=Jwe({x:n,y:a},s),l=i.radius,o=i.angle,c=s.innerRadius,d=s.outerRadius;if(l<c||l>d)return!1;if(l===0)return!0;var u=e1e(s),m=u.startAngle,h=u.endAngle,g=o,f;if(m<=h){for(;g>h;)g-=360;for(;g<m;)g+=360;f=g>=m&&g<=h}else{for(;g>m;)g-=360;for(;g<h;)g+=360;f=g>=h&&g<=m}return f?Qi(Qi({},s),{},{radius:l,angle:t1e(g,s)}):null},Cz=function(r){return!j.isValidElement(r)&&!$t(r)&&typeof r!="boolean"?r.className:""};function Vp(t){"@babel/helpers - typeof";return Vp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},Vp(t)}var r1e=["offset"];function s1e(t){return l1e(t)||i1e(t)||a1e(t)||n1e()}function n1e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function a1e(t,r){if(t){if(typeof t=="string")return q1(t,r);var s=Object.prototype.toString.call(t).slice(8,-1);if(s==="Object"&&t.constructor&&(s=t.constructor.name),s==="Map"||s==="Set")return Array.from(t);if(s==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(s))return q1(t,r)}}function i1e(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function l1e(t){if(Array.isArray(t))return q1(t)}function q1(t,r){(r==null||r>t.length)&&(r=t.length);for(var s=0,n=new Array(r);s<r;s++)n[s]=t[s];return n}function o1e(t,r){if(t==null)return{};var s=c1e(t,r),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)n=i[a],!(r.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(s[n]=t[n])}return s}function c1e(t,r){if(t==null)return{};var s={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(r.indexOf(n)>=0)continue;s[n]=t[n]}return s}function MO(t,r){var s=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);r&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),s.push.apply(s,n)}return s}function xs(t){for(var r=1;r<arguments.length;r++){var s=arguments[r]!=null?arguments[r]:{};r%2?MO(Object(s),!0).forEach(function(n){d1e(t,n,s[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(s)):MO(Object(s)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(s,n))})}return t}function d1e(t,r,s){return r=u1e(r),r in t?Object.defineProperty(t,r,{value:s,enumerable:!0,configurable:!0,writable:!0}):t[r]=s,t}function u1e(t){var r=m1e(t,"string");return Vp(r)=="symbol"?r:r+""}function m1e(t,r){if(Vp(t)!="object"||!t)return t;var s=t[Symbol.toPrimitive];if(s!==void 0){var n=s.call(t,r||"default");if(Vp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(t)}function Up(){return Up=Object.assign?Object.assign.bind():function(t){for(var r=1;r<arguments.length;r++){var s=arguments[r];for(var n in s)Object.prototype.hasOwnProperty.call(s,n)&&(t[n]=s[n])}return t},Up.apply(this,arguments)}var h1e=function(r){var s=r.value,n=r.formatter,a=Bt(r.children)?s:r.children;return $t(n)?n(a):a},p1e=function(r,s){var n=dn(s-r),a=Math.min(Math.abs(s-r),360);return n*a},f1e=function(r,s,n){var a=r.position,i=r.viewBox,l=r.offset,o=r.className,c=i,d=c.cx,u=c.cy,m=c.innerRadius,h=c.outerRadius,g=c.startAngle,f=c.endAngle,p=c.clockWise,y=(m+h)/2,v=p1e(g,f),x=v>=0?1:-1,b,N;a==="insideStart"?(b=g+x*l,N=p):a==="insideEnd"?(b=f-x*l,N=!p):a==="end"&&(b=f+x*l,N=p),N=v<=0?N:!N;var w=Ir(d,u,y,b),C=Ir(d,u,y,b+(N?1:-1)*359),P="M".concat(w.x,",").concat(w.y,`
    A`).concat(y,",").concat(y,",0,1,").concat(N?0:1,`,
    `).concat(C.x,",").concat(C.y),S=Bt(r.id)?ym("recharts-radial-line-"):r.id;return G.createElement("text",Up({},n,{dominantBaseline:"central",className:Kt("recharts-radial-bar-label",o)}),G.createElement("defs",null,G.createElement("path",{id:S,d:P})),G.createElement("textPath",{xlinkHref:"#".concat(S)},s))},x1e=function(r){var s=r.viewBox,n=r.offset,a=r.position,i=s,l=i.cx,o=i.cy,c=i.innerRadius,d=i.outerRadius,u=i.startAngle,m=i.endAngle,h=(u+m)/2;if(a==="outside"){var g=Ir(l,o,d+n,h),f=g.x,p=g.y;return{x:f,y:p,textAnchor:f>=l?"start":"end",verticalAnchor:"middle"}}if(a==="center")return{x:l,y:o,textAnchor:"middle",verticalAnchor:"middle"};if(a==="centerTop")return{x:l,y:o,textAnchor:"middle",verticalAnchor:"start"};if(a==="centerBottom")return{x:l,y:o,textAnchor:"middle",verticalAnchor:"end"};var y=(c+d)/2,v=Ir(l,o,y,h),x=v.x,b=v.y;return{x,y:b,textAnchor:"middle",verticalAnchor:"middle"}},g1e=function(r){var s=r.viewBox,n=r.parentViewBox,a=r.offset,i=r.position,l=s,o=l.x,c=l.y,d=l.width,u=l.height,m=u>=0?1:-1,h=m*a,g=m>0?"end":"start",f=m>0?"start":"end",p=d>=0?1:-1,y=p*a,v=p>0?"end":"start",x=p>0?"start":"end";if(i==="top"){var b={x:o+d/2,y:c-m*a,textAnchor:"middle",verticalAnchor:g};return xs(xs({},b),n?{height:Math.max(c-n.y,0),width:d}:{})}if(i==="bottom"){var N={x:o+d/2,y:c+u+h,textAnchor:"middle",verticalAnchor:f};return xs(xs({},N),n?{height:Math.max(n.y+n.height-(c+u),0),width:d}:{})}if(i==="left"){var w={x:o-y,y:c+u/2,textAnchor:v,verticalAnchor:"middle"};return xs(xs({},w),n?{width:Math.max(w.x-n.x,0),height:u}:{})}if(i==="right"){var C={x:o+d+y,y:c+u/2,textAnchor:x,verticalAnchor:"middle"};return xs(xs({},C),n?{width:Math.max(n.x+n.width-C.x,0),height:u}:{})}var P=n?{width:d,height:u}:{};return i==="insideLeft"?xs({x:o+y,y:c+u/2,textAnchor:x,verticalAnchor:"middle"},P):i==="insideRight"?xs({x:o+d-y,y:c+u/2,textAnchor:v,verticalAnchor:"middle"},P):i==="insideTop"?xs({x:o+d/2,y:c+h,textAnchor:"middle",verticalAnchor:f},P):i==="insideBottom"?xs({x:o+d/2,y:c+u-h,textAnchor:"middle",verticalAnchor:g},P):i==="insideTopLeft"?xs({x:o+y,y:c+h,textAnchor:x,verticalAnchor:f},P):i==="insideTopRight"?xs({x:o+d-y,y:c+h,textAnchor:v,verticalAnchor:f},P):i==="insideBottomLeft"?xs({x:o+y,y:c+u-h,textAnchor:x,verticalAnchor:g},P):i==="insideBottomRight"?xs({x:o+d-y,y:c+u-h,textAnchor:v,verticalAnchor:g},P):fm(i)&&(Qe(i.x)||ec(i.x))&&(Qe(i.y)||ec(i.y))?xs({x:o+un(i.x,d),y:c+un(i.y,u),textAnchor:"end",verticalAnchor:"end"},P):xs({x:o+d/2,y:c+u/2,textAnchor:"middle",verticalAnchor:"middle"},P)},v1e=function(r){return"cx"in r&&Qe(r.cx)};function Os(t){var r=t.offset,s=r===void 0?5:r,n=o1e(t,r1e),a=xs({offset:s},n),i=a.viewBox,l=a.position,o=a.value,c=a.children,d=a.content,u=a.className,m=u===void 0?"":u,h=a.textBreakAll;if(!i||Bt(o)&&Bt(c)&&!j.isValidElement(d)&&!$t(d))return null;if(j.isValidElement(d))return j.cloneElement(d,a);var g;if($t(d)){if(g=j.createElement(d,a),j.isValidElement(g))return g}else g=h1e(a);var f=v1e(i),p=Nt(a,!0);if(f&&(l==="insideStart"||l==="insideEnd"||l==="end"))return f1e(a,g,p);var y=f?x1e(a):g1e(a);return G.createElement(Oc,Up({className:Kt("recharts-label",m)},p,y,{breakAll:h}),g)}Os.displayName="Label";var Pz=function(r){var s=r.cx,n=r.cy,a=r.angle,i=r.startAngle,l=r.endAngle,o=r.r,c=r.radius,d=r.innerRadius,u=r.outerRadius,m=r.x,h=r.y,g=r.top,f=r.left,p=r.width,y=r.height,v=r.clockWise,x=r.labelViewBox;if(x)return x;if(Qe(p)&&Qe(y)){if(Qe(m)&&Qe(h))return{x:m,y:h,width:p,height:y};if(Qe(g)&&Qe(f))return{x:g,y:f,width:p,height:y}}return Qe(m)&&Qe(h)?{x:m,y:h,width:0,height:0}:Qe(s)&&Qe(n)?{cx:s,cy:n,startAngle:i||a||0,endAngle:l||a||0,innerRadius:d||0,outerRadius:u||c||o||0,clockWise:v}:r.viewBox?r.viewBox:{}},y1e=function(r,s){return r?r===!0?G.createElement(Os,{key:"label-implicit",viewBox:s}):Cs(r)?G.createElement(Os,{key:"label-implicit",viewBox:s,value:r}):j.isValidElement(r)?r.type===Os?j.cloneElement(r,{key:"label-implicit",viewBox:s}):G.createElement(Os,{key:"label-implicit",content:r,viewBox:s}):$t(r)?G.createElement(Os,{key:"label-implicit",content:r,viewBox:s}):fm(r)?G.createElement(Os,Up({viewBox:s},r,{key:"label-implicit"})):null:null},j1e=function(r,s){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!r||!r.children&&n&&!r.label)return null;var a=r.children,i=Pz(r),l=na(a,Os).map(function(c,d){return j.cloneElement(c,{viewBox:s||i,key:"label-".concat(d)})});if(!n)return l;var o=y1e(r.label,s||i);return[o].concat(s1e(l))};Os.parseViewBox=Pz;Os.renderCallByParent=j1e;function b1e(t){var r=t==null?0:t.length;return r?t[r-1]:void 0}var N1e=b1e;const w1e=yr(N1e);function qp(t){"@babel/helpers - typeof";return qp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},qp(t)}var S1e=["valueAccessor"],C1e=["data","dataKey","clockWise","id","textBreakAll"];function P1e(t){return T1e(t)||_1e(t)||A1e(t)||k1e()}function k1e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function A1e(t,r){if(t){if(typeof t=="string")return z1(t,r);var s=Object.prototype.toString.call(t).slice(8,-1);if(s==="Object"&&t.constructor&&(s=t.constructor.name),s==="Map"||s==="Set")return Array.from(t);if(s==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(s))return z1(t,r)}}function _1e(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function T1e(t){if(Array.isArray(t))return z1(t)}function z1(t,r){(r==null||r>t.length)&&(r=t.length);for(var s=0,n=new Array(r);s<r;s++)n[s]=t[s];return n}function Qv(){return Qv=Object.assign?Object.assign.bind():function(t){for(var r=1;r<arguments.length;r++){var s=arguments[r];for(var n in s)Object.prototype.hasOwnProperty.call(s,n)&&(t[n]=s[n])}return t},Qv.apply(this,arguments)}function IO(t,r){var s=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);r&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),s.push.apply(s,n)}return s}function RO(t){for(var r=1;r<arguments.length;r++){var s=arguments[r]!=null?arguments[r]:{};r%2?IO(Object(s),!0).forEach(function(n){O1e(t,n,s[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(s)):IO(Object(s)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(s,n))})}return t}function O1e(t,r,s){return r=E1e(r),r in t?Object.defineProperty(t,r,{value:s,enumerable:!0,configurable:!0,writable:!0}):t[r]=s,t}function E1e(t){var r=D1e(t,"string");return qp(r)=="symbol"?r:r+""}function D1e(t,r){if(qp(t)!="object"||!t)return t;var s=t[Symbol.toPrimitive];if(s!==void 0){var n=s.call(t,r||"default");if(qp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(t)}function FO(t,r){if(t==null)return{};var s=M1e(t,r),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)n=i[a],!(r.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(s[n]=t[n])}return s}function M1e(t,r){if(t==null)return{};var s={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(r.indexOf(n)>=0)continue;s[n]=t[n]}return s}var I1e=function(r){return Array.isArray(r.value)?w1e(r.value):r.value};function dl(t){var r=t.valueAccessor,s=r===void 0?I1e:r,n=FO(t,S1e),a=n.data,i=n.dataKey,l=n.clockWise,o=n.id,c=n.textBreakAll,d=FO(n,C1e);return!a||!a.length?null:G.createElement(ur,{className:"recharts-label-list"},a.map(function(u,m){var h=Bt(i)?s(u,m):js(u&&u.payload,i),g=Bt(o)?{}:{id:"".concat(o,"-").concat(m)};return G.createElement(Os,Qv({},Nt(u,!0),d,g,{parentViewBox:u.parentViewBox,value:h,textBreakAll:c,viewBox:Os.parseViewBox(Bt(l)?u:RO(RO({},u),{},{clockWise:l})),key:"label-".concat(m),index:m}))}))}dl.displayName="LabelList";function R1e(t,r){return t?t===!0?G.createElement(dl,{key:"labelList-implicit",data:r}):G.isValidElement(t)||$t(t)?G.createElement(dl,{key:"labelList-implicit",data:r,content:t}):fm(t)?G.createElement(dl,Qv({data:r},t,{key:"labelList-implicit"})):null:null}function F1e(t,r){var s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&s&&!t.label)return null;var n=t.children,a=na(n,dl).map(function(l,o){return j.cloneElement(l,{data:r,key:"labelList-".concat(o)})});if(!s)return a;var i=R1e(t.label,r);return[i].concat(P1e(a))}dl.renderCallByParent=F1e;function zp(t){"@babel/helpers - typeof";return zp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},zp(t)}function K1(){return K1=Object.assign?Object.assign.bind():function(t){for(var r=1;r<arguments.length;r++){var s=arguments[r];for(var n in s)Object.prototype.hasOwnProperty.call(s,n)&&(t[n]=s[n])}return t},K1.apply(this,arguments)}function $O(t,r){var s=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);r&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),s.push.apply(s,n)}return s}function LO(t){for(var r=1;r<arguments.length;r++){var s=arguments[r]!=null?arguments[r]:{};r%2?$O(Object(s),!0).forEach(function(n){$1e(t,n,s[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(s)):$O(Object(s)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(s,n))})}return t}function $1e(t,r,s){return r=L1e(r),r in t?Object.defineProperty(t,r,{value:s,enumerable:!0,configurable:!0,writable:!0}):t[r]=s,t}function L1e(t){var r=B1e(t,"string");return zp(r)=="symbol"?r:r+""}function B1e(t,r){if(zp(t)!="object"||!t)return t;var s=t[Symbol.toPrimitive];if(s!==void 0){var n=s.call(t,r||"default");if(zp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(t)}var V1e=function(r,s){var n=dn(s-r),a=Math.min(Math.abs(s-r),359.999);return n*a},Ex=function(r){var s=r.cx,n=r.cy,a=r.radius,i=r.angle,l=r.sign,o=r.isExternal,c=r.cornerRadius,d=r.cornerIsExternal,u=c*(o?1:-1)+a,m=Math.asin(c/u)/Yv,h=d?i:i+l*m,g=Ir(s,n,u,h),f=Ir(s,n,a,h),p=d?i-l*m:i,y=Ir(s,n,u*Math.cos(m*Yv),p);return{center:g,circleTangency:f,lineTangency:y,theta:m}},kz=function(r){var s=r.cx,n=r.cy,a=r.innerRadius,i=r.outerRadius,l=r.startAngle,o=r.endAngle,c=V1e(l,o),d=l+c,u=Ir(s,n,i,l),m=Ir(s,n,i,d),h="M ".concat(u.x,",").concat(u.y,`
    A `).concat(i,",").concat(i,`,0,
    `).concat(+(Math.abs(c)>180),",").concat(+(l>d),`,
    `).concat(m.x,",").concat(m.y,`
  `);if(a>0){var g=Ir(s,n,a,l),f=Ir(s,n,a,d);h+="L ".concat(f.x,",").concat(f.y,`
            A `).concat(a,",").concat(a,`,0,
            `).concat(+(Math.abs(c)>180),",").concat(+(l<=d),`,
            `).concat(g.x,",").concat(g.y," Z")}else h+="L ".concat(s,",").concat(n," Z");return h},U1e=function(r){var s=r.cx,n=r.cy,a=r.innerRadius,i=r.outerRadius,l=r.cornerRadius,o=r.forceCornerRadius,c=r.cornerIsExternal,d=r.startAngle,u=r.endAngle,m=dn(u-d),h=Ex({cx:s,cy:n,radius:i,angle:d,sign:m,cornerRadius:l,cornerIsExternal:c}),g=h.circleTangency,f=h.lineTangency,p=h.theta,y=Ex({cx:s,cy:n,radius:i,angle:u,sign:-m,cornerRadius:l,cornerIsExternal:c}),v=y.circleTangency,x=y.lineTangency,b=y.theta,N=c?Math.abs(d-u):Math.abs(d-u)-p-b;if(N<0)return o?"M ".concat(f.x,",").concat(f.y,`
        a`).concat(l,",").concat(l,",0,0,1,").concat(l*2,`,0
        a`).concat(l,",").concat(l,",0,0,1,").concat(-l*2,`,0
      `):kz({cx:s,cy:n,innerRadius:a,outerRadius:i,startAngle:d,endAngle:u});var w="M ".concat(f.x,",").concat(f.y,`
    A`).concat(l,",").concat(l,",0,0,").concat(+(m<0),",").concat(g.x,",").concat(g.y,`
    A`).concat(i,",").concat(i,",0,").concat(+(N>180),",").concat(+(m<0),",").concat(v.x,",").concat(v.y,`
    A`).concat(l,",").concat(l,",0,0,").concat(+(m<0),",").concat(x.x,",").concat(x.y,`
  `);if(a>0){var C=Ex({cx:s,cy:n,radius:a,angle:d,sign:m,isExternal:!0,cornerRadius:l,cornerIsExternal:c}),P=C.circleTangency,S=C.lineTangency,A=C.theta,k=Ex({cx:s,cy:n,radius:a,angle:u,sign:-m,isExternal:!0,cornerRadius:l,cornerIsExternal:c}),I=k.circleTangency,L=k.lineTangency,K=k.theta,R=c?Math.abs(d-u):Math.abs(d-u)-A-K;if(R<0&&l===0)return"".concat(w,"L").concat(s,",").concat(n,"Z");w+="L".concat(L.x,",").concat(L.y,`
      A`).concat(l,",").concat(l,",0,0,").concat(+(m<0),",").concat(I.x,",").concat(I.y,`
      A`).concat(a,",").concat(a,",0,").concat(+(R>180),",").concat(+(m>0),",").concat(P.x,",").concat(P.y,`
      A`).concat(l,",").concat(l,",0,0,").concat(+(m<0),",").concat(S.x,",").concat(S.y,"Z")}else w+="L".concat(s,",").concat(n,"Z");return w},q1e={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},Az=function(r){var s=LO(LO({},q1e),r),n=s.cx,a=s.cy,i=s.innerRadius,l=s.outerRadius,o=s.cornerRadius,c=s.forceCornerRadius,d=s.cornerIsExternal,u=s.startAngle,m=s.endAngle,h=s.className;if(l<i||u===m)return null;var g=Kt("recharts-sector",h),f=l-i,p=un(o,f,0,!0),y;return p>0&&Math.abs(u-m)<360?y=U1e({cx:n,cy:a,innerRadius:i,outerRadius:l,cornerRadius:Math.min(p,f/2),forceCornerRadius:c,cornerIsExternal:d,startAngle:u,endAngle:m}):y=kz({cx:n,cy:a,innerRadius:i,outerRadius:l,startAngle:u,endAngle:m}),G.createElement("path",K1({},Nt(s,!0),{className:g,d:y,role:"img"}))};function Kp(t){"@babel/helpers - typeof";return Kp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},Kp(t)}function H1(){return H1=Object.assign?Object.assign.bind():function(t){for(var r=1;r<arguments.length;r++){var s=arguments[r];for(var n in s)Object.prototype.hasOwnProperty.call(s,n)&&(t[n]=s[n])}return t},H1.apply(this,arguments)}function BO(t,r){var s=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);r&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),s.push.apply(s,n)}return s}function VO(t){for(var r=1;r<arguments.length;r++){var s=arguments[r]!=null?arguments[r]:{};r%2?BO(Object(s),!0).forEach(function(n){z1e(t,n,s[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(s)):BO(Object(s)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(s,n))})}return t}function z1e(t,r,s){return r=K1e(r),r in t?Object.defineProperty(t,r,{value:s,enumerable:!0,configurable:!0,writable:!0}):t[r]=s,t}function K1e(t){var r=H1e(t,"string");return Kp(r)=="symbol"?r:r+""}function H1e(t,r){if(Kp(t)!="object"||!t)return t;var s=t[Symbol.toPrimitive];if(s!==void 0){var n=s.call(t,r||"default");if(Kp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(t)}var UO={curveBasisClosed:zde,curveBasisOpen:Kde,curveBasis:qde,curveBumpX:_de,curveBumpY:Tde,curveLinearClosed:Hde,curveLinear:$j,curveMonotoneX:Wde,curveMonotoneY:Gde,curveNatural:Yde,curveStep:Qde,curveStepAfter:Zde,curveStepBefore:Xde},Dx=function(r){return r.x===+r.x&&r.y===+r.y},Qm=function(r){return r.x},Xm=function(r){return r.y},W1e=function(r,s){if($t(r))return r;var n="curve".concat(Rj(r));return(n==="curveMonotone"||n==="curveBump")&&s?UO["".concat(n).concat(s==="vertical"?"Y":"X")]:UO[n]||$j},G1e=function(r){var s=r.type,n=s===void 0?"linear":s,a=r.points,i=a===void 0?[]:a,l=r.baseLine,o=r.layout,c=r.connectNulls,d=c===void 0?!1:c,u=W1e(n,o),m=d?i.filter(function(p){return Dx(p)}):i,h;if(Array.isArray(l)){var g=d?l.filter(function(p){return Dx(p)}):l,f=m.map(function(p,y){return VO(VO({},p),{},{base:g[y]})});return o==="vertical"?h=wx().y(Xm).x1(Qm).x0(function(p){return p.base.x}):h=wx().x(Qm).y1(Xm).y0(function(p){return p.base.y}),h.defined(Dx).curve(u),h(f)}return o==="vertical"&&Qe(l)?h=wx().y(Xm).x1(Qm).x0(l):Qe(l)?h=wx().x(Qm).y1(Xm).y0(l):h=NU().x(Qm).y(Xm),h.defined(Dx).curve(u),h(m)},Xv=function(r){var s=r.className,n=r.points,a=r.path,i=r.pathRef;if((!n||!n.length)&&!a)return null;var l=n&&n.length?G1e(r):a;return G.createElement("path",H1({},Nt(r,!1),jv(r),{className:Kt("recharts-curve",s),d:l,ref:i}))},_z={exports:{}},Y1e="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",Q1e=Y1e,X1e=Q1e;function Tz(){}function Oz(){}Oz.resetWarningCache=Tz;var Z1e=function(){function t(n,a,i,l,o,c){if(c!==X1e){var d=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw d.name="Invariant Violation",d}}t.isRequired=t;function r(){return t}var s={array:t,bigint:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:r,element:t,elementType:t,instanceOf:r,node:t,objectOf:r,oneOf:r,oneOfType:r,shape:r,exact:r,checkPropTypes:Oz,resetWarningCache:Tz};return s.PropTypes=s,s};_z.exports=Z1e();var J1e=_z.exports;const zt=yr(J1e);var eSe=Object.getOwnPropertyNames,tSe=Object.getOwnPropertySymbols,rSe=Object.prototype.hasOwnProperty;function qO(t,r){return function(n,a,i){return t(n,a,i)&&r(n,a,i)}}function Mx(t){return function(s,n,a){if(!s||!n||typeof s!="object"||typeof n!="object")return t(s,n,a);var i=a.cache,l=i.get(s),o=i.get(n);if(l&&o)return l===n&&o===s;i.set(s,n),i.set(n,s);var c=t(s,n,a);return i.delete(s),i.delete(n),c}}function zO(t){return eSe(t).concat(tSe(t))}var Ez=Object.hasOwn||function(t,r){return rSe.call(t,r)};function Pm(t,r){return t||r?t===r:t===r||t!==t&&r!==r}var Dz="_owner",KO=Object.getOwnPropertyDescriptor,HO=Object.keys;function sSe(t,r,s){var n=t.length;if(r.length!==n)return!1;for(;n-- >0;)if(!s.equals(t[n],r[n],n,n,t,r,s))return!1;return!0}function nSe(t,r){return Pm(t.getTime(),r.getTime())}function WO(t,r,s){if(t.size!==r.size)return!1;for(var n={},a=t.entries(),i=0,l,o;(l=a.next())&&!l.done;){for(var c=r.entries(),d=!1,u=0;(o=c.next())&&!o.done;){var m=l.value,h=m[0],g=m[1],f=o.value,p=f[0],y=f[1];!d&&!n[u]&&(d=s.equals(h,p,i,u,t,r,s)&&s.equals(g,y,h,p,t,r,s))&&(n[u]=!0),u++}if(!d)return!1;i++}return!0}function aSe(t,r,s){var n=HO(t),a=n.length;if(HO(r).length!==a)return!1;for(var i;a-- >0;)if(i=n[a],i===Dz&&(t.$$typeof||r.$$typeof)&&t.$$typeof!==r.$$typeof||!Ez(r,i)||!s.equals(t[i],r[i],i,i,t,r,s))return!1;return!0}function Zm(t,r,s){var n=zO(t),a=n.length;if(zO(r).length!==a)return!1;for(var i,l,o;a-- >0;)if(i=n[a],i===Dz&&(t.$$typeof||r.$$typeof)&&t.$$typeof!==r.$$typeof||!Ez(r,i)||!s.equals(t[i],r[i],i,i,t,r,s)||(l=KO(t,i),o=KO(r,i),(l||o)&&(!l||!o||l.configurable!==o.configurable||l.enumerable!==o.enumerable||l.writable!==o.writable)))return!1;return!0}function iSe(t,r){return Pm(t.valueOf(),r.valueOf())}function lSe(t,r){return t.source===r.source&&t.flags===r.flags}function GO(t,r,s){if(t.size!==r.size)return!1;for(var n={},a=t.values(),i,l;(i=a.next())&&!i.done;){for(var o=r.values(),c=!1,d=0;(l=o.next())&&!l.done;)!c&&!n[d]&&(c=s.equals(i.value,l.value,i.value,l.value,t,r,s))&&(n[d]=!0),d++;if(!c)return!1}return!0}function oSe(t,r){var s=t.length;if(r.length!==s)return!1;for(;s-- >0;)if(t[s]!==r[s])return!1;return!0}var cSe="[object Arguments]",dSe="[object Boolean]",uSe="[object Date]",mSe="[object Map]",hSe="[object Number]",pSe="[object Object]",fSe="[object RegExp]",xSe="[object Set]",gSe="[object String]",vSe=Array.isArray,YO=typeof ArrayBuffer=="function"&&ArrayBuffer.isView?ArrayBuffer.isView:null,QO=Object.assign,ySe=Object.prototype.toString.call.bind(Object.prototype.toString);function jSe(t){var r=t.areArraysEqual,s=t.areDatesEqual,n=t.areMapsEqual,a=t.areObjectsEqual,i=t.arePrimitiveWrappersEqual,l=t.areRegExpsEqual,o=t.areSetsEqual,c=t.areTypedArraysEqual;return function(u,m,h){if(u===m)return!0;if(u==null||m==null||typeof u!="object"||typeof m!="object")return u!==u&&m!==m;var g=u.constructor;if(g!==m.constructor)return!1;if(g===Object)return a(u,m,h);if(vSe(u))return r(u,m,h);if(YO!=null&&YO(u))return c(u,m,h);if(g===Date)return s(u,m,h);if(g===RegExp)return l(u,m,h);if(g===Map)return n(u,m,h);if(g===Set)return o(u,m,h);var f=ySe(u);return f===uSe?s(u,m,h):f===fSe?l(u,m,h):f===mSe?n(u,m,h):f===xSe?o(u,m,h):f===pSe?typeof u.then!="function"&&typeof m.then!="function"&&a(u,m,h):f===cSe?a(u,m,h):f===dSe||f===hSe||f===gSe?i(u,m,h):!1}}function bSe(t){var r=t.circular,s=t.createCustomConfig,n=t.strict,a={areArraysEqual:n?Zm:sSe,areDatesEqual:nSe,areMapsEqual:n?qO(WO,Zm):WO,areObjectsEqual:n?Zm:aSe,arePrimitiveWrappersEqual:iSe,areRegExpsEqual:lSe,areSetsEqual:n?qO(GO,Zm):GO,areTypedArraysEqual:n?Zm:oSe};if(s&&(a=QO({},a,s(a))),r){var i=Mx(a.areArraysEqual),l=Mx(a.areMapsEqual),o=Mx(a.areObjectsEqual),c=Mx(a.areSetsEqual);a=QO({},a,{areArraysEqual:i,areMapsEqual:l,areObjectsEqual:o,areSetsEqual:c})}return a}function NSe(t){return function(r,s,n,a,i,l,o){return t(r,s,o)}}function wSe(t){var r=t.circular,s=t.comparator,n=t.createState,a=t.equals,i=t.strict;if(n)return function(c,d){var u=n(),m=u.cache,h=m===void 0?r?new WeakMap:void 0:m,g=u.meta;return s(c,d,{cache:h,equals:a,meta:g,strict:i})};if(r)return function(c,d){return s(c,d,{cache:new WeakMap,equals:a,meta:void 0,strict:i})};var l={cache:void 0,equals:a,meta:void 0,strict:i};return function(c,d){return s(c,d,l)}}var SSe=Fo();Fo({strict:!0});Fo({circular:!0});Fo({circular:!0,strict:!0});Fo({createInternalComparator:function(){return Pm}});Fo({strict:!0,createInternalComparator:function(){return Pm}});Fo({circular:!0,createInternalComparator:function(){return Pm}});Fo({circular:!0,createInternalComparator:function(){return Pm},strict:!0});function Fo(t){t===void 0&&(t={});var r=t.circular,s=r===void 0?!1:r,n=t.createInternalComparator,a=t.createState,i=t.strict,l=i===void 0?!1:i,o=bSe(t),c=jSe(o),d=n?n(c):NSe(c);return wSe({circular:s,comparator:c,createState:a,equals:d,strict:l})}function CSe(t){typeof requestAnimationFrame<"u"&&requestAnimationFrame(t)}function XO(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,s=-1,n=function a(i){s<0&&(s=i),i-s>r?(t(i),s=-1):CSe(a)};requestAnimationFrame(n)}function W1(t){"@babel/helpers - typeof";return W1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},W1(t)}function PSe(t){return TSe(t)||_Se(t)||ASe(t)||kSe()}function kSe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ASe(t,r){if(t){if(typeof t=="string")return ZO(t,r);var s=Object.prototype.toString.call(t).slice(8,-1);if(s==="Object"&&t.constructor&&(s=t.constructor.name),s==="Map"||s==="Set")return Array.from(t);if(s==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(s))return ZO(t,r)}}function ZO(t,r){(r==null||r>t.length)&&(r=t.length);for(var s=0,n=new Array(r);s<r;s++)n[s]=t[s];return n}function _Se(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function TSe(t){if(Array.isArray(t))return t}function OSe(){var t={},r=function(){return null},s=!1,n=function a(i){if(!s){if(Array.isArray(i)){if(!i.length)return;var l=i,o=PSe(l),c=o[0],d=o.slice(1);if(typeof c=="number"){XO(a.bind(null,d),c);return}a(c),XO(a.bind(null,d));return}W1(i)==="object"&&(t=i,r(t)),typeof i=="function"&&i()}};return{stop:function(){s=!0},start:function(i){s=!1,n(i)},subscribe:function(i){return r=i,function(){r=function(){return null}}}}}function Hp(t){"@babel/helpers - typeof";return Hp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},Hp(t)}function JO(t,r){var s=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);r&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),s.push.apply(s,n)}return s}function eE(t){for(var r=1;r<arguments.length;r++){var s=arguments[r]!=null?arguments[r]:{};r%2?JO(Object(s),!0).forEach(function(n){Mz(t,n,s[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(s)):JO(Object(s)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(s,n))})}return t}function Mz(t,r,s){return r=ESe(r),r in t?Object.defineProperty(t,r,{value:s,enumerable:!0,configurable:!0,writable:!0}):t[r]=s,t}function ESe(t){var r=DSe(t,"string");return Hp(r)==="symbol"?r:String(r)}function DSe(t,r){if(Hp(t)!=="object"||t===null)return t;var s=t[Symbol.toPrimitive];if(s!==void 0){var n=s.call(t,r||"default");if(Hp(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(t)}var MSe=function(r,s){return[Object.keys(r),Object.keys(s)].reduce(function(n,a){return n.filter(function(i){return a.includes(i)})})},ISe=function(r){return r},RSe=function(r){return r.replace(/([A-Z])/g,function(s){return"-".concat(s.toLowerCase())})},Fh=function(r,s){return Object.keys(s).reduce(function(n,a){return eE(eE({},n),{},Mz({},a,r(a,s[a])))},{})},tE=function(r,s,n){return r.map(function(a){return"".concat(RSe(a)," ").concat(s,"ms ").concat(n)}).join(",")};function FSe(t,r){return BSe(t)||LSe(t,r)||Iz(t,r)||$Se()}function $Se(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function LSe(t,r){var s=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(s!=null){var n,a,i,l,o=[],c=!0,d=!1;try{if(i=(s=s.call(t)).next,r!==0)for(;!(c=(n=i.call(s)).done)&&(o.push(n.value),o.length!==r);c=!0);}catch(u){d=!0,a=u}finally{try{if(!c&&s.return!=null&&(l=s.return(),Object(l)!==l))return}finally{if(d)throw a}}return o}}function BSe(t){if(Array.isArray(t))return t}function VSe(t){return zSe(t)||qSe(t)||Iz(t)||USe()}function USe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Iz(t,r){if(t){if(typeof t=="string")return G1(t,r);var s=Object.prototype.toString.call(t).slice(8,-1);if(s==="Object"&&t.constructor&&(s=t.constructor.name),s==="Map"||s==="Set")return Array.from(t);if(s==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(s))return G1(t,r)}}function qSe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function zSe(t){if(Array.isArray(t))return G1(t)}function G1(t,r){(r==null||r>t.length)&&(r=t.length);for(var s=0,n=new Array(r);s<r;s++)n[s]=t[s];return n}var Zv=1e-4,Rz=function(r,s){return[0,3*r,3*s-6*r,3*r-3*s+1]},Fz=function(r,s){return r.map(function(n,a){return n*Math.pow(s,a)}).reduce(function(n,a){return n+a})},rE=function(r,s){return function(n){var a=Rz(r,s);return Fz(a,n)}},KSe=function(r,s){return function(n){var a=Rz(r,s),i=[].concat(VSe(a.map(function(l,o){return l*o}).slice(1)),[0]);return Fz(i,n)}},sE=function(){for(var r=arguments.length,s=new Array(r),n=0;n<r;n++)s[n]=arguments[n];var a=s[0],i=s[1],l=s[2],o=s[3];if(s.length===1)switch(s[0]){case"linear":a=0,i=0,l=1,o=1;break;case"ease":a=.25,i=.1,l=.25,o=1;break;case"ease-in":a=.42,i=0,l=1,o=1;break;case"ease-out":a=.42,i=0,l=.58,o=1;break;case"ease-in-out":a=0,i=0,l=.58,o=1;break;default:{var c=s[0].split("(");if(c[0]==="cubic-bezier"&&c[1].split(")")[0].split(",").length===4){var d=c[1].split(")")[0].split(",").map(function(y){return parseFloat(y)}),u=FSe(d,4);a=u[0],i=u[1],l=u[2],o=u[3]}}}var m=rE(a,l),h=rE(i,o),g=KSe(a,l),f=function(v){return v>1?1:v<0?0:v},p=function(v){for(var x=v>1?1:v,b=x,N=0;N<8;++N){var w=m(b)-x,C=g(b);if(Math.abs(w-x)<Zv||C<Zv)return h(b);b=f(b-w/C)}return h(b)};return p.isStepper=!1,p},HSe=function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},s=r.stiff,n=s===void 0?100:s,a=r.damping,i=a===void 0?8:a,l=r.dt,o=l===void 0?17:l,c=function(u,m,h){var g=-(u-m)*n,f=h*i,p=h+(g-f)*o/1e3,y=h*o/1e3+u;return Math.abs(y-m)<Zv&&Math.abs(p)<Zv?[m,0]:[y,p]};return c.isStepper=!0,c.dt=o,c},WSe=function(){for(var r=arguments.length,s=new Array(r),n=0;n<r;n++)s[n]=arguments[n];var a=s[0];if(typeof a=="string")switch(a){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return sE(a);case"spring":return HSe();default:if(a.split("(")[0]==="cubic-bezier")return sE(a)}return typeof a=="function"?a:null};function Wp(t){"@babel/helpers - typeof";return Wp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},Wp(t)}function nE(t){return QSe(t)||YSe(t)||$z(t)||GSe()}function GSe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function YSe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function QSe(t){if(Array.isArray(t))return Q1(t)}function aE(t,r){var s=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);r&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),s.push.apply(s,n)}return s}function $s(t){for(var r=1;r<arguments.length;r++){var s=arguments[r]!=null?arguments[r]:{};r%2?aE(Object(s),!0).forEach(function(n){Y1(t,n,s[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(s)):aE(Object(s)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(s,n))})}return t}function Y1(t,r,s){return r=XSe(r),r in t?Object.defineProperty(t,r,{value:s,enumerable:!0,configurable:!0,writable:!0}):t[r]=s,t}function XSe(t){var r=ZSe(t,"string");return Wp(r)==="symbol"?r:String(r)}function ZSe(t,r){if(Wp(t)!=="object"||t===null)return t;var s=t[Symbol.toPrimitive];if(s!==void 0){var n=s.call(t,r||"default");if(Wp(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(t)}function JSe(t,r){return r2e(t)||t2e(t,r)||$z(t,r)||e2e()}function e2e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function $z(t,r){if(t){if(typeof t=="string")return Q1(t,r);var s=Object.prototype.toString.call(t).slice(8,-1);if(s==="Object"&&t.constructor&&(s=t.constructor.name),s==="Map"||s==="Set")return Array.from(t);if(s==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(s))return Q1(t,r)}}function Q1(t,r){(r==null||r>t.length)&&(r=t.length);for(var s=0,n=new Array(r);s<r;s++)n[s]=t[s];return n}function t2e(t,r){var s=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(s!=null){var n,a,i,l,o=[],c=!0,d=!1;try{if(i=(s=s.call(t)).next,r!==0)for(;!(c=(n=i.call(s)).done)&&(o.push(n.value),o.length!==r);c=!0);}catch(u){d=!0,a=u}finally{try{if(!c&&s.return!=null&&(l=s.return(),Object(l)!==l))return}finally{if(d)throw a}}return o}}function r2e(t){if(Array.isArray(t))return t}var Jv=function(r,s,n){return r+(s-r)*n},X1=function(r){var s=r.from,n=r.to;return s!==n},s2e=function t(r,s,n){var a=Fh(function(i,l){if(X1(l)){var o=r(l.from,l.to,l.velocity),c=JSe(o,2),d=c[0],u=c[1];return $s($s({},l),{},{from:d,velocity:u})}return l},s);return n<1?Fh(function(i,l){return X1(l)?$s($s({},l),{},{velocity:Jv(l.velocity,a[i].velocity,n),from:Jv(l.from,a[i].from,n)}):l},s):t(r,a,n-1)};const n2e=function(t,r,s,n,a){var i=MSe(t,r),l=i.reduce(function(y,v){return $s($s({},y),{},Y1({},v,[t[v],r[v]]))},{}),o=i.reduce(function(y,v){return $s($s({},y),{},Y1({},v,{from:t[v],velocity:0,to:r[v]}))},{}),c=-1,d,u,m=function(){return null},h=function(){return Fh(function(v,x){return x.from},o)},g=function(){return!Object.values(o).filter(X1).length},f=function(v){d||(d=v);var x=v-d,b=x/s.dt;o=s2e(s,o,b),a($s($s($s({},t),r),h())),d=v,g()||(c=requestAnimationFrame(m))},p=function(v){u||(u=v);var x=(v-u)/n,b=Fh(function(w,C){return Jv.apply(void 0,nE(C).concat([s(x)]))},l);if(a($s($s($s({},t),r),b)),x<1)c=requestAnimationFrame(m);else{var N=Fh(function(w,C){return Jv.apply(void 0,nE(C).concat([s(1)]))},l);a($s($s($s({},t),r),N))}};return m=s.isStepper?f:p,function(){return requestAnimationFrame(m),function(){cancelAnimationFrame(c)}}};function Tu(t){"@babel/helpers - typeof";return Tu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},Tu(t)}var a2e=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function i2e(t,r){if(t==null)return{};var s=l2e(t,r),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)n=i[a],!(r.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(s[n]=t[n])}return s}function l2e(t,r){if(t==null)return{};var s={},n=Object.keys(t),a,i;for(i=0;i<n.length;i++)a=n[i],!(r.indexOf(a)>=0)&&(s[a]=t[a]);return s}function Y0(t){return u2e(t)||d2e(t)||c2e(t)||o2e()}function o2e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function c2e(t,r){if(t){if(typeof t=="string")return Z1(t,r);var s=Object.prototype.toString.call(t).slice(8,-1);if(s==="Object"&&t.constructor&&(s=t.constructor.name),s==="Map"||s==="Set")return Array.from(t);if(s==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(s))return Z1(t,r)}}function d2e(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function u2e(t){if(Array.isArray(t))return Z1(t)}function Z1(t,r){(r==null||r>t.length)&&(r=t.length);for(var s=0,n=new Array(r);s<r;s++)n[s]=t[s];return n}function iE(t,r){var s=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);r&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),s.push.apply(s,n)}return s}function Da(t){for(var r=1;r<arguments.length;r++){var s=arguments[r]!=null?arguments[r]:{};r%2?iE(Object(s),!0).forEach(function(n){xh(t,n,s[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(s)):iE(Object(s)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(s,n))})}return t}function xh(t,r,s){return r=Lz(r),r in t?Object.defineProperty(t,r,{value:s,enumerable:!0,configurable:!0,writable:!0}):t[r]=s,t}function m2e(t,r){if(!(t instanceof r))throw new TypeError("Cannot call a class as a function")}function h2e(t,r){for(var s=0;s<r.length;s++){var n=r[s];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Lz(n.key),n)}}function p2e(t,r,s){return r&&h2e(t.prototype,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function Lz(t){var r=f2e(t,"string");return Tu(r)==="symbol"?r:String(r)}function f2e(t,r){if(Tu(t)!=="object"||t===null)return t;var s=t[Symbol.toPrimitive];if(s!==void 0){var n=s.call(t,r||"default");if(Tu(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(t)}function x2e(t,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(r&&r.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),r&&J1(t,r)}function J1(t,r){return J1=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},J1(t,r)}function g2e(t){var r=v2e();return function(){var n=ey(t),a;if(r){var i=ey(this).constructor;a=Reflect.construct(n,arguments,i)}else a=n.apply(this,arguments);return eS(this,a)}}function eS(t,r){if(r&&(Tu(r)==="object"||typeof r=="function"))return r;if(r!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return tS(t)}function tS(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function v2e(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function ey(t){return ey=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(s){return s.__proto__||Object.getPrototypeOf(s)},ey(t)}var Ri=function(t){x2e(s,t);var r=g2e(s);function s(n,a){var i;m2e(this,s),i=r.call(this,n,a);var l=i.props,o=l.isActive,c=l.attributeName,d=l.from,u=l.to,m=l.steps,h=l.children,g=l.duration;if(i.handleStyleChange=i.handleStyleChange.bind(tS(i)),i.changeStyle=i.changeStyle.bind(tS(i)),!o||g<=0)return i.state={style:{}},typeof h=="function"&&(i.state={style:u}),eS(i);if(m&&m.length)i.state={style:m[0].style};else if(d){if(typeof h=="function")return i.state={style:d},eS(i);i.state={style:c?xh({},c,d):d}}else i.state={style:{}};return i}return p2e(s,[{key:"componentDidMount",value:function(){var a=this.props,i=a.isActive,l=a.canBegin;this.mounted=!0,!(!i||!l)&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(a){var i=this.props,l=i.isActive,o=i.canBegin,c=i.attributeName,d=i.shouldReAnimate,u=i.to,m=i.from,h=this.state.style;if(o){if(!l){var g={style:c?xh({},c,u):u};this.state&&h&&(c&&h[c]!==u||!c&&h!==u)&&this.setState(g);return}if(!(SSe(a.to,u)&&a.canBegin&&a.isActive)){var f=!a.canBegin||!a.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var p=f||d?m:a.to;if(this.state&&h){var y={style:c?xh({},c,p):p};(c&&h[c]!==p||!c&&h!==p)&&this.setState(y)}this.runAnimation(Da(Da({},this.props),{},{from:p,begin:0}))}}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var a=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),a&&a()}},{key:"handleStyleChange",value:function(a){this.changeStyle(a)}},{key:"changeStyle",value:function(a){this.mounted&&this.setState({style:a})}},{key:"runJSAnimation",value:function(a){var i=this,l=a.from,o=a.to,c=a.duration,d=a.easing,u=a.begin,m=a.onAnimationEnd,h=a.onAnimationStart,g=n2e(l,o,WSe(d),c,this.changeStyle),f=function(){i.stopJSAnimation=g()};this.manager.start([h,u,f,c,m])}},{key:"runStepAnimation",value:function(a){var i=this,l=a.steps,o=a.begin,c=a.onAnimationStart,d=l[0],u=d.style,m=d.duration,h=m===void 0?0:m,g=function(p,y,v){if(v===0)return p;var x=y.duration,b=y.easing,N=b===void 0?"ease":b,w=y.style,C=y.properties,P=y.onAnimationEnd,S=v>0?l[v-1]:y,A=C||Object.keys(w);if(typeof N=="function"||N==="spring")return[].concat(Y0(p),[i.runJSAnimation.bind(i,{from:S.style,to:w,duration:x,easing:N}),x]);var k=tE(A,x,N),I=Da(Da(Da({},S.style),w),{},{transition:k});return[].concat(Y0(p),[I,x,P]).filter(ISe)};return this.manager.start([c].concat(Y0(l.reduce(g,[u,Math.max(h,o)])),[a.onAnimationEnd]))}},{key:"runAnimation",value:function(a){this.manager||(this.manager=OSe());var i=a.begin,l=a.duration,o=a.attributeName,c=a.to,d=a.easing,u=a.onAnimationStart,m=a.onAnimationEnd,h=a.steps,g=a.children,f=this.manager;if(this.unSubscribe=f.subscribe(this.handleStyleChange),typeof d=="function"||typeof g=="function"||d==="spring"){this.runJSAnimation(a);return}if(h.length>1){this.runStepAnimation(a);return}var p=o?xh({},o,c):c,y=tE(Object.keys(p),l,d);f.start([u,i,Da(Da({},p),{},{transition:y}),l,m])}},{key:"render",value:function(){var a=this.props,i=a.children;a.begin;var l=a.duration;a.attributeName,a.easing;var o=a.isActive;a.steps,a.from,a.to,a.canBegin,a.onAnimationEnd,a.shouldReAnimate,a.onAnimationReStart;var c=i2e(a,a2e),d=j.Children.count(i),u=this.state.style;if(typeof i=="function")return i(u);if(!o||d===0||l<=0)return i;var m=function(g){var f=g.props,p=f.style,y=p===void 0?{}:p,v=f.className,x=j.cloneElement(g,Da(Da({},c),{},{style:Da(Da({},y),u),className:v}));return x};return d===1?m(j.Children.only(i)):G.createElement("div",null,j.Children.map(i,function(h){return m(h)}))}}]),s}(j.PureComponent);Ri.displayName="Animate";Ri.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}};Ri.propTypes={from:zt.oneOfType([zt.object,zt.string]),to:zt.oneOfType([zt.object,zt.string]),attributeName:zt.string,duration:zt.number,begin:zt.number,easing:zt.oneOfType([zt.string,zt.func]),steps:zt.arrayOf(zt.shape({duration:zt.number.isRequired,style:zt.object.isRequired,easing:zt.oneOfType([zt.oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),zt.func]),properties:zt.arrayOf("string"),onAnimationEnd:zt.func})),children:zt.oneOfType([zt.node,zt.func]),isActive:zt.bool,canBegin:zt.bool,onAnimationEnd:zt.func,shouldReAnimate:zt.bool,onAnimationStart:zt.func,onAnimationReStart:zt.func};zt.object,zt.object,zt.object,zt.element;zt.object,zt.object,zt.object,zt.oneOfType([zt.array,zt.element]),zt.any;function Gp(t){"@babel/helpers - typeof";return Gp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},Gp(t)}function ty(){return ty=Object.assign?Object.assign.bind():function(t){for(var r=1;r<arguments.length;r++){var s=arguments[r];for(var n in s)Object.prototype.hasOwnProperty.call(s,n)&&(t[n]=s[n])}return t},ty.apply(this,arguments)}function y2e(t,r){return w2e(t)||N2e(t,r)||b2e(t,r)||j2e()}function j2e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function b2e(t,r){if(t){if(typeof t=="string")return lE(t,r);var s=Object.prototype.toString.call(t).slice(8,-1);if(s==="Object"&&t.constructor&&(s=t.constructor.name),s==="Map"||s==="Set")return Array.from(t);if(s==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(s))return lE(t,r)}}function lE(t,r){(r==null||r>t.length)&&(r=t.length);for(var s=0,n=new Array(r);s<r;s++)n[s]=t[s];return n}function N2e(t,r){var s=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(s!=null){var n,a,i,l,o=[],c=!0,d=!1;try{if(i=(s=s.call(t)).next,r!==0)for(;!(c=(n=i.call(s)).done)&&(o.push(n.value),o.length!==r);c=!0);}catch(u){d=!0,a=u}finally{try{if(!c&&s.return!=null&&(l=s.return(),Object(l)!==l))return}finally{if(d)throw a}}return o}}function w2e(t){if(Array.isArray(t))return t}function oE(t,r){var s=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);r&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),s.push.apply(s,n)}return s}function cE(t){for(var r=1;r<arguments.length;r++){var s=arguments[r]!=null?arguments[r]:{};r%2?oE(Object(s),!0).forEach(function(n){S2e(t,n,s[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(s)):oE(Object(s)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(s,n))})}return t}function S2e(t,r,s){return r=C2e(r),r in t?Object.defineProperty(t,r,{value:s,enumerable:!0,configurable:!0,writable:!0}):t[r]=s,t}function C2e(t){var r=P2e(t,"string");return Gp(r)=="symbol"?r:r+""}function P2e(t,r){if(Gp(t)!="object"||!t)return t;var s=t[Symbol.toPrimitive];if(s!==void 0){var n=s.call(t,r||"default");if(Gp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(t)}var dE=function(r,s,n,a,i){var l=Math.min(Math.abs(n)/2,Math.abs(a)/2),o=a>=0?1:-1,c=n>=0?1:-1,d=a>=0&&n>=0||a<0&&n<0?1:0,u;if(l>0&&i instanceof Array){for(var m=[0,0,0,0],h=0,g=4;h<g;h++)m[h]=i[h]>l?l:i[h];u="M".concat(r,",").concat(s+o*m[0]),m[0]>0&&(u+="A ".concat(m[0],",").concat(m[0],",0,0,").concat(d,",").concat(r+c*m[0],",").concat(s)),u+="L ".concat(r+n-c*m[1],",").concat(s),m[1]>0&&(u+="A ".concat(m[1],",").concat(m[1],",0,0,").concat(d,`,
        `).concat(r+n,",").concat(s+o*m[1])),u+="L ".concat(r+n,",").concat(s+a-o*m[2]),m[2]>0&&(u+="A ".concat(m[2],",").concat(m[2],",0,0,").concat(d,`,
        `).concat(r+n-c*m[2],",").concat(s+a)),u+="L ".concat(r+c*m[3],",").concat(s+a),m[3]>0&&(u+="A ".concat(m[3],",").concat(m[3],",0,0,").concat(d,`,
        `).concat(r,",").concat(s+a-o*m[3])),u+="Z"}else if(l>0&&i===+i&&i>0){var f=Math.min(l,i);u="M ".concat(r,",").concat(s+o*f,`
            A `).concat(f,",").concat(f,",0,0,").concat(d,",").concat(r+c*f,",").concat(s,`
            L `).concat(r+n-c*f,",").concat(s,`
            A `).concat(f,",").concat(f,",0,0,").concat(d,",").concat(r+n,",").concat(s+o*f,`
            L `).concat(r+n,",").concat(s+a-o*f,`
            A `).concat(f,",").concat(f,",0,0,").concat(d,",").concat(r+n-c*f,",").concat(s+a,`
            L `).concat(r+c*f,",").concat(s+a,`
            A `).concat(f,",").concat(f,",0,0,").concat(d,",").concat(r,",").concat(s+a-o*f," Z")}else u="M ".concat(r,",").concat(s," h ").concat(n," v ").concat(a," h ").concat(-n," Z");return u},k2e=function(r,s){if(!r||!s)return!1;var n=r.x,a=r.y,i=s.x,l=s.y,o=s.width,c=s.height;if(Math.abs(o)>0&&Math.abs(c)>0){var d=Math.min(i,i+o),u=Math.max(i,i+o),m=Math.min(l,l+c),h=Math.max(l,l+c);return n>=d&&n<=u&&a>=m&&a<=h}return!1},A2e={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},MP=function(r){var s=cE(cE({},A2e),r),n=j.useRef(),a=j.useState(-1),i=y2e(a,2),l=i[0],o=i[1];j.useEffect(function(){if(n.current&&n.current.getTotalLength)try{var N=n.current.getTotalLength();N&&o(N)}catch{}},[]);var c=s.x,d=s.y,u=s.width,m=s.height,h=s.radius,g=s.className,f=s.animationEasing,p=s.animationDuration,y=s.animationBegin,v=s.isAnimationActive,x=s.isUpdateAnimationActive;if(c!==+c||d!==+d||u!==+u||m!==+m||u===0||m===0)return null;var b=Kt("recharts-rectangle",g);return x?G.createElement(Ri,{canBegin:l>0,from:{width:u,height:m,x:c,y:d},to:{width:u,height:m,x:c,y:d},duration:p,animationEasing:f,isActive:x},function(N){var w=N.width,C=N.height,P=N.x,S=N.y;return G.createElement(Ri,{canBegin:l>0,from:"0px ".concat(l===-1?1:l,"px"),to:"".concat(l,"px 0px"),attributeName:"strokeDasharray",begin:y,duration:p,isActive:v,easing:f},G.createElement("path",ty({},Nt(s,!0),{className:b,d:dE(P,S,w,C,h),ref:n})))}):G.createElement("path",ty({},Nt(s,!0),{className:b,d:dE(c,d,u,m,h)}))},_2e=["points","className","baseLinePoints","connectNulls"];function Cd(){return Cd=Object.assign?Object.assign.bind():function(t){for(var r=1;r<arguments.length;r++){var s=arguments[r];for(var n in s)Object.prototype.hasOwnProperty.call(s,n)&&(t[n]=s[n])}return t},Cd.apply(this,arguments)}function T2e(t,r){if(t==null)return{};var s=O2e(t,r),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)n=i[a],!(r.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(s[n]=t[n])}return s}function O2e(t,r){if(t==null)return{};var s={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(r.indexOf(n)>=0)continue;s[n]=t[n]}return s}function uE(t){return I2e(t)||M2e(t)||D2e(t)||E2e()}function E2e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function D2e(t,r){if(t){if(typeof t=="string")return rS(t,r);var s=Object.prototype.toString.call(t).slice(8,-1);if(s==="Object"&&t.constructor&&(s=t.constructor.name),s==="Map"||s==="Set")return Array.from(t);if(s==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(s))return rS(t,r)}}function M2e(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function I2e(t){if(Array.isArray(t))return rS(t)}function rS(t,r){(r==null||r>t.length)&&(r=t.length);for(var s=0,n=new Array(r);s<r;s++)n[s]=t[s];return n}var mE=function(r){return r&&r.x===+r.x&&r.y===+r.y},R2e=function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],s=[[]];return r.forEach(function(n){mE(n)?s[s.length-1].push(n):s[s.length-1].length>0&&s.push([])}),mE(r[0])&&s[s.length-1].push(r[0]),s[s.length-1].length<=0&&(s=s.slice(0,-1)),s},$h=function(r,s){var n=R2e(r);s&&(n=[n.reduce(function(i,l){return[].concat(uE(i),uE(l))},[])]);var a=n.map(function(i){return i.reduce(function(l,o,c){return"".concat(l).concat(c===0?"M":"L").concat(o.x,",").concat(o.y)},"")}).join("");return n.length===1?"".concat(a,"Z"):a},F2e=function(r,s,n){var a=$h(r,n);return"".concat(a.slice(-1)==="Z"?a.slice(0,-1):a,"L").concat($h(s.reverse(),n).slice(1))},$2e=function(r){var s=r.points,n=r.className,a=r.baseLinePoints,i=r.connectNulls,l=T2e(r,_2e);if(!s||!s.length)return null;var o=Kt("recharts-polygon",n);if(a&&a.length){var c=l.stroke&&l.stroke!=="none",d=F2e(s,a,i);return G.createElement("g",{className:o},G.createElement("path",Cd({},Nt(l,!0),{fill:d.slice(-1)==="Z"?l.fill:"none",stroke:"none",d})),c?G.createElement("path",Cd({},Nt(l,!0),{fill:"none",d:$h(s,i)})):null,c?G.createElement("path",Cd({},Nt(l,!0),{fill:"none",d:$h(a,i)})):null)}var u=$h(s,i);return G.createElement("path",Cd({},Nt(l,!0),{fill:u.slice(-1)==="Z"?l.fill:"none",className:o,d:u}))};function sS(){return sS=Object.assign?Object.assign.bind():function(t){for(var r=1;r<arguments.length;r++){var s=arguments[r];for(var n in s)Object.prototype.hasOwnProperty.call(s,n)&&(t[n]=s[n])}return t},sS.apply(this,arguments)}var tb=function(r){var s=r.cx,n=r.cy,a=r.r,i=r.className,l=Kt("recharts-dot",i);return s===+s&&n===+n&&a===+a?G.createElement("circle",sS({},Nt(r,!1),jv(r),{className:l,cx:s,cy:n,r:a})):null};function Yp(t){"@babel/helpers - typeof";return Yp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},Yp(t)}var L2e=["x","y","top","left","width","height","className"];function nS(){return nS=Object.assign?Object.assign.bind():function(t){for(var r=1;r<arguments.length;r++){var s=arguments[r];for(var n in s)Object.prototype.hasOwnProperty.call(s,n)&&(t[n]=s[n])}return t},nS.apply(this,arguments)}function hE(t,r){var s=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);r&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),s.push.apply(s,n)}return s}function B2e(t){for(var r=1;r<arguments.length;r++){var s=arguments[r]!=null?arguments[r]:{};r%2?hE(Object(s),!0).forEach(function(n){V2e(t,n,s[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(s)):hE(Object(s)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(s,n))})}return t}function V2e(t,r,s){return r=U2e(r),r in t?Object.defineProperty(t,r,{value:s,enumerable:!0,configurable:!0,writable:!0}):t[r]=s,t}function U2e(t){var r=q2e(t,"string");return Yp(r)=="symbol"?r:r+""}function q2e(t,r){if(Yp(t)!="object"||!t)return t;var s=t[Symbol.toPrimitive];if(s!==void 0){var n=s.call(t,r||"default");if(Yp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(t)}function z2e(t,r){if(t==null)return{};var s=K2e(t,r),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)n=i[a],!(r.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(s[n]=t[n])}return s}function K2e(t,r){if(t==null)return{};var s={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(r.indexOf(n)>=0)continue;s[n]=t[n]}return s}var H2e=function(r,s,n,a,i,l){return"M".concat(r,",").concat(i,"v").concat(a,"M").concat(l,",").concat(s,"h").concat(n)},W2e=function(r){var s=r.x,n=s===void 0?0:s,a=r.y,i=a===void 0?0:a,l=r.top,o=l===void 0?0:l,c=r.left,d=c===void 0?0:c,u=r.width,m=u===void 0?0:u,h=r.height,g=h===void 0?0:h,f=r.className,p=z2e(r,L2e),y=B2e({x:n,y:i,top:o,left:d,width:m,height:g},p);return!Qe(n)||!Qe(i)||!Qe(m)||!Qe(g)||!Qe(o)||!Qe(d)?null:G.createElement("path",nS({},Nt(y,!0),{className:Kt("recharts-cross",f),d:H2e(n,i,m,g,o,d)}))},G2e=Qj,Y2e=Qq,Q2e=Vi;function X2e(t,r){return t&&t.length?G2e(t,Q2e(r),Y2e):void 0}var Z2e=X2e;const J2e=yr(Z2e);var eCe=Qj,tCe=Vi,rCe=Xq;function sCe(t,r){return t&&t.length?eCe(t,tCe(r),rCe):void 0}var nCe=sCe;const aCe=yr(nCe);var iCe=["cx","cy","angle","ticks","axisLine"],lCe=["ticks","tick","angle","tickFormatter","stroke"];function Ou(t){"@babel/helpers - typeof";return Ou=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},Ou(t)}function Lh(){return Lh=Object.assign?Object.assign.bind():function(t){for(var r=1;r<arguments.length;r++){var s=arguments[r];for(var n in s)Object.prototype.hasOwnProperty.call(s,n)&&(t[n]=s[n])}return t},Lh.apply(this,arguments)}function pE(t,r){var s=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);r&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),s.push.apply(s,n)}return s}function Bo(t){for(var r=1;r<arguments.length;r++){var s=arguments[r]!=null?arguments[r]:{};r%2?pE(Object(s),!0).forEach(function(n){rb(t,n,s[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(s)):pE(Object(s)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(s,n))})}return t}function fE(t,r){if(t==null)return{};var s=oCe(t,r),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)n=i[a],!(r.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(s[n]=t[n])}return s}function oCe(t,r){if(t==null)return{};var s={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(r.indexOf(n)>=0)continue;s[n]=t[n]}return s}function cCe(t,r){if(!(t instanceof r))throw new TypeError("Cannot call a class as a function")}function xE(t,r){for(var s=0;s<r.length;s++){var n=r[s];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Vz(n.key),n)}}function dCe(t,r,s){return r&&xE(t.prototype,r),s&&xE(t,s),Object.defineProperty(t,"prototype",{writable:!1}),t}function uCe(t,r,s){return r=ry(r),mCe(t,Bz()?Reflect.construct(r,s||[],ry(t).constructor):r.apply(t,s))}function mCe(t,r){if(r&&(Ou(r)==="object"||typeof r=="function"))return r;if(r!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return hCe(t)}function hCe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Bz(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Bz=function(){return!!t})()}function ry(t){return ry=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(s){return s.__proto__||Object.getPrototypeOf(s)},ry(t)}function pCe(t,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(r&&r.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),r&&aS(t,r)}function aS(t,r){return aS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},aS(t,r)}function rb(t,r,s){return r=Vz(r),r in t?Object.defineProperty(t,r,{value:s,enumerable:!0,configurable:!0,writable:!0}):t[r]=s,t}function Vz(t){var r=fCe(t,"string");return Ou(r)=="symbol"?r:r+""}function fCe(t,r){if(Ou(t)!="object"||!t)return t;var s=t[Symbol.toPrimitive];if(s!==void 0){var n=s.call(t,r||"default");if(Ou(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(t)}var sb=function(t){function r(){return cCe(this,r),uCe(this,r,arguments)}return pCe(r,t),dCe(r,[{key:"getTickValueCoord",value:function(n){var a=n.coordinate,i=this.props,l=i.angle,o=i.cx,c=i.cy;return Ir(o,c,a,l)}},{key:"getTickTextAnchor",value:function(){var n=this.props.orientation,a;switch(n){case"left":a="end";break;case"right":a="start";break;default:a="middle";break}return a}},{key:"getViewBox",value:function(){var n=this.props,a=n.cx,i=n.cy,l=n.angle,o=n.ticks,c=J2e(o,function(u){return u.coordinate||0}),d=aCe(o,function(u){return u.coordinate||0});return{cx:a,cy:i,startAngle:l,endAngle:l,innerRadius:d.coordinate||0,outerRadius:c.coordinate||0}}},{key:"renderAxisLine",value:function(){var n=this.props,a=n.cx,i=n.cy,l=n.angle,o=n.ticks,c=n.axisLine,d=fE(n,iCe),u=o.reduce(function(f,p){return[Math.min(f[0],p.coordinate),Math.max(f[1],p.coordinate)]},[1/0,-1/0]),m=Ir(a,i,u[0],l),h=Ir(a,i,u[1],l),g=Bo(Bo(Bo({},Nt(d,!1)),{},{fill:"none"},Nt(c,!1)),{},{x1:m.x,y1:m.y,x2:h.x,y2:h.y});return G.createElement("line",Lh({className:"recharts-polar-radius-axis-line"},g))}},{key:"renderTicks",value:function(){var n=this,a=this.props,i=a.ticks,l=a.tick,o=a.angle,c=a.tickFormatter,d=a.stroke,u=fE(a,lCe),m=this.getTickTextAnchor(),h=Nt(u,!1),g=Nt(l,!1),f=i.map(function(p,y){var v=n.getTickValueCoord(p),x=Bo(Bo(Bo(Bo({textAnchor:m,transform:"rotate(".concat(90-o,", ").concat(v.x,", ").concat(v.y,")")},h),{},{stroke:"none",fill:d},g),{},{index:y},v),{},{payload:p});return G.createElement(ur,Lh({className:Kt("recharts-polar-radius-axis-tick",Cz(l)),key:"tick-".concat(p.coordinate)},Tc(n.props,p,y)),r.renderTickItem(l,x,c?c(p.value,y):p.value))});return G.createElement(ur,{className:"recharts-polar-radius-axis-ticks"},f)}},{key:"render",value:function(){var n=this.props,a=n.ticks,i=n.axisLine,l=n.tick;return!a||!a.length?null:G.createElement(ur,{className:Kt("recharts-polar-radius-axis",this.props.className)},i&&this.renderAxisLine(),l&&this.renderTicks(),Os.renderCallByParent(this.props,this.getViewBox()))}}],[{key:"renderTickItem",value:function(n,a,i){var l;return G.isValidElement(n)?l=G.cloneElement(n,a):$t(n)?l=n(a):l=G.createElement(Oc,Lh({},a,{className:"recharts-polar-radius-axis-tick-value"}),i),l}}])}(j.PureComponent);rb(sb,"displayName","PolarRadiusAxis");rb(sb,"axisType","radiusAxis");rb(sb,"defaultProps",{type:"number",radiusAxisId:0,cx:0,cy:0,angle:0,orientation:"right",stroke:"#ccc",axisLine:!0,tick:!0,tickCount:5,allowDataOverflow:!1,scale:"auto",allowDuplicatedCategory:!0});function Eu(t){"@babel/helpers - typeof";return Eu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},Eu(t)}function Go(){return Go=Object.assign?Object.assign.bind():function(t){for(var r=1;r<arguments.length;r++){var s=arguments[r];for(var n in s)Object.prototype.hasOwnProperty.call(s,n)&&(t[n]=s[n])}return t},Go.apply(this,arguments)}function gE(t,r){var s=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);r&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),s.push.apply(s,n)}return s}function Vo(t){for(var r=1;r<arguments.length;r++){var s=arguments[r]!=null?arguments[r]:{};r%2?gE(Object(s),!0).forEach(function(n){nb(t,n,s[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(s)):gE(Object(s)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(s,n))})}return t}function xCe(t,r){if(!(t instanceof r))throw new TypeError("Cannot call a class as a function")}function vE(t,r){for(var s=0;s<r.length;s++){var n=r[s];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,qz(n.key),n)}}function gCe(t,r,s){return r&&vE(t.prototype,r),s&&vE(t,s),Object.defineProperty(t,"prototype",{writable:!1}),t}function vCe(t,r,s){return r=sy(r),yCe(t,Uz()?Reflect.construct(r,s||[],sy(t).constructor):r.apply(t,s))}function yCe(t,r){if(r&&(Eu(r)==="object"||typeof r=="function"))return r;if(r!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return jCe(t)}function jCe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Uz(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Uz=function(){return!!t})()}function sy(t){return sy=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(s){return s.__proto__||Object.getPrototypeOf(s)},sy(t)}function bCe(t,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(r&&r.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),r&&iS(t,r)}function iS(t,r){return iS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},iS(t,r)}function nb(t,r,s){return r=qz(r),r in t?Object.defineProperty(t,r,{value:s,enumerable:!0,configurable:!0,writable:!0}):t[r]=s,t}function qz(t){var r=NCe(t,"string");return Eu(r)=="symbol"?r:r+""}function NCe(t,r){if(Eu(t)!="object"||!t)return t;var s=t[Symbol.toPrimitive];if(s!==void 0){var n=s.call(t,r||"default");if(Eu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(t)}var wCe=Math.PI/180,yE=1e-5,ab=function(t){function r(){return xCe(this,r),vCe(this,r,arguments)}return bCe(r,t),gCe(r,[{key:"getTickLineCoord",value:function(n){var a=this.props,i=a.cx,l=a.cy,o=a.radius,c=a.orientation,d=a.tickSize,u=d||8,m=Ir(i,l,o,n.coordinate),h=Ir(i,l,o+(c==="inner"?-1:1)*u,n.coordinate);return{x1:m.x,y1:m.y,x2:h.x,y2:h.y}}},{key:"getTickTextAnchor",value:function(n){var a=this.props.orientation,i=Math.cos(-n.coordinate*wCe),l;return i>yE?l=a==="outer"?"start":"end":i<-yE?l=a==="outer"?"end":"start":l="middle",l}},{key:"renderAxisLine",value:function(){var n=this.props,a=n.cx,i=n.cy,l=n.radius,o=n.axisLine,c=n.axisLineType,d=Vo(Vo({},Nt(this.props,!1)),{},{fill:"none"},Nt(o,!1));if(c==="circle")return G.createElement(tb,Go({className:"recharts-polar-angle-axis-line"},d,{cx:a,cy:i,r:l}));var u=this.props.ticks,m=u.map(function(h){return Ir(a,i,l,h.coordinate)});return G.createElement($2e,Go({className:"recharts-polar-angle-axis-line"},d,{points:m}))}},{key:"renderTicks",value:function(){var n=this,a=this.props,i=a.ticks,l=a.tick,o=a.tickLine,c=a.tickFormatter,d=a.stroke,u=Nt(this.props,!1),m=Nt(l,!1),h=Vo(Vo({},u),{},{fill:"none"},Nt(o,!1)),g=i.map(function(f,p){var y=n.getTickLineCoord(f),v=n.getTickTextAnchor(f),x=Vo(Vo(Vo({textAnchor:v},u),{},{stroke:"none",fill:d},m),{},{index:p,payload:f,x:y.x2,y:y.y2});return G.createElement(ur,Go({className:Kt("recharts-polar-angle-axis-tick",Cz(l)),key:"tick-".concat(f.coordinate)},Tc(n.props,f,p)),o&&G.createElement("line",Go({className:"recharts-polar-angle-axis-tick-line"},h,y)),l&&r.renderTickItem(l,x,c?c(f.value,p):f.value))});return G.createElement(ur,{className:"recharts-polar-angle-axis-ticks"},g)}},{key:"render",value:function(){var n=this.props,a=n.ticks,i=n.radius,l=n.axisLine;return i<=0||!a||!a.length?null:G.createElement(ur,{className:Kt("recharts-polar-angle-axis",this.props.className)},l&&this.renderAxisLine(),this.renderTicks())}}],[{key:"renderTickItem",value:function(n,a,i){var l;return G.isValidElement(n)?l=G.cloneElement(n,a):$t(n)?l=n(a):l=G.createElement(Oc,Go({},a,{className:"recharts-polar-angle-axis-tick-value"}),i),l}}])}(j.PureComponent);nb(ab,"displayName","PolarAngleAxis");nb(ab,"axisType","angleAxis");nb(ab,"defaultProps",{type:"category",angleAxisId:0,scale:"auto",cx:0,cy:0,orientation:"outer",axisLine:!0,tickLine:!0,tickSize:8,tick:!0,hide:!1,allowDuplicatedCategory:!0});var SCe=HU,CCe=SCe(Object.getPrototypeOf,Object),PCe=CCe,kCe=Cl,ACe=PCe,_Ce=Pl,TCe="[object Object]",OCe=Function.prototype,ECe=Object.prototype,zz=OCe.toString,DCe=ECe.hasOwnProperty,MCe=zz.call(Object);function ICe(t){if(!_Ce(t)||kCe(t)!=TCe)return!1;var r=ACe(t);if(r===null)return!0;var s=DCe.call(r,"constructor")&&r.constructor;return typeof s=="function"&&s instanceof s&&zz.call(s)==MCe}var RCe=ICe;const FCe=yr(RCe);var $Ce=Cl,LCe=Pl,BCe="[object Boolean]";function VCe(t){return t===!0||t===!1||LCe(t)&&$Ce(t)==BCe}var UCe=VCe;const qCe=yr(UCe);function Qp(t){"@babel/helpers - typeof";return Qp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},Qp(t)}function ny(){return ny=Object.assign?Object.assign.bind():function(t){for(var r=1;r<arguments.length;r++){var s=arguments[r];for(var n in s)Object.prototype.hasOwnProperty.call(s,n)&&(t[n]=s[n])}return t},ny.apply(this,arguments)}function zCe(t,r){return GCe(t)||WCe(t,r)||HCe(t,r)||KCe()}function KCe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function HCe(t,r){if(t){if(typeof t=="string")return jE(t,r);var s=Object.prototype.toString.call(t).slice(8,-1);if(s==="Object"&&t.constructor&&(s=t.constructor.name),s==="Map"||s==="Set")return Array.from(t);if(s==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(s))return jE(t,r)}}function jE(t,r){(r==null||r>t.length)&&(r=t.length);for(var s=0,n=new Array(r);s<r;s++)n[s]=t[s];return n}function WCe(t,r){var s=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(s!=null){var n,a,i,l,o=[],c=!0,d=!1;try{if(i=(s=s.call(t)).next,r!==0)for(;!(c=(n=i.call(s)).done)&&(o.push(n.value),o.length!==r);c=!0);}catch(u){d=!0,a=u}finally{try{if(!c&&s.return!=null&&(l=s.return(),Object(l)!==l))return}finally{if(d)throw a}}return o}}function GCe(t){if(Array.isArray(t))return t}function bE(t,r){var s=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);r&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),s.push.apply(s,n)}return s}function NE(t){for(var r=1;r<arguments.length;r++){var s=arguments[r]!=null?arguments[r]:{};r%2?bE(Object(s),!0).forEach(function(n){YCe(t,n,s[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(s)):bE(Object(s)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(s,n))})}return t}function YCe(t,r,s){return r=QCe(r),r in t?Object.defineProperty(t,r,{value:s,enumerable:!0,configurable:!0,writable:!0}):t[r]=s,t}function QCe(t){var r=XCe(t,"string");return Qp(r)=="symbol"?r:r+""}function XCe(t,r){if(Qp(t)!="object"||!t)return t;var s=t[Symbol.toPrimitive];if(s!==void 0){var n=s.call(t,r||"default");if(Qp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(t)}var wE=function(r,s,n,a,i){var l=n-a,o;return o="M ".concat(r,",").concat(s),o+="L ".concat(r+n,",").concat(s),o+="L ".concat(r+n-l/2,",").concat(s+i),o+="L ".concat(r+n-l/2-a,",").concat(s+i),o+="L ".concat(r,",").concat(s," Z"),o},ZCe={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},JCe=function(r){var s=NE(NE({},ZCe),r),n=j.useRef(),a=j.useState(-1),i=zCe(a,2),l=i[0],o=i[1];j.useEffect(function(){if(n.current&&n.current.getTotalLength)try{var b=n.current.getTotalLength();b&&o(b)}catch{}},[]);var c=s.x,d=s.y,u=s.upperWidth,m=s.lowerWidth,h=s.height,g=s.className,f=s.animationEasing,p=s.animationDuration,y=s.animationBegin,v=s.isUpdateAnimationActive;if(c!==+c||d!==+d||u!==+u||m!==+m||h!==+h||u===0&&m===0||h===0)return null;var x=Kt("recharts-trapezoid",g);return v?G.createElement(Ri,{canBegin:l>0,from:{upperWidth:0,lowerWidth:0,height:h,x:c,y:d},to:{upperWidth:u,lowerWidth:m,height:h,x:c,y:d},duration:p,animationEasing:f,isActive:v},function(b){var N=b.upperWidth,w=b.lowerWidth,C=b.height,P=b.x,S=b.y;return G.createElement(Ri,{canBegin:l>0,from:"0px ".concat(l===-1?1:l,"px"),to:"".concat(l,"px 0px"),attributeName:"strokeDasharray",begin:y,duration:p,easing:f},G.createElement("path",ny({},Nt(s,!0),{className:x,d:wE(P,S,N,w,C),ref:n})))}):G.createElement("g",null,G.createElement("path",ny({},Nt(s,!0),{className:x,d:wE(c,d,u,m,h)})))},ePe=["option","shapeType","propTransformer","activeClassName","isActive"];function Xp(t){"@babel/helpers - typeof";return Xp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},Xp(t)}function tPe(t,r){if(t==null)return{};var s=rPe(t,r),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)n=i[a],!(r.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(s[n]=t[n])}return s}function rPe(t,r){if(t==null)return{};var s={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(r.indexOf(n)>=0)continue;s[n]=t[n]}return s}function SE(t,r){var s=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);r&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),s.push.apply(s,n)}return s}function ay(t){for(var r=1;r<arguments.length;r++){var s=arguments[r]!=null?arguments[r]:{};r%2?SE(Object(s),!0).forEach(function(n){sPe(t,n,s[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(s)):SE(Object(s)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(s,n))})}return t}function sPe(t,r,s){return r=nPe(r),r in t?Object.defineProperty(t,r,{value:s,enumerable:!0,configurable:!0,writable:!0}):t[r]=s,t}function nPe(t){var r=aPe(t,"string");return Xp(r)=="symbol"?r:r+""}function aPe(t,r){if(Xp(t)!="object"||!t)return t;var s=t[Symbol.toPrimitive];if(s!==void 0){var n=s.call(t,r||"default");if(Xp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(t)}function iPe(t,r){return ay(ay({},r),t)}function lPe(t,r){return t==="symbols"}function CE(t){var r=t.shapeType,s=t.elementProps;switch(r){case"rectangle":return G.createElement(MP,s);case"trapezoid":return G.createElement(JCe,s);case"sector":return G.createElement(Az,s);case"symbols":if(lPe(r))return G.createElement(JC,s);break;default:return null}}function oPe(t){return j.isValidElement(t)?t.props:t}function Kz(t){var r=t.option,s=t.shapeType,n=t.propTransformer,a=n===void 0?iPe:n,i=t.activeClassName,l=i===void 0?"recharts-active-shape":i,o=t.isActive,c=tPe(t,ePe),d;if(j.isValidElement(r))d=j.cloneElement(r,ay(ay({},c),oPe(r)));else if($t(r))d=r(c);else if(FCe(r)&&!qCe(r)){var u=a(r,c);d=G.createElement(CE,{shapeType:s,elementProps:u})}else{var m=c;d=G.createElement(CE,{shapeType:s,elementProps:m})}return o?G.createElement(ur,{className:l},d):d}function ib(t,r){return r!=null&&"trapezoids"in t.props}function lb(t,r){return r!=null&&"sectors"in t.props}function Zp(t,r){return r!=null&&"points"in t.props}function cPe(t,r){var s,n,a=t.x===(r==null||(s=r.labelViewBox)===null||s===void 0?void 0:s.x)||t.x===r.x,i=t.y===(r==null||(n=r.labelViewBox)===null||n===void 0?void 0:n.y)||t.y===r.y;return a&&i}function dPe(t,r){var s=t.endAngle===r.endAngle,n=t.startAngle===r.startAngle;return s&&n}function uPe(t,r){var s=t.x===r.x,n=t.y===r.y,a=t.z===r.z;return s&&n&&a}function mPe(t,r){var s;return ib(t,r)?s=cPe:lb(t,r)?s=dPe:Zp(t,r)&&(s=uPe),s}function hPe(t,r){var s;return ib(t,r)?s="trapezoids":lb(t,r)?s="sectors":Zp(t,r)&&(s="points"),s}function pPe(t,r){if(ib(t,r)){var s;return(s=r.tooltipPayload)===null||s===void 0||(s=s[0])===null||s===void 0||(s=s.payload)===null||s===void 0?void 0:s.payload}if(lb(t,r)){var n;return(n=r.tooltipPayload)===null||n===void 0||(n=n[0])===null||n===void 0||(n=n.payload)===null||n===void 0?void 0:n.payload}return Zp(t,r)?r.payload:{}}function fPe(t){var r=t.activeTooltipItem,s=t.graphicalItem,n=t.itemData,a=hPe(s,r),i=pPe(s,r),l=n.filter(function(c,d){var u=Lf(i,c),m=s.props[a].filter(function(f){var p=mPe(s,r);return p(f,r)}),h=s.props[a].indexOf(m[m.length-1]),g=d===h;return u&&g}),o=n.indexOf(l[l.length-1]);return o}var hg;function Du(t){"@babel/helpers - typeof";return Du=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},Du(t)}function Pd(){return Pd=Object.assign?Object.assign.bind():function(t){for(var r=1;r<arguments.length;r++){var s=arguments[r];for(var n in s)Object.prototype.hasOwnProperty.call(s,n)&&(t[n]=s[n])}return t},Pd.apply(this,arguments)}function PE(t,r){var s=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);r&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),s.push.apply(s,n)}return s}function Tr(t){for(var r=1;r<arguments.length;r++){var s=arguments[r]!=null?arguments[r]:{};r%2?PE(Object(s),!0).forEach(function(n){ba(t,n,s[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(s)):PE(Object(s)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(s,n))})}return t}function xPe(t,r){if(!(t instanceof r))throw new TypeError("Cannot call a class as a function")}function kE(t,r){for(var s=0;s<r.length;s++){var n=r[s];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Wz(n.key),n)}}function gPe(t,r,s){return r&&kE(t.prototype,r),s&&kE(t,s),Object.defineProperty(t,"prototype",{writable:!1}),t}function vPe(t,r,s){return r=iy(r),yPe(t,Hz()?Reflect.construct(r,s||[],iy(t).constructor):r.apply(t,s))}function yPe(t,r){if(r&&(Du(r)==="object"||typeof r=="function"))return r;if(r!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return jPe(t)}function jPe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Hz(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Hz=function(){return!!t})()}function iy(t){return iy=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(s){return s.__proto__||Object.getPrototypeOf(s)},iy(t)}function bPe(t,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(r&&r.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),r&&lS(t,r)}function lS(t,r){return lS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},lS(t,r)}function ba(t,r,s){return r=Wz(r),r in t?Object.defineProperty(t,r,{value:s,enumerable:!0,configurable:!0,writable:!0}):t[r]=s,t}function Wz(t){var r=NPe(t,"string");return Du(r)=="symbol"?r:r+""}function NPe(t,r){if(Du(t)!="object"||!t)return t;var s=t[Symbol.toPrimitive];if(s!==void 0){var n=s.call(t,r||"default");if(Du(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(t)}var Al=function(t){function r(s){var n;return xPe(this,r),n=vPe(this,r,[s]),ba(n,"pieRef",null),ba(n,"sectorRefs",[]),ba(n,"id",ym("recharts-pie-")),ba(n,"handleAnimationEnd",function(){var a=n.props.onAnimationEnd;n.setState({isAnimationFinished:!0}),$t(a)&&a()}),ba(n,"handleAnimationStart",function(){var a=n.props.onAnimationStart;n.setState({isAnimationFinished:!1}),$t(a)&&a()}),n.state={isAnimationFinished:!s.isAnimationActive,prevIsAnimationActive:s.isAnimationActive,prevAnimationId:s.animationId,sectorToFocus:0},n}return bPe(r,t),gPe(r,[{key:"isActiveIndex",value:function(n){var a=this.props.activeIndex;return Array.isArray(a)?a.indexOf(n)!==-1:n===a}},{key:"hasActiveIndex",value:function(){var n=this.props.activeIndex;return Array.isArray(n)?n.length!==0:n||n===0}},{key:"renderLabels",value:function(n){var a=this.props.isAnimationActive;if(a&&!this.state.isAnimationFinished)return null;var i=this.props,l=i.label,o=i.labelLine,c=i.dataKey,d=i.valueKey,u=Nt(this.props,!1),m=Nt(l,!1),h=Nt(o,!1),g=l&&l.offsetRadius||20,f=n.map(function(p,y){var v=(p.startAngle+p.endAngle)/2,x=Ir(p.cx,p.cy,p.outerRadius+g,v),b=Tr(Tr(Tr(Tr({},u),p),{},{stroke:"none"},m),{},{index:y,textAnchor:r.getTextAnchor(x.x,p.cx)},x),N=Tr(Tr(Tr(Tr({},u),p),{},{fill:"none",stroke:p.fill},h),{},{index:y,points:[Ir(p.cx,p.cy,p.outerRadius,v),x]}),w=c;return Bt(c)&&Bt(d)?w="value":Bt(c)&&(w=d),G.createElement(ur,{key:"label-".concat(p.startAngle,"-").concat(p.endAngle,"-").concat(p.midAngle,"-").concat(y)},o&&r.renderLabelLineItem(o,N,"line"),r.renderLabelItem(l,b,js(p,w)))});return G.createElement(ur,{className:"recharts-pie-labels"},f)}},{key:"renderSectorsStatically",value:function(n){var a=this,i=this.props,l=i.activeShape,o=i.blendStroke,c=i.inactiveShape;return n.map(function(d,u){if((d==null?void 0:d.startAngle)===0&&(d==null?void 0:d.endAngle)===0&&n.length!==1)return null;var m=a.isActiveIndex(u),h=c&&a.hasActiveIndex()?c:null,g=m?l:h,f=Tr(Tr({},d),{},{stroke:o?d.fill:d.stroke,tabIndex:-1});return G.createElement(ur,Pd({ref:function(y){y&&!a.sectorRefs.includes(y)&&a.sectorRefs.push(y)},tabIndex:-1,className:"recharts-pie-sector"},Tc(a.props,d,u),{key:"sector-".concat(d==null?void 0:d.startAngle,"-").concat(d==null?void 0:d.endAngle,"-").concat(d.midAngle,"-").concat(u)}),G.createElement(Kz,Pd({option:g,isActive:m,shapeType:"sector"},f)))})}},{key:"renderSectorsWithAnimation",value:function(){var n=this,a=this.props,i=a.sectors,l=a.isAnimationActive,o=a.animationBegin,c=a.animationDuration,d=a.animationEasing,u=a.animationId,m=this.state,h=m.prevSectors,g=m.prevIsAnimationActive;return G.createElement(Ri,{begin:o,duration:c,isActive:l,easing:d,from:{t:0},to:{t:1},key:"pie-".concat(u,"-").concat(g),onAnimationStart:this.handleAnimationStart,onAnimationEnd:this.handleAnimationEnd},function(f){var p=f.t,y=[],v=i&&i[0],x=v.startAngle;return i.forEach(function(b,N){var w=h&&h[N],C=N>0?sa(b,"paddingAngle",0):0;if(w){var P=Gn(w.endAngle-w.startAngle,b.endAngle-b.startAngle),S=Tr(Tr({},b),{},{startAngle:x+C,endAngle:x+P(p)+C});y.push(S),x=S.endAngle}else{var A=b.endAngle,k=b.startAngle,I=Gn(0,A-k),L=I(p),K=Tr(Tr({},b),{},{startAngle:x+C,endAngle:x+L+C});y.push(K),x=K.endAngle}}),G.createElement(ur,null,n.renderSectorsStatically(y))})}},{key:"attachKeyboardHandlers",value:function(n){var a=this;n.onkeydown=function(i){if(!i.altKey)switch(i.key){case"ArrowLeft":{var l=++a.state.sectorToFocus%a.sectorRefs.length;a.sectorRefs[l].focus(),a.setState({sectorToFocus:l});break}case"ArrowRight":{var o=--a.state.sectorToFocus<0?a.sectorRefs.length-1:a.state.sectorToFocus%a.sectorRefs.length;a.sectorRefs[o].focus(),a.setState({sectorToFocus:o});break}case"Escape":{a.sectorRefs[a.state.sectorToFocus].blur(),a.setState({sectorToFocus:0});break}}}}},{key:"renderSectors",value:function(){var n=this.props,a=n.sectors,i=n.isAnimationActive,l=this.state.prevSectors;return i&&a&&a.length&&(!l||!Lf(l,a))?this.renderSectorsWithAnimation():this.renderSectorsStatically(a)}},{key:"componentDidMount",value:function(){this.pieRef&&this.attachKeyboardHandlers(this.pieRef)}},{key:"render",value:function(){var n=this,a=this.props,i=a.hide,l=a.sectors,o=a.className,c=a.label,d=a.cx,u=a.cy,m=a.innerRadius,h=a.outerRadius,g=a.isAnimationActive,f=this.state.isAnimationFinished;if(i||!l||!l.length||!Qe(d)||!Qe(u)||!Qe(m)||!Qe(h))return null;var p=Kt("recharts-pie",o);return G.createElement(ur,{tabIndex:this.props.rootTabIndex,className:p,ref:function(v){n.pieRef=v}},this.renderSectors(),c&&this.renderLabels(l),Os.renderCallByParent(this.props,null,!1),(!g||f)&&dl.renderCallByParent(this.props,l,!1))}}],[{key:"getDerivedStateFromProps",value:function(n,a){return a.prevIsAnimationActive!==n.isAnimationActive?{prevIsAnimationActive:n.isAnimationActive,prevAnimationId:n.animationId,curSectors:n.sectors,prevSectors:[],isAnimationFinished:!0}:n.isAnimationActive&&n.animationId!==a.prevAnimationId?{prevAnimationId:n.animationId,curSectors:n.sectors,prevSectors:a.curSectors,isAnimationFinished:!0}:n.sectors!==a.curSectors?{curSectors:n.sectors,isAnimationFinished:!0}:null}},{key:"getTextAnchor",value:function(n,a){return n>a?"start":n<a?"end":"middle"}},{key:"renderLabelLineItem",value:function(n,a,i){if(G.isValidElement(n))return G.cloneElement(n,a);if($t(n))return n(a);var l=Kt("recharts-pie-label-line",typeof n!="boolean"?n.className:"");return G.createElement(Xv,Pd({},a,{key:i,type:"linear",className:l}))}},{key:"renderLabelItem",value:function(n,a,i){if(G.isValidElement(n))return G.cloneElement(n,a);var l=i;if($t(n)&&(l=n(a),G.isValidElement(l)))return l;var o=Kt("recharts-pie-label-text",typeof n!="boolean"&&!$t(n)?n.className:"");return G.createElement(Oc,Pd({},a,{alignmentBaseline:"middle",className:o}),l)}}])}(j.PureComponent);hg=Al;ba(Al,"displayName","Pie");ba(Al,"defaultProps",{stroke:"#fff",fill:"#808080",legendType:"rect",cx:"50%",cy:"50%",startAngle:0,endAngle:360,innerRadius:0,outerRadius:"80%",paddingAngle:0,labelLine:!0,hide:!1,minAngle:0,isAnimationActive:!Ai.isSsr,animationBegin:400,animationDuration:1500,animationEasing:"ease",nameKey:"name",blendStroke:!1,rootTabIndex:0});ba(Al,"parseDeltaAngle",function(t,r){var s=dn(r-t),n=Math.min(Math.abs(r-t),360);return s*n});ba(Al,"getRealPieData",function(t){var r=t.data,s=t.children,n=Nt(t,!1),a=na(s,qj);return r&&r.length?r.map(function(i,l){return Tr(Tr(Tr({payload:i},n),i),a&&a[l]&&a[l].props)}):a&&a.length?a.map(function(i){return Tr(Tr({},n),i.props)}):[]});ba(Al,"parseCoordinateOfPie",function(t,r){var s=r.top,n=r.left,a=r.width,i=r.height,l=Sz(a,i),o=n+un(t.cx,a,a/2),c=s+un(t.cy,i,i/2),d=un(t.innerRadius,l,0),u=un(t.outerRadius,l,l*.8),m=t.maxRadius||Math.sqrt(a*a+i*i)/2;return{cx:o,cy:c,innerRadius:d,outerRadius:u,maxRadius:m}});ba(Al,"getComposedData",function(t){var r=t.item,s=t.offset,n=r.type.defaultProps!==void 0?Tr(Tr({},r.type.defaultProps),r.props):r.props,a=hg.getRealPieData(n);if(!a||!a.length)return null;var i=n.cornerRadius,l=n.startAngle,o=n.endAngle,c=n.paddingAngle,d=n.dataKey,u=n.nameKey,m=n.valueKey,h=n.tooltipType,g=Math.abs(n.minAngle),f=hg.parseCoordinateOfPie(n,s),p=hg.parseDeltaAngle(l,o),y=Math.abs(p),v=d;Bt(d)&&Bt(m)?(Ja(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),v="value"):Bt(d)&&(Ja(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),v=m);var x=a.filter(function(S){return js(S,v,0)!==0}).length,b=(y>=360?x:x-1)*c,N=y-x*g-b,w=a.reduce(function(S,A){var k=js(A,v,0);return S+(Qe(k)?k:0)},0),C;if(w>0){var P;C=a.map(function(S,A){var k=js(S,v,0),I=js(S,u,A),L=(Qe(k)?k:0)/w,K;A?K=P.endAngle+dn(p)*c*(k!==0?1:0):K=l;var R=K+dn(p)*((k!==0?g:0)+L*N),F=(K+R)/2,W=(f.innerRadius+f.outerRadius)/2,Q=[{name:I,value:k,payload:S,dataKey:v,type:h}],H=Ir(f.cx,f.cy,W,F);return P=Tr(Tr(Tr({percent:L,cornerRadius:i,name:I,tooltipPayload:Q,midAngle:F,middleRadius:W,tooltipPosition:H},S),f),{},{value:js(S,v),startAngle:K,endAngle:R,payload:S,paddingAngle:dn(p)*c}),P})}return Tr(Tr({},f),{},{sectors:C,data:a})});var wPe=Math.ceil,SPe=Math.max;function CPe(t,r,s,n){for(var a=-1,i=SPe(wPe((r-t)/(s||1)),0),l=Array(i);i--;)l[n?i:++a]=t,t+=s;return l}var PPe=CPe,kPe=uq,AE=1/0,APe=17976931348623157e292;function _Pe(t){if(!t)return t===0?t:0;if(t=kPe(t),t===AE||t===-AE){var r=t<0?-1:1;return r*APe}return t===t?t:0}var Gz=_Pe,TPe=PPe,OPe=Uj,Q0=Gz;function EPe(t){return function(r,s,n){return n&&typeof n!="number"&&OPe(r,s,n)&&(s=n=void 0),r=Q0(r),s===void 0?(s=r,r=0):s=Q0(s),n=n===void 0?r<s?1:-1:Q0(n),TPe(r,s,n,t)}}var DPe=EPe,MPe=DPe,IPe=MPe(),RPe=IPe;const ly=yr(RPe);function Jp(t){"@babel/helpers - typeof";return Jp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},Jp(t)}function _E(t,r){var s=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);r&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),s.push.apply(s,n)}return s}function TE(t){for(var r=1;r<arguments.length;r++){var s=arguments[r]!=null?arguments[r]:{};r%2?_E(Object(s),!0).forEach(function(n){Yz(t,n,s[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(s)):_E(Object(s)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(s,n))})}return t}function Yz(t,r,s){return r=FPe(r),r in t?Object.defineProperty(t,r,{value:s,enumerable:!0,configurable:!0,writable:!0}):t[r]=s,t}function FPe(t){var r=$Pe(t,"string");return Jp(r)=="symbol"?r:r+""}function $Pe(t,r){if(Jp(t)!="object"||!t)return t;var s=t[Symbol.toPrimitive];if(s!==void 0){var n=s.call(t,r||"default");if(Jp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(t)}var LPe=["Webkit","Moz","O","ms"],BPe=function(r,s){var n=r.replace(/(\w)/,function(i){return i.toUpperCase()}),a=LPe.reduce(function(i,l){return TE(TE({},i),{},Yz({},l+n,s))},{});return a[r]=s,a};function Mu(t){"@babel/helpers - typeof";return Mu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},Mu(t)}function oy(){return oy=Object.assign?Object.assign.bind():function(t){for(var r=1;r<arguments.length;r++){var s=arguments[r];for(var n in s)Object.prototype.hasOwnProperty.call(s,n)&&(t[n]=s[n])}return t},oy.apply(this,arguments)}function OE(t,r){var s=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);r&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),s.push.apply(s,n)}return s}function X0(t){for(var r=1;r<arguments.length;r++){var s=arguments[r]!=null?arguments[r]:{};r%2?OE(Object(s),!0).forEach(function(n){Vn(t,n,s[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(s)):OE(Object(s)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(s,n))})}return t}function VPe(t,r){if(!(t instanceof r))throw new TypeError("Cannot call a class as a function")}function EE(t,r){for(var s=0;s<r.length;s++){var n=r[s];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Xz(n.key),n)}}function UPe(t,r,s){return r&&EE(t.prototype,r),s&&EE(t,s),Object.defineProperty(t,"prototype",{writable:!1}),t}function qPe(t,r,s){return r=cy(r),zPe(t,Qz()?Reflect.construct(r,s||[],cy(t).constructor):r.apply(t,s))}function zPe(t,r){if(r&&(Mu(r)==="object"||typeof r=="function"))return r;if(r!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return KPe(t)}function KPe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Qz(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Qz=function(){return!!t})()}function cy(t){return cy=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(s){return s.__proto__||Object.getPrototypeOf(s)},cy(t)}function HPe(t,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(r&&r.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),r&&oS(t,r)}function oS(t,r){return oS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},oS(t,r)}function Vn(t,r,s){return r=Xz(r),r in t?Object.defineProperty(t,r,{value:s,enumerable:!0,configurable:!0,writable:!0}):t[r]=s,t}function Xz(t){var r=WPe(t,"string");return Mu(r)=="symbol"?r:r+""}function WPe(t,r){if(Mu(t)!="object"||!t)return t;var s=t[Symbol.toPrimitive];if(s!==void 0){var n=s.call(t,r||"default");if(Mu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(t)}var GPe=function(r){var s=r.data,n=r.startIndex,a=r.endIndex,i=r.x,l=r.width,o=r.travellerWidth;if(!s||!s.length)return{};var c=s.length,d=Ih().domain(ly(0,c)).range([i,i+l-o]),u=d.domain().map(function(m){return d(m)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:d(n),endX:d(a),scale:d,scaleValues:u}},DE=function(r){return r.changedTouches&&!!r.changedTouches.length},Iu=function(t){function r(s){var n;return VPe(this,r),n=qPe(this,r,[s]),Vn(n,"handleDrag",function(a){n.leaveTimer&&(clearTimeout(n.leaveTimer),n.leaveTimer=null),n.state.isTravellerMoving?n.handleTravellerMove(a):n.state.isSlideMoving&&n.handleSlideDrag(a)}),Vn(n,"handleTouchMove",function(a){a.changedTouches!=null&&a.changedTouches.length>0&&n.handleDrag(a.changedTouches[0])}),Vn(n,"handleDragEnd",function(){n.setState({isTravellerMoving:!1,isSlideMoving:!1},function(){var a=n.props,i=a.endIndex,l=a.onDragEnd,o=a.startIndex;l==null||l({endIndex:i,startIndex:o})}),n.detachDragEndListener()}),Vn(n,"handleLeaveWrapper",function(){(n.state.isTravellerMoving||n.state.isSlideMoving)&&(n.leaveTimer=window.setTimeout(n.handleDragEnd,n.props.leaveTimeOut))}),Vn(n,"handleEnterSlideOrTraveller",function(){n.setState({isTextActive:!0})}),Vn(n,"handleLeaveSlideOrTraveller",function(){n.setState({isTextActive:!1})}),Vn(n,"handleSlideDragStart",function(a){var i=DE(a)?a.changedTouches[0]:a;n.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:i.pageX}),n.attachDragEndListener()}),n.travellerDragStartHandlers={startX:n.handleTravellerDragStart.bind(n,"startX"),endX:n.handleTravellerDragStart.bind(n,"endX")},n.state={},n}return HPe(r,t),UPe(r,[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(n){var a=n.startX,i=n.endX,l=this.state.scaleValues,o=this.props,c=o.gap,d=o.data,u=d.length-1,m=Math.min(a,i),h=Math.max(a,i),g=r.getIndexInRange(l,m),f=r.getIndexInRange(l,h);return{startIndex:g-g%c,endIndex:f===u?u:f-f%c}}},{key:"getTextOfTick",value:function(n){var a=this.props,i=a.data,l=a.tickFormatter,o=a.dataKey,c=js(i[n],o,n);return $t(l)?l(c,n):c}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(n){var a=this.state,i=a.slideMoveStartX,l=a.startX,o=a.endX,c=this.props,d=c.x,u=c.width,m=c.travellerWidth,h=c.startIndex,g=c.endIndex,f=c.onChange,p=n.pageX-i;p>0?p=Math.min(p,d+u-m-o,d+u-m-l):p<0&&(p=Math.max(p,d-l,d-o));var y=this.getIndex({startX:l+p,endX:o+p});(y.startIndex!==h||y.endIndex!==g)&&f&&f(y),this.setState({startX:l+p,endX:o+p,slideMoveStartX:n.pageX})}},{key:"handleTravellerDragStart",value:function(n,a){var i=DE(a)?a.changedTouches[0]:a;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:n,brushMoveStartX:i.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(n){var a=this.state,i=a.brushMoveStartX,l=a.movingTravellerId,o=a.endX,c=a.startX,d=this.state[l],u=this.props,m=u.x,h=u.width,g=u.travellerWidth,f=u.onChange,p=u.gap,y=u.data,v={startX:this.state.startX,endX:this.state.endX},x=n.pageX-i;x>0?x=Math.min(x,m+h-g-d):x<0&&(x=Math.max(x,m-d)),v[l]=d+x;var b=this.getIndex(v),N=b.startIndex,w=b.endIndex,C=function(){var S=y.length-1;return l==="startX"&&(o>c?N%p===0:w%p===0)||o<c&&w===S||l==="endX"&&(o>c?w%p===0:N%p===0)||o>c&&w===S};this.setState(Vn(Vn({},l,d+x),"brushMoveStartX",n.pageX),function(){f&&C()&&f(b)})}},{key:"handleTravellerMoveKeyboard",value:function(n,a){var i=this,l=this.state,o=l.scaleValues,c=l.startX,d=l.endX,u=this.state[a],m=o.indexOf(u);if(m!==-1){var h=m+n;if(!(h===-1||h>=o.length)){var g=o[h];a==="startX"&&g>=d||a==="endX"&&g<=c||this.setState(Vn({},a,g),function(){i.props.onChange(i.getIndex({startX:i.state.startX,endX:i.state.endX}))})}}}},{key:"renderBackground",value:function(){var n=this.props,a=n.x,i=n.y,l=n.width,o=n.height,c=n.fill,d=n.stroke;return G.createElement("rect",{stroke:d,fill:c,x:a,y:i,width:l,height:o})}},{key:"renderPanorama",value:function(){var n=this.props,a=n.x,i=n.y,l=n.width,o=n.height,c=n.data,d=n.children,u=n.padding,m=j.Children.only(d);return m?G.cloneElement(m,{x:a,y:i,width:l,height:o,margin:u,compact:!0,data:c}):null}},{key:"renderTravellerLayer",value:function(n,a){var i,l,o=this,c=this.props,d=c.y,u=c.travellerWidth,m=c.height,h=c.traveller,g=c.ariaLabel,f=c.data,p=c.startIndex,y=c.endIndex,v=Math.max(n,this.props.x),x=X0(X0({},Nt(this.props,!1)),{},{x:v,y:d,width:u,height:m}),b=g||"Min value: ".concat((i=f[p])===null||i===void 0?void 0:i.name,", Max value: ").concat((l=f[y])===null||l===void 0?void 0:l.name);return G.createElement(ur,{tabIndex:0,role:"slider","aria-label":b,"aria-valuenow":n,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[a],onTouchStart:this.travellerDragStartHandlers[a],onKeyDown:function(w){["ArrowLeft","ArrowRight"].includes(w.key)&&(w.preventDefault(),w.stopPropagation(),o.handleTravellerMoveKeyboard(w.key==="ArrowRight"?1:-1,a))},onFocus:function(){o.setState({isTravellerFocused:!0})},onBlur:function(){o.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},r.renderTraveller(h,x))}},{key:"renderSlide",value:function(n,a){var i=this.props,l=i.y,o=i.height,c=i.stroke,d=i.travellerWidth,u=Math.min(n,a)+d,m=Math.max(Math.abs(a-n)-d,0);return G.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:c,fillOpacity:.2,x:u,y:l,width:m,height:o})}},{key:"renderText",value:function(){var n=this.props,a=n.startIndex,i=n.endIndex,l=n.y,o=n.height,c=n.travellerWidth,d=n.stroke,u=this.state,m=u.startX,h=u.endX,g=5,f={pointerEvents:"none",fill:d};return G.createElement(ur,{className:"recharts-brush-texts"},G.createElement(Oc,oy({textAnchor:"end",verticalAnchor:"middle",x:Math.min(m,h)-g,y:l+o/2},f),this.getTextOfTick(a)),G.createElement(Oc,oy({textAnchor:"start",verticalAnchor:"middle",x:Math.max(m,h)+c+g,y:l+o/2},f),this.getTextOfTick(i)))}},{key:"render",value:function(){var n=this.props,a=n.data,i=n.className,l=n.children,o=n.x,c=n.y,d=n.width,u=n.height,m=n.alwaysShowText,h=this.state,g=h.startX,f=h.endX,p=h.isTextActive,y=h.isSlideMoving,v=h.isTravellerMoving,x=h.isTravellerFocused;if(!a||!a.length||!Qe(o)||!Qe(c)||!Qe(d)||!Qe(u)||d<=0||u<=0)return null;var b=Kt("recharts-brush",i),N=G.Children.count(l)===1,w=BPe("userSelect","none");return G.createElement(ur,{className:b,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:w},this.renderBackground(),N&&this.renderPanorama(),this.renderSlide(g,f),this.renderTravellerLayer(g,"startX"),this.renderTravellerLayer(f,"endX"),(p||y||v||x||m)&&this.renderText())}}],[{key:"renderDefaultTraveller",value:function(n){var a=n.x,i=n.y,l=n.width,o=n.height,c=n.stroke,d=Math.floor(i+o/2)-1;return G.createElement(G.Fragment,null,G.createElement("rect",{x:a,y:i,width:l,height:o,fill:c,stroke:"none"}),G.createElement("line",{x1:a+1,y1:d,x2:a+l-1,y2:d,fill:"none",stroke:"#fff"}),G.createElement("line",{x1:a+1,y1:d+2,x2:a+l-1,y2:d+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(n,a){var i;return G.isValidElement(n)?i=G.cloneElement(n,a):$t(n)?i=n(a):i=r.renderDefaultTraveller(a),i}},{key:"getDerivedStateFromProps",value:function(n,a){var i=n.data,l=n.width,o=n.x,c=n.travellerWidth,d=n.updateId,u=n.startIndex,m=n.endIndex;if(i!==a.prevData||d!==a.prevUpdateId)return X0({prevData:i,prevTravellerWidth:c,prevUpdateId:d,prevX:o,prevWidth:l},i&&i.length?GPe({data:i,width:l,x:o,travellerWidth:c,startIndex:u,endIndex:m}):{scale:null,scaleValues:null});if(a.scale&&(l!==a.prevWidth||o!==a.prevX||c!==a.prevTravellerWidth)){a.scale.range([o,o+l-c]);var h=a.scale.domain().map(function(g){return a.scale(g)});return{prevData:i,prevTravellerWidth:c,prevUpdateId:d,prevX:o,prevWidth:l,startX:a.scale(n.startIndex),endX:a.scale(n.endIndex),scaleValues:h}}return null}},{key:"getIndexInRange",value:function(n,a){for(var i=n.length,l=0,o=i-1;o-l>1;){var c=Math.floor((l+o)/2);n[c]>a?o=c:l=c}return a>=n[o]?o:l}}])}(j.PureComponent);Vn(Iu,"displayName","Brush");Vn(Iu,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var YPe=iP;function QPe(t,r){var s;return YPe(t,function(n,a,i){return s=r(n,a,i),!s}),!!s}var XPe=QPe,ZPe=$U,JPe=Vi,eke=XPe,tke=Ln,rke=Uj;function ske(t,r,s){var n=tke(t)?ZPe:eke;return s&&rke(t,r,s)&&(r=void 0),n(t,JPe(r))}var nke=ske;const ake=yr(nke);var Ti=function(r,s){var n=r.alwaysShow,a=r.ifOverflow;return n&&(a="extendDomain"),a===s},ME=iq;function ike(t,r,s){r=="__proto__"&&ME?ME(t,r,{configurable:!0,enumerable:!0,value:s,writable:!0}):t[r]=s}var lke=ike,oke=lke,cke=nq,dke=Vi;function uke(t,r){var s={};return r=dke(r),cke(t,function(n,a,i){oke(s,a,r(n,a,i))}),s}var mke=uke;const hke=yr(mke);function pke(t,r){for(var s=-1,n=t==null?0:t.length;++s<n;)if(!r(t[s],s,t))return!1;return!0}var fke=pke,xke=iP;function gke(t,r){var s=!0;return xke(t,function(n,a,i){return s=!!r(n,a,i),s}),s}var vke=gke,yke=fke,jke=vke,bke=Vi,Nke=Ln,wke=Uj;function Ske(t,r,s){var n=Nke(t)?yke:jke;return s&&wke(t,r,s)&&(r=void 0),n(t,bke(r))}var Cke=Ske;const Zz=yr(Cke);var Pke=["x","y"];function ef(t){"@babel/helpers - typeof";return ef=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},ef(t)}function cS(){return cS=Object.assign?Object.assign.bind():function(t){for(var r=1;r<arguments.length;r++){var s=arguments[r];for(var n in s)Object.prototype.hasOwnProperty.call(s,n)&&(t[n]=s[n])}return t},cS.apply(this,arguments)}function IE(t,r){var s=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);r&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),s.push.apply(s,n)}return s}function Jm(t){for(var r=1;r<arguments.length;r++){var s=arguments[r]!=null?arguments[r]:{};r%2?IE(Object(s),!0).forEach(function(n){kke(t,n,s[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(s)):IE(Object(s)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(s,n))})}return t}function kke(t,r,s){return r=Ake(r),r in t?Object.defineProperty(t,r,{value:s,enumerable:!0,configurable:!0,writable:!0}):t[r]=s,t}function Ake(t){var r=_ke(t,"string");return ef(r)=="symbol"?r:r+""}function _ke(t,r){if(ef(t)!="object"||!t)return t;var s=t[Symbol.toPrimitive];if(s!==void 0){var n=s.call(t,r||"default");if(ef(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(t)}function Tke(t,r){if(t==null)return{};var s=Oke(t,r),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)n=i[a],!(r.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(s[n]=t[n])}return s}function Oke(t,r){if(t==null)return{};var s={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(r.indexOf(n)>=0)continue;s[n]=t[n]}return s}function Eke(t,r){var s=t.x,n=t.y,a=Tke(t,Pke),i="".concat(s),l=parseInt(i,10),o="".concat(n),c=parseInt(o,10),d="".concat(r.height||a.height),u=parseInt(d,10),m="".concat(r.width||a.width),h=parseInt(m,10);return Jm(Jm(Jm(Jm(Jm({},r),a),l?{x:l}:{}),c?{y:c}:{}),{},{height:u,width:h,name:r.name,radius:r.radius})}function RE(t){return G.createElement(Kz,cS({shapeType:"rectangle",propTransformer:Eke,activeClassName:"recharts-active-bar"},t))}var Dke=function(r){var s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return function(n,a){if(typeof r=="number")return r;var i=typeof n=="number";return i?r(n,a):(i||Dc(),s)}},Mke=["value","background"],Jz;function Ru(t){"@babel/helpers - typeof";return Ru=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},Ru(t)}function Ike(t,r){if(t==null)return{};var s=Rke(t,r),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)n=i[a],!(r.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(s[n]=t[n])}return s}function Rke(t,r){if(t==null)return{};var s={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(r.indexOf(n)>=0)continue;s[n]=t[n]}return s}function dy(){return dy=Object.assign?Object.assign.bind():function(t){for(var r=1;r<arguments.length;r++){var s=arguments[r];for(var n in s)Object.prototype.hasOwnProperty.call(s,n)&&(t[n]=s[n])}return t},dy.apply(this,arguments)}function FE(t,r){var s=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);r&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),s.push.apply(s,n)}return s}function ms(t){for(var r=1;r<arguments.length;r++){var s=arguments[r]!=null?arguments[r]:{};r%2?FE(Object(s),!0).forEach(function(n){so(t,n,s[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(s)):FE(Object(s)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(s,n))})}return t}function Fke(t,r){if(!(t instanceof r))throw new TypeError("Cannot call a class as a function")}function $E(t,r){for(var s=0;s<r.length;s++){var n=r[s];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,t7(n.key),n)}}function $ke(t,r,s){return r&&$E(t.prototype,r),s&&$E(t,s),Object.defineProperty(t,"prototype",{writable:!1}),t}function Lke(t,r,s){return r=uy(r),Bke(t,e7()?Reflect.construct(r,s||[],uy(t).constructor):r.apply(t,s))}function Bke(t,r){if(r&&(Ru(r)==="object"||typeof r=="function"))return r;if(r!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Vke(t)}function Vke(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function e7(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(e7=function(){return!!t})()}function uy(t){return uy=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(s){return s.__proto__||Object.getPrototypeOf(s)},uy(t)}function Uke(t,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(r&&r.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),r&&dS(t,r)}function dS(t,r){return dS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},dS(t,r)}function so(t,r,s){return r=t7(r),r in t?Object.defineProperty(t,r,{value:s,enumerable:!0,configurable:!0,writable:!0}):t[r]=s,t}function t7(t){var r=qke(t,"string");return Ru(r)=="symbol"?r:r+""}function qke(t,r){if(Ru(t)!="object"||!t)return t;var s=t[Symbol.toPrimitive];if(s!==void 0){var n=s.call(t,r||"default");if(Ru(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(t)}var Co=function(t){function r(){var s;Fke(this,r);for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return s=Lke(this,r,[].concat(a)),so(s,"state",{isAnimationFinished:!1}),so(s,"id",ym("recharts-bar-")),so(s,"handleAnimationEnd",function(){var l=s.props.onAnimationEnd;s.setState({isAnimationFinished:!0}),l&&l()}),so(s,"handleAnimationStart",function(){var l=s.props.onAnimationStart;s.setState({isAnimationFinished:!1}),l&&l()}),s}return Uke(r,t),$ke(r,[{key:"renderRectanglesStatically",value:function(n){var a=this,i=this.props,l=i.shape,o=i.dataKey,c=i.activeIndex,d=i.activeBar,u=Nt(this.props,!1);return n&&n.map(function(m,h){var g=h===c,f=g?d:l,p=ms(ms(ms({},u),m),{},{isActive:g,option:f,index:h,dataKey:o,onAnimationStart:a.handleAnimationStart,onAnimationEnd:a.handleAnimationEnd});return G.createElement(ur,dy({className:"recharts-bar-rectangle"},Tc(a.props,m,h),{key:"rectangle-".concat(m==null?void 0:m.x,"-").concat(m==null?void 0:m.y,"-").concat(m==null?void 0:m.value)}),G.createElement(RE,p))})}},{key:"renderRectanglesWithAnimation",value:function(){var n=this,a=this.props,i=a.data,l=a.layout,o=a.isAnimationActive,c=a.animationBegin,d=a.animationDuration,u=a.animationEasing,m=a.animationId,h=this.state.prevData;return G.createElement(Ri,{begin:c,duration:d,isActive:o,easing:u,from:{t:0},to:{t:1},key:"bar-".concat(m),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(g){var f=g.t,p=i.map(function(y,v){var x=h&&h[v];if(x){var b=Gn(x.x,y.x),N=Gn(x.y,y.y),w=Gn(x.width,y.width),C=Gn(x.height,y.height);return ms(ms({},y),{},{x:b(f),y:N(f),width:w(f),height:C(f)})}if(l==="horizontal"){var P=Gn(0,y.height),S=P(f);return ms(ms({},y),{},{y:y.y+y.height-S,height:S})}var A=Gn(0,y.width),k=A(f);return ms(ms({},y),{},{width:k})});return G.createElement(ur,null,n.renderRectanglesStatically(p))})}},{key:"renderRectangles",value:function(){var n=this.props,a=n.data,i=n.isAnimationActive,l=this.state.prevData;return i&&a&&a.length&&(!l||!Lf(l,a))?this.renderRectanglesWithAnimation():this.renderRectanglesStatically(a)}},{key:"renderBackground",value:function(){var n=this,a=this.props,i=a.data,l=a.dataKey,o=a.activeIndex,c=Nt(this.props.background,!1);return i.map(function(d,u){d.value;var m=d.background,h=Ike(d,Mke);if(!m)return null;var g=ms(ms(ms(ms(ms({},h),{},{fill:"#eee"},m),c),Tc(n.props,d,u)),{},{onAnimationStart:n.handleAnimationStart,onAnimationEnd:n.handleAnimationEnd,dataKey:l,index:u,className:"recharts-bar-background-rectangle"});return G.createElement(RE,dy({key:"background-bar-".concat(u),option:n.props.background,isActive:u===o},g))})}},{key:"renderErrorBar",value:function(n,a){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var i=this.props,l=i.data,o=i.xAxis,c=i.yAxis,d=i.layout,u=i.children,m=na(u,Bf);if(!m)return null;var h=d==="vertical"?l[0].height/2:l[0].width/2,g=function(y,v){var x=Array.isArray(y.value)?y.value[1]:y.value;return{x:y.x,y:y.y,value:x,errorVal:js(y,v)}},f={clipPath:n?"url(#clipPath-".concat(a,")"):null};return G.createElement(ur,f,m.map(function(p){return G.cloneElement(p,{key:"error-bar-".concat(a,"-").concat(p.props.dataKey),data:l,xAxis:o,yAxis:c,layout:d,offset:h,dataPointFormatter:g})}))}},{key:"render",value:function(){var n=this.props,a=n.hide,i=n.data,l=n.className,o=n.xAxis,c=n.yAxis,d=n.left,u=n.top,m=n.width,h=n.height,g=n.isAnimationActive,f=n.background,p=n.id;if(a||!i||!i.length)return null;var y=this.state.isAnimationFinished,v=Kt("recharts-bar",l),x=o&&o.allowDataOverflow,b=c&&c.allowDataOverflow,N=x||b,w=Bt(p)?this.id:p;return G.createElement(ur,{className:v},x||b?G.createElement("defs",null,G.createElement("clipPath",{id:"clipPath-".concat(w)},G.createElement("rect",{x:x?d:d-m/2,y:b?u:u-h/2,width:x?m:m*2,height:b?h:h*2}))):null,G.createElement(ur,{className:"recharts-bar-rectangles",clipPath:N?"url(#clipPath-".concat(w,")"):null},f?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar(N,w),(!g||y)&&dl.renderCallByParent(this.props,i))}}],[{key:"getDerivedStateFromProps",value:function(n,a){return n.animationId!==a.prevAnimationId?{prevAnimationId:n.animationId,curData:n.data,prevData:a.curData}:n.data!==a.curData?{curData:n.data}:null}}])}(j.PureComponent);Jz=Co;so(Co,"displayName","Bar");so(Co,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",activeBar:!1,isAnimationActive:!Ai.isSsr,animationBegin:0,animationDuration:400,animationEasing:"ease"});so(Co,"getComposedData",function(t){var r=t.props,s=t.item,n=t.barPosition,a=t.bandSize,i=t.xAxis,l=t.yAxis,o=t.xAxisTicks,c=t.yAxisTicks,d=t.stackedData,u=t.dataStartIndex,m=t.displayedData,h=t.offset,g=Dwe(n,s);if(!g)return null;var f=r.layout,p=s.type.defaultProps,y=p!==void 0?ms(ms({},p),s.props):s.props,v=y.dataKey,x=y.children,b=y.minPointSize,N=f==="horizontal"?l:i,w=d?N.scale.domain():null,C=Bwe({numericAxis:N}),P=na(x,qj),S=m.map(function(A,k){var I,L,K,R,F,W;d?I=Mwe(d[u+k],w):(I=js(A,v),Array.isArray(I)||(I=[C,I]));var Q=Dke(b,Jz.defaultProps.minPointSize)(I[1],k);if(f==="horizontal"){var H,Z=[l.scale(I[0]),l.scale(I[1])],me=Z[0],Ne=Z[1];L=kO({axis:i,ticks:o,bandSize:a,offset:g.offset,entry:A,index:k}),K=(H=Ne??me)!==null&&H!==void 0?H:void 0,R=g.size;var te=me-Ne;if(F=Number.isNaN(te)?0:te,W={x:L,y:l.y,width:R,height:l.height},Math.abs(Q)>0&&Math.abs(F)<Math.abs(Q)){var Ie=dn(F||Q)*(Math.abs(Q)-Math.abs(F));K-=Ie,F+=Ie}}else{var Te=[i.scale(I[0]),i.scale(I[1])],de=Te[0],Ee=Te[1];if(L=de,K=kO({axis:l,ticks:c,bandSize:a,offset:g.offset,entry:A,index:k}),R=Ee-de,F=g.size,W={x:i.x,y:K,width:i.width,height:F},Math.abs(Q)>0&&Math.abs(R)<Math.abs(Q)){var De=dn(R||Q)*(Math.abs(Q)-Math.abs(R));R+=De}}return ms(ms(ms({},A),{},{x:L,y:K,width:R,height:F,value:d?I:I[1],payload:A,background:W},P&&P[k]&&P[k].props),{},{tooltipPayload:[Nz(s,A)],tooltipPosition:{x:L+R/2,y:K+F/2}})});return ms({data:S,layout:f},h)});function tf(t){"@babel/helpers - typeof";return tf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},tf(t)}function zke(t,r){if(!(t instanceof r))throw new TypeError("Cannot call a class as a function")}function LE(t,r){for(var s=0;s<r.length;s++){var n=r[s];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,r7(n.key),n)}}function Kke(t,r,s){return r&&LE(t.prototype,r),s&&LE(t,s),Object.defineProperty(t,"prototype",{writable:!1}),t}function BE(t,r){var s=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);r&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),s.push.apply(s,n)}return s}function $a(t){for(var r=1;r<arguments.length;r++){var s=arguments[r]!=null?arguments[r]:{};r%2?BE(Object(s),!0).forEach(function(n){ob(t,n,s[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(s)):BE(Object(s)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(s,n))})}return t}function ob(t,r,s){return r=r7(r),r in t?Object.defineProperty(t,r,{value:s,enumerable:!0,configurable:!0,writable:!0}):t[r]=s,t}function r7(t){var r=Hke(t,"string");return tf(r)=="symbol"?r:r+""}function Hke(t,r){if(tf(t)!="object"||!t)return t;var s=t[Symbol.toPrimitive];if(s!==void 0){var n=s.call(t,r||"default");if(tf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(t)}var s7=function(r,s,n,a,i){var l=r.width,o=r.height,c=r.layout,d=r.children,u=Object.keys(s),m={left:n.left,leftMirror:n.left,right:l-n.right,rightMirror:l-n.right,top:n.top,topMirror:n.top,bottom:o-n.bottom,bottomMirror:o-n.bottom},h=!!zn(d,Co);return u.reduce(function(g,f){var p=s[f],y=p.orientation,v=p.domain,x=p.padding,b=x===void 0?{}:x,N=p.mirror,w=p.reversed,C="".concat(y).concat(N?"Mirror":""),P,S,A,k,I;if(p.type==="number"&&(p.padding==="gap"||p.padding==="no-gap")){var L=v[1]-v[0],K=1/0,R=p.categoricalDomain.sort();if(R.forEach(function(Te,de){de>0&&(K=Math.min((Te||0)-(R[de-1]||0),K))}),Number.isFinite(K)){var F=K/L,W=p.layout==="vertical"?n.height:n.width;if(p.padding==="gap"&&(P=F*W/2),p.padding==="no-gap"){var Q=un(r.barCategoryGap,F*W),H=F*W/2;P=H-Q-(H-Q)/W*Q}}}a==="xAxis"?S=[n.left+(b.left||0)+(P||0),n.left+n.width-(b.right||0)-(P||0)]:a==="yAxis"?S=c==="horizontal"?[n.top+n.height-(b.bottom||0),n.top+(b.top||0)]:[n.top+(b.top||0)+(P||0),n.top+n.height-(b.bottom||0)-(P||0)]:S=p.range,w&&(S=[S[1],S[0]]);var Z=vz(p,i,h),me=Z.scale,Ne=Z.realScaleType;me.domain(v).range(S),yz(me);var te=jz(me,$a($a({},p),{},{realScaleType:Ne}));a==="xAxis"?(I=y==="top"&&!N||y==="bottom"&&N,A=n.left,k=m[C]-I*p.height):a==="yAxis"&&(I=y==="left"&&!N||y==="right"&&N,A=m[C]-I*p.width,k=n.top);var Ie=$a($a($a({},p),te),{},{realScaleType:Ne,x:A,y:k,scale:me,width:a==="xAxis"?n.width:p.width,height:a==="yAxis"?n.height:p.height});return Ie.bandSize=Gv(Ie,te),!p.hide&&a==="xAxis"?m[C]+=(I?-1:1)*Ie.height:p.hide||(m[C]+=(I?-1:1)*Ie.width),$a($a({},g),{},ob({},f,Ie))},{})},n7=function(r,s){var n=r.x,a=r.y,i=s.x,l=s.y;return{x:Math.min(n,i),y:Math.min(a,l),width:Math.abs(i-n),height:Math.abs(l-a)}},Wke=function(r){var s=r.x1,n=r.y1,a=r.x2,i=r.y2;return n7({x:s,y:n},{x:a,y:i})},a7=function(){function t(r){zke(this,t),this.scale=r}return Kke(t,[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(s){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},a=n.bandAware,i=n.position;if(s!==void 0){if(i)switch(i){case"start":return this.scale(s);case"middle":{var l=this.bandwidth?this.bandwidth()/2:0;return this.scale(s)+l}case"end":{var o=this.bandwidth?this.bandwidth():0;return this.scale(s)+o}default:return this.scale(s)}if(a){var c=this.bandwidth?this.bandwidth()/2:0;return this.scale(s)+c}return this.scale(s)}}},{key:"isInRange",value:function(s){var n=this.range(),a=n[0],i=n[n.length-1];return a<=i?s>=a&&s<=i:s>=i&&s<=a}}],[{key:"create",value:function(s){return new t(s)}}])}();ob(a7,"EPS",1e-4);var IP=function(r){var s=Object.keys(r).reduce(function(n,a){return $a($a({},n),{},ob({},a,a7.create(r[a])))},{});return $a($a({},s),{},{apply:function(a){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},l=i.bandAware,o=i.position;return hke(a,function(c,d){return s[d].apply(c,{bandAware:l,position:o})})},isInRange:function(a){return Zz(a,function(i,l){return s[l].isInRange(i)})}})};function Gke(t){return(t%180+180)%180}var Yke=function(r){var s=r.width,n=r.height,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,i=Gke(a),l=i*Math.PI/180,o=Math.atan(n/s),c=l>o&&l<Math.PI-o?n/Math.sin(l):s/Math.cos(l);return Math.abs(c)},Qke=Vi,Xke=Mf,Zke=Bj;function Jke(t){return function(r,s,n){var a=Object(r);if(!Xke(r)){var i=Qke(s);r=Zke(r),s=function(o){return i(a[o],o,a)}}var l=t(r,s,n);return l>-1?a[i?r[l]:l]:void 0}}var eAe=Jke,tAe=Gz;function rAe(t){var r=tAe(t),s=r%1;return r===r?s?r-s:r:0}var sAe=rAe,nAe=ZU,aAe=Vi,iAe=sAe,lAe=Math.max;function oAe(t,r,s){var n=t==null?0:t.length;if(!n)return-1;var a=s==null?0:iAe(s);return a<0&&(a=lAe(n+a,0)),nAe(t,aAe(r),a)}var cAe=oAe,dAe=eAe,uAe=cAe,mAe=dAe(uAe),hAe=mAe;const pAe=yr(hAe);var fAe=joe(function(t){return{x:t.left,y:t.top,width:t.width,height:t.height}},function(t){return["l",t.left,"t",t.top,"w",t.width,"h",t.height].join("")}),RP=j.createContext(void 0),FP=j.createContext(void 0),i7=j.createContext(void 0),l7=j.createContext({}),o7=j.createContext(void 0),c7=j.createContext(0),d7=j.createContext(0),VE=function(r){var s=r.state,n=s.xAxisMap,a=s.yAxisMap,i=s.offset,l=r.clipPathId,o=r.children,c=r.width,d=r.height,u=fAe(i);return G.createElement(RP.Provider,{value:n},G.createElement(FP.Provider,{value:a},G.createElement(l7.Provider,{value:i},G.createElement(i7.Provider,{value:u},G.createElement(o7.Provider,{value:l},G.createElement(c7.Provider,{value:d},G.createElement(d7.Provider,{value:c},o)))))))},xAe=function(){return j.useContext(o7)},u7=function(r){var s=j.useContext(RP);s==null&&Dc();var n=s[r];return n==null&&Dc(),n},gAe=function(){var r=j.useContext(RP);return Kl(r)},vAe=function(){var r=j.useContext(FP),s=pAe(r,function(n){return Zz(n.domain,Number.isFinite)});return s||Kl(r)},m7=function(r){var s=j.useContext(FP);s==null&&Dc();var n=s[r];return n==null&&Dc(),n},yAe=function(){var r=j.useContext(i7);return r},jAe=function(){return j.useContext(l7)},$P=function(){return j.useContext(d7)},LP=function(){return j.useContext(c7)};function Fu(t){"@babel/helpers - typeof";return Fu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},Fu(t)}function bAe(t,r){if(!(t instanceof r))throw new TypeError("Cannot call a class as a function")}function NAe(t,r){for(var s=0;s<r.length;s++){var n=r[s];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,p7(n.key),n)}}function wAe(t,r,s){return r&&NAe(t.prototype,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function SAe(t,r,s){return r=my(r),CAe(t,h7()?Reflect.construct(r,s||[],my(t).constructor):r.apply(t,s))}function CAe(t,r){if(r&&(Fu(r)==="object"||typeof r=="function"))return r;if(r!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return PAe(t)}function PAe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function h7(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(h7=function(){return!!t})()}function my(t){return my=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(s){return s.__proto__||Object.getPrototypeOf(s)},my(t)}function kAe(t,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(r&&r.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),r&&uS(t,r)}function uS(t,r){return uS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},uS(t,r)}function UE(t,r){var s=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);r&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),s.push.apply(s,n)}return s}function qE(t){for(var r=1;r<arguments.length;r++){var s=arguments[r]!=null?arguments[r]:{};r%2?UE(Object(s),!0).forEach(function(n){BP(t,n,s[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(s)):UE(Object(s)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(s,n))})}return t}function BP(t,r,s){return r=p7(r),r in t?Object.defineProperty(t,r,{value:s,enumerable:!0,configurable:!0,writable:!0}):t[r]=s,t}function p7(t){var r=AAe(t,"string");return Fu(r)=="symbol"?r:r+""}function AAe(t,r){if(Fu(t)!="object"||!t)return t;var s=t[Symbol.toPrimitive];if(s!==void 0){var n=s.call(t,r||"default");if(Fu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(t)}function _Ae(t,r){return DAe(t)||EAe(t,r)||OAe(t,r)||TAe()}function TAe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function OAe(t,r){if(t){if(typeof t=="string")return zE(t,r);var s=Object.prototype.toString.call(t).slice(8,-1);if(s==="Object"&&t.constructor&&(s=t.constructor.name),s==="Map"||s==="Set")return Array.from(t);if(s==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(s))return zE(t,r)}}function zE(t,r){(r==null||r>t.length)&&(r=t.length);for(var s=0,n=new Array(r);s<r;s++)n[s]=t[s];return n}function EAe(t,r){var s=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(s!=null){var n,a,i,l,o=[],c=!0,d=!1;try{if(i=(s=s.call(t)).next,r!==0)for(;!(c=(n=i.call(s)).done)&&(o.push(n.value),o.length!==r);c=!0);}catch(u){d=!0,a=u}finally{try{if(!c&&s.return!=null&&(l=s.return(),Object(l)!==l))return}finally{if(d)throw a}}return o}}function DAe(t){if(Array.isArray(t))return t}function mS(){return mS=Object.assign?Object.assign.bind():function(t){for(var r=1;r<arguments.length;r++){var s=arguments[r];for(var n in s)Object.prototype.hasOwnProperty.call(s,n)&&(t[n]=s[n])}return t},mS.apply(this,arguments)}var MAe=function(r,s){var n;return G.isValidElement(r)?n=G.cloneElement(r,s):$t(r)?n=r(s):n=G.createElement("line",mS({},s,{className:"recharts-reference-line-line"})),n},IAe=function(r,s,n,a,i,l,o,c,d){var u=i.x,m=i.y,h=i.width,g=i.height;if(n){var f=d.y,p=r.y.apply(f,{position:l});if(Ti(d,"discard")&&!r.y.isInRange(p))return null;var y=[{x:u+h,y:p},{x:u,y:p}];return c==="left"?y.reverse():y}if(s){var v=d.x,x=r.x.apply(v,{position:l});if(Ti(d,"discard")&&!r.x.isInRange(x))return null;var b=[{x,y:m+g},{x,y:m}];return o==="top"?b.reverse():b}if(a){var N=d.segment,w=N.map(function(C){return r.apply(C,{position:l})});return Ti(d,"discard")&&ake(w,function(C){return!r.isInRange(C)})?null:w}return null};function RAe(t){var r=t.x,s=t.y,n=t.segment,a=t.xAxisId,i=t.yAxisId,l=t.shape,o=t.className,c=t.alwaysShow,d=xAe(),u=u7(a),m=m7(i),h=yAe();if(!d||!h)return null;Ja(c===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var g=IP({x:u.scale,y:m.scale}),f=Cs(r),p=Cs(s),y=n&&n.length===2,v=IAe(g,f,p,y,h,t.position,u.orientation,m.orientation,t);if(!v)return null;var x=_Ae(v,2),b=x[0],N=b.x,w=b.y,C=x[1],P=C.x,S=C.y,A=Ti(t,"hidden")?"url(#".concat(d,")"):void 0,k=qE(qE({clipPath:A},Nt(t,!0)),{},{x1:N,y1:w,x2:P,y2:S});return G.createElement(ur,{className:Kt("recharts-reference-line",o)},MAe(l,k),Os.renderCallByParent(t,Wke({x1:N,y1:w,x2:P,y2:S})))}var VP=function(t){function r(){return bAe(this,r),SAe(this,r,arguments)}return kAe(r,t),wAe(r,[{key:"render",value:function(){return G.createElement(RAe,this.props)}}])}(G.Component);BP(VP,"displayName","ReferenceLine");BP(VP,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"});function hS(){return hS=Object.assign?Object.assign.bind():function(t){for(var r=1;r<arguments.length;r++){var s=arguments[r];for(var n in s)Object.prototype.hasOwnProperty.call(s,n)&&(t[n]=s[n])}return t},hS.apply(this,arguments)}function $u(t){"@babel/helpers - typeof";return $u=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},$u(t)}function KE(t,r){var s=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);r&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),s.push.apply(s,n)}return s}function HE(t){for(var r=1;r<arguments.length;r++){var s=arguments[r]!=null?arguments[r]:{};r%2?KE(Object(s),!0).forEach(function(n){cb(t,n,s[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(s)):KE(Object(s)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(s,n))})}return t}function FAe(t,r){if(!(t instanceof r))throw new TypeError("Cannot call a class as a function")}function $Ae(t,r){for(var s=0;s<r.length;s++){var n=r[s];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,x7(n.key),n)}}function LAe(t,r,s){return r&&$Ae(t.prototype,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function BAe(t,r,s){return r=hy(r),VAe(t,f7()?Reflect.construct(r,s||[],hy(t).constructor):r.apply(t,s))}function VAe(t,r){if(r&&($u(r)==="object"||typeof r=="function"))return r;if(r!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return UAe(t)}function UAe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function f7(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(f7=function(){return!!t})()}function hy(t){return hy=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(s){return s.__proto__||Object.getPrototypeOf(s)},hy(t)}function qAe(t,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(r&&r.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),r&&pS(t,r)}function pS(t,r){return pS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},pS(t,r)}function cb(t,r,s){return r=x7(r),r in t?Object.defineProperty(t,r,{value:s,enumerable:!0,configurable:!0,writable:!0}):t[r]=s,t}function x7(t){var r=zAe(t,"string");return $u(r)=="symbol"?r:r+""}function zAe(t,r){if($u(t)!="object"||!t)return t;var s=t[Symbol.toPrimitive];if(s!==void 0){var n=s.call(t,r||"default");if($u(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(t)}var KAe=function(r){var s=r.x,n=r.y,a=r.xAxis,i=r.yAxis,l=IP({x:a.scale,y:i.scale}),o=l.apply({x:s,y:n},{bandAware:!0});return Ti(r,"discard")&&!l.isInRange(o)?null:o},db=function(t){function r(){return FAe(this,r),BAe(this,r,arguments)}return qAe(r,t),LAe(r,[{key:"render",value:function(){var n=this.props,a=n.x,i=n.y,l=n.r,o=n.alwaysShow,c=n.clipPathId,d=Cs(a),u=Cs(i);if(Ja(o===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!d||!u)return null;var m=KAe(this.props);if(!m)return null;var h=m.x,g=m.y,f=this.props,p=f.shape,y=f.className,v=Ti(this.props,"hidden")?"url(#".concat(c,")"):void 0,x=HE(HE({clipPath:v},Nt(this.props,!0)),{},{cx:h,cy:g});return G.createElement(ur,{className:Kt("recharts-reference-dot",y)},r.renderDot(p,x),Os.renderCallByParent(this.props,{x:h-l,y:g-l,width:2*l,height:2*l}))}}])}(G.Component);cb(db,"displayName","ReferenceDot");cb(db,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1});cb(db,"renderDot",function(t,r){var s;return G.isValidElement(t)?s=G.cloneElement(t,r):$t(t)?s=t(r):s=G.createElement(tb,hS({},r,{cx:r.cx,cy:r.cy,className:"recharts-reference-dot-dot"})),s});function fS(){return fS=Object.assign?Object.assign.bind():function(t){for(var r=1;r<arguments.length;r++){var s=arguments[r];for(var n in s)Object.prototype.hasOwnProperty.call(s,n)&&(t[n]=s[n])}return t},fS.apply(this,arguments)}function Lu(t){"@babel/helpers - typeof";return Lu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},Lu(t)}function WE(t,r){var s=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);r&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),s.push.apply(s,n)}return s}function GE(t){for(var r=1;r<arguments.length;r++){var s=arguments[r]!=null?arguments[r]:{};r%2?WE(Object(s),!0).forEach(function(n){ub(t,n,s[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(s)):WE(Object(s)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(s,n))})}return t}function HAe(t,r){if(!(t instanceof r))throw new TypeError("Cannot call a class as a function")}function WAe(t,r){for(var s=0;s<r.length;s++){var n=r[s];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,v7(n.key),n)}}function GAe(t,r,s){return r&&WAe(t.prototype,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function YAe(t,r,s){return r=py(r),QAe(t,g7()?Reflect.construct(r,s||[],py(t).constructor):r.apply(t,s))}function QAe(t,r){if(r&&(Lu(r)==="object"||typeof r=="function"))return r;if(r!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return XAe(t)}function XAe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function g7(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(g7=function(){return!!t})()}function py(t){return py=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(s){return s.__proto__||Object.getPrototypeOf(s)},py(t)}function ZAe(t,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(r&&r.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),r&&xS(t,r)}function xS(t,r){return xS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},xS(t,r)}function ub(t,r,s){return r=v7(r),r in t?Object.defineProperty(t,r,{value:s,enumerable:!0,configurable:!0,writable:!0}):t[r]=s,t}function v7(t){var r=JAe(t,"string");return Lu(r)=="symbol"?r:r+""}function JAe(t,r){if(Lu(t)!="object"||!t)return t;var s=t[Symbol.toPrimitive];if(s!==void 0){var n=s.call(t,r||"default");if(Lu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(t)}var e_e=function(r,s,n,a,i){var l=i.x1,o=i.x2,c=i.y1,d=i.y2,u=i.xAxis,m=i.yAxis;if(!u||!m)return null;var h=IP({x:u.scale,y:m.scale}),g={x:r?h.x.apply(l,{position:"start"}):h.x.rangeMin,y:n?h.y.apply(c,{position:"start"}):h.y.rangeMin},f={x:s?h.x.apply(o,{position:"end"}):h.x.rangeMax,y:a?h.y.apply(d,{position:"end"}):h.y.rangeMax};return Ti(i,"discard")&&(!h.isInRange(g)||!h.isInRange(f))?null:n7(g,f)},mb=function(t){function r(){return HAe(this,r),YAe(this,r,arguments)}return ZAe(r,t),GAe(r,[{key:"render",value:function(){var n=this.props,a=n.x1,i=n.x2,l=n.y1,o=n.y2,c=n.className,d=n.alwaysShow,u=n.clipPathId;Ja(d===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var m=Cs(a),h=Cs(i),g=Cs(l),f=Cs(o),p=this.props.shape;if(!m&&!h&&!g&&!f&&!p)return null;var y=e_e(m,h,g,f,this.props);if(!y&&!p)return null;var v=Ti(this.props,"hidden")?"url(#".concat(u,")"):void 0;return G.createElement(ur,{className:Kt("recharts-reference-area",c)},r.renderRect(p,GE(GE({clipPath:v},Nt(this.props,!0)),y)),Os.renderCallByParent(this.props,y))}}])}(G.Component);ub(mb,"displayName","ReferenceArea");ub(mb,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1});ub(mb,"renderRect",function(t,r){var s;return G.isValidElement(t)?s=G.cloneElement(t,r):$t(t)?s=t(r):s=G.createElement(MP,fS({},r,{className:"recharts-reference-area-rect"})),s});function y7(t,r,s){if(r<1)return[];if(r===1&&s===void 0)return t;for(var n=[],a=0;a<t.length;a+=r)n.push(t[a]);return n}function t_e(t,r,s){var n={width:t.width+r.width,height:t.height+r.height};return Yke(n,s)}function r_e(t,r,s){var n=s==="width",a=t.x,i=t.y,l=t.width,o=t.height;return r===1?{start:n?a:i,end:n?a+l:i+o}:{start:n?a+l:i+o,end:n?a:i}}function fy(t,r,s,n,a){if(t*r<t*n||t*r>t*a)return!1;var i=s();return t*(r-t*i/2-n)>=0&&t*(r+t*i/2-a)<=0}function s_e(t,r){return y7(t,r+1)}function n_e(t,r,s,n,a){for(var i=(n||[]).slice(),l=r.start,o=r.end,c=0,d=1,u=l,m=function(){var f=n==null?void 0:n[c];if(f===void 0)return{v:y7(n,d)};var p=c,y,v=function(){return y===void 0&&(y=s(f,p)),y},x=f.coordinate,b=c===0||fy(t,x,v,u,o);b||(c=0,u=l,d+=1),b&&(u=x+t*(v()/2+a),c+=d)},h;d<=i.length;)if(h=m(),h)return h.v;return[]}function rf(t){"@babel/helpers - typeof";return rf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},rf(t)}function YE(t,r){var s=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);r&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),s.push.apply(s,n)}return s}function Ys(t){for(var r=1;r<arguments.length;r++){var s=arguments[r]!=null?arguments[r]:{};r%2?YE(Object(s),!0).forEach(function(n){a_e(t,n,s[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(s)):YE(Object(s)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(s,n))})}return t}function a_e(t,r,s){return r=i_e(r),r in t?Object.defineProperty(t,r,{value:s,enumerable:!0,configurable:!0,writable:!0}):t[r]=s,t}function i_e(t){var r=l_e(t,"string");return rf(r)=="symbol"?r:r+""}function l_e(t,r){if(rf(t)!="object"||!t)return t;var s=t[Symbol.toPrimitive];if(s!==void 0){var n=s.call(t,r||"default");if(rf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(t)}function o_e(t,r,s,n,a){for(var i=(n||[]).slice(),l=i.length,o=r.start,c=r.end,d=function(h){var g=i[h],f,p=function(){return f===void 0&&(f=s(g,h)),f};if(h===l-1){var y=t*(g.coordinate+t*p()/2-c);i[h]=g=Ys(Ys({},g),{},{tickCoord:y>0?g.coordinate-y*t:g.coordinate})}else i[h]=g=Ys(Ys({},g),{},{tickCoord:g.coordinate});var v=fy(t,g.tickCoord,p,o,c);v&&(c=g.tickCoord-t*(p()/2+a),i[h]=Ys(Ys({},g),{},{isShow:!0}))},u=l-1;u>=0;u--)d(u);return i}function c_e(t,r,s,n,a,i){var l=(n||[]).slice(),o=l.length,c=r.start,d=r.end;if(i){var u=n[o-1],m=s(u,o-1),h=t*(u.coordinate+t*m/2-d);l[o-1]=u=Ys(Ys({},u),{},{tickCoord:h>0?u.coordinate-h*t:u.coordinate});var g=fy(t,u.tickCoord,function(){return m},c,d);g&&(d=u.tickCoord-t*(m/2+a),l[o-1]=Ys(Ys({},u),{},{isShow:!0}))}for(var f=i?o-1:o,p=function(x){var b=l[x],N,w=function(){return N===void 0&&(N=s(b,x)),N};if(x===0){var C=t*(b.coordinate-t*w()/2-c);l[x]=b=Ys(Ys({},b),{},{tickCoord:C<0?b.coordinate-C*t:b.coordinate})}else l[x]=b=Ys(Ys({},b),{},{tickCoord:b.coordinate});var P=fy(t,b.tickCoord,w,c,d);P&&(c=b.tickCoord+t*(w()/2+a),l[x]=Ys(Ys({},b),{},{isShow:!0}))},y=0;y<f;y++)p(y);return l}function UP(t,r,s){var n=t.tick,a=t.ticks,i=t.viewBox,l=t.minTickGap,o=t.orientation,c=t.interval,d=t.tickFormatter,u=t.unit,m=t.angle;if(!a||!a.length||!n)return[];if(Qe(c)||Ai.isSsr)return s_e(a,typeof c=="number"&&Qe(c)?c:0);var h=[],g=o==="top"||o==="bottom"?"width":"height",f=u&&g==="width"?Mh(u,{fontSize:r,letterSpacing:s}):{width:0,height:0},p=function(b,N){var w=$t(d)?d(b.value,N):b.value;return g==="width"?t_e(Mh(w,{fontSize:r,letterSpacing:s}),f,m):Mh(w,{fontSize:r,letterSpacing:s})[g]},y=a.length>=2?dn(a[1].coordinate-a[0].coordinate):1,v=r_e(i,y,g);return c==="equidistantPreserveStart"?n_e(y,v,p,a,l):(c==="preserveStart"||c==="preserveStartEnd"?h=c_e(y,v,p,a,l,c==="preserveStartEnd"):h=o_e(y,v,p,a,l),h.filter(function(x){return x.isShow}))}var d_e=["viewBox"],u_e=["viewBox"],m_e=["ticks"];function Bu(t){"@babel/helpers - typeof";return Bu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},Bu(t)}function kd(){return kd=Object.assign?Object.assign.bind():function(t){for(var r=1;r<arguments.length;r++){var s=arguments[r];for(var n in s)Object.prototype.hasOwnProperty.call(s,n)&&(t[n]=s[n])}return t},kd.apply(this,arguments)}function QE(t,r){var s=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);r&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),s.push.apply(s,n)}return s}function sn(t){for(var r=1;r<arguments.length;r++){var s=arguments[r]!=null?arguments[r]:{};r%2?QE(Object(s),!0).forEach(function(n){qP(t,n,s[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(s)):QE(Object(s)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(s,n))})}return t}function Z0(t,r){if(t==null)return{};var s=h_e(t,r),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)n=i[a],!(r.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(s[n]=t[n])}return s}function h_e(t,r){if(t==null)return{};var s={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(r.indexOf(n)>=0)continue;s[n]=t[n]}return s}function p_e(t,r){if(!(t instanceof r))throw new TypeError("Cannot call a class as a function")}function XE(t,r){for(var s=0;s<r.length;s++){var n=r[s];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,b7(n.key),n)}}function f_e(t,r,s){return r&&XE(t.prototype,r),s&&XE(t,s),Object.defineProperty(t,"prototype",{writable:!1}),t}function x_e(t,r,s){return r=xy(r),g_e(t,j7()?Reflect.construct(r,s||[],xy(t).constructor):r.apply(t,s))}function g_e(t,r){if(r&&(Bu(r)==="object"||typeof r=="function"))return r;if(r!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return v_e(t)}function v_e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function j7(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(j7=function(){return!!t})()}function xy(t){return xy=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(s){return s.__proto__||Object.getPrototypeOf(s)},xy(t)}function y_e(t,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(r&&r.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),r&&gS(t,r)}function gS(t,r){return gS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},gS(t,r)}function qP(t,r,s){return r=b7(r),r in t?Object.defineProperty(t,r,{value:s,enumerable:!0,configurable:!0,writable:!0}):t[r]=s,t}function b7(t){var r=j_e(t,"string");return Bu(r)=="symbol"?r:r+""}function j_e(t,r){if(Bu(t)!="object"||!t)return t;var s=t[Symbol.toPrimitive];if(s!==void 0){var n=s.call(t,r||"default");if(Bu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(t)}var km=function(t){function r(s){var n;return p_e(this,r),n=x_e(this,r,[s]),n.state={fontSize:"",letterSpacing:""},n}return y_e(r,t),f_e(r,[{key:"shouldComponentUpdate",value:function(n,a){var i=n.viewBox,l=Z0(n,d_e),o=this.props,c=o.viewBox,d=Z0(o,u_e);return!Ud(i,c)||!Ud(l,d)||!Ud(a,this.state)}},{key:"componentDidMount",value:function(){var n=this.layerReference;if(n){var a=n.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];a&&this.setState({fontSize:window.getComputedStyle(a).fontSize,letterSpacing:window.getComputedStyle(a).letterSpacing})}}},{key:"getTickLineCoord",value:function(n){var a=this.props,i=a.x,l=a.y,o=a.width,c=a.height,d=a.orientation,u=a.tickSize,m=a.mirror,h=a.tickMargin,g,f,p,y,v,x,b=m?-1:1,N=n.tickSize||u,w=Qe(n.tickCoord)?n.tickCoord:n.coordinate;switch(d){case"top":g=f=n.coordinate,y=l+ +!m*c,p=y-b*N,x=p-b*h,v=w;break;case"left":p=y=n.coordinate,f=i+ +!m*o,g=f-b*N,v=g-b*h,x=w;break;case"right":p=y=n.coordinate,f=i+ +m*o,g=f+b*N,v=g+b*h,x=w;break;default:g=f=n.coordinate,y=l+ +m*c,p=y+b*N,x=p+b*h,v=w;break}return{line:{x1:g,y1:p,x2:f,y2:y},tick:{x:v,y:x}}}},{key:"getTickTextAnchor",value:function(){var n=this.props,a=n.orientation,i=n.mirror,l;switch(a){case"left":l=i?"start":"end";break;case"right":l=i?"end":"start";break;default:l="middle";break}return l}},{key:"getTickVerticalAnchor",value:function(){var n=this.props,a=n.orientation,i=n.mirror,l="end";switch(a){case"left":case"right":l="middle";break;case"top":l=i?"start":"end";break;default:l=i?"end":"start";break}return l}},{key:"renderAxisLine",value:function(){var n=this.props,a=n.x,i=n.y,l=n.width,o=n.height,c=n.orientation,d=n.mirror,u=n.axisLine,m=sn(sn(sn({},Nt(this.props,!1)),Nt(u,!1)),{},{fill:"none"});if(c==="top"||c==="bottom"){var h=+(c==="top"&&!d||c==="bottom"&&d);m=sn(sn({},m),{},{x1:a,y1:i+h*o,x2:a+l,y2:i+h*o})}else{var g=+(c==="left"&&!d||c==="right"&&d);m=sn(sn({},m),{},{x1:a+g*l,y1:i,x2:a+g*l,y2:i+o})}return G.createElement("line",kd({},m,{className:Kt("recharts-cartesian-axis-line",sa(u,"className"))}))}},{key:"renderTicks",value:function(n,a,i){var l=this,o=this.props,c=o.tickLine,d=o.stroke,u=o.tick,m=o.tickFormatter,h=o.unit,g=UP(sn(sn({},this.props),{},{ticks:n}),a,i),f=this.getTickTextAnchor(),p=this.getTickVerticalAnchor(),y=Nt(this.props,!1),v=Nt(u,!1),x=sn(sn({},y),{},{fill:"none"},Nt(c,!1)),b=g.map(function(N,w){var C=l.getTickLineCoord(N),P=C.line,S=C.tick,A=sn(sn(sn(sn({textAnchor:f,verticalAnchor:p},y),{},{stroke:"none",fill:d},v),S),{},{index:w,payload:N,visibleTicksCount:g.length,tickFormatter:m});return G.createElement(ur,kd({className:"recharts-cartesian-axis-tick",key:"tick-".concat(N.value,"-").concat(N.coordinate,"-").concat(N.tickCoord)},Tc(l.props,N,w)),c&&G.createElement("line",kd({},x,P,{className:Kt("recharts-cartesian-axis-tick-line",sa(c,"className"))})),u&&r.renderTickItem(u,A,"".concat($t(m)?m(N.value,w):N.value).concat(h||"")))});return G.createElement("g",{className:"recharts-cartesian-axis-ticks"},b)}},{key:"render",value:function(){var n=this,a=this.props,i=a.axisLine,l=a.width,o=a.height,c=a.ticksGenerator,d=a.className,u=a.hide;if(u)return null;var m=this.props,h=m.ticks,g=Z0(m,m_e),f=h;return $t(c)&&(f=h&&h.length>0?c(this.props):c(g)),l<=0||o<=0||!f||!f.length?null:G.createElement(ur,{className:Kt("recharts-cartesian-axis",d),ref:function(y){n.layerReference=y}},i&&this.renderAxisLine(),this.renderTicks(f,this.state.fontSize,this.state.letterSpacing),Os.renderCallByParent(this.props))}}],[{key:"renderTickItem",value:function(n,a,i){var l;return G.isValidElement(n)?l=G.cloneElement(n,a):$t(n)?l=n(a):l=G.createElement(Oc,kd({},a,{className:"recharts-cartesian-axis-tick-value"}),i),l}}])}(j.Component);qP(km,"displayName","CartesianAxis");qP(km,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var b_e=["x1","y1","x2","y2","key"],N_e=["offset"];function Mc(t){"@babel/helpers - typeof";return Mc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},Mc(t)}function ZE(t,r){var s=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);r&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),s.push.apply(s,n)}return s}function Xs(t){for(var r=1;r<arguments.length;r++){var s=arguments[r]!=null?arguments[r]:{};r%2?ZE(Object(s),!0).forEach(function(n){w_e(t,n,s[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(s)):ZE(Object(s)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(s,n))})}return t}function w_e(t,r,s){return r=S_e(r),r in t?Object.defineProperty(t,r,{value:s,enumerable:!0,configurable:!0,writable:!0}):t[r]=s,t}function S_e(t){var r=C_e(t,"string");return Mc(r)=="symbol"?r:r+""}function C_e(t,r){if(Mc(t)!="object"||!t)return t;var s=t[Symbol.toPrimitive];if(s!==void 0){var n=s.call(t,r||"default");if(Mc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(t)}function sc(){return sc=Object.assign?Object.assign.bind():function(t){for(var r=1;r<arguments.length;r++){var s=arguments[r];for(var n in s)Object.prototype.hasOwnProperty.call(s,n)&&(t[n]=s[n])}return t},sc.apply(this,arguments)}function JE(t,r){if(t==null)return{};var s=P_e(t,r),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)n=i[a],!(r.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(s[n]=t[n])}return s}function P_e(t,r){if(t==null)return{};var s={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(r.indexOf(n)>=0)continue;s[n]=t[n]}return s}var k_e=function(r){var s=r.fill;if(!s||s==="none")return null;var n=r.fillOpacity,a=r.x,i=r.y,l=r.width,o=r.height,c=r.ry;return G.createElement("rect",{x:a,y:i,ry:c,width:l,height:o,stroke:"none",fill:s,fillOpacity:n,className:"recharts-cartesian-grid-bg"})};function N7(t,r){var s;if(G.isValidElement(t))s=G.cloneElement(t,r);else if($t(t))s=t(r);else{var n=r.x1,a=r.y1,i=r.x2,l=r.y2,o=r.key,c=JE(r,b_e),d=Nt(c,!1);d.offset;var u=JE(d,N_e);s=G.createElement("line",sc({},u,{x1:n,y1:a,x2:i,y2:l,fill:"none",key:o}))}return s}function A_e(t){var r=t.x,s=t.width,n=t.horizontal,a=n===void 0?!0:n,i=t.horizontalPoints;if(!a||!i||!i.length)return null;var l=i.map(function(o,c){var d=Xs(Xs({},t),{},{x1:r,y1:o,x2:r+s,y2:o,key:"line-".concat(c),index:c});return N7(a,d)});return G.createElement("g",{className:"recharts-cartesian-grid-horizontal"},l)}function __e(t){var r=t.y,s=t.height,n=t.vertical,a=n===void 0?!0:n,i=t.verticalPoints;if(!a||!i||!i.length)return null;var l=i.map(function(o,c){var d=Xs(Xs({},t),{},{x1:o,y1:r,x2:o,y2:r+s,key:"line-".concat(c),index:c});return N7(a,d)});return G.createElement("g",{className:"recharts-cartesian-grid-vertical"},l)}function T_e(t){var r=t.horizontalFill,s=t.fillOpacity,n=t.x,a=t.y,i=t.width,l=t.height,o=t.horizontalPoints,c=t.horizontal,d=c===void 0?!0:c;if(!d||!r||!r.length)return null;var u=o.map(function(h){return Math.round(h+a-a)}).sort(function(h,g){return h-g});a!==u[0]&&u.unshift(0);var m=u.map(function(h,g){var f=!u[g+1],p=f?a+l-h:u[g+1]-h;if(p<=0)return null;var y=g%r.length;return G.createElement("rect",{key:"react-".concat(g),y:h,x:n,height:p,width:i,stroke:"none",fill:r[y],fillOpacity:s,className:"recharts-cartesian-grid-bg"})});return G.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},m)}function O_e(t){var r=t.vertical,s=r===void 0?!0:r,n=t.verticalFill,a=t.fillOpacity,i=t.x,l=t.y,o=t.width,c=t.height,d=t.verticalPoints;if(!s||!n||!n.length)return null;var u=d.map(function(h){return Math.round(h+i-i)}).sort(function(h,g){return h-g});i!==u[0]&&u.unshift(0);var m=u.map(function(h,g){var f=!u[g+1],p=f?i+o-h:u[g+1]-h;if(p<=0)return null;var y=g%n.length;return G.createElement("rect",{key:"react-".concat(g),x:h,y:l,width:p,height:c,stroke:"none",fill:n[y],fillOpacity:a,className:"recharts-cartesian-grid-bg"})});return G.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},m)}var E_e=function(r,s){var n=r.xAxis,a=r.width,i=r.height,l=r.offset;return gz(UP(Xs(Xs(Xs({},km.defaultProps),n),{},{ticks:al(n,!0),viewBox:{x:0,y:0,width:a,height:i}})),l.left,l.left+l.width,s)},D_e=function(r,s){var n=r.yAxis,a=r.width,i=r.height,l=r.offset;return gz(UP(Xs(Xs(Xs({},km.defaultProps),n),{},{ticks:al(n,!0),viewBox:{x:0,y:0,width:a,height:i}})),l.top,l.top+l.height,s)},id={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[]};function gy(t){var r,s,n,a,i,l,o=$P(),c=LP(),d=jAe(),u=Xs(Xs({},t),{},{stroke:(r=t.stroke)!==null&&r!==void 0?r:id.stroke,fill:(s=t.fill)!==null&&s!==void 0?s:id.fill,horizontal:(n=t.horizontal)!==null&&n!==void 0?n:id.horizontal,horizontalFill:(a=t.horizontalFill)!==null&&a!==void 0?a:id.horizontalFill,vertical:(i=t.vertical)!==null&&i!==void 0?i:id.vertical,verticalFill:(l=t.verticalFill)!==null&&l!==void 0?l:id.verticalFill,x:Qe(t.x)?t.x:d.left,y:Qe(t.y)?t.y:d.top,width:Qe(t.width)?t.width:d.width,height:Qe(t.height)?t.height:d.height}),m=u.x,h=u.y,g=u.width,f=u.height,p=u.syncWithTicks,y=u.horizontalValues,v=u.verticalValues,x=gAe(),b=vAe();if(!Qe(g)||g<=0||!Qe(f)||f<=0||!Qe(m)||m!==+m||!Qe(h)||h!==+h)return null;var N=u.verticalCoordinatesGenerator||E_e,w=u.horizontalCoordinatesGenerator||D_e,C=u.horizontalPoints,P=u.verticalPoints;if((!C||!C.length)&&$t(w)){var S=y&&y.length,A=w({yAxis:b?Xs(Xs({},b),{},{ticks:S?y:b.ticks}):void 0,width:o,height:c,offset:d},S?!0:p);Ja(Array.isArray(A),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(Mc(A),"]")),Array.isArray(A)&&(C=A)}if((!P||!P.length)&&$t(N)){var k=v&&v.length,I=N({xAxis:x?Xs(Xs({},x),{},{ticks:k?v:x.ticks}):void 0,width:o,height:c,offset:d},k?!0:p);Ja(Array.isArray(I),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(Mc(I),"]")),Array.isArray(I)&&(P=I)}return G.createElement("g",{className:"recharts-cartesian-grid"},G.createElement(k_e,{fill:u.fill,fillOpacity:u.fillOpacity,x:u.x,y:u.y,width:u.width,height:u.height,ry:u.ry}),G.createElement(A_e,sc({},u,{offset:d,horizontalPoints:C,xAxis:x,yAxis:b})),G.createElement(__e,sc({},u,{offset:d,verticalPoints:P,xAxis:x,yAxis:b})),G.createElement(T_e,sc({},u,{horizontalPoints:C})),G.createElement(O_e,sc({},u,{verticalPoints:P})))}gy.displayName="CartesianGrid";var M_e=["type","layout","connectNulls","ref"],I_e=["key"];function Vu(t){"@babel/helpers - typeof";return Vu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},Vu(t)}function eD(t,r){if(t==null)return{};var s=R_e(t,r),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)n=i[a],!(r.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(s[n]=t[n])}return s}function R_e(t,r){if(t==null)return{};var s={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(r.indexOf(n)>=0)continue;s[n]=t[n]}return s}function Bh(){return Bh=Object.assign?Object.assign.bind():function(t){for(var r=1;r<arguments.length;r++){var s=arguments[r];for(var n in s)Object.prototype.hasOwnProperty.call(s,n)&&(t[n]=s[n])}return t},Bh.apply(this,arguments)}function tD(t,r){var s=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);r&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),s.push.apply(s,n)}return s}function Bn(t){for(var r=1;r<arguments.length;r++){var s=arguments[r]!=null?arguments[r]:{};r%2?tD(Object(s),!0).forEach(function(n){La(t,n,s[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(s)):tD(Object(s)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(s,n))})}return t}function ld(t){return B_e(t)||L_e(t)||$_e(t)||F_e()}function F_e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function $_e(t,r){if(t){if(typeof t=="string")return vS(t,r);var s=Object.prototype.toString.call(t).slice(8,-1);if(s==="Object"&&t.constructor&&(s=t.constructor.name),s==="Map"||s==="Set")return Array.from(t);if(s==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(s))return vS(t,r)}}function L_e(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function B_e(t){if(Array.isArray(t))return vS(t)}function vS(t,r){(r==null||r>t.length)&&(r=t.length);for(var s=0,n=new Array(r);s<r;s++)n[s]=t[s];return n}function V_e(t,r){if(!(t instanceof r))throw new TypeError("Cannot call a class as a function")}function rD(t,r){for(var s=0;s<r.length;s++){var n=r[s];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,S7(n.key),n)}}function U_e(t,r,s){return r&&rD(t.prototype,r),s&&rD(t,s),Object.defineProperty(t,"prototype",{writable:!1}),t}function q_e(t,r,s){return r=vy(r),z_e(t,w7()?Reflect.construct(r,s||[],vy(t).constructor):r.apply(t,s))}function z_e(t,r){if(r&&(Vu(r)==="object"||typeof r=="function"))return r;if(r!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return K_e(t)}function K_e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function w7(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(w7=function(){return!!t})()}function vy(t){return vy=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(s){return s.__proto__||Object.getPrototypeOf(s)},vy(t)}function H_e(t,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(r&&r.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),r&&yS(t,r)}function yS(t,r){return yS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},yS(t,r)}function La(t,r,s){return r=S7(r),r in t?Object.defineProperty(t,r,{value:s,enumerable:!0,configurable:!0,writable:!0}):t[r]=s,t}function S7(t){var r=W_e(t,"string");return Vu(r)=="symbol"?r:r+""}function W_e(t,r){if(Vu(t)!="object"||!t)return t;var s=t[Symbol.toPrimitive];if(s!==void 0){var n=s.call(t,r||"default");if(Vu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(t)}var Po=function(t){function r(){var s;V_e(this,r);for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return s=q_e(this,r,[].concat(a)),La(s,"state",{isAnimationFinished:!0,totalLength:0}),La(s,"generateSimpleStrokeDasharray",function(l,o){return"".concat(o,"px ").concat(l-o,"px")}),La(s,"getStrokeDasharray",function(l,o,c){var d=c.reduce(function(v,x){return v+x});if(!d)return s.generateSimpleStrokeDasharray(o,l);for(var u=Math.floor(l/d),m=l%d,h=o-l,g=[],f=0,p=0;f<c.length;p+=c[f],++f)if(p+c[f]>m){g=[].concat(ld(c.slice(0,f)),[m-p]);break}var y=g.length%2===0?[0,h]:[h];return[].concat(ld(r.repeat(c,u)),ld(g),y).map(function(v){return"".concat(v,"px")}).join(", ")}),La(s,"id",ym("recharts-line-")),La(s,"pathRef",function(l){s.mainCurve=l}),La(s,"handleAnimationEnd",function(){s.setState({isAnimationFinished:!0}),s.props.onAnimationEnd&&s.props.onAnimationEnd()}),La(s,"handleAnimationStart",function(){s.setState({isAnimationFinished:!1}),s.props.onAnimationStart&&s.props.onAnimationStart()}),s}return H_e(r,t),U_e(r,[{key:"componentDidMount",value:function(){if(this.props.isAnimationActive){var n=this.getTotalLength();this.setState({totalLength:n})}}},{key:"componentDidUpdate",value:function(){if(this.props.isAnimationActive){var n=this.getTotalLength();n!==this.state.totalLength&&this.setState({totalLength:n})}}},{key:"getTotalLength",value:function(){var n=this.mainCurve;try{return n&&n.getTotalLength&&n.getTotalLength()||0}catch{return 0}}},{key:"renderErrorBar",value:function(n,a){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var i=this.props,l=i.points,o=i.xAxis,c=i.yAxis,d=i.layout,u=i.children,m=na(u,Bf);if(!m)return null;var h=function(p,y){return{x:p.x,y:p.y,value:p.value,errorVal:js(p.payload,y)}},g={clipPath:n?"url(#clipPath-".concat(a,")"):null};return G.createElement(ur,g,m.map(function(f){return G.cloneElement(f,{key:"bar-".concat(f.props.dataKey),data:l,xAxis:o,yAxis:c,layout:d,dataPointFormatter:h})}))}},{key:"renderDots",value:function(n,a,i){var l=this.props.isAnimationActive;if(l&&!this.state.isAnimationFinished)return null;var o=this.props,c=o.dot,d=o.points,u=o.dataKey,m=Nt(this.props,!1),h=Nt(c,!0),g=d.map(function(p,y){var v=Bn(Bn(Bn({key:"dot-".concat(y),r:3},m),h),{},{value:p.value,dataKey:u,cx:p.x,cy:p.y,index:y,payload:p.payload});return r.renderDotItem(c,v)}),f={clipPath:n?"url(#clipPath-".concat(a?"":"dots-").concat(i,")"):null};return G.createElement(ur,Bh({className:"recharts-line-dots",key:"dots"},f),g)}},{key:"renderCurveStatically",value:function(n,a,i,l){var o=this.props,c=o.type,d=o.layout,u=o.connectNulls;o.ref;var m=eD(o,M_e),h=Bn(Bn(Bn({},Nt(m,!0)),{},{fill:"none",className:"recharts-line-curve",clipPath:a?"url(#clipPath-".concat(i,")"):null,points:n},l),{},{type:c,layout:d,connectNulls:u});return G.createElement(Xv,Bh({},h,{pathRef:this.pathRef}))}},{key:"renderCurveWithAnimation",value:function(n,a){var i=this,l=this.props,o=l.points,c=l.strokeDasharray,d=l.isAnimationActive,u=l.animationBegin,m=l.animationDuration,h=l.animationEasing,g=l.animationId,f=l.animateNewValues,p=l.width,y=l.height,v=this.state,x=v.prevPoints,b=v.totalLength;return G.createElement(Ri,{begin:u,duration:m,isActive:d,easing:h,from:{t:0},to:{t:1},key:"line-".concat(g),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(N){var w=N.t;if(x){var C=x.length/o.length,P=o.map(function(L,K){var R=Math.floor(K*C);if(x[R]){var F=x[R],W=Gn(F.x,L.x),Q=Gn(F.y,L.y);return Bn(Bn({},L),{},{x:W(w),y:Q(w)})}if(f){var H=Gn(p*2,L.x),Z=Gn(y/2,L.y);return Bn(Bn({},L),{},{x:H(w),y:Z(w)})}return Bn(Bn({},L),{},{x:L.x,y:L.y})});return i.renderCurveStatically(P,n,a)}var S=Gn(0,b),A=S(w),k;if(c){var I="".concat(c).split(/[,\s]+/gim).map(function(L){return parseFloat(L)});k=i.getStrokeDasharray(A,b,I)}else k=i.generateSimpleStrokeDasharray(b,A);return i.renderCurveStatically(o,n,a,{strokeDasharray:k})})}},{key:"renderCurve",value:function(n,a){var i=this.props,l=i.points,o=i.isAnimationActive,c=this.state,d=c.prevPoints,u=c.totalLength;return o&&l&&l.length&&(!d&&u>0||!Lf(d,l))?this.renderCurveWithAnimation(n,a):this.renderCurveStatically(l,n,a)}},{key:"render",value:function(){var n,a=this.props,i=a.hide,l=a.dot,o=a.points,c=a.className,d=a.xAxis,u=a.yAxis,m=a.top,h=a.left,g=a.width,f=a.height,p=a.isAnimationActive,y=a.id;if(i||!o||!o.length)return null;var v=this.state.isAnimationFinished,x=o.length===1,b=Kt("recharts-line",c),N=d&&d.allowDataOverflow,w=u&&u.allowDataOverflow,C=N||w,P=Bt(y)?this.id:y,S=(n=Nt(l,!1))!==null&&n!==void 0?n:{r:3,strokeWidth:2},A=S.r,k=A===void 0?3:A,I=S.strokeWidth,L=I===void 0?2:I,K=Pce(l)?l:{},R=K.clipDot,F=R===void 0?!0:R,W=k*2+L;return G.createElement(ur,{className:b},N||w?G.createElement("defs",null,G.createElement("clipPath",{id:"clipPath-".concat(P)},G.createElement("rect",{x:N?h:h-g/2,y:w?m:m-f/2,width:N?g:g*2,height:w?f:f*2})),!F&&G.createElement("clipPath",{id:"clipPath-dots-".concat(P)},G.createElement("rect",{x:h-W/2,y:m-W/2,width:g+W,height:f+W}))):null,!x&&this.renderCurve(C,P),this.renderErrorBar(C,P),(x||l)&&this.renderDots(C,F,P),(!p||v)&&dl.renderCallByParent(this.props,o))}}],[{key:"getDerivedStateFromProps",value:function(n,a){return n.animationId!==a.prevAnimationId?{prevAnimationId:n.animationId,curPoints:n.points,prevPoints:a.curPoints}:n.points!==a.curPoints?{curPoints:n.points}:null}},{key:"repeat",value:function(n,a){for(var i=n.length%2!==0?[].concat(ld(n),[0]):n,l=[],o=0;o<a;++o)l=[].concat(ld(l),ld(i));return l}},{key:"renderDotItem",value:function(n,a){var i;if(G.isValidElement(n))i=G.cloneElement(n,a);else if($t(n))i=n(a);else{var l=a.key,o=eD(a,I_e),c=Kt("recharts-line-dot",typeof n!="boolean"?n.className:"");i=G.createElement(tb,Bh({key:l},o,{className:c}))}return i}}])}(j.PureComponent);La(Po,"displayName","Line");La(Po,"defaultProps",{xAxisId:0,yAxisId:0,connectNulls:!1,activeDot:!0,dot:!0,legendType:"line",stroke:"#3182bd",strokeWidth:1,fill:"#fff",points:[],isAnimationActive:!Ai.isSsr,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",hide:!1,label:!1});La(Po,"getComposedData",function(t){var r=t.props,s=t.xAxis,n=t.yAxis,a=t.xAxisTicks,i=t.yAxisTicks,l=t.dataKey,o=t.bandSize,c=t.displayedData,d=t.offset,u=r.layout,m=c.map(function(h,g){var f=js(h,l);return u==="horizontal"?{x:PO({axis:s,ticks:a,bandSize:o,entry:h,index:g}),y:Bt(f)?null:n.scale(f),value:f,payload:h}:{x:Bt(f)?null:s.scale(f),y:PO({axis:n,ticks:i,bandSize:o,entry:h,index:g}),value:f,payload:h}});return Bn({points:m,layout:u},d)});function Uu(t){"@babel/helpers - typeof";return Uu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},Uu(t)}function G_e(t,r){if(!(t instanceof r))throw new TypeError("Cannot call a class as a function")}function Y_e(t,r){for(var s=0;s<r.length;s++){var n=r[s];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,k7(n.key),n)}}function Q_e(t,r,s){return r&&Y_e(t.prototype,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function X_e(t,r,s){return r=yy(r),Z_e(t,C7()?Reflect.construct(r,s||[],yy(t).constructor):r.apply(t,s))}function Z_e(t,r){if(r&&(Uu(r)==="object"||typeof r=="function"))return r;if(r!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return J_e(t)}function J_e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function C7(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(C7=function(){return!!t})()}function yy(t){return yy=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(s){return s.__proto__||Object.getPrototypeOf(s)},yy(t)}function eTe(t,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(r&&r.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),r&&jS(t,r)}function jS(t,r){return jS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},jS(t,r)}function P7(t,r,s){return r=k7(r),r in t?Object.defineProperty(t,r,{value:s,enumerable:!0,configurable:!0,writable:!0}):t[r]=s,t}function k7(t){var r=tTe(t,"string");return Uu(r)=="symbol"?r:r+""}function tTe(t,r){if(Uu(t)!="object"||!t)return t;var s=t[Symbol.toPrimitive];if(s!==void 0){var n=s.call(t,r||"default");if(Uu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(t)}function bS(){return bS=Object.assign?Object.assign.bind():function(t){for(var r=1;r<arguments.length;r++){var s=arguments[r];for(var n in s)Object.prototype.hasOwnProperty.call(s,n)&&(t[n]=s[n])}return t},bS.apply(this,arguments)}function rTe(t){var r=t.xAxisId,s=$P(),n=LP(),a=u7(r);return a==null?null:G.createElement(km,bS({},a,{className:Kt("recharts-".concat(a.axisType," ").concat(a.axisType),a.className),viewBox:{x:0,y:0,width:s,height:n},ticksGenerator:function(l){return al(l,!0)}}))}var Ic=function(t){function r(){return G_e(this,r),X_e(this,r,arguments)}return eTe(r,t),Q_e(r,[{key:"render",value:function(){return G.createElement(rTe,this.props)}}])}(G.Component);P7(Ic,"displayName","XAxis");P7(Ic,"defaultProps",{allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0});function qu(t){"@babel/helpers - typeof";return qu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},qu(t)}function sTe(t,r){if(!(t instanceof r))throw new TypeError("Cannot call a class as a function")}function nTe(t,r){for(var s=0;s<r.length;s++){var n=r[s];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,T7(n.key),n)}}function aTe(t,r,s){return r&&nTe(t.prototype,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function iTe(t,r,s){return r=jy(r),lTe(t,A7()?Reflect.construct(r,s||[],jy(t).constructor):r.apply(t,s))}function lTe(t,r){if(r&&(qu(r)==="object"||typeof r=="function"))return r;if(r!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return oTe(t)}function oTe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function A7(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(A7=function(){return!!t})()}function jy(t){return jy=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(s){return s.__proto__||Object.getPrototypeOf(s)},jy(t)}function cTe(t,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(r&&r.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),r&&NS(t,r)}function NS(t,r){return NS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},NS(t,r)}function _7(t,r,s){return r=T7(r),r in t?Object.defineProperty(t,r,{value:s,enumerable:!0,configurable:!0,writable:!0}):t[r]=s,t}function T7(t){var r=dTe(t,"string");return qu(r)=="symbol"?r:r+""}function dTe(t,r){if(qu(t)!="object"||!t)return t;var s=t[Symbol.toPrimitive];if(s!==void 0){var n=s.call(t,r||"default");if(qu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(t)}function wS(){return wS=Object.assign?Object.assign.bind():function(t){for(var r=1;r<arguments.length;r++){var s=arguments[r];for(var n in s)Object.prototype.hasOwnProperty.call(s,n)&&(t[n]=s[n])}return t},wS.apply(this,arguments)}var uTe=function(r){var s=r.yAxisId,n=$P(),a=LP(),i=m7(s);return i==null?null:G.createElement(km,wS({},i,{className:Kt("recharts-".concat(i.axisType," ").concat(i.axisType),i.className),viewBox:{x:0,y:0,width:n,height:a},ticksGenerator:function(o){return al(o,!0)}}))},ko=function(t){function r(){return sTe(this,r),iTe(this,r,arguments)}return cTe(r,t),aTe(r,[{key:"render",value:function(){return G.createElement(uTe,this.props)}}])}(G.Component);_7(ko,"displayName","YAxis");_7(ko,"defaultProps",{allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1});function sD(t){return fTe(t)||pTe(t)||hTe(t)||mTe()}function mTe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function hTe(t,r){if(t){if(typeof t=="string")return SS(t,r);var s=Object.prototype.toString.call(t).slice(8,-1);if(s==="Object"&&t.constructor&&(s=t.constructor.name),s==="Map"||s==="Set")return Array.from(t);if(s==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(s))return SS(t,r)}}function pTe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function fTe(t){if(Array.isArray(t))return SS(t)}function SS(t,r){(r==null||r>t.length)&&(r=t.length);for(var s=0,n=new Array(r);s<r;s++)n[s]=t[s];return n}var CS=function(r,s,n,a,i){var l=na(r,VP),o=na(r,db),c=[].concat(sD(l),sD(o)),d=na(r,mb),u="".concat(a,"Id"),m=a[0],h=s;if(c.length&&(h=c.reduce(function(p,y){if(y.props[u]===n&&Ti(y.props,"extendDomain")&&Qe(y.props[m])){var v=y.props[m];return[Math.min(p[0],v),Math.max(p[1],v)]}return p},h)),d.length){var g="".concat(m,"1"),f="".concat(m,"2");h=d.reduce(function(p,y){if(y.props[u]===n&&Ti(y.props,"extendDomain")&&Qe(y.props[g])&&Qe(y.props[f])){var v=y.props[g],x=y.props[f];return[Math.min(p[0],v,x),Math.max(p[1],v,x)]}return p},h)}return i&&i.length&&(h=i.reduce(function(p,y){return Qe(y)?[Math.min(p[0],y),Math.max(p[1],y)]:p},h)),h},O7={exports:{}};(function(t){var r=Object.prototype.hasOwnProperty,s="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(s=!1));function a(c,d,u){this.fn=c,this.context=d,this.once=u||!1}function i(c,d,u,m,h){if(typeof u!="function")throw new TypeError("The listener must be a function");var g=new a(u,m||c,h),f=s?s+d:d;return c._events[f]?c._events[f].fn?c._events[f]=[c._events[f],g]:c._events[f].push(g):(c._events[f]=g,c._eventsCount++),c}function l(c,d){--c._eventsCount===0?c._events=new n:delete c._events[d]}function o(){this._events=new n,this._eventsCount=0}o.prototype.eventNames=function(){var d=[],u,m;if(this._eventsCount===0)return d;for(m in u=this._events)r.call(u,m)&&d.push(s?m.slice(1):m);return Object.getOwnPropertySymbols?d.concat(Object.getOwnPropertySymbols(u)):d},o.prototype.listeners=function(d){var u=s?s+d:d,m=this._events[u];if(!m)return[];if(m.fn)return[m.fn];for(var h=0,g=m.length,f=new Array(g);h<g;h++)f[h]=m[h].fn;return f},o.prototype.listenerCount=function(d){var u=s?s+d:d,m=this._events[u];return m?m.fn?1:m.length:0},o.prototype.emit=function(d,u,m,h,g,f){var p=s?s+d:d;if(!this._events[p])return!1;var y=this._events[p],v=arguments.length,x,b;if(y.fn){switch(y.once&&this.removeListener(d,y.fn,void 0,!0),v){case 1:return y.fn.call(y.context),!0;case 2:return y.fn.call(y.context,u),!0;case 3:return y.fn.call(y.context,u,m),!0;case 4:return y.fn.call(y.context,u,m,h),!0;case 5:return y.fn.call(y.context,u,m,h,g),!0;case 6:return y.fn.call(y.context,u,m,h,g,f),!0}for(b=1,x=new Array(v-1);b<v;b++)x[b-1]=arguments[b];y.fn.apply(y.context,x)}else{var N=y.length,w;for(b=0;b<N;b++)switch(y[b].once&&this.removeListener(d,y[b].fn,void 0,!0),v){case 1:y[b].fn.call(y[b].context);break;case 2:y[b].fn.call(y[b].context,u);break;case 3:y[b].fn.call(y[b].context,u,m);break;case 4:y[b].fn.call(y[b].context,u,m,h);break;default:if(!x)for(w=1,x=new Array(v-1);w<v;w++)x[w-1]=arguments[w];y[b].fn.apply(y[b].context,x)}}return!0},o.prototype.on=function(d,u,m){return i(this,d,u,m,!1)},o.prototype.once=function(d,u,m){return i(this,d,u,m,!0)},o.prototype.removeListener=function(d,u,m,h){var g=s?s+d:d;if(!this._events[g])return this;if(!u)return l(this,g),this;var f=this._events[g];if(f.fn)f.fn===u&&(!h||f.once)&&(!m||f.context===m)&&l(this,g);else{for(var p=0,y=[],v=f.length;p<v;p++)(f[p].fn!==u||h&&!f[p].once||m&&f[p].context!==m)&&y.push(f[p]);y.length?this._events[g]=y.length===1?y[0]:y:l(this,g)}return this},o.prototype.removeAllListeners=function(d){var u;return d?(u=s?s+d:d,this._events[u]&&l(this,u)):(this._events=new n,this._eventsCount=0),this},o.prototype.off=o.prototype.removeListener,o.prototype.addListener=o.prototype.on,o.prefixed=s,o.EventEmitter=o,t.exports=o})(O7);var xTe=O7.exports;const gTe=yr(xTe);var J0=new gTe,eN="recharts.syncMouseEvents";function sf(t){"@babel/helpers - typeof";return sf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},sf(t)}function vTe(t,r){if(!(t instanceof r))throw new TypeError("Cannot call a class as a function")}function yTe(t,r){for(var s=0;s<r.length;s++){var n=r[s];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,E7(n.key),n)}}function jTe(t,r,s){return r&&yTe(t.prototype,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function tN(t,r,s){return r=E7(r),r in t?Object.defineProperty(t,r,{value:s,enumerable:!0,configurable:!0,writable:!0}):t[r]=s,t}function E7(t){var r=bTe(t,"string");return sf(r)=="symbol"?r:r+""}function bTe(t,r){if(sf(t)!="object"||!t)return t;var s=t[Symbol.toPrimitive];if(s!==void 0){var n=s.call(t,r);if(sf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var NTe=function(){function t(){vTe(this,t),tN(this,"activeIndex",0),tN(this,"coordinateList",[]),tN(this,"layout","horizontal")}return jTe(t,[{key:"setDetails",value:function(s){var n,a=s.coordinateList,i=a===void 0?null:a,l=s.container,o=l===void 0?null:l,c=s.layout,d=c===void 0?null:c,u=s.offset,m=u===void 0?null:u,h=s.mouseHandlerCallback,g=h===void 0?null:h;this.coordinateList=(n=i??this.coordinateList)!==null&&n!==void 0?n:[],this.container=o??this.container,this.layout=d??this.layout,this.offset=m??this.offset,this.mouseHandlerCallback=g??this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(s){if(this.coordinateList.length!==0)switch(s.key){case"ArrowRight":{if(this.layout!=="horizontal")return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break}case"ArrowLeft":{if(this.layout!=="horizontal")return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse();break}}}},{key:"setIndex",value:function(s){this.activeIndex=s}},{key:"spoofMouse",value:function(){var s,n;if(this.layout==="horizontal"&&this.coordinateList.length!==0){var a=this.container.getBoundingClientRect(),i=a.x,l=a.y,o=a.height,c=this.coordinateList[this.activeIndex].coordinate,d=((s=window)===null||s===void 0?void 0:s.scrollX)||0,u=((n=window)===null||n===void 0?void 0:n.scrollY)||0,m=i+c+d,h=l+this.offset.top+o/2+u;this.mouseHandlerCallback({pageX:m,pageY:h})}}}])}();function wTe(t,r,s){if(s==="number"&&r===!0&&Array.isArray(t)){var n=t==null?void 0:t[0],a=t==null?void 0:t[1];if(n&&a&&Qe(n)&&Qe(a))return!0}return!1}function STe(t,r,s,n){var a=n/2;return{stroke:"none",fill:"#ccc",x:t==="horizontal"?r.x-a:s.left+.5,y:t==="horizontal"?s.top+.5:r.y-a,width:t==="horizontal"?n:s.width-1,height:t==="horizontal"?s.height-1:n}}function D7(t){var r=t.cx,s=t.cy,n=t.radius,a=t.startAngle,i=t.endAngle,l=Ir(r,s,n,a),o=Ir(r,s,n,i);return{points:[l,o],cx:r,cy:s,radius:n,startAngle:a,endAngle:i}}function CTe(t,r,s){var n,a,i,l;if(t==="horizontal")n=r.x,i=n,a=s.top,l=s.top+s.height;else if(t==="vertical")a=r.y,l=a,n=s.left,i=s.left+s.width;else if(r.cx!=null&&r.cy!=null)if(t==="centric"){var o=r.cx,c=r.cy,d=r.innerRadius,u=r.outerRadius,m=r.angle,h=Ir(o,c,d,m),g=Ir(o,c,u,m);n=h.x,a=h.y,i=g.x,l=g.y}else return D7(r);return[{x:n,y:a},{x:i,y:l}]}function nf(t){"@babel/helpers - typeof";return nf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},nf(t)}function nD(t,r){var s=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);r&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),s.push.apply(s,n)}return s}function Ix(t){for(var r=1;r<arguments.length;r++){var s=arguments[r]!=null?arguments[r]:{};r%2?nD(Object(s),!0).forEach(function(n){PTe(t,n,s[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(s)):nD(Object(s)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(s,n))})}return t}function PTe(t,r,s){return r=kTe(r),r in t?Object.defineProperty(t,r,{value:s,enumerable:!0,configurable:!0,writable:!0}):t[r]=s,t}function kTe(t){var r=ATe(t,"string");return nf(r)=="symbol"?r:r+""}function ATe(t,r){if(nf(t)!="object"||!t)return t;var s=t[Symbol.toPrimitive];if(s!==void 0){var n=s.call(t,r||"default");if(nf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(t)}function _Te(t){var r,s,n=t.element,a=t.tooltipEventType,i=t.isActive,l=t.activeCoordinate,o=t.activePayload,c=t.offset,d=t.activeTooltipIndex,u=t.tooltipAxisBandSize,m=t.layout,h=t.chartName,g=(r=n.props.cursor)!==null&&r!==void 0?r:(s=n.type.defaultProps)===null||s===void 0?void 0:s.cursor;if(!n||!g||!i||!l||h!=="ScatterChart"&&a!=="axis")return null;var f,p=Xv;if(h==="ScatterChart")f=l,p=W2e;else if(h==="BarChart")f=STe(m,l,c,u),p=MP;else if(m==="radial"){var y=D7(l),v=y.cx,x=y.cy,b=y.radius,N=y.startAngle,w=y.endAngle;f={cx:v,cy:x,startAngle:N,endAngle:w,innerRadius:b,outerRadius:b},p=Az}else f={points:CTe(m,l,c)},p=Xv;var C=Ix(Ix(Ix(Ix({stroke:"#ccc",pointerEvents:"none"},c),f),Nt(g,!1)),{},{payload:o,payloadIndex:d,className:Kt("recharts-tooltip-cursor",g.className)});return j.isValidElement(g)?j.cloneElement(g,C):j.createElement(p,C)}var TTe=["item"],OTe=["children","className","width","height","style","compact","title","desc"];function zu(t){"@babel/helpers - typeof";return zu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},zu(t)}function Ad(){return Ad=Object.assign?Object.assign.bind():function(t){for(var r=1;r<arguments.length;r++){var s=arguments[r];for(var n in s)Object.prototype.hasOwnProperty.call(s,n)&&(t[n]=s[n])}return t},Ad.apply(this,arguments)}function aD(t,r){return MTe(t)||DTe(t,r)||I7(t,r)||ETe()}function ETe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function DTe(t,r){var s=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(s!=null){var n,a,i,l,o=[],c=!0,d=!1;try{if(i=(s=s.call(t)).next,r!==0)for(;!(c=(n=i.call(s)).done)&&(o.push(n.value),o.length!==r);c=!0);}catch(u){d=!0,a=u}finally{try{if(!c&&s.return!=null&&(l=s.return(),Object(l)!==l))return}finally{if(d)throw a}}return o}}function MTe(t){if(Array.isArray(t))return t}function iD(t,r){if(t==null)return{};var s=ITe(t,r),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)n=i[a],!(r.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(s[n]=t[n])}return s}function ITe(t,r){if(t==null)return{};var s={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(r.indexOf(n)>=0)continue;s[n]=t[n]}return s}function RTe(t,r){if(!(t instanceof r))throw new TypeError("Cannot call a class as a function")}function FTe(t,r){for(var s=0;s<r.length;s++){var n=r[s];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,R7(n.key),n)}}function $Te(t,r,s){return r&&FTe(t.prototype,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function LTe(t,r,s){return r=by(r),BTe(t,M7()?Reflect.construct(r,s||[],by(t).constructor):r.apply(t,s))}function BTe(t,r){if(r&&(zu(r)==="object"||typeof r=="function"))return r;if(r!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return VTe(t)}function VTe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function M7(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(M7=function(){return!!t})()}function by(t){return by=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(s){return s.__proto__||Object.getPrototypeOf(s)},by(t)}function UTe(t,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(r&&r.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),r&&PS(t,r)}function PS(t,r){return PS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},PS(t,r)}function Ku(t){return KTe(t)||zTe(t)||I7(t)||qTe()}function qTe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function I7(t,r){if(t){if(typeof t=="string")return kS(t,r);var s=Object.prototype.toString.call(t).slice(8,-1);if(s==="Object"&&t.constructor&&(s=t.constructor.name),s==="Map"||s==="Set")return Array.from(t);if(s==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(s))return kS(t,r)}}function zTe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function KTe(t){if(Array.isArray(t))return kS(t)}function kS(t,r){(r==null||r>t.length)&&(r=t.length);for(var s=0,n=new Array(r);s<r;s++)n[s]=t[s];return n}function lD(t,r){var s=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);r&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),s.push.apply(s,n)}return s}function Ae(t){for(var r=1;r<arguments.length;r++){var s=arguments[r]!=null?arguments[r]:{};r%2?lD(Object(s),!0).forEach(function(n){Et(t,n,s[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(s)):lD(Object(s)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(s,n))})}return t}function Et(t,r,s){return r=R7(r),r in t?Object.defineProperty(t,r,{value:s,enumerable:!0,configurable:!0,writable:!0}):t[r]=s,t}function R7(t){var r=HTe(t,"string");return zu(r)=="symbol"?r:r+""}function HTe(t,r){if(zu(t)!="object"||!t)return t;var s=t[Symbol.toPrimitive];if(s!==void 0){var n=s.call(t,r||"default");if(zu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(t)}var WTe={xAxis:["bottom","top"],yAxis:["left","right"]},GTe={width:"100%",height:"100%"},F7={x:0,y:0};function Rx(t){return t}var YTe=function(r,s){return s==="horizontal"?r.x:s==="vertical"?r.y:s==="centric"?r.angle:r.radius},QTe=function(r,s,n,a){var i=s.find(function(u){return u&&u.index===n});if(i){if(r==="horizontal")return{x:i.coordinate,y:a.y};if(r==="vertical")return{x:a.x,y:i.coordinate};if(r==="centric"){var l=i.coordinate,o=a.radius;return Ae(Ae(Ae({},a),Ir(a.cx,a.cy,o,l)),{},{angle:l,radius:o})}var c=i.coordinate,d=a.angle;return Ae(Ae(Ae({},a),Ir(a.cx,a.cy,c,d)),{},{angle:d,radius:c})}return F7},hb=function(r,s){var n=s.graphicalItems,a=s.dataStartIndex,i=s.dataEndIndex,l=(n??[]).reduce(function(o,c){var d=c.props.data;return d&&d.length?[].concat(Ku(o),Ku(d)):o},[]);return l.length>0?l:r&&r.length&&Qe(a)&&Qe(i)?r.slice(a,i+1):[]};function $7(t){return t==="number"?[0,"auto"]:void 0}var AS=function(r,s,n,a){var i=r.graphicalItems,l=r.tooltipAxis,o=hb(s,r);return n<0||!i||!i.length||n>=o.length?null:i.reduce(function(c,d){var u,m=(u=d.props.data)!==null&&u!==void 0?u:s;m&&r.dataStartIndex+r.dataEndIndex!==0&&r.dataEndIndex-r.dataStartIndex>=n&&(m=m.slice(r.dataStartIndex,r.dataEndIndex+1));var h;if(l.dataKey&&!l.allowDuplicatedCategory){var g=m===void 0?o:m;h=yv(g,l.dataKey,a)}else h=m&&m[n]||o[n];return h?[].concat(Ku(c),[Nz(d,h)]):c},[])},oD=function(r,s,n,a){var i=a||{x:r.chartX,y:r.chartY},l=YTe(i,n),o=r.orderedTooltipTicks,c=r.tooltipAxis,d=r.tooltipTicks,u=kwe(l,o,d,c);if(u>=0&&d){var m=d[u]&&d[u].value,h=AS(r,s,u,m),g=QTe(n,o,u,i);return{activeTooltipIndex:u,activeLabel:m,activePayload:h,activeCoordinate:g}}return null},XTe=function(r,s){var n=s.axes,a=s.graphicalItems,i=s.axisType,l=s.axisIdKey,o=s.stackGroups,c=s.dataStartIndex,d=s.dataEndIndex,u=r.layout,m=r.children,h=r.stackOffset,g=xz(u,i);return n.reduce(function(f,p){var y,v=p.type.defaultProps!==void 0?Ae(Ae({},p.type.defaultProps),p.props):p.props,x=v.type,b=v.dataKey,N=v.allowDataOverflow,w=v.allowDuplicatedCategory,C=v.scale,P=v.ticks,S=v.includeHidden,A=v[l];if(f[A])return f;var k=hb(r.data,{graphicalItems:a.filter(function(te){var Ie,Te=l in te.props?te.props[l]:(Ie=te.type.defaultProps)===null||Ie===void 0?void 0:Ie[l];return Te===A}),dataStartIndex:c,dataEndIndex:d}),I=k.length,L,K,R;wTe(v.domain,N,x)&&(L=U1(v.domain,null,N),g&&(x==="number"||C!=="auto")&&(R=Rh(k,b,"category")));var F=$7(x);if(!L||L.length===0){var W,Q=(W=v.domain)!==null&&W!==void 0?W:F;if(b){if(L=Rh(k,b,x),x==="category"&&g){var H=gce(L);w&&H?(K=L,L=ly(0,I)):w||(L=TO(Q,L,p).reduce(function(te,Ie){return te.indexOf(Ie)>=0?te:[].concat(Ku(te),[Ie])},[]))}else if(x==="category")w?L=L.filter(function(te){return te!==""&&!Bt(te)}):L=TO(Q,L,p).reduce(function(te,Ie){return te.indexOf(Ie)>=0||Ie===""||Bt(Ie)?te:[].concat(Ku(te),[Ie])},[]);else if(x==="number"){var Z=Ewe(k,a.filter(function(te){var Ie,Te,de=l in te.props?te.props[l]:(Ie=te.type.defaultProps)===null||Ie===void 0?void 0:Ie[l],Ee="hide"in te.props?te.props.hide:(Te=te.type.defaultProps)===null||Te===void 0?void 0:Te.hide;return de===A&&(S||!Ee)}),b,i,u);Z&&(L=Z)}g&&(x==="number"||C!=="auto")&&(R=Rh(k,b,"category"))}else g?L=ly(0,I):o&&o[A]&&o[A].hasStack&&x==="number"?L=h==="expand"?[0,1]:bz(o[A].stackGroups,c,d):L=fz(k,a.filter(function(te){var Ie=l in te.props?te.props[l]:te.type.defaultProps[l],Te="hide"in te.props?te.props.hide:te.type.defaultProps.hide;return Ie===A&&(S||!Te)}),x,u,!0);if(x==="number")L=CS(m,L,A,i,P),Q&&(L=U1(Q,L,N));else if(x==="category"&&Q){var me=Q,Ne=L.every(function(te){return me.indexOf(te)>=0});Ne&&(L=me)}}return Ae(Ae({},f),{},Et({},A,Ae(Ae({},v),{},{axisType:i,domain:L,categoricalDomain:R,duplicateDomain:K,originalDomain:(y=v.domain)!==null&&y!==void 0?y:F,isCategorical:g,layout:u})))},{})},ZTe=function(r,s){var n=s.graphicalItems,a=s.Axis,i=s.axisType,l=s.axisIdKey,o=s.stackGroups,c=s.dataStartIndex,d=s.dataEndIndex,u=r.layout,m=r.children,h=hb(r.data,{graphicalItems:n,dataStartIndex:c,dataEndIndex:d}),g=h.length,f=xz(u,i),p=-1;return n.reduce(function(y,v){var x=v.type.defaultProps!==void 0?Ae(Ae({},v.type.defaultProps),v.props):v.props,b=x[l],N=$7("number");if(!y[b]){p++;var w;return f?w=ly(0,g):o&&o[b]&&o[b].hasStack?(w=bz(o[b].stackGroups,c,d),w=CS(m,w,b,i)):(w=U1(N,fz(h,n.filter(function(C){var P,S,A=l in C.props?C.props[l]:(P=C.type.defaultProps)===null||P===void 0?void 0:P[l],k="hide"in C.props?C.props.hide:(S=C.type.defaultProps)===null||S===void 0?void 0:S.hide;return A===b&&!k}),"number",u),a.defaultProps.allowDataOverflow),w=CS(m,w,b,i)),Ae(Ae({},y),{},Et({},b,Ae(Ae({axisType:i},a.defaultProps),{},{hide:!0,orientation:sa(WTe,"".concat(i,".").concat(p%2),null),domain:w,originalDomain:N,isCategorical:f,layout:u})))}return y},{})},JTe=function(r,s){var n=s.axisType,a=n===void 0?"xAxis":n,i=s.AxisComp,l=s.graphicalItems,o=s.stackGroups,c=s.dataStartIndex,d=s.dataEndIndex,u=r.children,m="".concat(a,"Id"),h=na(u,i),g={};return h&&h.length?g=XTe(r,{axes:h,graphicalItems:l,axisType:a,axisIdKey:m,stackGroups:o,dataStartIndex:c,dataEndIndex:d}):l&&l.length&&(g=ZTe(r,{Axis:i,graphicalItems:l,axisType:a,axisIdKey:m,stackGroups:o,dataStartIndex:c,dataEndIndex:d})),g},e4e=function(r){var s=Kl(r),n=al(s,!1,!0);return{tooltipTicks:n,orderedTooltipTicks:lP(n,function(a){return a.coordinate}),tooltipAxis:s,tooltipAxisBandSize:Gv(s,n)}},cD=function(r){var s=r.children,n=r.defaultShowTooltip,a=zn(s,Iu),i=0,l=0;return r.data&&r.data.length!==0&&(l=r.data.length-1),a&&a.props&&(a.props.startIndex>=0&&(i=a.props.startIndex),a.props.endIndex>=0&&(l=a.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:i,dataEndIndex:l,activeTooltipIndex:-1,isTooltipActive:!!n}},t4e=function(r){return!r||!r.length?!1:r.some(function(s){var n=ll(s&&s.type);return n&&n.indexOf("Bar")>=0})},dD=function(r){return r==="horizontal"?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:r==="vertical"?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:r==="centric"?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},r4e=function(r,s){var n=r.props,a=r.graphicalItems,i=r.xAxisMap,l=i===void 0?{}:i,o=r.yAxisMap,c=o===void 0?{}:o,d=n.width,u=n.height,m=n.children,h=n.margin||{},g=zn(m,Iu),f=zn(m,ol),p=Object.keys(c).reduce(function(w,C){var P=c[C],S=P.orientation;return!P.mirror&&!P.hide?Ae(Ae({},w),{},Et({},S,w[S]+P.width)):w},{left:h.left||0,right:h.right||0}),y=Object.keys(l).reduce(function(w,C){var P=l[C],S=P.orientation;return!P.mirror&&!P.hide?Ae(Ae({},w),{},Et({},S,sa(w,"".concat(S))+P.height)):w},{top:h.top||0,bottom:h.bottom||0}),v=Ae(Ae({},y),p),x=v.bottom;g&&(v.bottom+=g.props.height||Iu.defaultProps.height),f&&s&&(v=Twe(v,a,n,s));var b=d-v.left-v.right,N=u-v.top-v.bottom;return Ae(Ae({brushBottom:x},v),{},{width:Math.max(b,0),height:Math.max(N,0)})},s4e=function(r,s){if(s==="xAxis")return r[s].width;if(s==="yAxis")return r[s].height},zP=function(r){var s=r.chartName,n=r.GraphicalChild,a=r.defaultTooltipEventType,i=a===void 0?"axis":a,l=r.validateTooltipEventTypes,o=l===void 0?["axis"]:l,c=r.axisComponents,d=r.legendContent,u=r.formatAxisMap,m=r.defaultProps,h=function(v,x){var b=x.graphicalItems,N=x.stackGroups,w=x.offset,C=x.updateId,P=x.dataStartIndex,S=x.dataEndIndex,A=v.barSize,k=v.layout,I=v.barGap,L=v.barCategoryGap,K=v.maxBarSize,R=dD(k),F=R.numericAxisName,W=R.cateAxisName,Q=t4e(b),H=[];return b.forEach(function(Z,me){var Ne=hb(v.data,{graphicalItems:[Z],dataStartIndex:P,dataEndIndex:S}),te=Z.type.defaultProps!==void 0?Ae(Ae({},Z.type.defaultProps),Z.props):Z.props,Ie=te.dataKey,Te=te.maxBarSize,de=te["".concat(F,"Id")],Ee=te["".concat(W,"Id")],De={},rt=c.reduce(function(We,qe){var J=x["".concat(qe.axisType,"Map")],Ve=te["".concat(qe.axisType,"Id")];J&&J[Ve]||qe.axisType==="zAxis"||Dc();var nt=J[Ve];return Ae(Ae({},We),{},Et(Et({},qe.axisType,nt),"".concat(qe.axisType,"Ticks"),al(nt)))},De),Me=rt[W],Ge=rt["".concat(W,"Ticks")],Xe=N&&N[de]&&N[de].hasStack&&Vwe(Z,N[de].stackGroups),Ce=ll(Z.type).indexOf("Bar")>=0,Ft=Gv(Me,Ge),yt=[],cr=Q&&Awe({barSize:A,stackGroups:N,totalSize:s4e(rt,W)});if(Ce){var ar,Sr,re=Bt(Te)?K:Te,ee=(ar=(Sr=Gv(Me,Ge,!0))!==null&&Sr!==void 0?Sr:re)!==null&&ar!==void 0?ar:0;yt=_we({barGap:I,barCategoryGap:L,bandSize:ee!==Ft?ee:Ft,sizeList:cr[Ee],maxBarSize:re}),ee!==Ft&&(yt=yt.map(function(We){return Ae(Ae({},We),{},{position:Ae(Ae({},We.position),{},{offset:We.position.offset-ee/2})})}))}var we=Z&&Z.type&&Z.type.getComposedData;we&&H.push({props:Ae(Ae({},we(Ae(Ae({},rt),{},{displayedData:Ne,props:v,dataKey:Ie,item:Z,bandSize:Ft,barPosition:yt,offset:w,stackedData:Xe,layout:k,dataStartIndex:P,dataEndIndex:S}))),{},Et(Et(Et({key:Z.key||"item-".concat(me)},F,rt[F]),W,rt[W]),"animationId",C)),childIndex:_ce(Z,v.children),item:Z})}),H},g=function(v,x){var b=v.props,N=v.dataStartIndex,w=v.dataEndIndex,C=v.updateId;if(!wT({props:b}))return null;var P=b.children,S=b.layout,A=b.stackOffset,k=b.data,I=b.reverseStackOrder,L=dD(S),K=L.numericAxisName,R=L.cateAxisName,F=na(P,n),W=Lwe(k,F,"".concat(K,"Id"),"".concat(R,"Id"),A,I),Q=c.reduce(function(te,Ie){var Te="".concat(Ie.axisType,"Map");return Ae(Ae({},te),{},Et({},Te,JTe(b,Ae(Ae({},Ie),{},{graphicalItems:F,stackGroups:Ie.axisType===K&&W,dataStartIndex:N,dataEndIndex:w}))))},{}),H=r4e(Ae(Ae({},Q),{},{props:b,graphicalItems:F}),x==null?void 0:x.legendBBox);Object.keys(Q).forEach(function(te){Q[te]=u(b,Q[te],H,te.replace("Map",""),s)});var Z=Q["".concat(R,"Map")],me=e4e(Z),Ne=h(b,Ae(Ae({},Q),{},{dataStartIndex:N,dataEndIndex:w,updateId:C,graphicalItems:F,stackGroups:W,offset:H}));return Ae(Ae({formattedGraphicalItems:Ne,graphicalItems:F,offset:H,stackGroups:W},me),Q)},f=function(y){function v(x){var b,N,w;return RTe(this,v),w=LTe(this,v,[x]),Et(w,"eventEmitterSymbol",Symbol("rechartsEventEmitter")),Et(w,"accessibilityManager",new NTe),Et(w,"handleLegendBBoxUpdate",function(C){if(C){var P=w.state,S=P.dataStartIndex,A=P.dataEndIndex,k=P.updateId;w.setState(Ae({legendBBox:C},g({props:w.props,dataStartIndex:S,dataEndIndex:A,updateId:k},Ae(Ae({},w.state),{},{legendBBox:C}))))}}),Et(w,"handleReceiveSyncEvent",function(C,P,S){if(w.props.syncId===C){if(S===w.eventEmitterSymbol&&typeof w.props.syncMethod!="function")return;w.applySyncEvent(P)}}),Et(w,"handleBrushChange",function(C){var P=C.startIndex,S=C.endIndex;if(P!==w.state.dataStartIndex||S!==w.state.dataEndIndex){var A=w.state.updateId;w.setState(function(){return Ae({dataStartIndex:P,dataEndIndex:S},g({props:w.props,dataStartIndex:P,dataEndIndex:S,updateId:A},w.state))}),w.triggerSyncEvent({dataStartIndex:P,dataEndIndex:S})}}),Et(w,"handleMouseEnter",function(C){var P=w.getMouseInfo(C);if(P){var S=Ae(Ae({},P),{},{isTooltipActive:!0});w.setState(S),w.triggerSyncEvent(S);var A=w.props.onMouseEnter;$t(A)&&A(S,C)}}),Et(w,"triggeredAfterMouseMove",function(C){var P=w.getMouseInfo(C),S=P?Ae(Ae({},P),{},{isTooltipActive:!0}):{isTooltipActive:!1};w.setState(S),w.triggerSyncEvent(S);var A=w.props.onMouseMove;$t(A)&&A(S,C)}),Et(w,"handleItemMouseEnter",function(C){w.setState(function(){return{isTooltipActive:!0,activeItem:C,activePayload:C.tooltipPayload,activeCoordinate:C.tooltipPosition||{x:C.cx,y:C.cy}}})}),Et(w,"handleItemMouseLeave",function(){w.setState(function(){return{isTooltipActive:!1}})}),Et(w,"handleMouseMove",function(C){C.persist(),w.throttleTriggeredAfterMouseMove(C)}),Et(w,"handleMouseLeave",function(C){w.throttleTriggeredAfterMouseMove.cancel();var P={isTooltipActive:!1};w.setState(P),w.triggerSyncEvent(P);var S=w.props.onMouseLeave;$t(S)&&S(P,C)}),Et(w,"handleOuterEvent",function(C){var P=Ace(C),S=sa(w.props,"".concat(P));if(P&&$t(S)){var A,k;/.*touch.*/i.test(P)?k=w.getMouseInfo(C.changedTouches[0]):k=w.getMouseInfo(C),S((A=k)!==null&&A!==void 0?A:{},C)}}),Et(w,"handleClick",function(C){var P=w.getMouseInfo(C);if(P){var S=Ae(Ae({},P),{},{isTooltipActive:!0});w.setState(S),w.triggerSyncEvent(S);var A=w.props.onClick;$t(A)&&A(S,C)}}),Et(w,"handleMouseDown",function(C){var P=w.props.onMouseDown;if($t(P)){var S=w.getMouseInfo(C);P(S,C)}}),Et(w,"handleMouseUp",function(C){var P=w.props.onMouseUp;if($t(P)){var S=w.getMouseInfo(C);P(S,C)}}),Et(w,"handleTouchMove",function(C){C.changedTouches!=null&&C.changedTouches.length>0&&w.throttleTriggeredAfterMouseMove(C.changedTouches[0])}),Et(w,"handleTouchStart",function(C){C.changedTouches!=null&&C.changedTouches.length>0&&w.handleMouseDown(C.changedTouches[0])}),Et(w,"handleTouchEnd",function(C){C.changedTouches!=null&&C.changedTouches.length>0&&w.handleMouseUp(C.changedTouches[0])}),Et(w,"triggerSyncEvent",function(C){w.props.syncId!==void 0&&J0.emit(eN,w.props.syncId,C,w.eventEmitterSymbol)}),Et(w,"applySyncEvent",function(C){var P=w.props,S=P.layout,A=P.syncMethod,k=w.state.updateId,I=C.dataStartIndex,L=C.dataEndIndex;if(C.dataStartIndex!==void 0||C.dataEndIndex!==void 0)w.setState(Ae({dataStartIndex:I,dataEndIndex:L},g({props:w.props,dataStartIndex:I,dataEndIndex:L,updateId:k},w.state)));else if(C.activeTooltipIndex!==void 0){var K=C.chartX,R=C.chartY,F=C.activeTooltipIndex,W=w.state,Q=W.offset,H=W.tooltipTicks;if(!Q)return;if(typeof A=="function")F=A(H,C);else if(A==="value"){F=-1;for(var Z=0;Z<H.length;Z++)if(H[Z].value===C.activeLabel){F=Z;break}}var me=Ae(Ae({},Q),{},{x:Q.left,y:Q.top}),Ne=Math.min(K,me.x+me.width),te=Math.min(R,me.y+me.height),Ie=H[F]&&H[F].value,Te=AS(w.state,w.props.data,F),de=H[F]?{x:S==="horizontal"?H[F].coordinate:Ne,y:S==="horizontal"?te:H[F].coordinate}:F7;w.setState(Ae(Ae({},C),{},{activeLabel:Ie,activeCoordinate:de,activePayload:Te,activeTooltipIndex:F}))}else w.setState(C)}),Et(w,"renderCursor",function(C){var P,S=w.state,A=S.isTooltipActive,k=S.activeCoordinate,I=S.activePayload,L=S.offset,K=S.activeTooltipIndex,R=S.tooltipAxisBandSize,F=w.getTooltipEventType(),W=(P=C.props.active)!==null&&P!==void 0?P:A,Q=w.props.layout,H=C.key||"_recharts-cursor";return G.createElement(_Te,{key:H,activeCoordinate:k,activePayload:I,activeTooltipIndex:K,chartName:s,element:C,isActive:W,layout:Q,offset:L,tooltipAxisBandSize:R,tooltipEventType:F})}),Et(w,"renderPolarAxis",function(C,P,S){var A=sa(C,"type.axisType"),k=sa(w.state,"".concat(A,"Map")),I=C.type.defaultProps,L=I!==void 0?Ae(Ae({},I),C.props):C.props,K=k&&k[L["".concat(A,"Id")]];return j.cloneElement(C,Ae(Ae({},K),{},{className:Kt(A,K.className),key:C.key||"".concat(P,"-").concat(S),ticks:al(K,!0)}))}),Et(w,"renderPolarGrid",function(C){var P=C.props,S=P.radialLines,A=P.polarAngles,k=P.polarRadius,I=w.state,L=I.radiusAxisMap,K=I.angleAxisMap,R=Kl(L),F=Kl(K),W=F.cx,Q=F.cy,H=F.innerRadius,Z=F.outerRadius;return j.cloneElement(C,{polarAngles:Array.isArray(A)?A:al(F,!0).map(function(me){return me.coordinate}),polarRadius:Array.isArray(k)?k:al(R,!0).map(function(me){return me.coordinate}),cx:W,cy:Q,innerRadius:H,outerRadius:Z,key:C.key||"polar-grid",radialLines:S})}),Et(w,"renderLegend",function(){var C=w.state.formattedGraphicalItems,P=w.props,S=P.children,A=P.width,k=P.height,I=w.props.margin||{},L=A-(I.left||0)-(I.right||0),K=hz({children:S,formattedGraphicalItems:C,legendWidth:L,legendContent:d});if(!K)return null;var R=K.item,F=iD(K,TTe);return j.cloneElement(R,Ae(Ae({},F),{},{chartWidth:A,chartHeight:k,margin:I,onBBoxUpdate:w.handleLegendBBoxUpdate}))}),Et(w,"renderTooltip",function(){var C,P=w.props,S=P.children,A=P.accessibilityLayer,k=zn(S,Kn);if(!k)return null;var I=w.state,L=I.isTooltipActive,K=I.activeCoordinate,R=I.activePayload,F=I.activeLabel,W=I.offset,Q=(C=k.props.active)!==null&&C!==void 0?C:L;return j.cloneElement(k,{viewBox:Ae(Ae({},W),{},{x:W.left,y:W.top}),active:Q,label:F,payload:Q?R:[],coordinate:K,accessibilityLayer:A})}),Et(w,"renderBrush",function(C){var P=w.props,S=P.margin,A=P.data,k=w.state,I=k.offset,L=k.dataStartIndex,K=k.dataEndIndex,R=k.updateId;return j.cloneElement(C,{key:C.key||"_recharts-brush",onChange:Ox(w.handleBrushChange,C.props.onChange),data:A,x:Qe(C.props.x)?C.props.x:I.left,y:Qe(C.props.y)?C.props.y:I.top+I.height+I.brushBottom-(S.bottom||0),width:Qe(C.props.width)?C.props.width:I.width,startIndex:L,endIndex:K,updateId:"brush-".concat(R)})}),Et(w,"renderReferenceElement",function(C,P,S){if(!C)return null;var A=w,k=A.clipPathId,I=w.state,L=I.xAxisMap,K=I.yAxisMap,R=I.offset,F=C.type.defaultProps||{},W=C.props,Q=W.xAxisId,H=Q===void 0?F.xAxisId:Q,Z=W.yAxisId,me=Z===void 0?F.yAxisId:Z;return j.cloneElement(C,{key:C.key||"".concat(P,"-").concat(S),xAxis:L[H],yAxis:K[me],viewBox:{x:R.left,y:R.top,width:R.width,height:R.height},clipPathId:k})}),Et(w,"renderActivePoints",function(C){var P=C.item,S=C.activePoint,A=C.basePoint,k=C.childIndex,I=C.isRange,L=[],K=P.props.key,R=P.item.type.defaultProps!==void 0?Ae(Ae({},P.item.type.defaultProps),P.item.props):P.item.props,F=R.activeDot,W=R.dataKey,Q=Ae(Ae({index:k,dataKey:W,cx:S.x,cy:S.y,r:4,fill:DP(P.item),strokeWidth:2,stroke:"#fff",payload:S.payload,value:S.value},Nt(F,!1)),jv(F));return L.push(v.renderActiveDot(F,Q,"".concat(K,"-activePoint-").concat(k))),A?L.push(v.renderActiveDot(F,Ae(Ae({},Q),{},{cx:A.x,cy:A.y}),"".concat(K,"-basePoint-").concat(k))):I&&L.push(null),L}),Et(w,"renderGraphicChild",function(C,P,S){var A=w.filterFormatItem(C,P,S);if(!A)return null;var k=w.getTooltipEventType(),I=w.state,L=I.isTooltipActive,K=I.tooltipAxis,R=I.activeTooltipIndex,F=I.activeLabel,W=w.props.children,Q=zn(W,Kn),H=A.props,Z=H.points,me=H.isRange,Ne=H.baseLine,te=A.item.type.defaultProps!==void 0?Ae(Ae({},A.item.type.defaultProps),A.item.props):A.item.props,Ie=te.activeDot,Te=te.hide,de=te.activeBar,Ee=te.activeShape,De=!!(!Te&&L&&Q&&(Ie||de||Ee)),rt={};k!=="axis"&&Q&&Q.props.trigger==="click"?rt={onClick:Ox(w.handleItemMouseEnter,C.props.onClick)}:k!=="axis"&&(rt={onMouseLeave:Ox(w.handleItemMouseLeave,C.props.onMouseLeave),onMouseEnter:Ox(w.handleItemMouseEnter,C.props.onMouseEnter)});var Me=j.cloneElement(C,Ae(Ae({},A.props),rt));function Ge(qe){return typeof K.dataKey=="function"?K.dataKey(qe.payload):null}if(De)if(R>=0){var Xe,Ce;if(K.dataKey&&!K.allowDuplicatedCategory){var Ft=typeof K.dataKey=="function"?Ge:"payload.".concat(K.dataKey.toString());Xe=yv(Z,Ft,F),Ce=me&&Ne&&yv(Ne,Ft,F)}else Xe=Z==null?void 0:Z[R],Ce=me&&Ne&&Ne[R];if(Ee||de){var yt=C.props.activeIndex!==void 0?C.props.activeIndex:R;return[j.cloneElement(C,Ae(Ae(Ae({},A.props),rt),{},{activeIndex:yt})),null,null]}if(!Bt(Xe))return[Me].concat(Ku(w.renderActivePoints({item:A,activePoint:Xe,basePoint:Ce,childIndex:R,isRange:me})))}else{var cr,ar=(cr=w.getItemByXY(w.state.activeCoordinate))!==null&&cr!==void 0?cr:{graphicalItem:Me},Sr=ar.graphicalItem,re=Sr.item,ee=re===void 0?C:re,we=Sr.childIndex,We=Ae(Ae(Ae({},A.props),rt),{},{activeIndex:we});return[j.cloneElement(ee,We),null,null]}return me?[Me,null,null]:[Me,null]}),Et(w,"renderCustomized",function(C,P,S){return j.cloneElement(C,Ae(Ae({key:"recharts-customized-".concat(S)},w.props),w.state))}),Et(w,"renderMap",{CartesianGrid:{handler:Rx,once:!0},ReferenceArea:{handler:w.renderReferenceElement},ReferenceLine:{handler:Rx},ReferenceDot:{handler:w.renderReferenceElement},XAxis:{handler:Rx},YAxis:{handler:Rx},Brush:{handler:w.renderBrush,once:!0},Bar:{handler:w.renderGraphicChild},Line:{handler:w.renderGraphicChild},Area:{handler:w.renderGraphicChild},Radar:{handler:w.renderGraphicChild},RadialBar:{handler:w.renderGraphicChild},Scatter:{handler:w.renderGraphicChild},Pie:{handler:w.renderGraphicChild},Funnel:{handler:w.renderGraphicChild},Tooltip:{handler:w.renderCursor,once:!0},PolarGrid:{handler:w.renderPolarGrid,once:!0},PolarAngleAxis:{handler:w.renderPolarAxis},PolarRadiusAxis:{handler:w.renderPolarAxis},Customized:{handler:w.renderCustomized}}),w.clipPathId="".concat((b=x.id)!==null&&b!==void 0?b:ym("recharts"),"-clip"),w.throttleTriggeredAfterMouseMove=mq(w.triggeredAfterMouseMove,(N=x.throttleDelay)!==null&&N!==void 0?N:1e3/60),w.state={},w}return UTe(v,y),$Te(v,[{key:"componentDidMount",value:function(){var b,N;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:(b=this.props.margin.left)!==null&&b!==void 0?b:0,top:(N=this.props.margin.top)!==null&&N!==void 0?N:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var b=this.props,N=b.children,w=b.data,C=b.height,P=b.layout,S=zn(N,Kn);if(S){var A=S.props.defaultIndex;if(!(typeof A!="number"||A<0||A>this.state.tooltipTicks.length-1)){var k=this.state.tooltipTicks[A]&&this.state.tooltipTicks[A].value,I=AS(this.state,w,A,k),L=this.state.tooltipTicks[A].coordinate,K=(this.state.offset.top+C)/2,R=P==="horizontal",F=R?{x:L,y:K}:{y:L,x:K},W=this.state.formattedGraphicalItems.find(function(H){var Z=H.item;return Z.type.name==="Scatter"});W&&(F=Ae(Ae({},F),W.props.points[A].tooltipPosition),I=W.props.points[A].tooltipPayload);var Q={activeTooltipIndex:A,isTooltipActive:!0,activeLabel:k,activePayload:I,activeCoordinate:F};this.setState(Q),this.renderCursor(S),this.accessibilityManager.setIndex(A)}}}},{key:"getSnapshotBeforeUpdate",value:function(b,N){if(!this.props.accessibilityLayer)return null;if(this.state.tooltipTicks!==N.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==b.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==b.margin){var w,C;this.accessibilityManager.setDetails({offset:{left:(w=this.props.margin.left)!==null&&w!==void 0?w:0,top:(C=this.props.margin.top)!==null&&C!==void 0?C:0}})}return null}},{key:"componentDidUpdate",value:function(b){s1([zn(b.children,Kn)],[zn(this.props.children,Kn)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var b=zn(this.props.children,Kn);if(b&&typeof b.props.shared=="boolean"){var N=b.props.shared?"axis":"item";return o.indexOf(N)>=0?N:i}return i}},{key:"getMouseInfo",value:function(b){if(!this.container)return null;var N=this.container,w=N.getBoundingClientRect(),C=tje(w),P={chartX:Math.round(b.pageX-C.left),chartY:Math.round(b.pageY-C.top)},S=w.width/N.offsetWidth||1,A=this.inRange(P.chartX,P.chartY,S);if(!A)return null;var k=this.state,I=k.xAxisMap,L=k.yAxisMap,K=this.getTooltipEventType();if(K!=="axis"&&I&&L){var R=Kl(I).scale,F=Kl(L).scale,W=R&&R.invert?R.invert(P.chartX):null,Q=F&&F.invert?F.invert(P.chartY):null;return Ae(Ae({},P),{},{xValue:W,yValue:Q})}var H=oD(this.state,this.props.data,this.props.layout,A);return H?Ae(Ae({},P),H):null}},{key:"inRange",value:function(b,N){var w=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,C=this.props.layout,P=b/w,S=N/w;if(C==="horizontal"||C==="vertical"){var A=this.state.offset,k=P>=A.left&&P<=A.left+A.width&&S>=A.top&&S<=A.top+A.height;return k?{x:P,y:S}:null}var I=this.state,L=I.angleAxisMap,K=I.radiusAxisMap;if(L&&K){var R=Kl(L);return DO({x:P,y:S},R)}return null}},{key:"parseEventsOfWrapper",value:function(){var b=this.props.children,N=this.getTooltipEventType(),w=zn(b,Kn),C={};w&&N==="axis"&&(w.props.trigger==="click"?C={onClick:this.handleClick}:C={onMouseEnter:this.handleMouseEnter,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd});var P=jv(this.props,this.handleOuterEvent);return Ae(Ae({},P),C)}},{key:"addListener",value:function(){J0.on(eN,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){J0.removeListener(eN,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(b,N,w){for(var C=this.state.formattedGraphicalItems,P=0,S=C.length;P<S;P++){var A=C[P];if(A.item===b||A.props.key===b.key||N===ll(A.item.type)&&w===A.childIndex)return A}return null}},{key:"renderClipPath",value:function(){var b=this.clipPathId,N=this.state.offset,w=N.left,C=N.top,P=N.height,S=N.width;return G.createElement("defs",null,G.createElement("clipPath",{id:b},G.createElement("rect",{x:w,y:C,height:P,width:S})))}},{key:"getXScales",value:function(){var b=this.state.xAxisMap;return b?Object.entries(b).reduce(function(N,w){var C=aD(w,2),P=C[0],S=C[1];return Ae(Ae({},N),{},Et({},P,S.scale))},{}):null}},{key:"getYScales",value:function(){var b=this.state.yAxisMap;return b?Object.entries(b).reduce(function(N,w){var C=aD(w,2),P=C[0],S=C[1];return Ae(Ae({},N),{},Et({},P,S.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(b){var N;return(N=this.state.xAxisMap)===null||N===void 0||(N=N[b])===null||N===void 0?void 0:N.scale}},{key:"getYScaleByAxisId",value:function(b){var N;return(N=this.state.yAxisMap)===null||N===void 0||(N=N[b])===null||N===void 0?void 0:N.scale}},{key:"getItemByXY",value:function(b){var N=this.state,w=N.formattedGraphicalItems,C=N.activeItem;if(w&&w.length)for(var P=0,S=w.length;P<S;P++){var A=w[P],k=A.props,I=A.item,L=I.type.defaultProps!==void 0?Ae(Ae({},I.type.defaultProps),I.props):I.props,K=ll(I.type);if(K==="Bar"){var R=(k.data||[]).find(function(H){return k2e(b,H)});if(R)return{graphicalItem:A,payload:R}}else if(K==="RadialBar"){var F=(k.data||[]).find(function(H){return DO(b,H)});if(F)return{graphicalItem:A,payload:F}}else if(ib(A,C)||lb(A,C)||Zp(A,C)){var W=fPe({graphicalItem:A,activeTooltipItem:C,itemData:L.data}),Q=L.activeIndex===void 0?W:L.activeIndex;return{graphicalItem:Ae(Ae({},A),{},{childIndex:Q}),payload:Zp(A,C)?L.data[W]:A.props.data[W]}}}return null}},{key:"render",value:function(){var b=this;if(!wT(this))return null;var N=this.props,w=N.children,C=N.className,P=N.width,S=N.height,A=N.style,k=N.compact,I=N.title,L=N.desc,K=iD(N,OTe),R=Nt(K,!1);if(k)return G.createElement(VE,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},G.createElement(a1,Ad({},R,{width:P,height:S,title:I,desc:L}),this.renderClipPath(),CT(w,this.renderMap)));if(this.props.accessibilityLayer){var F,W;R.tabIndex=(F=this.props.tabIndex)!==null&&F!==void 0?F:0,R.role=(W=this.props.role)!==null&&W!==void 0?W:"application",R.onKeyDown=function(H){b.accessibilityManager.keyboardEvent(H)},R.onFocus=function(){b.accessibilityManager.focus()}}var Q=this.parseEventsOfWrapper();return G.createElement(VE,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},G.createElement("div",Ad({className:Kt("recharts-wrapper",C),style:Ae({position:"relative",cursor:"default",width:P,height:S},A)},Q,{ref:function(Z){b.container=Z}}),G.createElement(a1,Ad({},R,{width:P,height:S,title:I,desc:L,style:GTe}),this.renderClipPath(),CT(w,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}])}(j.Component);Et(f,"displayName",s),Et(f,"defaultProps",Ae({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},m)),Et(f,"getDerivedStateFromProps",function(y,v){var x=y.dataKey,b=y.data,N=y.children,w=y.width,C=y.height,P=y.layout,S=y.stackOffset,A=y.margin,k=v.dataStartIndex,I=v.dataEndIndex;if(v.updateId===void 0){var L=cD(y);return Ae(Ae(Ae({},L),{},{updateId:0},g(Ae(Ae({props:y},L),{},{updateId:0}),v)),{},{prevDataKey:x,prevData:b,prevWidth:w,prevHeight:C,prevLayout:P,prevStackOffset:S,prevMargin:A,prevChildren:N})}if(x!==v.prevDataKey||b!==v.prevData||w!==v.prevWidth||C!==v.prevHeight||P!==v.prevLayout||S!==v.prevStackOffset||!Ud(A,v.prevMargin)){var K=cD(y),R={chartX:v.chartX,chartY:v.chartY,isTooltipActive:v.isTooltipActive},F=Ae(Ae({},oD(v,b,P)),{},{updateId:v.updateId+1}),W=Ae(Ae(Ae({},K),R),F);return Ae(Ae(Ae({},W),g(Ae({props:y},W),v)),{},{prevDataKey:x,prevData:b,prevWidth:w,prevHeight:C,prevLayout:P,prevStackOffset:S,prevMargin:A,prevChildren:N})}if(!s1(N,v.prevChildren)){var Q,H,Z,me,Ne=zn(N,Iu),te=Ne&&(Q=(H=Ne.props)===null||H===void 0?void 0:H.startIndex)!==null&&Q!==void 0?Q:k,Ie=Ne&&(Z=(me=Ne.props)===null||me===void 0?void 0:me.endIndex)!==null&&Z!==void 0?Z:I,Te=te!==k||Ie!==I,de=!Bt(b),Ee=de&&!Te?v.updateId:v.updateId+1;return Ae(Ae({updateId:Ee},g(Ae(Ae({props:y},v),{},{updateId:Ee,dataStartIndex:te,dataEndIndex:Ie}),v)),{},{prevChildren:N,dataStartIndex:te,dataEndIndex:Ie})}return null}),Et(f,"renderActiveDot",function(y,v,x){var b;return j.isValidElement(y)?b=j.cloneElement(y,v):$t(y)?b=y(v):b=G.createElement(tb,v),G.createElement(ur,{className:"recharts-active-dot",key:x},b)});var p=j.forwardRef(function(v,x){return G.createElement(f,Ad({},v,{ref:x}))});return p.displayName=f.displayName,p},L7=zP({chartName:"LineChart",GraphicalChild:Po,axisComponents:[{axisType:"xAxis",AxisComp:Ic},{axisType:"yAxis",AxisComp:ko}],formatAxisMap:s7}),n4e=zP({chartName:"BarChart",GraphicalChild:Co,defaultTooltipEventType:"axis",validateTooltipEventTypes:["axis","item"],axisComponents:[{axisType:"xAxis",AxisComp:Ic},{axisType:"yAxis",AxisComp:ko}],formatAxisMap:s7}),a4e=zP({chartName:"PieChart",GraphicalChild:Al,validateTooltipEventTypes:["item"],defaultTooltipEventType:"item",legendContent:"children",axisComponents:[{axisType:"angleAxis",AxisComp:ab},{axisType:"radiusAxis",AxisComp:sb}],formatAxisMap:Xwe,defaultProps:{layout:"centric",startAngle:0,endAngle:360,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"}});function It(t){const r=Object.prototype.toString.call(t);return t instanceof Date||typeof t=="object"&&r==="[object Date]"?new t.constructor(+t):typeof t=="number"||r==="[object Number]"||typeof t=="string"||r==="[object String]"?new Date(t):new Date(NaN)}function $n(t,r){return t instanceof Date?new t.constructor(r):new Date(r)}function cn(t,r){const s=It(t);return isNaN(r)?$n(t,NaN):(r&&s.setDate(s.getDate()+r),s)}function ai(t,r){const s=It(t);if(isNaN(r))return $n(t,NaN);if(!r)return s;const n=s.getDate(),a=$n(t,s.getTime());a.setMonth(s.getMonth()+r+1,0);const i=a.getDate();return n>=i?a:(s.setFullYear(a.getFullYear(),a.getMonth(),n),s)}const KP=6048e5,i4e=864e5,B7=6e4,V7=36e5,Fx=43200,uD=1440;let l4e={};function Am(){return l4e}function Fi(t,r){var o,c,d,u;const s=Am(),n=(r==null?void 0:r.weekStartsOn)??((c=(o=r==null?void 0:r.locale)==null?void 0:o.options)==null?void 0:c.weekStartsOn)??s.weekStartsOn??((u=(d=s.locale)==null?void 0:d.options)==null?void 0:u.weekStartsOn)??0,a=It(t),i=a.getDay(),l=(i<n?7:0)+i-n;return a.setDate(a.getDate()-l),a.setHours(0,0,0,0),a}function Rc(t){return Fi(t,{weekStartsOn:1})}function U7(t){const r=It(t),s=r.getFullYear(),n=$n(t,0);n.setFullYear(s+1,0,4),n.setHours(0,0,0,0);const a=Rc(n),i=$n(t,0);i.setFullYear(s,0,4),i.setHours(0,0,0,0);const l=Rc(i);return r.getTime()>=a.getTime()?s+1:r.getTime()>=l.getTime()?s:s-1}function Hu(t){const r=It(t);return r.setHours(0,0,0,0),r}function Wu(t){const r=It(t),s=new Date(Date.UTC(r.getFullYear(),r.getMonth(),r.getDate(),r.getHours(),r.getMinutes(),r.getSeconds(),r.getMilliseconds()));return s.setUTCFullYear(r.getFullYear()),+t-+s}function Ga(t,r){const s=Hu(t),n=Hu(r),a=+s-Wu(s),i=+n-Wu(n);return Math.round((a-i)/i4e)}function o4e(t){const r=U7(t),s=$n(t,0);return s.setFullYear(r,0,4),s.setHours(0,0,0,0),Rc(s)}function _S(t,r){const s=r*7;return cn(t,s)}function c4e(t,r){return ai(t,r*12)}function d4e(t){let r;return t.forEach(function(s){const n=It(s);(r===void 0||r<n||isNaN(Number(n)))&&(r=n)}),r||new Date(NaN)}function u4e(t){let r;return t.forEach(s=>{const n=It(s);(!r||r>n||isNaN(+n))&&(r=n)}),r||new Date(NaN)}function pg(t,r){const s=It(t),n=It(r),a=s.getTime()-n.getTime();return a<0?-1:a>0?1:a}function m4e(t){return $n(t,Date.now())}function On(t,r){const s=Hu(t),n=Hu(r);return+s==+n}function HP(t){return t instanceof Date||typeof t=="object"&&Object.prototype.toString.call(t)==="[object Date]"}function TS(t){if(!HP(t)&&typeof t!="number")return!1;const r=It(t);return!isNaN(Number(r))}function Gu(t,r){const s=It(t),n=It(r),a=s.getFullYear()-n.getFullYear(),i=s.getMonth()-n.getMonth();return a*12+i}function h4e(t,r,s){const n=Fi(t,s),a=Fi(r,s),i=+n-Wu(n),l=+a-Wu(a);return Math.round((i-l)/KP)}function mD(t,r){const s=It(t),n=It(r),a=hD(s,n),i=Math.abs(Ga(s,n));s.setDate(s.getDate()-a*i);const l=+(hD(s,n)===-a),o=a*(i-l);return o===0?0:o}function hD(t,r){const s=t.getFullYear()-r.getFullYear()||t.getMonth()-r.getMonth()||t.getDate()-r.getDate()||t.getHours()-r.getHours()||t.getMinutes()-r.getMinutes()||t.getSeconds()-r.getSeconds()||t.getMilliseconds()-r.getMilliseconds();return s<0?-1:s>0?1:s}function p4e(t){return r=>{const n=(t?Math[t]:Math.trunc)(r);return n===0?0:n}}function f4e(t,r){return+It(t)-+It(r)}function x4e(t){const r=It(t);return r.setHours(23,59,59,999),r}function pb(t){const r=It(t),s=r.getMonth();return r.setFullYear(r.getFullYear(),s+1,0),r.setHours(23,59,59,999),r}function g4e(t){const r=It(t);return+x4e(r)==+pb(r)}function v4e(t,r){const s=It(t),n=It(r),a=pg(s,n),i=Math.abs(Gu(s,n));let l;if(i<1)l=0;else{s.getMonth()===1&&s.getDate()>27&&s.setDate(30),s.setMonth(s.getMonth()-a*i);let o=pg(s,n)===-a;g4e(It(t))&&i===1&&pg(t,n)===1&&(o=!1),l=a*(i-Number(o))}return l===0?0:l}function y4e(t,r,s){const n=f4e(t,r)/1e3;return p4e(s==null?void 0:s.roundingMethod)(n)}function Rn(t){const r=It(t);return r.setDate(1),r.setHours(0,0,0,0),r}function q7(t){const r=It(t),s=$n(t,0);return s.setFullYear(r.getFullYear(),0,1),s.setHours(0,0,0,0),s}function WP(t,r){var o,c,d,u;const s=Am(),n=(r==null?void 0:r.weekStartsOn)??((c=(o=r==null?void 0:r.locale)==null?void 0:o.options)==null?void 0:c.weekStartsOn)??s.weekStartsOn??((u=(d=s.locale)==null?void 0:d.options)==null?void 0:u.weekStartsOn)??0,a=It(t),i=a.getDay(),l=(i<n?-7:0)+6-(i-n);return a.setDate(a.getDate()+l),a.setHours(23,59,59,999),a}function z7(t){return WP(t,{weekStartsOn:1})}const j4e={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},b4e=(t,r,s)=>{let n;const a=j4e[t];return typeof a=="string"?n=a:r===1?n=a.one:n=a.other.replace("{{count}}",r.toString()),s!=null&&s.addSuffix?s.comparison&&s.comparison>0?"in "+n:n+" ago":n};function rN(t){return(r={})=>{const s=r.width?String(r.width):t.defaultWidth;return t.formats[s]||t.formats[t.defaultWidth]}}const N4e={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},w4e={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},S4e={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},C4e={date:rN({formats:N4e,defaultWidth:"full"}),time:rN({formats:w4e,defaultWidth:"full"}),dateTime:rN({formats:S4e,defaultWidth:"full"})},P4e={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},k4e=(t,r,s,n)=>P4e[t];function eh(t){return(r,s)=>{const n=s!=null&&s.context?String(s.context):"standalone";let a;if(n==="formatting"&&t.formattingValues){const l=t.defaultFormattingWidth||t.defaultWidth,o=s!=null&&s.width?String(s.width):l;a=t.formattingValues[o]||t.formattingValues[l]}else{const l=t.defaultWidth,o=s!=null&&s.width?String(s.width):t.defaultWidth;a=t.values[o]||t.values[l]}const i=t.argumentCallback?t.argumentCallback(r):r;return a[i]}}const A4e={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},_4e={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},T4e={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},O4e={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},E4e={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},D4e={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},M4e=(t,r)=>{const s=Number(t),n=s%100;if(n>20||n<10)switch(n%10){case 1:return s+"st";case 2:return s+"nd";case 3:return s+"rd"}return s+"th"},I4e={ordinalNumber:M4e,era:eh({values:A4e,defaultWidth:"wide"}),quarter:eh({values:_4e,defaultWidth:"wide",argumentCallback:t=>t-1}),month:eh({values:T4e,defaultWidth:"wide"}),day:eh({values:O4e,defaultWidth:"wide"}),dayPeriod:eh({values:E4e,defaultWidth:"wide",formattingValues:D4e,defaultFormattingWidth:"wide"})};function th(t){return(r,s={})=>{const n=s.width,a=n&&t.matchPatterns[n]||t.matchPatterns[t.defaultMatchWidth],i=r.match(a);if(!i)return null;const l=i[0],o=n&&t.parsePatterns[n]||t.parsePatterns[t.defaultParseWidth],c=Array.isArray(o)?F4e(o,m=>m.test(l)):R4e(o,m=>m.test(l));let d;d=t.valueCallback?t.valueCallback(c):c,d=s.valueCallback?s.valueCallback(d):d;const u=r.slice(l.length);return{value:d,rest:u}}}function R4e(t,r){for(const s in t)if(Object.prototype.hasOwnProperty.call(t,s)&&r(t[s]))return s}function F4e(t,r){for(let s=0;s<t.length;s++)if(r(t[s]))return s}function $4e(t){return(r,s={})=>{const n=r.match(t.matchPattern);if(!n)return null;const a=n[0],i=r.match(t.parsePattern);if(!i)return null;let l=t.valueCallback?t.valueCallback(i[0]):i[0];l=s.valueCallback?s.valueCallback(l):l;const o=r.slice(a.length);return{value:l,rest:o}}}const L4e=/^(\d+)(th|st|nd|rd)?/i,B4e=/\d+/i,V4e={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},U4e={any:[/^b/i,/^(a|c)/i]},q4e={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},z4e={any:[/1/i,/2/i,/3/i,/4/i]},K4e={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},H4e={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},W4e={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},G4e={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},Y4e={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},Q4e={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},X4e={ordinalNumber:$4e({matchPattern:L4e,parsePattern:B4e,valueCallback:t=>parseInt(t,10)}),era:th({matchPatterns:V4e,defaultMatchWidth:"wide",parsePatterns:U4e,defaultParseWidth:"any"}),quarter:th({matchPatterns:q4e,defaultMatchWidth:"wide",parsePatterns:z4e,defaultParseWidth:"any",valueCallback:t=>t+1}),month:th({matchPatterns:K4e,defaultMatchWidth:"wide",parsePatterns:H4e,defaultParseWidth:"any"}),day:th({matchPatterns:W4e,defaultMatchWidth:"wide",parsePatterns:G4e,defaultParseWidth:"any"}),dayPeriod:th({matchPatterns:Y4e,defaultMatchWidth:"any",parsePatterns:Q4e,defaultParseWidth:"any"})},GP={code:"en-US",formatDistance:b4e,formatLong:C4e,formatRelative:k4e,localize:I4e,match:X4e,options:{weekStartsOn:0,firstWeekContainsDate:1}};function Z4e(t){const r=It(t);return Ga(r,q7(r))+1}function K7(t){const r=It(t),s=+Rc(r)-+o4e(r);return Math.round(s/KP)+1}function H7(t,r){var u,m,h,g;const s=It(t),n=s.getFullYear(),a=Am(),i=(r==null?void 0:r.firstWeekContainsDate)??((m=(u=r==null?void 0:r.locale)==null?void 0:u.options)==null?void 0:m.firstWeekContainsDate)??a.firstWeekContainsDate??((g=(h=a.locale)==null?void 0:h.options)==null?void 0:g.firstWeekContainsDate)??1,l=$n(t,0);l.setFullYear(n+1,0,i),l.setHours(0,0,0,0);const o=Fi(l,r),c=$n(t,0);c.setFullYear(n,0,i),c.setHours(0,0,0,0);const d=Fi(c,r);return s.getTime()>=o.getTime()?n+1:s.getTime()>=d.getTime()?n:n-1}function J4e(t,r){var o,c,d,u;const s=Am(),n=(r==null?void 0:r.firstWeekContainsDate)??((c=(o=r==null?void 0:r.locale)==null?void 0:o.options)==null?void 0:c.firstWeekContainsDate)??s.firstWeekContainsDate??((u=(d=s.locale)==null?void 0:d.options)==null?void 0:u.firstWeekContainsDate)??1,a=H7(t,r),i=$n(t,0);return i.setFullYear(a,0,n),i.setHours(0,0,0,0),Fi(i,r)}function W7(t,r){const s=It(t),n=+Fi(s,r)-+J4e(s,r);return Math.round(n/KP)+1}function br(t,r){const s=t<0?"-":"",n=Math.abs(t).toString().padStart(r,"0");return s+n}const Ml={y(t,r){const s=t.getFullYear(),n=s>0?s:1-s;return br(r==="yy"?n%100:n,r.length)},M(t,r){const s=t.getMonth();return r==="M"?String(s+1):br(s+1,2)},d(t,r){return br(t.getDate(),r.length)},a(t,r){const s=t.getHours()/12>=1?"pm":"am";switch(r){case"a":case"aa":return s.toUpperCase();case"aaa":return s;case"aaaaa":return s[0];case"aaaa":default:return s==="am"?"a.m.":"p.m."}},h(t,r){return br(t.getHours()%12||12,r.length)},H(t,r){return br(t.getHours(),r.length)},m(t,r){return br(t.getMinutes(),r.length)},s(t,r){return br(t.getSeconds(),r.length)},S(t,r){const s=r.length,n=t.getMilliseconds(),a=Math.trunc(n*Math.pow(10,s-3));return br(a,r.length)}},od={am:"am",pm:"pm",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},pD={G:function(t,r,s){const n=t.getFullYear()>0?1:0;switch(r){case"G":case"GG":case"GGG":return s.era(n,{width:"abbreviated"});case"GGGGG":return s.era(n,{width:"narrow"});case"GGGG":default:return s.era(n,{width:"wide"})}},y:function(t,r,s){if(r==="yo"){const n=t.getFullYear(),a=n>0?n:1-n;return s.ordinalNumber(a,{unit:"year"})}return Ml.y(t,r)},Y:function(t,r,s,n){const a=H7(t,n),i=a>0?a:1-a;if(r==="YY"){const l=i%100;return br(l,2)}return r==="Yo"?s.ordinalNumber(i,{unit:"year"}):br(i,r.length)},R:function(t,r){const s=U7(t);return br(s,r.length)},u:function(t,r){const s=t.getFullYear();return br(s,r.length)},Q:function(t,r,s){const n=Math.ceil((t.getMonth()+1)/3);switch(r){case"Q":return String(n);case"QQ":return br(n,2);case"Qo":return s.ordinalNumber(n,{unit:"quarter"});case"QQQ":return s.quarter(n,{width:"abbreviated",context:"formatting"});case"QQQQQ":return s.quarter(n,{width:"narrow",context:"formatting"});case"QQQQ":default:return s.quarter(n,{width:"wide",context:"formatting"})}},q:function(t,r,s){const n=Math.ceil((t.getMonth()+1)/3);switch(r){case"q":return String(n);case"qq":return br(n,2);case"qo":return s.ordinalNumber(n,{unit:"quarter"});case"qqq":return s.quarter(n,{width:"abbreviated",context:"standalone"});case"qqqqq":return s.quarter(n,{width:"narrow",context:"standalone"});case"qqqq":default:return s.quarter(n,{width:"wide",context:"standalone"})}},M:function(t,r,s){const n=t.getMonth();switch(r){case"M":case"MM":return Ml.M(t,r);case"Mo":return s.ordinalNumber(n+1,{unit:"month"});case"MMM":return s.month(n,{width:"abbreviated",context:"formatting"});case"MMMMM":return s.month(n,{width:"narrow",context:"formatting"});case"MMMM":default:return s.month(n,{width:"wide",context:"formatting"})}},L:function(t,r,s){const n=t.getMonth();switch(r){case"L":return String(n+1);case"LL":return br(n+1,2);case"Lo":return s.ordinalNumber(n+1,{unit:"month"});case"LLL":return s.month(n,{width:"abbreviated",context:"standalone"});case"LLLLL":return s.month(n,{width:"narrow",context:"standalone"});case"LLLL":default:return s.month(n,{width:"wide",context:"standalone"})}},w:function(t,r,s,n){const a=W7(t,n);return r==="wo"?s.ordinalNumber(a,{unit:"week"}):br(a,r.length)},I:function(t,r,s){const n=K7(t);return r==="Io"?s.ordinalNumber(n,{unit:"week"}):br(n,r.length)},d:function(t,r,s){return r==="do"?s.ordinalNumber(t.getDate(),{unit:"date"}):Ml.d(t,r)},D:function(t,r,s){const n=Z4e(t);return r==="Do"?s.ordinalNumber(n,{unit:"dayOfYear"}):br(n,r.length)},E:function(t,r,s){const n=t.getDay();switch(r){case"E":case"EE":case"EEE":return s.day(n,{width:"abbreviated",context:"formatting"});case"EEEEE":return s.day(n,{width:"narrow",context:"formatting"});case"EEEEEE":return s.day(n,{width:"short",context:"formatting"});case"EEEE":default:return s.day(n,{width:"wide",context:"formatting"})}},e:function(t,r,s,n){const a=t.getDay(),i=(a-n.weekStartsOn+8)%7||7;switch(r){case"e":return String(i);case"ee":return br(i,2);case"eo":return s.ordinalNumber(i,{unit:"day"});case"eee":return s.day(a,{width:"abbreviated",context:"formatting"});case"eeeee":return s.day(a,{width:"narrow",context:"formatting"});case"eeeeee":return s.day(a,{width:"short",context:"formatting"});case"eeee":default:return s.day(a,{width:"wide",context:"formatting"})}},c:function(t,r,s,n){const a=t.getDay(),i=(a-n.weekStartsOn+8)%7||7;switch(r){case"c":return String(i);case"cc":return br(i,r.length);case"co":return s.ordinalNumber(i,{unit:"day"});case"ccc":return s.day(a,{width:"abbreviated",context:"standalone"});case"ccccc":return s.day(a,{width:"narrow",context:"standalone"});case"cccccc":return s.day(a,{width:"short",context:"standalone"});case"cccc":default:return s.day(a,{width:"wide",context:"standalone"})}},i:function(t,r,s){const n=t.getDay(),a=n===0?7:n;switch(r){case"i":return String(a);case"ii":return br(a,r.length);case"io":return s.ordinalNumber(a,{unit:"day"});case"iii":return s.day(n,{width:"abbreviated",context:"formatting"});case"iiiii":return s.day(n,{width:"narrow",context:"formatting"});case"iiiiii":return s.day(n,{width:"short",context:"formatting"});case"iiii":default:return s.day(n,{width:"wide",context:"formatting"})}},a:function(t,r,s){const a=t.getHours()/12>=1?"pm":"am";switch(r){case"a":case"aa":return s.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"aaa":return s.dayPeriod(a,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return s.dayPeriod(a,{width:"narrow",context:"formatting"});case"aaaa":default:return s.dayPeriod(a,{width:"wide",context:"formatting"})}},b:function(t,r,s){const n=t.getHours();let a;switch(n===12?a=od.noon:n===0?a=od.midnight:a=n/12>=1?"pm":"am",r){case"b":case"bb":return s.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"bbb":return s.dayPeriod(a,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return s.dayPeriod(a,{width:"narrow",context:"formatting"});case"bbbb":default:return s.dayPeriod(a,{width:"wide",context:"formatting"})}},B:function(t,r,s){const n=t.getHours();let a;switch(n>=17?a=od.evening:n>=12?a=od.afternoon:n>=4?a=od.morning:a=od.night,r){case"B":case"BB":case"BBB":return s.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"BBBBB":return s.dayPeriod(a,{width:"narrow",context:"formatting"});case"BBBB":default:return s.dayPeriod(a,{width:"wide",context:"formatting"})}},h:function(t,r,s){if(r==="ho"){let n=t.getHours()%12;return n===0&&(n=12),s.ordinalNumber(n,{unit:"hour"})}return Ml.h(t,r)},H:function(t,r,s){return r==="Ho"?s.ordinalNumber(t.getHours(),{unit:"hour"}):Ml.H(t,r)},K:function(t,r,s){const n=t.getHours()%12;return r==="Ko"?s.ordinalNumber(n,{unit:"hour"}):br(n,r.length)},k:function(t,r,s){let n=t.getHours();return n===0&&(n=24),r==="ko"?s.ordinalNumber(n,{unit:"hour"}):br(n,r.length)},m:function(t,r,s){return r==="mo"?s.ordinalNumber(t.getMinutes(),{unit:"minute"}):Ml.m(t,r)},s:function(t,r,s){return r==="so"?s.ordinalNumber(t.getSeconds(),{unit:"second"}):Ml.s(t,r)},S:function(t,r){return Ml.S(t,r)},X:function(t,r,s){const n=t.getTimezoneOffset();if(n===0)return"Z";switch(r){case"X":return xD(n);case"XXXX":case"XX":return Wo(n);case"XXXXX":case"XXX":default:return Wo(n,":")}},x:function(t,r,s){const n=t.getTimezoneOffset();switch(r){case"x":return xD(n);case"xxxx":case"xx":return Wo(n);case"xxxxx":case"xxx":default:return Wo(n,":")}},O:function(t,r,s){const n=t.getTimezoneOffset();switch(r){case"O":case"OO":case"OOO":return"GMT"+fD(n,":");case"OOOO":default:return"GMT"+Wo(n,":")}},z:function(t,r,s){const n=t.getTimezoneOffset();switch(r){case"z":case"zz":case"zzz":return"GMT"+fD(n,":");case"zzzz":default:return"GMT"+Wo(n,":")}},t:function(t,r,s){const n=Math.trunc(t.getTime()/1e3);return br(n,r.length)},T:function(t,r,s){const n=t.getTime();return br(n,r.length)}};function fD(t,r=""){const s=t>0?"-":"+",n=Math.abs(t),a=Math.trunc(n/60),i=n%60;return i===0?s+String(a):s+String(a)+r+br(i,2)}function xD(t,r){return t%60===0?(t>0?"-":"+")+br(Math.abs(t)/60,2):Wo(t,r)}function Wo(t,r=""){const s=t>0?"-":"+",n=Math.abs(t),a=br(Math.trunc(n/60),2),i=br(n%60,2);return s+a+r+i}const gD=(t,r)=>{switch(t){case"P":return r.date({width:"short"});case"PP":return r.date({width:"medium"});case"PPP":return r.date({width:"long"});case"PPPP":default:return r.date({width:"full"})}},G7=(t,r)=>{switch(t){case"p":return r.time({width:"short"});case"pp":return r.time({width:"medium"});case"ppp":return r.time({width:"long"});case"pppp":default:return r.time({width:"full"})}},eOe=(t,r)=>{const s=t.match(/(P+)(p+)?/)||[],n=s[1],a=s[2];if(!a)return gD(t,r);let i;switch(n){case"P":i=r.dateTime({width:"short"});break;case"PP":i=r.dateTime({width:"medium"});break;case"PPP":i=r.dateTime({width:"long"});break;case"PPPP":default:i=r.dateTime({width:"full"});break}return i.replace("{{date}}",gD(n,r)).replace("{{time}}",G7(a,r))},tOe={p:G7,P:eOe},rOe=/^D+$/,sOe=/^Y+$/,nOe=["D","DD","YY","YYYY"];function aOe(t){return rOe.test(t)}function iOe(t){return sOe.test(t)}function lOe(t,r,s){const n=oOe(t,r,s);if(console.warn(n),nOe.includes(t))throw new RangeError(n)}function oOe(t,r,s){const n=t[0]==="Y"?"years":"days of the month";return`Use \`${t.toLowerCase()}\` instead of \`${t}\` (in \`${r}\`) for formatting ${n} to the input \`${s}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const cOe=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,dOe=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,uOe=/^'([^]*?)'?$/,mOe=/''/g,hOe=/[a-zA-Z]/;function xt(t,r,s){var u,m,h,g,f,p,y,v;const n=Am(),a=(s==null?void 0:s.locale)??n.locale??GP,i=(s==null?void 0:s.firstWeekContainsDate)??((m=(u=s==null?void 0:s.locale)==null?void 0:u.options)==null?void 0:m.firstWeekContainsDate)??n.firstWeekContainsDate??((g=(h=n.locale)==null?void 0:h.options)==null?void 0:g.firstWeekContainsDate)??1,l=(s==null?void 0:s.weekStartsOn)??((p=(f=s==null?void 0:s.locale)==null?void 0:f.options)==null?void 0:p.weekStartsOn)??n.weekStartsOn??((v=(y=n.locale)==null?void 0:y.options)==null?void 0:v.weekStartsOn)??0,o=It(t);if(!TS(o))throw new RangeError("Invalid time value");let c=r.match(dOe).map(x=>{const b=x[0];if(b==="p"||b==="P"){const N=tOe[b];return N(x,a.formatLong)}return x}).join("").match(cOe).map(x=>{if(x==="''")return{isToken:!1,value:"'"};const b=x[0];if(b==="'")return{isToken:!1,value:pOe(x)};if(pD[b])return{isToken:!0,value:x};if(b.match(hOe))throw new RangeError("Format string contains an unescaped latin alphabet character `"+b+"`");return{isToken:!1,value:x}});a.localize.preprocessor&&(c=a.localize.preprocessor(o,c));const d={firstWeekContainsDate:i,weekStartsOn:l,locale:a};return c.map(x=>{if(!x.isToken)return x.value;const b=x.value;(!(s!=null&&s.useAdditionalWeekYearTokens)&&iOe(b)||!(s!=null&&s.useAdditionalDayOfYearTokens)&&aOe(b))&&lOe(b,r,String(t));const N=pD[b[0]];return N(o,b,a.localize,d)}).join("")}function pOe(t){const r=t.match(uOe);return r?r[1].replace(mOe,"'"):t}function fOe(t,r,s){const n=Am(),a=(s==null?void 0:s.locale)??n.locale??GP,i=2520,l=pg(t,r);if(isNaN(l))throw new RangeError("Invalid time value");const o=Object.assign({},s,{addSuffix:s==null?void 0:s.addSuffix,comparison:l});let c,d;l>0?(c=It(r),d=It(t)):(c=It(t),d=It(r));const u=y4e(d,c),m=(Wu(d)-Wu(c))/1e3,h=Math.round((u-m)/60);let g;if(h<2)return s!=null&&s.includeSeconds?u<5?a.formatDistance("lessThanXSeconds",5,o):u<10?a.formatDistance("lessThanXSeconds",10,o):u<20?a.formatDistance("lessThanXSeconds",20,o):u<40?a.formatDistance("halfAMinute",0,o):u<60?a.formatDistance("lessThanXMinutes",1,o):a.formatDistance("xMinutes",1,o):h===0?a.formatDistance("lessThanXMinutes",1,o):a.formatDistance("xMinutes",h,o);if(h<45)return a.formatDistance("xMinutes",h,o);if(h<90)return a.formatDistance("aboutXHours",1,o);if(h<uD){const f=Math.round(h/60);return a.formatDistance("aboutXHours",f,o)}else{if(h<i)return a.formatDistance("xDays",1,o);if(h<Fx){const f=Math.round(h/uD);return a.formatDistance("xDays",f,o)}else if(h<Fx*2)return g=Math.round(h/Fx),a.formatDistance("aboutXMonths",g,o)}if(g=v4e(d,c),g<12){const f=Math.round(h/Fx);return a.formatDistance("xMonths",f,o)}else{const f=g%12,p=Math.trunc(g/12);return f<3?a.formatDistance("aboutXYears",p,o):f<9?a.formatDistance("overXYears",p,o):a.formatDistance("almostXYears",p+1,o)}}function YP(t,r){return fOe(t,m4e(t),r)}function xOe(t){const r=It(t),s=r.getFullYear(),n=r.getMonth(),a=$n(t,0);return a.setFullYear(s,n+1,0),a.setHours(0,0,0,0),a.getDate()}function gOe(t){return Math.trunc(+It(t)/1e3)}function vOe(t){const r=It(t),s=r.getMonth();return r.setFullYear(r.getFullYear(),s+1,0),r.setHours(0,0,0,0),r}function yOe(t,r){return h4e(vOe(t),Rn(t),r)+1}function OS(t,r){const s=It(t),n=It(r);return s.getTime()>n.getTime()}function Y7(t,r){const s=It(t),n=It(r);return+s<+n}function QP(t,r){const s=It(t),n=It(r);return s.getFullYear()===n.getFullYear()&&s.getMonth()===n.getMonth()}function jOe(t,r){const s=It(t),n=It(r);return s.getFullYear()===n.getFullYear()}function fg(t,r){return cn(t,-r)}function vD(t,r){const n=SOe(t);let a;if(n.date){const c=COe(n.date,2);a=POe(c.restDateString,c.year)}if(!a||isNaN(a.getTime()))return new Date(NaN);const i=a.getTime();let l=0,o;if(n.time&&(l=kOe(n.time),isNaN(l)))return new Date(NaN);if(n.timezone){if(o=AOe(n.timezone),isNaN(o))return new Date(NaN)}else{const c=new Date(i+l),d=new Date(0);return d.setFullYear(c.getUTCFullYear(),c.getUTCMonth(),c.getUTCDate()),d.setHours(c.getUTCHours(),c.getUTCMinutes(),c.getUTCSeconds(),c.getUTCMilliseconds()),d}return new Date(i+l+o)}const $x={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},bOe=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,NOe=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,wOe=/^([+-])(\d{2})(?::?(\d{2}))?$/;function SOe(t){const r={},s=t.split($x.dateTimeDelimiter);let n;if(s.length>2)return r;if(/:/.test(s[0])?n=s[0]:(r.date=s[0],n=s[1],$x.timeZoneDelimiter.test(r.date)&&(r.date=t.split($x.timeZoneDelimiter)[0],n=t.substr(r.date.length,t.length))),n){const a=$x.timezone.exec(n);a?(r.time=n.replace(a[1],""),r.timezone=a[1]):r.time=n}return r}function COe(t,r){const s=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+r)+"})|(\\d{2}|[+-]\\d{"+(2+r)+"})$)"),n=t.match(s);if(!n)return{year:NaN,restDateString:""};const a=n[1]?parseInt(n[1]):null,i=n[2]?parseInt(n[2]):null;return{year:i===null?a:i*100,restDateString:t.slice((n[1]||n[2]).length)}}function POe(t,r){if(r===null)return new Date(NaN);const s=t.match(bOe);if(!s)return new Date(NaN);const n=!!s[4],a=rh(s[1]),i=rh(s[2])-1,l=rh(s[3]),o=rh(s[4]),c=rh(s[5])-1;if(n)return DOe(r,o,c)?_Oe(r,o,c):new Date(NaN);{const d=new Date(0);return!OOe(r,i,l)||!EOe(r,a)?new Date(NaN):(d.setUTCFullYear(r,i,Math.max(a,l)),d)}}function rh(t){return t?parseInt(t):1}function kOe(t){const r=t.match(NOe);if(!r)return NaN;const s=sN(r[1]),n=sN(r[2]),a=sN(r[3]);return MOe(s,n,a)?s*V7+n*B7+a*1e3:NaN}function sN(t){return t&&parseFloat(t.replace(",","."))||0}function AOe(t){if(t==="Z")return 0;const r=t.match(wOe);if(!r)return 0;const s=r[1]==="+"?-1:1,n=parseInt(r[2]),a=r[3]&&parseInt(r[3])||0;return IOe(n,a)?s*(n*V7+a*B7):NaN}function _Oe(t,r,s){const n=new Date(0);n.setUTCFullYear(t,0,4);const a=n.getUTCDay()||7,i=(r-1)*7+s+1-a;return n.setUTCDate(n.getUTCDate()+i),n}const TOe=[31,null,31,30,31,30,31,31,30,31,30,31];function Q7(t){return t%400===0||t%4===0&&t%100!==0}function OOe(t,r,s){return r>=0&&r<=11&&s>=1&&s<=(TOe[r]||(Q7(t)?29:28))}function EOe(t,r){return r>=1&&r<=(Q7(t)?366:365)}function DOe(t,r,s){return r>=1&&r<=53&&s>=0&&s<=6}function MOe(t,r,s){return t===24?r===0&&s===0:s>=0&&s<60&&r>=0&&r<60&&t>=0&&t<25}function IOe(t,r){return r>=0&&r<=59}function nN(t,r){const s=It(t),n=s.getFullYear(),a=s.getDate(),i=$n(t,0);i.setFullYear(n,r,15),i.setHours(0,0,0,0);const l=xOe(i);return s.setMonth(r,Math.min(a,l)),s}function yD(t,r){const s=It(t);return isNaN(+s)?$n(t,NaN):(s.setFullYear(r),s)}var XP="Popover",[X7,uFe]=rn(XP,[dm]),Vf=dm(),[ROe,$o]=X7(XP),Z7=t=>{const{__scopePopover:r,children:s,open:n,defaultOpen:a,onOpenChange:i,modal:l=!1}=t,o=Vf(r),c=j.useRef(null),[d,u]=j.useState(!1),[m=!1,h]=Fn({prop:n,defaultProp:a,onChange:i});return e.jsx(yC,{...o,children:e.jsx(ROe,{scope:r,contentId:ta(),triggerRef:c,open:m,onOpenChange:h,onOpenToggle:j.useCallback(()=>h(g=>!g),[h]),hasCustomAnchor:d,onCustomAnchorAdd:j.useCallback(()=>u(!0),[]),onCustomAnchorRemove:j.useCallback(()=>u(!1),[]),modal:l,children:s})})};Z7.displayName=XP;var J7="PopoverAnchor",FOe=j.forwardRef((t,r)=>{const{__scopePopover:s,...n}=t,a=$o(J7,s),i=Vf(s),{onCustomAnchorAdd:l,onCustomAnchorRemove:o}=a;return j.useEffect(()=>(l(),()=>o()),[l,o]),e.jsx(uj,{...i,...n,ref:r})});FOe.displayName=J7;var e9="PopoverTrigger",t9=j.forwardRef((t,r)=>{const{__scopePopover:s,...n}=t,a=$o(e9,s),i=Vf(s),l=Lt(r,a.triggerRef),o=e.jsx(ct.button,{type:"button","aria-haspopup":"dialog","aria-expanded":a.open,"aria-controls":a.contentId,"data-state":i9(a.open),...n,ref:l,onClick:He(t.onClick,a.onOpenToggle)});return a.hasCustomAnchor?o:e.jsx(uj,{asChild:!0,...i,children:o})});t9.displayName=e9;var ZP="PopoverPortal",[$Oe,LOe]=X7(ZP,{forceMount:void 0}),r9=t=>{const{__scopePopover:r,forceMount:s,children:n,container:a}=t,i=$o(ZP,r);return e.jsx($Oe,{scope:r,forceMount:s,children:e.jsx(ks,{present:s||i.open,children:e.jsx(am,{asChild:!0,container:a,children:n})})})};r9.displayName=ZP;var Yu="PopoverContent",s9=j.forwardRef((t,r)=>{const s=LOe(Yu,t.__scopePopover),{forceMount:n=s.forceMount,...a}=t,i=$o(Yu,t.__scopePopover);return e.jsx(ks,{present:n||i.open,children:i.modal?e.jsx(BOe,{...a,ref:r}):e.jsx(VOe,{...a,ref:r})})});s9.displayName=Yu;var BOe=j.forwardRef((t,r)=>{const s=$o(Yu,t.__scopePopover),n=j.useRef(null),a=Lt(r,n),i=j.useRef(!1);return j.useEffect(()=>{const l=n.current;if(l)return hj(l)},[]),e.jsx(wf,{as:Oi,allowPinchZoom:!0,children:e.jsx(n9,{...t,ref:a,trapFocus:s.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:He(t.onCloseAutoFocus,l=>{var o;l.preventDefault(),i.current||(o=s.triggerRef.current)==null||o.focus()}),onPointerDownOutside:He(t.onPointerDownOutside,l=>{const o=l.detail.originalEvent,c=o.button===0&&o.ctrlKey===!0,d=o.button===2||c;i.current=d},{checkForDefaultPrevented:!1}),onFocusOutside:He(t.onFocusOutside,l=>l.preventDefault(),{checkForDefaultPrevented:!1})})})}),VOe=j.forwardRef((t,r)=>{const s=$o(Yu,t.__scopePopover),n=j.useRef(!1),a=j.useRef(!1);return e.jsx(n9,{...t,ref:r,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:i=>{var l,o;(l=t.onCloseAutoFocus)==null||l.call(t,i),i.defaultPrevented||(n.current||(o=s.triggerRef.current)==null||o.focus(),i.preventDefault()),n.current=!1,a.current=!1},onInteractOutside:i=>{var c,d;(c=t.onInteractOutside)==null||c.call(t,i),i.defaultPrevented||(n.current=!0,i.detail.originalEvent.type==="pointerdown"&&(a.current=!0));const l=i.target;((d=s.triggerRef.current)==null?void 0:d.contains(l))&&i.preventDefault(),i.detail.originalEvent.type==="focusin"&&a.current&&i.preventDefault()}})}),n9=j.forwardRef((t,r)=>{const{__scopePopover:s,trapFocus:n,onOpenAutoFocus:a,onCloseAutoFocus:i,disableOutsidePointerEvents:l,onEscapeKeyDown:o,onPointerDownOutside:c,onFocusOutside:d,onInteractOutside:u,...m}=t,h=$o(Yu,s),g=Vf(s);return ij(),e.jsx(bf,{asChild:!0,loop:!0,trapped:n,onMountAutoFocus:a,onUnmountAutoFocus:i,children:e.jsx(nm,{asChild:!0,disableOutsidePointerEvents:l,onInteractOutside:u,onEscapeKeyDown:o,onPointerDownOutside:c,onFocusOutside:d,onDismiss:()=>h.onOpenChange(!1),children:e.jsx(jC,{"data-state":i9(h.open),role:"dialog",id:h.contentId,...g,...m,ref:r,style:{...m.style,"--radix-popover-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-popover-content-available-width":"var(--radix-popper-available-width)","--radix-popover-content-available-height":"var(--radix-popper-available-height)","--radix-popover-trigger-width":"var(--radix-popper-anchor-width)","--radix-popover-trigger-height":"var(--radix-popper-anchor-height)"}})})})}),a9="PopoverClose",UOe=j.forwardRef((t,r)=>{const{__scopePopover:s,...n}=t,a=$o(a9,s);return e.jsx(ct.button,{type:"button",...n,ref:r,onClick:He(t.onClick,()=>a.onOpenChange(!1))})});UOe.displayName=a9;var qOe="PopoverArrow",zOe=j.forwardRef((t,r)=>{const{__scopePopover:s,...n}=t,a=Vf(s);return e.jsx(bC,{...a,...n,ref:r})});zOe.displayName=qOe;function i9(t){return t?"open":"closed"}var KOe=Z7,HOe=t9,WOe=r9,l9=s9;const hn=KOe,pn=HOe,Zs=j.forwardRef(({className:t,align:r="center",sideOffset:s=4,...n},a)=>e.jsx(WOe,{children:e.jsx(l9,{ref:a,align:r,sideOffset:s,className:Oe("z-50 w-72 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...n})}));Zs.displayName=l9.displayName;var Dt=function(){return Dt=Object.assign||function(r){for(var s,n=1,a=arguments.length;n<a;n++){s=arguments[n];for(var i in s)Object.prototype.hasOwnProperty.call(s,i)&&(r[i]=s[i])}return r},Dt.apply(this,arguments)};function GOe(t,r){var s={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&r.indexOf(n)<0&&(s[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,n=Object.getOwnPropertySymbols(t);a<n.length;a++)r.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(t,n[a])&&(s[n[a]]=t[n[a]]);return s}function o9(t,r,s){for(var n=0,a=r.length,i;n<a;n++)(i||!(n in r))&&(i||(i=Array.prototype.slice.call(r,0,n)),i[n]=r[n]);return t.concat(i||Array.prototype.slice.call(r))}function Uf(t){return t.mode==="multiple"}function qf(t){return t.mode==="range"}function fb(t){return t.mode==="single"}var YOe={root:"rdp",multiple_months:"rdp-multiple_months",with_weeknumber:"rdp-with_weeknumber",vhidden:"rdp-vhidden",button_reset:"rdp-button_reset",button:"rdp-button",caption:"rdp-caption",caption_start:"rdp-caption_start",caption_end:"rdp-caption_end",caption_between:"rdp-caption_between",caption_label:"rdp-caption_label",caption_dropdowns:"rdp-caption_dropdowns",dropdown:"rdp-dropdown",dropdown_month:"rdp-dropdown_month",dropdown_year:"rdp-dropdown_year",dropdown_icon:"rdp-dropdown_icon",months:"rdp-months",month:"rdp-month",table:"rdp-table",tbody:"rdp-tbody",tfoot:"rdp-tfoot",head:"rdp-head",head_row:"rdp-head_row",head_cell:"rdp-head_cell",nav:"rdp-nav",nav_button:"rdp-nav_button",nav_button_previous:"rdp-nav_button_previous",nav_button_next:"rdp-nav_button_next",nav_icon:"rdp-nav_icon",row:"rdp-row",weeknumber:"rdp-weeknumber",cell:"rdp-cell",day:"rdp-day",day_today:"rdp-day_today",day_outside:"rdp-day_outside",day_selected:"rdp-day_selected",day_disabled:"rdp-day_disabled",day_hidden:"rdp-day_hidden",day_range_start:"rdp-day_range_start",day_range_end:"rdp-day_range_end",day_range_middle:"rdp-day_range_middle"};function QOe(t,r){return xt(t,"LLLL y",r)}function XOe(t,r){return xt(t,"d",r)}function ZOe(t,r){return xt(t,"LLLL",r)}function JOe(t){return"".concat(t)}function eEe(t,r){return xt(t,"cccccc",r)}function tEe(t,r){return xt(t,"yyyy",r)}var rEe=Object.freeze({__proto__:null,formatCaption:QOe,formatDay:XOe,formatMonthCaption:ZOe,formatWeekNumber:JOe,formatWeekdayName:eEe,formatYearCaption:tEe}),sEe=function(t,r,s){return xt(t,"do MMMM (EEEE)",s)},nEe=function(){return"Month: "},aEe=function(){return"Go to next month"},iEe=function(){return"Go to previous month"},lEe=function(t,r){return xt(t,"cccc",r)},oEe=function(t){return"Week n. ".concat(t)},cEe=function(){return"Year: "},dEe=Object.freeze({__proto__:null,labelDay:sEe,labelMonthDropdown:nEe,labelNext:aEe,labelPrevious:iEe,labelWeekNumber:oEe,labelWeekday:lEe,labelYearDropdown:cEe});function uEe(){var t="buttons",r=YOe,s=GP,n={},a={},i=1,l={},o=new Date;return{captionLayout:t,classNames:r,formatters:rEe,labels:dEe,locale:s,modifiersClassNames:n,modifiers:a,numberOfMonths:i,styles:l,today:o,mode:"default"}}function mEe(t){var r=t.fromYear,s=t.toYear,n=t.fromMonth,a=t.toMonth,i=t.fromDate,l=t.toDate;return n?i=Rn(n):r&&(i=new Date(r,0,1)),a?l=pb(a):s&&(l=new Date(s,11,31)),{fromDate:i?Hu(i):void 0,toDate:l?Hu(l):void 0}}var c9=j.createContext(void 0);function hEe(t){var r,s=t.initialProps,n=uEe(),a=mEe(s),i=a.fromDate,l=a.toDate,o=(r=s.captionLayout)!==null&&r!==void 0?r:n.captionLayout;o!=="buttons"&&(!i||!l)&&(o="buttons");var c;(fb(s)||Uf(s)||qf(s))&&(c=s.onSelect);var d=Dt(Dt(Dt({},n),s),{captionLayout:o,classNames:Dt(Dt({},n.classNames),s.classNames),components:Dt({},s.components),formatters:Dt(Dt({},n.formatters),s.formatters),fromDate:i,labels:Dt(Dt({},n.labels),s.labels),mode:s.mode||n.mode,modifiers:Dt(Dt({},n.modifiers),s.modifiers),modifiersClassNames:Dt(Dt({},n.modifiersClassNames),s.modifiersClassNames),onSelect:c,styles:Dt(Dt({},n.styles),s.styles),toDate:l});return e.jsx(c9.Provider,{value:d,children:t.children})}function Rr(){var t=j.useContext(c9);if(!t)throw new Error("useDayPicker must be used within a DayPickerProvider.");return t}function d9(t){var r=Rr(),s=r.locale,n=r.classNames,a=r.styles,i=r.formatters.formatCaption;return e.jsx("div",{className:n.caption_label,style:a.caption_label,"aria-live":"polite",role:"presentation",id:t.id,children:i(t.displayMonth,{locale:s})})}function pEe(t){return e.jsx("svg",Dt({width:"8px",height:"8px",viewBox:"0 0 120 120","data-testid":"iconDropdown"},t,{children:e.jsx("path",{d:"M4.22182541,48.2218254 C8.44222828,44.0014225 15.2388494,43.9273804 19.5496459,47.9996989 L19.7781746,48.2218254 L60,88.443 L100.221825,48.2218254 C104.442228,44.0014225 111.238849,43.9273804 115.549646,47.9996989 L115.778175,48.2218254 C119.998577,52.4422283 120.07262,59.2388494 116.000301,63.5496459 L115.778175,63.7781746 L67.7781746,111.778175 C63.5577717,115.998577 56.7611506,116.07262 52.4503541,112.000301 L52.2218254,111.778175 L4.22182541,63.7781746 C-0.0739418023,59.4824074 -0.0739418023,52.5175926 4.22182541,48.2218254 Z",fill:"currentColor",fillRule:"nonzero"})}))}function u9(t){var r,s,n=t.onChange,a=t.value,i=t.children,l=t.caption,o=t.className,c=t.style,d=Rr(),u=(s=(r=d.components)===null||r===void 0?void 0:r.IconDropdown)!==null&&s!==void 0?s:pEe;return e.jsxs("div",{className:o,style:c,children:[e.jsx("span",{className:d.classNames.vhidden,children:t["aria-label"]}),e.jsx("select",{name:t.name,"aria-label":t["aria-label"],className:d.classNames.dropdown,style:d.styles.dropdown,value:a,onChange:n,children:i}),e.jsxs("div",{className:d.classNames.caption_label,style:d.styles.caption_label,"aria-hidden":"true",children:[l,e.jsx(u,{className:d.classNames.dropdown_icon,style:d.styles.dropdown_icon})]})]})}function fEe(t){var r,s=Rr(),n=s.fromDate,a=s.toDate,i=s.styles,l=s.locale,o=s.formatters.formatMonthCaption,c=s.classNames,d=s.components,u=s.labels.labelMonthDropdown;if(!n)return e.jsx(e.Fragment,{});if(!a)return e.jsx(e.Fragment,{});var m=[];if(jOe(n,a))for(var h=Rn(n),g=n.getMonth();g<=a.getMonth();g++)m.push(nN(h,g));else for(var h=Rn(new Date),g=0;g<=11;g++)m.push(nN(h,g));var f=function(y){var v=Number(y.target.value),x=nN(Rn(t.displayMonth),v);t.onChange(x)},p=(r=d==null?void 0:d.Dropdown)!==null&&r!==void 0?r:u9;return e.jsx(p,{name:"months","aria-label":u(),className:c.dropdown_month,style:i.dropdown_month,onChange:f,value:t.displayMonth.getMonth(),caption:o(t.displayMonth,{locale:l}),children:m.map(function(y){return e.jsx("option",{value:y.getMonth(),children:o(y,{locale:l})},y.getMonth())})})}function xEe(t){var r,s=t.displayMonth,n=Rr(),a=n.fromDate,i=n.toDate,l=n.locale,o=n.styles,c=n.classNames,d=n.components,u=n.formatters.formatYearCaption,m=n.labels.labelYearDropdown,h=[];if(!a)return e.jsx(e.Fragment,{});if(!i)return e.jsx(e.Fragment,{});for(var g=a.getFullYear(),f=i.getFullYear(),p=g;p<=f;p++)h.push(yD(q7(new Date),p));var y=function(x){var b=yD(Rn(s),Number(x.target.value));t.onChange(b)},v=(r=d==null?void 0:d.Dropdown)!==null&&r!==void 0?r:u9;return e.jsx(v,{name:"years","aria-label":m(),className:c.dropdown_year,style:o.dropdown_year,onChange:y,value:s.getFullYear(),caption:u(s,{locale:l}),children:h.map(function(x){return e.jsx("option",{value:x.getFullYear(),children:u(x,{locale:l})},x.getFullYear())})})}function gEe(t,r){var s=j.useState(t),n=s[0],a=s[1],i=r===void 0?n:r;return[i,a]}function vEe(t){var r=t.month,s=t.defaultMonth,n=t.today,a=r||s||n||new Date,i=t.toDate,l=t.fromDate,o=t.numberOfMonths,c=o===void 0?1:o;if(i&&Gu(i,a)<0){var d=-1*(c-1);a=ai(i,d)}return l&&Gu(a,l)<0&&(a=l),Rn(a)}function yEe(){var t=Rr(),r=vEe(t),s=gEe(r,t.month),n=s[0],a=s[1],i=function(l){var o;if(!t.disableNavigation){var c=Rn(l);a(c),(o=t.onMonthChange)===null||o===void 0||o.call(t,c)}};return[n,i]}function jEe(t,r){for(var s=r.reverseMonths,n=r.numberOfMonths,a=Rn(t),i=Rn(ai(a,n)),l=Gu(i,a),o=[],c=0;c<l;c++){var d=ai(a,c);o.push(d)}return s&&(o=o.reverse()),o}function bEe(t,r){if(!r.disableNavigation){var s=r.toDate,n=r.pagedNavigation,a=r.numberOfMonths,i=a===void 0?1:a,l=n?i:1,o=Rn(t);if(!s)return ai(o,l);var c=Gu(s,t);if(!(c<i))return ai(o,l)}}function NEe(t,r){if(!r.disableNavigation){var s=r.fromDate,n=r.pagedNavigation,a=r.numberOfMonths,i=a===void 0?1:a,l=n?i:1,o=Rn(t);if(!s)return ai(o,-l);var c=Gu(o,s);if(!(c<=0))return ai(o,-l)}}var m9=j.createContext(void 0);function wEe(t){var r=Rr(),s=yEe(),n=s[0],a=s[1],i=jEe(n,r),l=bEe(n,r),o=NEe(n,r),c=function(m){return i.some(function(h){return QP(m,h)})},d=function(m,h){c(m)||(h&&Y7(m,h)?a(ai(m,1+r.numberOfMonths*-1)):a(m))},u={currentMonth:n,displayMonths:i,goToMonth:a,goToDate:d,previousMonth:o,nextMonth:l,isDateDisplayed:c};return e.jsx(m9.Provider,{value:u,children:t.children})}function zf(){var t=j.useContext(m9);if(!t)throw new Error("useNavigation must be used within a NavigationProvider");return t}function jD(t){var r,s=Rr(),n=s.classNames,a=s.styles,i=s.components,l=zf().goToMonth,o=function(u){l(ai(u,t.displayIndex?-t.displayIndex:0))},c=(r=i==null?void 0:i.CaptionLabel)!==null&&r!==void 0?r:d9,d=e.jsx(c,{id:t.id,displayMonth:t.displayMonth});return e.jsxs("div",{className:n.caption_dropdowns,style:a.caption_dropdowns,children:[e.jsx("div",{className:n.vhidden,children:d}),e.jsx(fEe,{onChange:o,displayMonth:t.displayMonth}),e.jsx(xEe,{onChange:o,displayMonth:t.displayMonth})]})}function SEe(t){return e.jsx("svg",Dt({width:"16px",height:"16px",viewBox:"0 0 120 120"},t,{children:e.jsx("path",{d:"M69.490332,3.34314575 C72.6145263,0.218951416 77.6798462,0.218951416 80.8040405,3.34314575 C83.8617626,6.40086786 83.9268205,11.3179931 80.9992143,14.4548388 L80.8040405,14.6568542 L35.461,60 L80.8040405,105.343146 C83.8617626,108.400868 83.9268205,113.317993 80.9992143,116.454839 L80.8040405,116.656854 C77.7463184,119.714576 72.8291931,119.779634 69.6923475,116.852028 L69.490332,116.656854 L18.490332,65.6568542 C15.4326099,62.5991321 15.367552,57.6820069 18.2951583,54.5451612 L18.490332,54.3431458 L69.490332,3.34314575 Z",fill:"currentColor",fillRule:"nonzero"})}))}function CEe(t){return e.jsx("svg",Dt({width:"16px",height:"16px",viewBox:"0 0 120 120"},t,{children:e.jsx("path",{d:"M49.8040405,3.34314575 C46.6798462,0.218951416 41.6145263,0.218951416 38.490332,3.34314575 C35.4326099,6.40086786 35.367552,11.3179931 38.2951583,14.4548388 L38.490332,14.6568542 L83.8333725,60 L38.490332,105.343146 C35.4326099,108.400868 35.367552,113.317993 38.2951583,116.454839 L38.490332,116.656854 C41.5480541,119.714576 46.4651794,119.779634 49.602025,116.852028 L49.8040405,116.656854 L100.804041,65.6568542 C103.861763,62.5991321 103.926821,57.6820069 100.999214,54.5451612 L100.804041,54.3431458 L49.8040405,3.34314575 Z",fill:"currentColor"})}))}var Ny=j.forwardRef(function(t,r){var s=Rr(),n=s.classNames,a=s.styles,i=[n.button_reset,n.button];t.className&&i.push(t.className);var l=i.join(" "),o=Dt(Dt({},a.button_reset),a.button);return t.style&&Object.assign(o,t.style),e.jsx("button",Dt({},t,{ref:r,type:"button",className:l,style:o}))});function PEe(t){var r,s,n=Rr(),a=n.dir,i=n.locale,l=n.classNames,o=n.styles,c=n.labels,d=c.labelPrevious,u=c.labelNext,m=n.components;if(!t.nextMonth&&!t.previousMonth)return e.jsx(e.Fragment,{});var h=d(t.previousMonth,{locale:i}),g=[l.nav_button,l.nav_button_previous].join(" "),f=u(t.nextMonth,{locale:i}),p=[l.nav_button,l.nav_button_next].join(" "),y=(r=m==null?void 0:m.IconRight)!==null&&r!==void 0?r:CEe,v=(s=m==null?void 0:m.IconLeft)!==null&&s!==void 0?s:SEe;return e.jsxs("div",{className:l.nav,style:o.nav,children:[!t.hidePrevious&&e.jsx(Ny,{name:"previous-month","aria-label":h,className:g,style:o.nav_button_previous,disabled:!t.previousMonth,onClick:t.onPreviousClick,children:a==="rtl"?e.jsx(y,{className:l.nav_icon,style:o.nav_icon}):e.jsx(v,{className:l.nav_icon,style:o.nav_icon})}),!t.hideNext&&e.jsx(Ny,{name:"next-month","aria-label":f,className:p,style:o.nav_button_next,disabled:!t.nextMonth,onClick:t.onNextClick,children:a==="rtl"?e.jsx(v,{className:l.nav_icon,style:o.nav_icon}):e.jsx(y,{className:l.nav_icon,style:o.nav_icon})})]})}function bD(t){var r=Rr().numberOfMonths,s=zf(),n=s.previousMonth,a=s.nextMonth,i=s.goToMonth,l=s.displayMonths,o=l.findIndex(function(f){return QP(t.displayMonth,f)}),c=o===0,d=o===l.length-1,u=r>1&&(c||!d),m=r>1&&(d||!c),h=function(){n&&i(n)},g=function(){a&&i(a)};return e.jsx(PEe,{displayMonth:t.displayMonth,hideNext:u,hidePrevious:m,nextMonth:a,previousMonth:n,onPreviousClick:h,onNextClick:g})}function kEe(t){var r,s=Rr(),n=s.classNames,a=s.disableNavigation,i=s.styles,l=s.captionLayout,o=s.components,c=(r=o==null?void 0:o.CaptionLabel)!==null&&r!==void 0?r:d9,d;return a?d=e.jsx(c,{id:t.id,displayMonth:t.displayMonth}):l==="dropdown"?d=e.jsx(jD,{displayMonth:t.displayMonth,id:t.id}):l==="dropdown-buttons"?d=e.jsxs(e.Fragment,{children:[e.jsx(jD,{displayMonth:t.displayMonth,displayIndex:t.displayIndex,id:t.id}),e.jsx(bD,{displayMonth:t.displayMonth,displayIndex:t.displayIndex,id:t.id})]}):d=e.jsxs(e.Fragment,{children:[e.jsx(c,{id:t.id,displayMonth:t.displayMonth,displayIndex:t.displayIndex}),e.jsx(bD,{displayMonth:t.displayMonth,id:t.id})]}),e.jsx("div",{className:n.caption,style:i.caption,children:d})}function AEe(t){var r=Rr(),s=r.footer,n=r.styles,a=r.classNames.tfoot;return s?e.jsx("tfoot",{className:a,style:n.tfoot,children:e.jsx("tr",{children:e.jsx("td",{colSpan:8,children:s})})}):e.jsx(e.Fragment,{})}function _Ee(t,r,s){for(var n=s?Rc(new Date):Fi(new Date,{locale:t,weekStartsOn:r}),a=[],i=0;i<7;i++){var l=cn(n,i);a.push(l)}return a}function TEe(){var t=Rr(),r=t.classNames,s=t.styles,n=t.showWeekNumber,a=t.locale,i=t.weekStartsOn,l=t.ISOWeek,o=t.formatters.formatWeekdayName,c=t.labels.labelWeekday,d=_Ee(a,i,l);return e.jsxs("tr",{style:s.head_row,className:r.head_row,children:[n&&e.jsx("td",{style:s.head_cell,className:r.head_cell}),d.map(function(u,m){return e.jsx("th",{scope:"col",className:r.head_cell,style:s.head_cell,"aria-label":c(u,{locale:a}),children:o(u,{locale:a})},m)})]})}function OEe(){var t,r=Rr(),s=r.classNames,n=r.styles,a=r.components,i=(t=a==null?void 0:a.HeadRow)!==null&&t!==void 0?t:TEe;return e.jsx("thead",{style:n.head,className:s.head,children:e.jsx(i,{})})}function EEe(t){var r=Rr(),s=r.locale,n=r.formatters.formatDay;return e.jsx(e.Fragment,{children:n(t.date,{locale:s})})}var JP=j.createContext(void 0);function DEe(t){if(!Uf(t.initialProps)){var r={selected:void 0,modifiers:{disabled:[]}};return e.jsx(JP.Provider,{value:r,children:t.children})}return e.jsx(MEe,{initialProps:t.initialProps,children:t.children})}function MEe(t){var r=t.initialProps,s=t.children,n=r.selected,a=r.min,i=r.max,l=function(d,u,m){var h,g;(h=r.onDayClick)===null||h===void 0||h.call(r,d,u,m);var f=!!(u.selected&&a&&(n==null?void 0:n.length)===a);if(!f){var p=!!(!u.selected&&i&&(n==null?void 0:n.length)===i);if(!p){var y=n?o9([],n):[];if(u.selected){var v=y.findIndex(function(x){return On(d,x)});y.splice(v,1)}else y.push(d);(g=r.onSelect)===null||g===void 0||g.call(r,y,d,u,m)}}},o={disabled:[]};n&&o.disabled.push(function(d){var u=i&&n.length>i-1,m=n.some(function(h){return On(h,d)});return!!(u&&!m)});var c={selected:n,onDayClick:l,modifiers:o};return e.jsx(JP.Provider,{value:c,children:s})}function ek(){var t=j.useContext(JP);if(!t)throw new Error("useSelectMultiple must be used within a SelectMultipleProvider");return t}function IEe(t,r){var s=r||{},n=s.from,a=s.to;return n&&a?On(a,t)&&On(n,t)?void 0:On(a,t)?{from:a,to:void 0}:On(n,t)?void 0:OS(n,t)?{from:t,to:a}:{from:n,to:t}:a?OS(t,a)?{from:a,to:t}:{from:t,to:a}:n?Y7(t,n)?{from:t,to:n}:{from:n,to:t}:{from:t,to:void 0}}var tk=j.createContext(void 0);function REe(t){if(!qf(t.initialProps)){var r={selected:void 0,modifiers:{range_start:[],range_end:[],range_middle:[],disabled:[]}};return e.jsx(tk.Provider,{value:r,children:t.children})}return e.jsx(FEe,{initialProps:t.initialProps,children:t.children})}function FEe(t){var r=t.initialProps,s=t.children,n=r.selected,a=n||{},i=a.from,l=a.to,o=r.min,c=r.max,d=function(g,f,p){var y,v;(y=r.onDayClick)===null||y===void 0||y.call(r,g,f,p);var x=IEe(g,n);(v=r.onSelect)===null||v===void 0||v.call(r,x,g,f,p)},u={range_start:[],range_end:[],range_middle:[],disabled:[]};if(i?(u.range_start=[i],l?(u.range_end=[l],On(i,l)||(u.range_middle=[{after:i,before:l}])):u.range_end=[i]):l&&(u.range_start=[l],u.range_end=[l]),o&&(i&&!l&&u.disabled.push({after:fg(i,o-1),before:cn(i,o-1)}),i&&l&&u.disabled.push({after:i,before:cn(i,o-1)}),!i&&l&&u.disabled.push({after:fg(l,o-1),before:cn(l,o-1)})),c){if(i&&!l&&(u.disabled.push({before:cn(i,-c+1)}),u.disabled.push({after:cn(i,c-1)})),i&&l){var m=Ga(l,i)+1,h=c-m;u.disabled.push({before:fg(i,h)}),u.disabled.push({after:cn(l,h)})}!i&&l&&(u.disabled.push({before:cn(l,-c+1)}),u.disabled.push({after:cn(l,c-1)}))}return e.jsx(tk.Provider,{value:{selected:n,onDayClick:d,modifiers:u},children:s})}function rk(){var t=j.useContext(tk);if(!t)throw new Error("useSelectRange must be used within a SelectRangeProvider");return t}function xg(t){return Array.isArray(t)?o9([],t):t!==void 0?[t]:[]}function $Ee(t){var r={};return Object.entries(t).forEach(function(s){var n=s[0],a=s[1];r[n]=xg(a)}),r}var ii;(function(t){t.Outside="outside",t.Disabled="disabled",t.Selected="selected",t.Hidden="hidden",t.Today="today",t.RangeStart="range_start",t.RangeEnd="range_end",t.RangeMiddle="range_middle"})(ii||(ii={}));var LEe=ii.Selected,Hi=ii.Disabled,BEe=ii.Hidden,VEe=ii.Today,aN=ii.RangeEnd,iN=ii.RangeMiddle,lN=ii.RangeStart,UEe=ii.Outside;function qEe(t,r,s){var n,a=(n={},n[LEe]=xg(t.selected),n[Hi]=xg(t.disabled),n[BEe]=xg(t.hidden),n[VEe]=[t.today],n[aN]=[],n[iN]=[],n[lN]=[],n[UEe]=[],n);return t.fromDate&&a[Hi].push({before:t.fromDate}),t.toDate&&a[Hi].push({after:t.toDate}),Uf(t)?a[Hi]=a[Hi].concat(r.modifiers[Hi]):qf(t)&&(a[Hi]=a[Hi].concat(s.modifiers[Hi]),a[lN]=s.modifiers[lN],a[iN]=s.modifiers[iN],a[aN]=s.modifiers[aN]),a}var h9=j.createContext(void 0);function zEe(t){var r=Rr(),s=ek(),n=rk(),a=qEe(r,s,n),i=$Ee(r.modifiers),l=Dt(Dt({},a),i);return e.jsx(h9.Provider,{value:l,children:t.children})}function p9(){var t=j.useContext(h9);if(!t)throw new Error("useModifiers must be used within a ModifiersProvider");return t}function KEe(t){return!!(t&&typeof t=="object"&&"before"in t&&"after"in t)}function HEe(t){return!!(t&&typeof t=="object"&&"from"in t)}function WEe(t){return!!(t&&typeof t=="object"&&"after"in t)}function GEe(t){return!!(t&&typeof t=="object"&&"before"in t)}function YEe(t){return!!(t&&typeof t=="object"&&"dayOfWeek"in t)}function QEe(t,r){var s,n=r.from,a=r.to;if(n&&a){var i=Ga(a,n)<0;i&&(s=[a,n],n=s[0],a=s[1]);var l=Ga(t,n)>=0&&Ga(a,t)>=0;return l}return a?On(a,t):n?On(n,t):!1}function XEe(t){return HP(t)}function ZEe(t){return Array.isArray(t)&&t.every(HP)}function JEe(t,r){return r.some(function(s){if(typeof s=="boolean")return s;if(XEe(s))return On(t,s);if(ZEe(s))return s.includes(t);if(HEe(s))return QEe(t,s);if(YEe(s))return s.dayOfWeek.includes(t.getDay());if(KEe(s)){var n=Ga(s.before,t),a=Ga(s.after,t),i=n>0,l=a<0,o=OS(s.before,s.after);return o?l&&i:i||l}return WEe(s)?Ga(t,s.after)>0:GEe(s)?Ga(s.before,t)>0:typeof s=="function"?s(t):!1})}function sk(t,r,s){var n=Object.keys(r).reduce(function(i,l){var o=r[l];return JEe(t,o)&&i.push(l),i},[]),a={};return n.forEach(function(i){return a[i]=!0}),s&&!QP(t,s)&&(a.outside=!0),a}function eDe(t,r){for(var s=Rn(t[0]),n=pb(t[t.length-1]),a,i,l=s;l<=n;){var o=sk(l,r),c=!o.disabled&&!o.hidden;if(!c){l=cn(l,1);continue}if(o.selected)return l;o.today&&!i&&(i=l),a||(a=l),l=cn(l,1)}return i||a}var tDe=365;function f9(t,r){var s=r.moveBy,n=r.direction,a=r.context,i=r.modifiers,l=r.retry,o=l===void 0?{count:0,lastFocused:t}:l,c=a.weekStartsOn,d=a.fromDate,u=a.toDate,m=a.locale,h={day:cn,week:_S,month:ai,year:c4e,startOfWeek:function(y){return a.ISOWeek?Rc(y):Fi(y,{locale:m,weekStartsOn:c})},endOfWeek:function(y){return a.ISOWeek?z7(y):WP(y,{locale:m,weekStartsOn:c})}},g=h[s](t,n==="after"?1:-1);n==="before"&&d?g=d4e([d,g]):n==="after"&&u&&(g=u4e([u,g]));var f=!0;if(i){var p=sk(g,i);f=!p.disabled&&!p.hidden}return f?g:o.count>tDe?o.lastFocused:f9(g,{moveBy:s,direction:n,context:a,modifiers:i,retry:Dt(Dt({},o),{count:o.count+1})})}var x9=j.createContext(void 0);function rDe(t){var r=zf(),s=p9(),n=j.useState(),a=n[0],i=n[1],l=j.useState(),o=l[0],c=l[1],d=eDe(r.displayMonths,s),u=a??(o&&r.isDateDisplayed(o))?o:d,m=function(){c(a),i(void 0)},h=function(y){i(y)},g=Rr(),f=function(y,v){if(a){var x=f9(a,{moveBy:y,direction:v,context:g,modifiers:s});On(a,x)||(r.goToDate(x,a),h(x))}},p={focusedDay:a,focusTarget:u,blur:m,focus:h,focusDayAfter:function(){return f("day","after")},focusDayBefore:function(){return f("day","before")},focusWeekAfter:function(){return f("week","after")},focusWeekBefore:function(){return f("week","before")},focusMonthBefore:function(){return f("month","before")},focusMonthAfter:function(){return f("month","after")},focusYearBefore:function(){return f("year","before")},focusYearAfter:function(){return f("year","after")},focusStartOfWeek:function(){return f("startOfWeek","before")},focusEndOfWeek:function(){return f("endOfWeek","after")}};return e.jsx(x9.Provider,{value:p,children:t.children})}function nk(){var t=j.useContext(x9);if(!t)throw new Error("useFocusContext must be used within a FocusProvider");return t}function sDe(t,r){var s=p9(),n=sk(t,s,r);return n}var ak=j.createContext(void 0);function nDe(t){if(!fb(t.initialProps)){var r={selected:void 0};return e.jsx(ak.Provider,{value:r,children:t.children})}return e.jsx(aDe,{initialProps:t.initialProps,children:t.children})}function aDe(t){var r=t.initialProps,s=t.children,n=function(i,l,o){var c,d,u;if((c=r.onDayClick)===null||c===void 0||c.call(r,i,l,o),l.selected&&!r.required){(d=r.onSelect)===null||d===void 0||d.call(r,void 0,i,l,o);return}(u=r.onSelect)===null||u===void 0||u.call(r,i,i,l,o)},a={selected:r.selected,onDayClick:n};return e.jsx(ak.Provider,{value:a,children:s})}function g9(){var t=j.useContext(ak);if(!t)throw new Error("useSelectSingle must be used within a SelectSingleProvider");return t}function iDe(t,r){var s=Rr(),n=g9(),a=ek(),i=rk(),l=nk(),o=l.focusDayAfter,c=l.focusDayBefore,d=l.focusWeekAfter,u=l.focusWeekBefore,m=l.blur,h=l.focus,g=l.focusMonthBefore,f=l.focusMonthAfter,p=l.focusYearBefore,y=l.focusYearAfter,v=l.focusStartOfWeek,x=l.focusEndOfWeek,b=function(Q){var H,Z,me,Ne;fb(s)?(H=n.onDayClick)===null||H===void 0||H.call(n,t,r,Q):Uf(s)?(Z=a.onDayClick)===null||Z===void 0||Z.call(a,t,r,Q):qf(s)?(me=i.onDayClick)===null||me===void 0||me.call(i,t,r,Q):(Ne=s.onDayClick)===null||Ne===void 0||Ne.call(s,t,r,Q)},N=function(Q){var H;h(t),(H=s.onDayFocus)===null||H===void 0||H.call(s,t,r,Q)},w=function(Q){var H;m(),(H=s.onDayBlur)===null||H===void 0||H.call(s,t,r,Q)},C=function(Q){var H;(H=s.onDayMouseEnter)===null||H===void 0||H.call(s,t,r,Q)},P=function(Q){var H;(H=s.onDayMouseLeave)===null||H===void 0||H.call(s,t,r,Q)},S=function(Q){var H;(H=s.onDayPointerEnter)===null||H===void 0||H.call(s,t,r,Q)},A=function(Q){var H;(H=s.onDayPointerLeave)===null||H===void 0||H.call(s,t,r,Q)},k=function(Q){var H;(H=s.onDayTouchCancel)===null||H===void 0||H.call(s,t,r,Q)},I=function(Q){var H;(H=s.onDayTouchEnd)===null||H===void 0||H.call(s,t,r,Q)},L=function(Q){var H;(H=s.onDayTouchMove)===null||H===void 0||H.call(s,t,r,Q)},K=function(Q){var H;(H=s.onDayTouchStart)===null||H===void 0||H.call(s,t,r,Q)},R=function(Q){var H;(H=s.onDayKeyUp)===null||H===void 0||H.call(s,t,r,Q)},F=function(Q){var H;switch(Q.key){case"ArrowLeft":Q.preventDefault(),Q.stopPropagation(),s.dir==="rtl"?o():c();break;case"ArrowRight":Q.preventDefault(),Q.stopPropagation(),s.dir==="rtl"?c():o();break;case"ArrowDown":Q.preventDefault(),Q.stopPropagation(),d();break;case"ArrowUp":Q.preventDefault(),Q.stopPropagation(),u();break;case"PageUp":Q.preventDefault(),Q.stopPropagation(),Q.shiftKey?p():g();break;case"PageDown":Q.preventDefault(),Q.stopPropagation(),Q.shiftKey?y():f();break;case"Home":Q.preventDefault(),Q.stopPropagation(),v();break;case"End":Q.preventDefault(),Q.stopPropagation(),x();break}(H=s.onDayKeyDown)===null||H===void 0||H.call(s,t,r,Q)},W={onClick:b,onFocus:N,onBlur:w,onKeyDown:F,onKeyUp:R,onMouseEnter:C,onMouseLeave:P,onPointerEnter:S,onPointerLeave:A,onTouchCancel:k,onTouchEnd:I,onTouchMove:L,onTouchStart:K};return W}function lDe(){var t=Rr(),r=g9(),s=ek(),n=rk(),a=fb(t)?r.selected:Uf(t)?s.selected:qf(t)?n.selected:void 0;return a}function oDe(t){return Object.values(ii).includes(t)}function cDe(t,r){var s=[t.classNames.day];return Object.keys(r).forEach(function(n){var a=t.modifiersClassNames[n];if(a)s.push(a);else if(oDe(n)){var i=t.classNames["day_".concat(n)];i&&s.push(i)}}),s}function dDe(t,r){var s=Dt({},t.styles.day);return Object.keys(r).forEach(function(n){var a;s=Dt(Dt({},s),(a=t.modifiersStyles)===null||a===void 0?void 0:a[n])}),s}function uDe(t,r,s){var n,a,i,l=Rr(),o=nk(),c=sDe(t,r),d=iDe(t,c),u=lDe(),m=!!(l.onDayClick||l.mode!=="default");j.useEffect(function(){var C;c.outside||o.focusedDay&&m&&On(o.focusedDay,t)&&((C=s.current)===null||C===void 0||C.focus())},[o.focusedDay,t,s,m,c.outside]);var h=cDe(l,c).join(" "),g=dDe(l,c),f=!!(c.outside&&!l.showOutsideDays||c.hidden),p=(i=(a=l.components)===null||a===void 0?void 0:a.DayContent)!==null&&i!==void 0?i:EEe,y=e.jsx(p,{date:t,displayMonth:r,activeModifiers:c}),v={style:g,className:h,children:y,role:"gridcell"},x=o.focusTarget&&On(o.focusTarget,t)&&!c.outside,b=o.focusedDay&&On(o.focusedDay,t),N=Dt(Dt(Dt({},v),(n={disabled:c.disabled,role:"gridcell"},n["aria-selected"]=c.selected,n.tabIndex=b||x?0:-1,n)),d),w={isButton:m,isHidden:f,activeModifiers:c,selectedDays:u,buttonProps:N,divProps:v};return w}function mDe(t){var r=j.useRef(null),s=uDe(t.date,t.displayMonth,r);return s.isHidden?e.jsx("div",{role:"gridcell"}):s.isButton?e.jsx(Ny,Dt({name:"day",ref:r},s.buttonProps)):e.jsx("div",Dt({},s.divProps))}function hDe(t){var r=t.number,s=t.dates,n=Rr(),a=n.onWeekNumberClick,i=n.styles,l=n.classNames,o=n.locale,c=n.labels.labelWeekNumber,d=n.formatters.formatWeekNumber,u=d(Number(r),{locale:o});if(!a)return e.jsx("span",{className:l.weeknumber,style:i.weeknumber,children:u});var m=c(Number(r),{locale:o}),h=function(g){a(r,s,g)};return e.jsx(Ny,{name:"week-number","aria-label":m,className:l.weeknumber,style:i.weeknumber,onClick:h,children:u})}function pDe(t){var r,s,n=Rr(),a=n.styles,i=n.classNames,l=n.showWeekNumber,o=n.components,c=(r=o==null?void 0:o.Day)!==null&&r!==void 0?r:mDe,d=(s=o==null?void 0:o.WeekNumber)!==null&&s!==void 0?s:hDe,u;return l&&(u=e.jsx("td",{className:i.cell,style:a.cell,children:e.jsx(d,{number:t.weekNumber,dates:t.dates})})),e.jsxs("tr",{className:i.row,style:a.row,children:[u,t.dates.map(function(m){return e.jsx("td",{className:i.cell,style:a.cell,role:"presentation",children:e.jsx(c,{displayMonth:t.displayMonth,date:m})},gOe(m))})]})}function ND(t,r,s){for(var n=s!=null&&s.ISOWeek?z7(r):WP(r,s),a=s!=null&&s.ISOWeek?Rc(t):Fi(t,s),i=Ga(n,a),l=[],o=0;o<=i;o++)l.push(cn(a,o));var c=l.reduce(function(d,u){var m=s!=null&&s.ISOWeek?K7(u):W7(u,s),h=d.find(function(g){return g.weekNumber===m});return h?(h.dates.push(u),d):(d.push({weekNumber:m,dates:[u]}),d)},[]);return c}function fDe(t,r){var s=ND(Rn(t),pb(t),r);if(r!=null&&r.useFixedWeeks){var n=yOe(t,r);if(n<6){var a=s[s.length-1],i=a.dates[a.dates.length-1],l=_S(i,6-n),o=ND(_S(i,1),l,r);s.push.apply(s,o)}}return s}function xDe(t){var r,s,n,a=Rr(),i=a.locale,l=a.classNames,o=a.styles,c=a.hideHead,d=a.fixedWeeks,u=a.components,m=a.weekStartsOn,h=a.firstWeekContainsDate,g=a.ISOWeek,f=fDe(t.displayMonth,{useFixedWeeks:!!d,ISOWeek:g,locale:i,weekStartsOn:m,firstWeekContainsDate:h}),p=(r=u==null?void 0:u.Head)!==null&&r!==void 0?r:OEe,y=(s=u==null?void 0:u.Row)!==null&&s!==void 0?s:pDe,v=(n=u==null?void 0:u.Footer)!==null&&n!==void 0?n:AEe;return e.jsxs("table",{id:t.id,className:l.table,style:o.table,role:"grid","aria-labelledby":t["aria-labelledby"],children:[!c&&e.jsx(p,{}),e.jsx("tbody",{className:l.tbody,style:o.tbody,children:f.map(function(x){return e.jsx(y,{displayMonth:t.displayMonth,dates:x.dates,weekNumber:x.weekNumber},x.weekNumber)})}),e.jsx(v,{displayMonth:t.displayMonth})]})}function gDe(){return!!(typeof window<"u"&&window.document&&window.document.createElement)}var vDe=gDe()?j.useLayoutEffect:j.useEffect,oN=!1,yDe=0;function wD(){return"react-day-picker-".concat(++yDe)}function jDe(t){var r,s=t??(oN?wD():null),n=j.useState(s),a=n[0],i=n[1];return vDe(function(){a===null&&i(wD())},[]),j.useEffect(function(){oN===!1&&(oN=!0)},[]),(r=t??a)!==null&&r!==void 0?r:void 0}function bDe(t){var r,s,n=Rr(),a=n.dir,i=n.classNames,l=n.styles,o=n.components,c=zf().displayMonths,d=jDe(n.id?"".concat(n.id,"-").concat(t.displayIndex):void 0),u=n.id?"".concat(n.id,"-grid-").concat(t.displayIndex):void 0,m=[i.month],h=l.month,g=t.displayIndex===0,f=t.displayIndex===c.length-1,p=!g&&!f;a==="rtl"&&(r=[g,f],f=r[0],g=r[1]),g&&(m.push(i.caption_start),h=Dt(Dt({},h),l.caption_start)),f&&(m.push(i.caption_end),h=Dt(Dt({},h),l.caption_end)),p&&(m.push(i.caption_between),h=Dt(Dt({},h),l.caption_between));var y=(s=o==null?void 0:o.Caption)!==null&&s!==void 0?s:kEe;return e.jsxs("div",{className:m.join(" "),style:h,children:[e.jsx(y,{id:d,displayMonth:t.displayMonth,displayIndex:t.displayIndex}),e.jsx(xDe,{id:u,"aria-labelledby":d,displayMonth:t.displayMonth})]},t.displayIndex)}function NDe(t){var r=Rr(),s=r.classNames,n=r.styles;return e.jsx("div",{className:s.months,style:n.months,children:t.children})}function wDe(t){var r,s,n=t.initialProps,a=Rr(),i=nk(),l=zf(),o=j.useState(!1),c=o[0],d=o[1];j.useEffect(function(){a.initialFocus&&i.focusTarget&&(c||(i.focus(i.focusTarget),d(!0)))},[a.initialFocus,c,i.focus,i.focusTarget,i]);var u=[a.classNames.root,a.className];a.numberOfMonths>1&&u.push(a.classNames.multiple_months),a.showWeekNumber&&u.push(a.classNames.with_weeknumber);var m=Dt(Dt({},a.styles.root),a.style),h=Object.keys(n).filter(function(f){return f.startsWith("data-")}).reduce(function(f,p){var y;return Dt(Dt({},f),(y={},y[p]=n[p],y))},{}),g=(s=(r=n.components)===null||r===void 0?void 0:r.Months)!==null&&s!==void 0?s:NDe;return e.jsx("div",Dt({className:u.join(" "),style:m,dir:a.dir,id:a.id,nonce:n.nonce,title:n.title,lang:n.lang},h,{children:e.jsx(g,{children:l.displayMonths.map(function(f,p){return e.jsx(bDe,{displayIndex:p,displayMonth:f},p)})})}))}function SDe(t){var r=t.children,s=GOe(t,["children"]);return e.jsx(hEe,{initialProps:s,children:e.jsx(wEe,{children:e.jsx(nDe,{initialProps:s,children:e.jsx(DEe,{initialProps:s,children:e.jsx(REe,{initialProps:s,children:e.jsx(zEe,{children:e.jsx(rDe,{children:r})})})})})})})}function CDe(t){return e.jsx(SDe,Dt({},t,{children:e.jsx(wDe,{initialProps:t})}))}function Js({className:t,classNames:r,showOutsideDays:s=!0,...n}){return e.jsx(CDe,{showOutsideDays:s,className:Oe("p-3",t),classNames:{months:"flex flex-col sm:flex-row space-y-4 sm:space-x-4 sm:space-y-0",month:"space-y-4",caption:"flex justify-center pt-1 relative items-center",caption_label:"text-sm font-medium",nav:"space-x-1 flex items-center",nav_button:Oe(bp({variant:"outline"}),"h-7 w-7 bg-transparent p-0 opacity-50 hover:opacity-100"),nav_button_previous:"absolute left-1",nav_button_next:"absolute right-1",table:"w-full border-collapse space-y-1",head_row:"flex",head_cell:"text-muted-foreground rounded-md w-9 font-normal text-[0.8rem]",row:"flex w-full mt-2",cell:"h-9 w-9 text-center text-sm p-0 relative [&:has([aria-selected].day-range-end)]:rounded-r-md [&:has([aria-selected].day-outside)]:bg-accent/50 [&:has([aria-selected])]:bg-accent first:[&:has([aria-selected])]:rounded-l-md last:[&:has([aria-selected])]:rounded-r-md focus-within:relative focus-within:z-20",day:Oe(bp({variant:"ghost"}),"h-9 w-9 p-0 font-normal aria-selected:opacity-100"),day_range_end:"day-range-end",day_selected:"bg-primary text-primary-foreground hover:bg-primary hover:text-primary-foreground focus:bg-primary focus:text-primary-foreground",day_today:"bg-accent text-accent-foreground",day_outside:"day-outside text-muted-foreground opacity-50 aria-selected:bg-accent/50 aria-selected:text-muted-foreground aria-selected:opacity-30",day_disabled:"text-muted-foreground opacity-50",day_range_middle:"aria-selected:bg-accent aria-selected:text-accent-foreground",day_hidden:"invisible",...r},components:{IconLeft:({...a})=>e.jsx(ip,{className:"h-4 w-4"}),IconRight:({...a})=>e.jsx(Xn,{className:"h-4 w-4"})},...n})}Js.displayName="Calendar";function Il({className:t,...r}){return e.jsx("div",{className:Oe("animate-pulse rounded-md bg-muted",t),...r})}function PDe(){const{user:t}=dt(),[r,s]=j.useState({startDate:fg(new Date,30),endDate:new Date}),[n,a]=j.useState(["active_users","page_views","service_usage_recharge","service_usage_booking"]),[i,l]=j.useState(""),[o,c]=j.useState(""),[d,u]=j.useState("overview"),{data:m,isLoading:h}=fe({queryKey:["/api/analytics/metrics",{startDate:r.startDate.toISOString(),endDate:r.endDate.toISOString(),metrics:n,district:i,taluk:o}],queryFn:async()=>{if(!t)return[];const x=new URLSearchParams;return x.append("startDate",r.startDate.toISOString()),x.append("endDate",r.endDate.toISOString()),n.forEach(N=>{x.append("metrics",N)}),i&&x.append("district",i),o&&x.append("taluk",o),await(await le("GET",`/api/analytics/metrics?${x.toString()}`)).json()},enabled:!!t&&t.userType!=="customer"&&TS(r.startDate)&&TS(r.endDate)}),{data:g=[],isLoading:f}=fe({queryKey:["/api/reports"],queryFn:async()=>t?await(await le("GET","/api/reports")).json():[],enabled:!!t&&t.userType!=="customer"});if(!t||t.userType!=="admin"&&t.userType!=="branch_manager"&&t.userType!=="taluk_manager")return e.jsx("div",{className:"flex items-center justify-center h-screen",children:e.jsxs("div",{className:"text-center",children:[e.jsx("h1",{className:"text-2xl font-bold mb-2",children:"Access Denied"}),e.jsx("p",{className:"text-muted-foreground",children:"You don't have permission to view this page."})]})});const p=()=>!m||!Array.isArray(m)?[]:m.map(x=>({date:xt(new Date(x.date),"MMM dd"),value:x.value,metric:x.metric})),y=x=>!m||!Array.isArray(m)?0:m.filter(b=>b.metric===x).reduce((b,N)=>b+N.value,0),v=x=>{if(!m||!Array.isArray(m))return 0;const b=m.filter(N=>N.metric===x).sort((N,w)=>new Date(w.date).getTime()-new Date(N.date).getTime());return b.length>0?b[0].value:0};return e.jsxs("div",{className:"container mx-auto py-8",children:[e.jsx("h1",{className:"text-3xl font-bold mb-2",children:"Analytics Dashboard"}),e.jsx("p",{className:"text-muted-foreground mb-6",children:"View key metrics and performance indicators for the Nalamini service platform."}),e.jsxs(rr,{value:d,onValueChange:u,className:"mb-8",children:[e.jsxs(tr,{className:"mb-4",children:[e.jsx(ke,{value:"overview",children:"Overview"}),e.jsx(ke,{value:"reports",children:"Reports"}),e.jsx(ke,{value:"detailed",children:"Detailed Analysis"})]}),e.jsxs(Le,{value:"overview",children:[e.jsxs("div",{className:"flex flex-wrap items-center gap-4 mb-6",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx(se,{htmlFor:"date-range",className:"mr-2",children:"Date Range:"}),e.jsx("div",{className:"grid gap-2",children:e.jsxs(hn,{children:[e.jsx(pn,{asChild:!0,children:e.jsxs(T,{id:"date-range",variant:"outline",className:"w-[300px] justify-start text-left font-normal",children:[e.jsx(Xt,{className:"mr-2 h-4 w-4"}),xt(r.startDate,"PPP")," - ",xt(r.endDate,"PPP")]})}),e.jsx(Zs,{className:"w-auto p-0",children:e.jsxs("div",{className:"flex",children:[e.jsxs("div",{className:"border-r p-2",children:[e.jsx("div",{className:"px-3 py-2 font-medium",children:"Start Date"}),e.jsx(Js,{mode:"single",selected:r.startDate,onSelect:x=>x&&s({...r,startDate:x}),initialFocus:!0})]}),e.jsxs("div",{className:"p-2",children:[e.jsx("div",{className:"px-3 py-2 font-medium",children:"End Date"}),e.jsx(Js,{mode:"single",selected:r.endDate,onSelect:x=>x&&s({...r,endDate:x}),initialFocus:!0})]})]})})]})})]}),t.userType==="admin"&&e.jsxs("div",{className:"flex items-center",children:[e.jsx(se,{htmlFor:"district",className:"mr-2",children:"District:"}),e.jsxs(je,{value:i,onValueChange:l,children:[e.jsx(ge,{id:"district",className:"w-[200px]",children:e.jsx(be,{placeholder:"All Districts"})}),e.jsxs(ve,{children:[e.jsx(O,{value:"",children:"All Districts"}),e.jsx(O,{value:"Chennai",children:"Chennai"}),e.jsx(O,{value:"Coimbatore",children:"Coimbatore"}),e.jsx(O,{value:"Madurai",children:"Madurai"})]})]})]}),(t.userType==="admin"||t.userType==="branch_manager")&&e.jsxs("div",{className:"flex items-center",children:[e.jsx(se,{htmlFor:"taluk",className:"mr-2",children:"Taluk:"}),e.jsxs(je,{value:o,onValueChange:c,children:[e.jsx(ge,{id:"taluk",className:"w-[200px]",children:e.jsx(be,{placeholder:"All Taluks"})}),e.jsxs(ve,{children:[e.jsx(O,{value:"",children:"All Taluks"}),e.jsx(O,{value:"Chennai North",children:"Chennai North"}),e.jsx(O,{value:"Chennai South",children:"Chennai South"}),e.jsx(O,{value:"Coimbatore North",children:"Coimbatore North"})]})]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 mb-8",children:[e.jsxs(E,{children:[e.jsxs(Y,{className:"flex flex-row items-center justify-between pb-2",children:[e.jsx(X,{className:"text-sm font-medium",children:"Active Users"}),e.jsx(er,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsx(D,{children:h?e.jsx(Il,{className:"h-8 w-20"}):e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"text-2xl font-bold",children:v("active_users")}),e.jsxs("p",{className:"text-xs text-muted-foreground",children:["Total: ",y("active_users")]})]})})]}),e.jsxs(E,{children:[e.jsxs(Y,{className:"flex flex-row items-center justify-between pb-2",children:[e.jsx(X,{className:"text-sm font-medium",children:"Page Views"}),e.jsx(_X,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsx(D,{children:h?e.jsx(Il,{className:"h-8 w-20"}):e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"text-2xl font-bold",children:v("page_views")}),e.jsxs("p",{className:"text-xs text-muted-foreground",children:["Total: ",y("page_views")]})]})})]}),e.jsxs(E,{children:[e.jsxs(Y,{className:"flex flex-row items-center justify-between pb-2",children:[e.jsx(X,{className:"text-sm font-medium",children:"Recharges"}),e.jsx(ia,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsx(D,{children:h?e.jsx(Il,{className:"h-8 w-20"}):e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"text-2xl font-bold",children:v("service_usage_recharge")}),e.jsxs("p",{className:"text-xs text-muted-foreground",children:["Total: ",y("service_usage_recharge")]})]})})]}),e.jsxs(E,{children:[e.jsxs(Y,{className:"flex flex-row items-center justify-between pb-2",children:[e.jsx(X,{className:"text-sm font-medium",children:"Bookings"}),e.jsx(r$,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsx(D,{children:h?e.jsx(Il,{className:"h-8 w-20"}):e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"text-2xl font-bold",children:v("service_usage_booking")}),e.jsxs("p",{className:"text-xs text-muted-foreground",children:["Total: ",y("service_usage_booking")]})]})})]})]}),e.jsxs("div",{className:"grid grid-cols-1 gap-8",children:[e.jsxs(E,{children:[e.jsxs(Y,{children:[e.jsx(X,{children:"User Activity Overview"}),e.jsx(he,{children:"Daily active users and page views over time"})]}),e.jsx(D,{className:"pt-2",children:h?e.jsx("div",{className:"h-[350px] w-full flex items-center justify-center",children:e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"})}):e.jsx(Dv,{width:"100%",height:350,children:e.jsxs(L7,{data:p(),margin:{top:20,right:30,left:20,bottom:10},children:[e.jsx(gy,{strokeDasharray:"3 3"}),e.jsx(Ic,{dataKey:"date",minTickGap:15}),e.jsx(ko,{}),e.jsx(Kn,{}),e.jsx(ol,{}),e.jsx(Po,{name:"Active Users",type:"monotone",dataKey:x=>x.metric==="active_users"?x.value:null,stroke:"#8884d8",activeDot:{r:8},connectNulls:!0}),e.jsx(Po,{name:"Page Views",type:"monotone",dataKey:x=>x.metric==="page_views"?x.value:null,stroke:"#82ca9d",connectNulls:!0})]})})})]}),e.jsxs(E,{children:[e.jsxs(Y,{children:[e.jsx(X,{children:"Service Usage"}),e.jsx(he,{children:"Comparison of different service usages over time"})]}),e.jsx(D,{className:"pt-2",children:h?e.jsx("div",{className:"h-[350px] w-full flex items-center justify-center",children:e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"})}):e.jsx(Dv,{width:"100%",height:350,children:e.jsxs(n4e,{data:p(),margin:{top:20,right:30,left:20,bottom:10},children:[e.jsx(gy,{strokeDasharray:"3 3"}),e.jsx(Ic,{dataKey:"date",minTickGap:15}),e.jsx(ko,{}),e.jsx(Kn,{}),e.jsx(ol,{}),e.jsx(Co,{name:"Recharges",dataKey:x=>x.metric==="service_usage_recharge"?x.value:null,fill:"#8884d8",connectNulls:!0}),e.jsx(Co,{name:"Bookings",dataKey:x=>x.metric==="service_usage_booking"?x.value:null,fill:"#82ca9d",connectNulls:!0})]})})})]})]})]}),e.jsx(Le,{value:"reports",children:e.jsxs("div",{className:"grid grid-cols-1 gap-6",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("h2",{className:"text-xl font-bold",children:"Saved Reports"}),e.jsx(T,{children:"Create New Report"})]}),f?e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[1,2,3].map(x=>e.jsxs(E,{children:[e.jsxs(Y,{children:[e.jsx(Il,{className:"h-4 w-2/3 mb-2"}),e.jsx(Il,{className:"h-3 w-full"})]}),e.jsxs(D,{children:[e.jsx(Il,{className:"h-3 w-full mb-2"}),e.jsx(Il,{className:"h-3 w-3/4"})]})]},x))}):g.length===0?e.jsx(E,{children:e.jsx(D,{className:"pt-6",children:e.jsxs("div",{className:"text-center py-4",children:[e.jsx("p",{className:"text-muted-foreground",children:"No reports found"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Create a new report to get started"})]})})}):e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:g.map(x=>e.jsxs(E,{children:[e.jsxs(Y,{children:[e.jsx(X,{children:x.name}),e.jsx(he,{children:x.description})]}),e.jsx(D,{children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"text-sm text-muted-foreground",children:["Last run: ",x.lastRun?xt(new Date(x.lastRun),"MMM d, yyyy"):"Never"]}),e.jsxs(T,{size:"sm",variant:"outline",children:[e.jsx(BX,{className:"mr-2 h-4 w-4"}),"Run Report"]})]})})]},x.id))})]})}),e.jsx(Le,{value:"detailed",children:e.jsxs("div",{className:"grid grid-cols-1 gap-6",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("h2",{className:"text-xl font-bold",children:"Detailed Metrics"}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(T,{variant:"outline",children:"Export Data"}),e.jsx(T,{variant:"outline",children:"Configure Metrics"})]})]}),e.jsx("p",{className:"text-muted-foreground",children:"Detailed metrics are currently in development. This feature will provide in-depth analysis of service usage patterns, user engagement, and regional performance data."}),e.jsxs(E,{children:[e.jsxs(Y,{children:[e.jsx(X,{children:"Coming Soon"}),e.jsx(he,{children:"Detailed analytics features will be available in the next update"})]}),e.jsxs(D,{children:[e.jsx("p",{className:"text-muted-foreground",children:"The detailed analytics dashboard will include:"}),e.jsxs("ul",{className:"list-disc list-inside mt-2 space-y-1 text-muted-foreground",children:[e.jsx("li",{children:"Service-specific performance metrics"}),e.jsx("li",{children:"Geographic distribution visualization"}),e.jsx("li",{children:"User acquisition and retention analysis"}),e.jsx("li",{children:"Revenue and transaction performance tracking"}),e.jsx("li",{children:"Custom report builder"})]})]})]})]})})]})]})}function SD(){const{user:t}=dt(),{toast:r}=Be(),s=Sl(),[n,a]=j.useState(!1),[i,l]=j.useState(null),{data:o=[],isLoading:c}=fe({queryKey:["/api/notifications"],queryFn:async()=>t?await(await le("GET","/api/notifications?limit=20")).json():[],enabled:!!t,refetchInterval:6e4}),{data:d}=fe({queryKey:["/api/notifications/unread-count"],queryFn:async()=>t?await(await le("GET","/api/notifications/unread-count")).json():{count:0},enabled:!!t,refetchInterval:3e4}),u=(d==null?void 0:d.count)||0,m=Se({mutationFn:async p=>await(await le("POST",`/api/notifications/mark-read/${p}`)).json(),onSuccess:()=>{s.invalidateQueries({queryKey:["/api/notifications"]}),s.invalidateQueries({queryKey:["/api/notifications/unread-count"]})},onError:p=>{r({variant:"destructive",title:"Error",description:`Failed to mark notification as read: ${p.message}`})}}),h=Se({mutationFn:async()=>await(await le("POST","/api/notifications/mark-all-read")).json(),onSuccess:()=>{s.invalidateQueries({queryKey:["/api/notifications"]}),s.invalidateQueries({queryKey:["/api/notifications/unread-count"]}),r({title:"Success",description:"All notifications marked as read"})},onError:p=>{r({variant:"destructive",title:"Error",description:`Failed to mark all notifications as read: ${p.message}`})}}),g=Se({mutationFn:async p=>await(await le("DELETE",`/api/notifications/${p}`)).json(),onSuccess:()=>{s.invalidateQueries({queryKey:["/api/notifications"]}),s.invalidateQueries({queryKey:["/api/notifications/unread-count"]})},onError:p=>{r({variant:"destructive",title:"Error",description:`Failed to delete notification: ${p.message}`})}});j.useEffect(()=>{if(!t)return;const y=`${window.location.protocol==="https:"?"wss:":"ws:"}//${window.location.host}/ws/notifications?userId=${t.id}`,v=new WebSocket(y);return v.onopen=()=>{console.log("WebSocket connection established"),a(!0)},v.onmessage=x=>{const b=JSON.parse(x.data);b.type==="notification"?(s.invalidateQueries({queryKey:["/api/notifications"]}),s.invalidateQueries({queryKey:["/api/notifications/unread-count"]}),r({title:b.data.title,description:b.data.content})):b.type==="unread_notifications"&&(s.invalidateQueries({queryKey:["/api/notifications"]}),s.invalidateQueries({queryKey:["/api/notifications/unread-count"]}))},v.onclose=()=>{console.log("WebSocket connection closed"),a(!1)},v.onerror=x=>{console.error("WebSocket error:",x),a(!1)},l(v),()=>{v.readyState===WebSocket.OPEN&&v.close()}},[t,s,r]);const f=p=>{p.isRead||m.mutate(p.id),p.actionUrl&&(window.location.href=p.actionUrl)};return t?e.jsxs(hn,{children:[e.jsx(pn,{asChild:!0,children:e.jsxs(T,{variant:"ghost",size:"icon",className:"relative",children:[n?e.jsx(IX,{className:"h-5 w-5"}):e.jsx(MX,{className:"h-5 w-5"}),u>0&&e.jsx(ae,{className:"absolute -top-1 -right-1 px-1.5 py-0.5 min-w-[1.2rem] h-5 flex items-center justify-center",variant:"destructive",children:u>99?"99+":u})]})}),e.jsxs(Zs,{className:"w-80 max-h-96 overflow-y-auto p-0",children:[e.jsxs("div",{className:"flex items-center justify-between p-3 border-b",children:[e.jsx("h3",{className:"font-semibold",children:"Notifications"}),u>0&&e.jsx(T,{variant:"ghost",size:"sm",onClick:()=>h.mutate(),disabled:h.isPending,children:"Mark all as read"})]}),c?e.jsx("div",{className:"flex items-center justify-center p-4",children:e.jsx("div",{className:"animate-spin rounded-full h-6 w-6 border-b-2 border-primary"})}):o.length===0?e.jsx("div",{className:"p-4 text-center text-muted-foreground",children:"No notifications"}):e.jsx("div",{className:"divide-y",children:o.map(p=>e.jsxs("div",{className:`p-3 hover:bg-accent cursor-pointer ${p.isRead?"":"bg-accent/30"}`,onClick:()=>f(p),children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("h4",{className:"font-medium text-sm",children:p.title}),e.jsxs("div",{className:"flex items-center gap-1",children:[!p.isRead&&e.jsx("button",{onClick:y=>{y.stopPropagation(),m.mutate(p.id)},className:"text-xs text-primary/70 hover:text-primary",children:e.jsx(Is,{className:"h-4 w-4"})}),e.jsx("button",{onClick:y=>{y.stopPropagation(),g.mutate(p.id)},className:"text-xs text-destructive/70 hover:text-destructive",children:""})]})]}),e.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:p.content}),e.jsx("div",{className:"text-xs text-muted-foreground mt-2",children:p.createdAt&&xt(new Date(p.createdAt),"MMM d, yyyy  HH:mm")})]},p.id))})]})]}):null}var ES=["Enter"," "],kDe=["ArrowDown","PageUp","Home"],v9=["ArrowUp","PageDown","End"],ADe=[...kDe,...v9],_De={ltr:[...ES,"ArrowRight"],rtl:[...ES,"ArrowLeft"]},TDe={ltr:["ArrowLeft"],rtl:["ArrowRight"]},Kf="Menu",[af,ODe,EDe]=gf(Kf),[Kc,y9]=rn(Kf,[EDe,dm,mm]),xb=dm(),j9=mm(),[DDe,Hc]=Kc(Kf),[MDe,Hf]=Kc(Kf),b9=t=>{const{__scopeMenu:r,open:s=!1,children:n,dir:a,onOpenChange:i,modal:l=!0}=t,o=xb(r),[c,d]=j.useState(null),u=j.useRef(!1),m=Hr(i),h=Vc(a);return j.useEffect(()=>{const g=()=>{u.current=!0,document.addEventListener("pointerdown",f,{capture:!0,once:!0}),document.addEventListener("pointermove",f,{capture:!0,once:!0})},f=()=>u.current=!1;return document.addEventListener("keydown",g,{capture:!0}),()=>{document.removeEventListener("keydown",g,{capture:!0}),document.removeEventListener("pointerdown",f,{capture:!0}),document.removeEventListener("pointermove",f,{capture:!0})}},[]),e.jsx(yC,{...o,children:e.jsx(DDe,{scope:r,open:s,onOpenChange:m,content:c,onContentChange:d,children:e.jsx(MDe,{scope:r,onClose:j.useCallback(()=>m(!1),[m]),isUsingKeyboardRef:u,dir:h,modal:l,children:n})})})};b9.displayName=Kf;var IDe="MenuAnchor",ik=j.forwardRef((t,r)=>{const{__scopeMenu:s,...n}=t,a=xb(s);return e.jsx(uj,{...a,...n,ref:r})});ik.displayName=IDe;var lk="MenuPortal",[RDe,N9]=Kc(lk,{forceMount:void 0}),w9=t=>{const{__scopeMenu:r,forceMount:s,children:n,container:a}=t,i=Hc(lk,r);return e.jsx(RDe,{scope:r,forceMount:s,children:e.jsx(ks,{present:s||i.open,children:e.jsx(am,{asChild:!0,container:a,children:n})})})};w9.displayName=lk;var Ca="MenuContent",[FDe,ok]=Kc(Ca),S9=j.forwardRef((t,r)=>{const s=N9(Ca,t.__scopeMenu),{forceMount:n=s.forceMount,...a}=t,i=Hc(Ca,t.__scopeMenu),l=Hf(Ca,t.__scopeMenu);return e.jsx(af.Provider,{scope:t.__scopeMenu,children:e.jsx(ks,{present:n||i.open,children:e.jsx(af.Slot,{scope:t.__scopeMenu,children:l.modal?e.jsx($De,{...a,ref:r}):e.jsx(LDe,{...a,ref:r})})})})}),$De=j.forwardRef((t,r)=>{const s=Hc(Ca,t.__scopeMenu),n=j.useRef(null),a=Lt(r,n);return j.useEffect(()=>{const i=n.current;if(i)return hj(i)},[]),e.jsx(ck,{...t,ref:a,trapFocus:s.open,disableOutsidePointerEvents:s.open,disableOutsideScroll:!0,onFocusOutside:He(t.onFocusOutside,i=>i.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>s.onOpenChange(!1)})}),LDe=j.forwardRef((t,r)=>{const s=Hc(Ca,t.__scopeMenu);return e.jsx(ck,{...t,ref:r,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>s.onOpenChange(!1)})}),ck=j.forwardRef((t,r)=>{const{__scopeMenu:s,loop:n=!1,trapFocus:a,onOpenAutoFocus:i,onCloseAutoFocus:l,disableOutsidePointerEvents:o,onEntryFocus:c,onEscapeKeyDown:d,onPointerDownOutside:u,onFocusOutside:m,onInteractOutside:h,onDismiss:g,disableOutsideScroll:f,...p}=t,y=Hc(Ca,s),v=Hf(Ca,s),x=xb(s),b=j9(s),N=ODe(s),[w,C]=j.useState(null),P=j.useRef(null),S=Lt(r,P,y.onContentChange),A=j.useRef(0),k=j.useRef(""),I=j.useRef(0),L=j.useRef(null),K=j.useRef("right"),R=j.useRef(0),F=f?wf:j.Fragment,W=f?{as:Oi,allowPinchZoom:!0}:void 0,Q=Z=>{var De,rt;const me=k.current+Z,Ne=N().filter(Me=>!Me.disabled),te=document.activeElement,Ie=(De=Ne.find(Me=>Me.ref.current===te))==null?void 0:De.textValue,Te=Ne.map(Me=>Me.textValue),de=XDe(Te,me,Ie),Ee=(rt=Ne.find(Me=>Me.textValue===de))==null?void 0:rt.ref.current;(function Me(Ge){k.current=Ge,window.clearTimeout(A.current),Ge!==""&&(A.current=window.setTimeout(()=>Me(""),1e3))})(me),Ee&&setTimeout(()=>Ee.focus())};j.useEffect(()=>()=>window.clearTimeout(A.current),[]),ij();const H=j.useCallback(Z=>{var Ne,te;return K.current===((Ne=L.current)==null?void 0:Ne.side)&&JDe(Z,(te=L.current)==null?void 0:te.area)},[]);return e.jsx(FDe,{scope:s,searchRef:k,onItemEnter:j.useCallback(Z=>{H(Z)&&Z.preventDefault()},[H]),onItemLeave:j.useCallback(Z=>{var me;H(Z)||((me=P.current)==null||me.focus(),C(null))},[H]),onTriggerLeave:j.useCallback(Z=>{H(Z)&&Z.preventDefault()},[H]),pointerGraceTimerRef:I,onPointerGraceIntentChange:j.useCallback(Z=>{L.current=Z},[]),children:e.jsx(F,{...W,children:e.jsx(bf,{asChild:!0,trapped:a,onMountAutoFocus:He(i,Z=>{var me;Z.preventDefault(),(me=P.current)==null||me.focus({preventScroll:!0})}),onUnmountAutoFocus:l,children:e.jsx(nm,{asChild:!0,disableOutsidePointerEvents:o,onEscapeKeyDown:d,onPointerDownOutside:u,onFocusOutside:m,onInteractOutside:h,onDismiss:g,children:e.jsx(wC,{asChild:!0,...b,dir:v.dir,orientation:"vertical",loop:n,currentTabStopId:w,onCurrentTabStopIdChange:C,onEntryFocus:He(c,Z=>{v.isUsingKeyboardRef.current||Z.preventDefault()}),preventScrollOnEntryFocus:!0,children:e.jsx(jC,{role:"menu","aria-orientation":"vertical","data-state":B9(y.open),"data-radix-menu-content":"",dir:v.dir,...x,...p,ref:S,style:{outline:"none",...p.style},onKeyDown:He(p.onKeyDown,Z=>{const Ne=Z.target.closest("[data-radix-menu-content]")===Z.currentTarget,te=Z.ctrlKey||Z.altKey||Z.metaKey,Ie=Z.key.length===1;Ne&&(Z.key==="Tab"&&Z.preventDefault(),!te&&Ie&&Q(Z.key));const Te=P.current;if(Z.target!==Te||!ADe.includes(Z.key))return;Z.preventDefault();const Ee=N().filter(De=>!De.disabled).map(De=>De.ref.current);v9.includes(Z.key)&&Ee.reverse(),YDe(Ee)}),onBlur:He(t.onBlur,Z=>{Z.currentTarget.contains(Z.target)||(window.clearTimeout(A.current),k.current="")}),onPointerMove:He(t.onPointerMove,lf(Z=>{const me=Z.target,Ne=R.current!==Z.clientX;if(Z.currentTarget.contains(me)&&Ne){const te=Z.clientX>R.current?"right":"left";K.current=te,R.current=Z.clientX}}))})})})})})})});S9.displayName=Ca;var BDe="MenuGroup",dk=j.forwardRef((t,r)=>{const{__scopeMenu:s,...n}=t;return e.jsx(ct.div,{role:"group",...n,ref:r})});dk.displayName=BDe;var VDe="MenuLabel",C9=j.forwardRef((t,r)=>{const{__scopeMenu:s,...n}=t;return e.jsx(ct.div,{...n,ref:r})});C9.displayName=VDe;var wy="MenuItem",CD="menu.itemSelect",gb=j.forwardRef((t,r)=>{const{disabled:s=!1,onSelect:n,...a}=t,i=j.useRef(null),l=Hf(wy,t.__scopeMenu),o=ok(wy,t.__scopeMenu),c=Lt(r,i),d=j.useRef(!1),u=()=>{const m=i.current;if(!s&&m){const h=new CustomEvent(CD,{bubbles:!0,cancelable:!0});m.addEventListener(CD,g=>n==null?void 0:n(g),{once:!0}),Y2(m,h),h.defaultPrevented?d.current=!1:l.onClose()}};return e.jsx(P9,{...a,ref:c,disabled:s,onClick:He(t.onClick,u),onPointerDown:m=>{var h;(h=t.onPointerDown)==null||h.call(t,m),d.current=!0},onPointerUp:He(t.onPointerUp,m=>{var h;d.current||(h=m.currentTarget)==null||h.click()}),onKeyDown:He(t.onKeyDown,m=>{const h=o.searchRef.current!=="";s||h&&m.key===" "||ES.includes(m.key)&&(m.currentTarget.click(),m.preventDefault())})})});gb.displayName=wy;var P9=j.forwardRef((t,r)=>{const{__scopeMenu:s,disabled:n=!1,textValue:a,...i}=t,l=ok(wy,s),o=j9(s),c=j.useRef(null),d=Lt(r,c),[u,m]=j.useState(!1),[h,g]=j.useState("");return j.useEffect(()=>{const f=c.current;f&&g((f.textContent??"").trim())},[i.children]),e.jsx(af.ItemSlot,{scope:s,disabled:n,textValue:a??h,children:e.jsx(SC,{asChild:!0,...o,focusable:!n,children:e.jsx(ct.div,{role:"menuitem","data-highlighted":u?"":void 0,"aria-disabled":n||void 0,"data-disabled":n?"":void 0,...i,ref:d,onPointerMove:He(t.onPointerMove,lf(f=>{n?l.onItemLeave(f):(l.onItemEnter(f),f.defaultPrevented||f.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:He(t.onPointerLeave,lf(f=>l.onItemLeave(f))),onFocus:He(t.onFocus,()=>m(!0)),onBlur:He(t.onBlur,()=>m(!1))})})})}),UDe="MenuCheckboxItem",k9=j.forwardRef((t,r)=>{const{checked:s=!1,onCheckedChange:n,...a}=t;return e.jsx(E9,{scope:t.__scopeMenu,checked:s,children:e.jsx(gb,{role:"menuitemcheckbox","aria-checked":Sy(s)?"mixed":s,...a,ref:r,"data-state":mk(s),onSelect:He(a.onSelect,()=>n==null?void 0:n(Sy(s)?!0:!s),{checkForDefaultPrevented:!1})})})});k9.displayName=UDe;var A9="MenuRadioGroup",[qDe,zDe]=Kc(A9,{value:void 0,onValueChange:()=>{}}),_9=j.forwardRef((t,r)=>{const{value:s,onValueChange:n,...a}=t,i=Hr(n);return e.jsx(qDe,{scope:t.__scopeMenu,value:s,onValueChange:i,children:e.jsx(dk,{...a,ref:r})})});_9.displayName=A9;var T9="MenuRadioItem",O9=j.forwardRef((t,r)=>{const{value:s,...n}=t,a=zDe(T9,t.__scopeMenu),i=s===a.value;return e.jsx(E9,{scope:t.__scopeMenu,checked:i,children:e.jsx(gb,{role:"menuitemradio","aria-checked":i,...n,ref:r,"data-state":mk(i),onSelect:He(n.onSelect,()=>{var l;return(l=a.onValueChange)==null?void 0:l.call(a,s)},{checkForDefaultPrevented:!1})})})});O9.displayName=T9;var uk="MenuItemIndicator",[E9,KDe]=Kc(uk,{checked:!1}),D9=j.forwardRef((t,r)=>{const{__scopeMenu:s,forceMount:n,...a}=t,i=KDe(uk,s);return e.jsx(ks,{present:n||Sy(i.checked)||i.checked===!0,children:e.jsx(ct.span,{...a,ref:r,"data-state":mk(i.checked)})})});D9.displayName=uk;var HDe="MenuSeparator",M9=j.forwardRef((t,r)=>{const{__scopeMenu:s,...n}=t;return e.jsx(ct.div,{role:"separator","aria-orientation":"horizontal",...n,ref:r})});M9.displayName=HDe;var WDe="MenuArrow",I9=j.forwardRef((t,r)=>{const{__scopeMenu:s,...n}=t,a=xb(s);return e.jsx(bC,{...a,...n,ref:r})});I9.displayName=WDe;var GDe="MenuSub",[mFe,R9]=Kc(GDe),gh="MenuSubTrigger",F9=j.forwardRef((t,r)=>{const s=Hc(gh,t.__scopeMenu),n=Hf(gh,t.__scopeMenu),a=R9(gh,t.__scopeMenu),i=ok(gh,t.__scopeMenu),l=j.useRef(null),{pointerGraceTimerRef:o,onPointerGraceIntentChange:c}=i,d={__scopeMenu:t.__scopeMenu},u=j.useCallback(()=>{l.current&&window.clearTimeout(l.current),l.current=null},[]);return j.useEffect(()=>u,[u]),j.useEffect(()=>{const m=o.current;return()=>{window.clearTimeout(m),c(null)}},[o,c]),e.jsx(ik,{asChild:!0,...d,children:e.jsx(P9,{id:a.triggerId,"aria-haspopup":"menu","aria-expanded":s.open,"aria-controls":a.contentId,"data-state":B9(s.open),...t,ref:Qy(r,a.onTriggerChange),onClick:m=>{var h;(h=t.onClick)==null||h.call(t,m),!(t.disabled||m.defaultPrevented)&&(m.currentTarget.focus(),s.open||s.onOpenChange(!0))},onPointerMove:He(t.onPointerMove,lf(m=>{i.onItemEnter(m),!m.defaultPrevented&&!t.disabled&&!s.open&&!l.current&&(i.onPointerGraceIntentChange(null),l.current=window.setTimeout(()=>{s.onOpenChange(!0),u()},100))})),onPointerLeave:He(t.onPointerLeave,lf(m=>{var g,f;u();const h=(g=s.content)==null?void 0:g.getBoundingClientRect();if(h){const p=(f=s.content)==null?void 0:f.dataset.side,y=p==="right",v=y?-5:5,x=h[y?"left":"right"],b=h[y?"right":"left"];i.onPointerGraceIntentChange({area:[{x:m.clientX+v,y:m.clientY},{x,y:h.top},{x:b,y:h.top},{x:b,y:h.bottom},{x,y:h.bottom}],side:p}),window.clearTimeout(o.current),o.current=window.setTimeout(()=>i.onPointerGraceIntentChange(null),300)}else{if(i.onTriggerLeave(m),m.defaultPrevented)return;i.onPointerGraceIntentChange(null)}})),onKeyDown:He(t.onKeyDown,m=>{var g;const h=i.searchRef.current!=="";t.disabled||h&&m.key===" "||_De[n.dir].includes(m.key)&&(s.onOpenChange(!0),(g=s.content)==null||g.focus(),m.preventDefault())})})})});F9.displayName=gh;var $9="MenuSubContent",L9=j.forwardRef((t,r)=>{const s=N9(Ca,t.__scopeMenu),{forceMount:n=s.forceMount,...a}=t,i=Hc(Ca,t.__scopeMenu),l=Hf(Ca,t.__scopeMenu),o=R9($9,t.__scopeMenu),c=j.useRef(null),d=Lt(r,c);return e.jsx(af.Provider,{scope:t.__scopeMenu,children:e.jsx(ks,{present:n||i.open,children:e.jsx(af.Slot,{scope:t.__scopeMenu,children:e.jsx(ck,{id:o.contentId,"aria-labelledby":o.triggerId,...a,ref:d,align:"start",side:l.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:u=>{var m;l.isUsingKeyboardRef.current&&((m=c.current)==null||m.focus()),u.preventDefault()},onCloseAutoFocus:u=>u.preventDefault(),onFocusOutside:He(t.onFocusOutside,u=>{u.target!==o.trigger&&i.onOpenChange(!1)}),onEscapeKeyDown:He(t.onEscapeKeyDown,u=>{l.onClose(),u.preventDefault()}),onKeyDown:He(t.onKeyDown,u=>{var g;const m=u.currentTarget.contains(u.target),h=TDe[l.dir].includes(u.key);m&&h&&(i.onOpenChange(!1),(g=o.trigger)==null||g.focus(),u.preventDefault())})})})})})});L9.displayName=$9;function B9(t){return t?"open":"closed"}function Sy(t){return t==="indeterminate"}function mk(t){return Sy(t)?"indeterminate":t?"checked":"unchecked"}function YDe(t){const r=document.activeElement;for(const s of t)if(s===r||(s.focus(),document.activeElement!==r))return}function QDe(t,r){return t.map((s,n)=>t[(r+n)%t.length])}function XDe(t,r,s){const a=r.length>1&&Array.from(r).every(d=>d===r[0])?r[0]:r,i=s?t.indexOf(s):-1;let l=QDe(t,Math.max(i,0));a.length===1&&(l=l.filter(d=>d!==s));const c=l.find(d=>d.toLowerCase().startsWith(a.toLowerCase()));return c!==s?c:void 0}function ZDe(t,r){const{x:s,y:n}=t;let a=!1;for(let i=0,l=r.length-1;i<r.length;l=i++){const o=r[i].x,c=r[i].y,d=r[l].x,u=r[l].y;c>n!=u>n&&s<(d-o)*(n-c)/(u-c)+o&&(a=!a)}return a}function JDe(t,r){if(!r)return!1;const s={x:t.clientX,y:t.clientY};return ZDe(s,r)}function lf(t){return r=>r.pointerType==="mouse"?t(r):void 0}var eMe=b9,tMe=ik,rMe=w9,sMe=S9,nMe=dk,aMe=C9,iMe=gb,lMe=k9,oMe=_9,cMe=O9,dMe=D9,uMe=M9,mMe=I9,hMe=F9,pMe=L9,hk="DropdownMenu",[fMe,hFe]=rn(hk,[y9]),Nn=y9(),[xMe,V9]=fMe(hk),U9=t=>{const{__scopeDropdownMenu:r,children:s,dir:n,open:a,defaultOpen:i,onOpenChange:l,modal:o=!0}=t,c=Nn(r),d=j.useRef(null),[u=!1,m]=Fn({prop:a,defaultProp:i,onChange:l});return e.jsx(xMe,{scope:r,triggerId:ta(),triggerRef:d,contentId:ta(),open:u,onOpenChange:m,onOpenToggle:j.useCallback(()=>m(h=>!h),[m]),modal:o,children:e.jsx(eMe,{...c,open:u,onOpenChange:m,dir:n,modal:o,children:s})})};U9.displayName=hk;var q9="DropdownMenuTrigger",z9=j.forwardRef((t,r)=>{const{__scopeDropdownMenu:s,disabled:n=!1,...a}=t,i=V9(q9,s),l=Nn(s);return e.jsx(tMe,{asChild:!0,...l,children:e.jsx(ct.button,{type:"button",id:i.triggerId,"aria-haspopup":"menu","aria-expanded":i.open,"aria-controls":i.open?i.contentId:void 0,"data-state":i.open?"open":"closed","data-disabled":n?"":void 0,disabled:n,...a,ref:Qy(r,i.triggerRef),onPointerDown:He(t.onPointerDown,o=>{!n&&o.button===0&&o.ctrlKey===!1&&(i.onOpenToggle(),i.open||o.preventDefault())}),onKeyDown:He(t.onKeyDown,o=>{n||(["Enter"," "].includes(o.key)&&i.onOpenToggle(),o.key==="ArrowDown"&&i.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(o.key)&&o.preventDefault())})})})});z9.displayName=q9;var gMe="DropdownMenuPortal",K9=t=>{const{__scopeDropdownMenu:r,...s}=t,n=Nn(r);return e.jsx(rMe,{...n,...s})};K9.displayName=gMe;var H9="DropdownMenuContent",W9=j.forwardRef((t,r)=>{const{__scopeDropdownMenu:s,...n}=t,a=V9(H9,s),i=Nn(s),l=j.useRef(!1);return e.jsx(sMe,{id:a.contentId,"aria-labelledby":a.triggerId,...i,...n,ref:r,onCloseAutoFocus:He(t.onCloseAutoFocus,o=>{var c;l.current||(c=a.triggerRef.current)==null||c.focus(),l.current=!1,o.preventDefault()}),onInteractOutside:He(t.onInteractOutside,o=>{const c=o.detail.originalEvent,d=c.button===0&&c.ctrlKey===!0,u=c.button===2||d;(!a.modal||u)&&(l.current=!0)}),style:{...t.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});W9.displayName=H9;var vMe="DropdownMenuGroup",yMe=j.forwardRef((t,r)=>{const{__scopeDropdownMenu:s,...n}=t,a=Nn(s);return e.jsx(nMe,{...a,...n,ref:r})});yMe.displayName=vMe;var jMe="DropdownMenuLabel",G9=j.forwardRef((t,r)=>{const{__scopeDropdownMenu:s,...n}=t,a=Nn(s);return e.jsx(aMe,{...a,...n,ref:r})});G9.displayName=jMe;var bMe="DropdownMenuItem",Y9=j.forwardRef((t,r)=>{const{__scopeDropdownMenu:s,...n}=t,a=Nn(s);return e.jsx(iMe,{...a,...n,ref:r})});Y9.displayName=bMe;var NMe="DropdownMenuCheckboxItem",Q9=j.forwardRef((t,r)=>{const{__scopeDropdownMenu:s,...n}=t,a=Nn(s);return e.jsx(lMe,{...a,...n,ref:r})});Q9.displayName=NMe;var wMe="DropdownMenuRadioGroup",SMe=j.forwardRef((t,r)=>{const{__scopeDropdownMenu:s,...n}=t,a=Nn(s);return e.jsx(oMe,{...a,...n,ref:r})});SMe.displayName=wMe;var CMe="DropdownMenuRadioItem",X9=j.forwardRef((t,r)=>{const{__scopeDropdownMenu:s,...n}=t,a=Nn(s);return e.jsx(cMe,{...a,...n,ref:r})});X9.displayName=CMe;var PMe="DropdownMenuItemIndicator",Z9=j.forwardRef((t,r)=>{const{__scopeDropdownMenu:s,...n}=t,a=Nn(s);return e.jsx(dMe,{...a,...n,ref:r})});Z9.displayName=PMe;var kMe="DropdownMenuSeparator",J9=j.forwardRef((t,r)=>{const{__scopeDropdownMenu:s,...n}=t,a=Nn(s);return e.jsx(uMe,{...a,...n,ref:r})});J9.displayName=kMe;var AMe="DropdownMenuArrow",_Me=j.forwardRef((t,r)=>{const{__scopeDropdownMenu:s,...n}=t,a=Nn(s);return e.jsx(mMe,{...a,...n,ref:r})});_Me.displayName=AMe;var TMe="DropdownMenuSubTrigger",eK=j.forwardRef((t,r)=>{const{__scopeDropdownMenu:s,...n}=t,a=Nn(s);return e.jsx(hMe,{...a,...n,ref:r})});eK.displayName=TMe;var OMe="DropdownMenuSubContent",tK=j.forwardRef((t,r)=>{const{__scopeDropdownMenu:s,...n}=t,a=Nn(s);return e.jsx(pMe,{...a,...n,ref:r,style:{...t.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});tK.displayName=OMe;var EMe=U9,DMe=z9,MMe=K9,rK=W9,sK=G9,nK=Y9,aK=Q9,iK=X9,lK=Z9,oK=J9,cK=eK,dK=tK;const DS=EMe,MS=DMe,IMe=j.forwardRef(({className:t,inset:r,children:s,...n},a)=>e.jsxs(cK,{ref:a,className:Oe("flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent",r&&"pl-8",t),...n,children:[s,e.jsx(Xn,{className:"ml-auto h-4 w-4"})]}));IMe.displayName=cK.displayName;const RMe=j.forwardRef(({className:t,...r},s)=>e.jsx(dK,{ref:s,className:Oe("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...r}));RMe.displayName=dK.displayName;const Cy=j.forwardRef(({className:t,sideOffset:r=4,...s},n)=>e.jsx(MMe,{children:e.jsx(rK,{ref:n,sideOffset:r,className:Oe("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...s})}));Cy.displayName=rK.displayName;const Zi=j.forwardRef(({className:t,inset:r,...s},n)=>e.jsx(nK,{ref:n,className:Oe("relative flex cursor-default select-none items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",r&&"pl-8",t),...s}));Zi.displayName=nK.displayName;const FMe=j.forwardRef(({className:t,children:r,checked:s,...n},a)=>e.jsxs(aK,{ref:a,className:Oe("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),checked:s,...n,children:[e.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:e.jsx(lK,{children:e.jsx(Is,{className:"h-4 w-4"})})}),r]}));FMe.displayName=aK.displayName;const $Me=j.forwardRef(({className:t,children:r,...s},n)=>e.jsxs(iK,{ref:n,className:Oe("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),...s,children:[e.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:e.jsx(lK,{children:e.jsx(t$,{className:"h-2 w-2 fill-current"})})}),r]}));$Me.displayName=iK.displayName;const IS=j.forwardRef(({className:t,inset:r,...s},n)=>e.jsx(sK,{ref:n,className:Oe("px-2 py-1.5 text-sm font-semibold",r&&"pl-8",t),...s}));IS.displayName=sK.displayName;const RS=j.forwardRef(({className:t,...r},s)=>e.jsx(oK,{ref:s,className:Oe("-mx-1 my-1 h-px bg-muted",t),...r}));RS.displayName=oK.displayName;var pk="Avatar",[LMe,pFe]=rn(pk),[BMe,uK]=LMe(pk),mK=j.forwardRef((t,r)=>{const{__scopeAvatar:s,...n}=t,[a,i]=j.useState("idle");return e.jsx(BMe,{scope:s,imageLoadingStatus:a,onImageLoadingStatusChange:i,children:e.jsx(ct.span,{...n,ref:r})})});mK.displayName=pk;var hK="AvatarImage",pK=j.forwardRef((t,r)=>{const{__scopeAvatar:s,src:n,onLoadingStatusChange:a=()=>{},...i}=t,l=uK(hK,s),o=VMe(n,i.referrerPolicy),c=Hr(d=>{a(d),l.onImageLoadingStatusChange(d)});return fs(()=>{o!=="idle"&&c(o)},[o,c]),o==="loaded"?e.jsx(ct.img,{...i,ref:r,src:n}):null});pK.displayName=hK;var fK="AvatarFallback",xK=j.forwardRef((t,r)=>{const{__scopeAvatar:s,delayMs:n,...a}=t,i=uK(fK,s),[l,o]=j.useState(n===void 0);return j.useEffect(()=>{if(n!==void 0){const c=window.setTimeout(()=>o(!0),n);return()=>window.clearTimeout(c)}},[n]),l&&i.imageLoadingStatus!=="loaded"?e.jsx(ct.span,{...a,ref:r}):null});xK.displayName=fK;function VMe(t,r){const[s,n]=j.useState("idle");return fs(()=>{if(!t){n("error");return}let a=!0;const i=new window.Image,l=o=>()=>{a&&n(o)};return n("loading"),i.onload=l("loaded"),i.onerror=l("error"),i.src=t,r&&(i.referrerPolicy=r),()=>{a=!1}},[t,r]),s}var gK=mK,vK=pK,yK=xK;const Qu=j.forwardRef(({className:t,...r},s)=>e.jsx(gK,{ref:s,className:Oe("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",t),...r}));Qu.displayName=gK.displayName;const UMe=j.forwardRef(({className:t,...r},s)=>e.jsx(vK,{ref:s,className:Oe("aspect-square h-full w-full",t),...r}));UMe.displayName=vK.displayName;const Xu=j.forwardRef(({className:t,...r},s)=>e.jsx(yK,{ref:s,className:Oe("flex h-full w-full items-center justify-center rounded-full bg-muted",t),...r}));Xu.displayName=yK.displayName;function qMe(){const{user:t,logoutMutation:r}=dt(),s=n=>n.split(" ").map(a=>a.charAt(0)).join("").toUpperCase();return e.jsx("header",{className:"bg-white border-b border-neutral-200 shadow-sm fixed top-0 left-0 right-0 z-40",children:e.jsx("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8",children:e.jsxs("div",{className:"flex justify-between items-center h-16",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx(T,{variant:"ghost",size:"icon",className:"lg:hidden text-neutral-600 hover:text-neutral-900 focus:outline-none mr-2","aria-label":"Open sidebar",onClick:()=>{const n=document.querySelector("aside");n&&n.classList.toggle("hidden")},children:e.jsx(a$,{})}),e.jsx(At,{href:"/",children:e.jsxs("div",{className:"flex items-center cursor-pointer",children:[e.jsx("div",{className:"h-8 w-8 rounded-full bg-primary flex items-center justify-center text-white font-bold",children:"TN"}),e.jsx("h1",{className:"ml-2 font-bold text-xl text-primary",children:"TN Services"})]})})]}),e.jsxs("div",{className:"flex items-center",children:[e.jsxs("div",{className:"hidden md:flex items-center space-x-4",children:[e.jsx(SD,{}),e.jsx(T,{variant:"ghost",size:"icon",className:"text-neutral-600 hover:text-neutral-900","aria-label":"Messages",children:e.jsx(hu,{})}),e.jsxs(DS,{children:[e.jsx(MS,{asChild:!0,children:e.jsxs(T,{variant:"ghost",className:"flex items-center space-x-2 focus:outline-none",children:[e.jsx(Qu,{className:"h-8 w-8",children:e.jsx(Xu,{children:t!=null&&t.fullName?s(t.fullName):"U"})}),e.jsx("span",{className:"hidden md:block text-sm font-medium text-neutral-700",children:(t==null?void 0:t.fullName)||"User"}),e.jsx(ej,{className:"h-4 w-4 text-neutral-500"})]})}),e.jsxs(Cy,{align:"end",children:[e.jsx(IS,{children:"My Account"}),e.jsx(Zi,{asChild:!0,children:e.jsx(At,{href:"/settings",children:e.jsxs("div",{className:"flex items-center cursor-pointer",children:[e.jsx(zs,{className:"mr-2 h-4 w-4"}),e.jsx("span",{children:"Profile"})]})})}),e.jsx(Zi,{asChild:!0,children:e.jsx(At,{href:"/settings",children:e.jsxs("div",{className:"flex items-center cursor-pointer",children:[e.jsx(Sc,{className:"mr-2 h-4 w-4"}),e.jsx("span",{children:"Settings"})]})})}),e.jsx(RS,{}),e.jsxs(Zi,{className:"flex items-center cursor-pointer",onClick:()=>r.mutate(),children:[e.jsx(Gg,{className:"mr-2 h-4 w-4"}),e.jsx("span",{children:"Sign out"})]})]})]})]}),e.jsxs("div",{className:"md:hidden flex items-center space-x-2",children:[e.jsx(SD,{}),e.jsxs(DS,{children:[e.jsx(MS,{asChild:!0,children:e.jsx(T,{variant:"ghost",size:"icon",children:e.jsx(Qu,{className:"h-8 w-8",children:e.jsx(Xu,{children:t!=null&&t.fullName?s(t.fullName):"U"})})})}),e.jsxs(Cy,{align:"end",children:[e.jsx(IS,{children:"My Account"}),e.jsx(Zi,{asChild:!0,children:e.jsx(At,{href:"/settings",children:e.jsxs("div",{className:"flex items-center cursor-pointer",children:[e.jsx(zs,{className:"mr-2 h-4 w-4"}),e.jsx("span",{children:"Profile"})]})})}),e.jsx(Zi,{asChild:!0,children:e.jsx(At,{href:"/settings",children:e.jsxs("div",{className:"flex items-center cursor-pointer",children:[e.jsx(Sc,{className:"mr-2 h-4 w-4"}),e.jsx("span",{children:"Settings"})]})})}),e.jsx(RS,{}),e.jsxs(Zi,{className:"flex items-center cursor-pointer",onClick:()=>r.mutate(),children:[e.jsx(Gg,{className:"mr-2 h-4 w-4"}),e.jsx("span",{children:"Sign out"})]})]})]})]})]})]})})})}const jK=j.createContext({isCollapsed:!1,setIsCollapsed:()=>{}}),vb=()=>j.useContext(jK);function st({href:t,icon:r,children:s,show:n=!0,tooltip:a}){const[i]=xr(),{isCollapsed:l}=vb(),o=i===t;return n?e.jsx(At,{href:t,children:e.jsxs("div",{className:Oe("relative px-3 py-2 rounded-md flex items-center text-sm font-medium cursor-pointer transition-all duration-200 group",o?"bg-primary text-white":"text-neutral-700 hover:bg-neutral-100",l?"justify-center":""),title:l?a||(s==null?void 0:s.toString()):"",children:[e.jsx("span",{className:Oe("text-lg flex-shrink-0",l?"":"mr-3"),children:r}),e.jsx("span",{className:Oe("transition-all duration-200 whitespace-nowrap",l?"opacity-0 w-0 overflow-hidden":"opacity-100"),children:s}),l&&e.jsx("div",{className:"absolute left-full ml-2 px-2 py-1 bg-gray-900 text-white text-xs rounded opacity-0 group-hover:opacity-100 transition-opacity duration-200 pointer-events-none whitespace-nowrap z-50",children:a||s})]})}):null}function zMe({children:t}){const[r,s]=j.useState(!1);return e.jsx(jK.Provider,{value:{isCollapsed:r,setIsCollapsed:s},children:t})}function KMe(){const{isCollapsed:t,setIsCollapsed:r}=vb();return e.jsx("button",{onClick:()=>r(!t),className:Oe("fixed top-20 z-50 bg-white border border-gray-200 rounded-md p-2 shadow-lg hover:shadow-xl transition-all duration-200",t?"left-20":"left-60"),title:t?"Expand sidebar":"Collapse sidebar",children:t?e.jsx(Xn,{className:"h-4 w-4 text-gray-600"}):e.jsx(ip,{className:"h-4 w-4 text-gray-600"})})}function HMe(){const{user:t,logoutMutation:r}=dt(),s=aj(),{isCollapsed:n}=vb(),[a,i]=j.useState(!1),[l]=xr();j.useEffect(()=>{i(!1)},[l]);const o=(t==null?void 0:t.userType)==="admin",c=(t==null?void 0:t.userType)==="branch_manager",d=(t==null?void 0:t.userType)==="taluk_manager",u=(t==null?void 0:t.userType)==="service_provider",m=o||c||d,h=u&&s.isApproved&&s.providerType==="farmer",g=u&&s.isApproved&&s.providerType==="manufacturer",f=o||m,p=y=>y?{farmer:"Farmer",manufacturer:"Manufacturer",recycling_agent:"Recycling Agent",booking_agent:"Booking Agent",rental_provider:"Rental Provider",transport_service:"Transport Service",taxi_service:"Taxi Service"}[y]||y:"Provider";return e.jsxs(e.Fragment,{children:[e.jsx(KMe,{}),e.jsx("aside",{className:Oe("fixed inset-y-0 left-0 z-40 bg-white border-r border-neutral-200 pt-16 hidden lg:block transition-all duration-300 ease-in-out",n?"w-16":"w-64"),children:e.jsx("div",{className:"h-full flex flex-col overflow-y-auto",children:e.jsxs("nav",{className:Oe("flex-1 py-4 space-y-1",n?"px-2":"px-4"),children:[!n&&e.jsxs("div",{className:"mb-6 px-3 py-3 bg-primary/10 rounded-lg",children:[e.jsx("p",{className:"text-sm font-medium text-primary-foreground",children:o?"Admin":c?"Branch Manager":d?"Taluk Manager":(t==null?void 0:t.userType)==="service_agent"?"Service Agent":u&&s.isApproved?p(s.providerType):u?"Provider (Pending)":"Customer"}),e.jsxs("p",{className:"text-xs text-neutral-500 mt-1",children:[o&&"Tamil Nadu (All Districts)",c&&(t==null?void 0:t.district),d&&`${t==null?void 0:t.district} - ${t==null?void 0:t.taluk}`,(t==null?void 0:t.userType)==="service_agent"&&`${t==null?void 0:t.pincode} Pincode Area`,u&&s.isApproved&&"Approved Service Provider",u&&!s.isApproved&&"Registration Under Review",(t==null?void 0:t.userType)==="customer"&&(t==null?void 0:t.username)]})]}),e.jsx(st,{href:"/",icon:e.jsx(Wg,{}),children:"Dashboard"}),!n&&e.jsx("div",{className:"pt-5 pb-2",children:e.jsx("p",{className:"px-3 text-xs font-semibold text-neutral-500 uppercase tracking-wider",children:"Grocery Services"})}),n&&e.jsx("div",{className:"pt-5 pb-2",children:e.jsx("div",{className:"w-8 h-px bg-neutral-300 mx-auto"})}),e.jsx(st,{href:"/customer/grocery-browse",icon:e.jsx(qa,{}),children:"Browse Groceries"}),e.jsx(st,{href:"/admin/grocery/categories",icon:e.jsx(Si,{}),show:o,tooltip:"Grocery Categories",children:"Grocery Categories"}),e.jsx(st,{href:"/admin/grocery/products",icon:e.jsx(pt,{}),show:o,tooltip:"Grocery Products",children:"Grocery Products"}),e.jsx(st,{href:"/admin/grocery/farmer-product-approvals",icon:e.jsx(Zc,{}),show:o,tooltip:"Product Approvals",children:"Product Approvals"}),e.jsx(st,{href:"/provider/add-grocery-product",icon:e.jsx(Rt,{}),show:h,tooltip:"Add Product",children:"Add Product"}),e.jsx(st,{href:"/provider/my-grocery-products",icon:e.jsx(Es,{}),show:h,tooltip:"My Products",children:"My Products"}),!n&&e.jsx("div",{className:"pt-5 pb-2",children:e.jsx("p",{className:"px-3 text-xs font-semibold text-neutral-500 uppercase tracking-wider",children:"Local Products"})}),n&&e.jsx("div",{className:"pt-5 pb-2",children:e.jsx("div",{className:"w-8 h-px bg-neutral-300 mx-auto"})}),e.jsx(st,{href:"/local-products",icon:e.jsx(Si,{}),children:"Browse Local Products"}),e.jsx(st,{href:"/admin/local-products",icon:e.jsx(og,{}),show:o,tooltip:"Manage Local Products",children:"Manage Products"}),e.jsx(st,{href:"/provider/local-products/new",icon:e.jsx(Rt,{}),show:g,tooltip:"Add Local Product",children:"Add Product"}),!n&&e.jsx("div",{className:"pt-5 pb-2",children:e.jsx("p",{className:"px-3 text-xs font-semibold text-neutral-500 uppercase tracking-wider",children:"Rental Services"})}),n&&e.jsx("div",{className:"pt-5 pb-2",children:e.jsx("div",{className:"w-8 h-px bg-neutral-300 mx-auto"})}),e.jsx(st,{href:"/rental-browse",icon:e.jsx(Ns,{}),children:"Browse Equipment"}),e.jsx(st,{href:"/admin/rental-categories",icon:e.jsx(pt,{}),show:o,tooltip:"Rental Categories",children:"Rental Categories"}),e.jsx(st,{href:"/admin/rental-management",icon:e.jsx(Ns,{}),show:o,tooltip:"Manage Equipment",children:"Manage Equipment"}),!n&&e.jsx("div",{className:"pt-5 pb-2",children:e.jsx("p",{className:"px-3 text-xs font-semibold text-neutral-500 uppercase tracking-wider",children:"Transport Services"})}),n&&e.jsx("div",{className:"pt-5 pb-2",children:e.jsx("div",{className:"w-8 h-px bg-neutral-300 mx-auto"})}),e.jsx(st,{href:"/travel-services",icon:e.jsx(gi,{}),children:"Travel Services"}),e.jsx(st,{href:"/taxi-browse",icon:e.jsx(_t,{}),children:"Taxi Services"}),e.jsx(st,{href:"/delivery-browse",icon:e.jsx(_n,{}),children:"Delivery Services"}),e.jsx(st,{href:"/taxi",icon:e.jsx(_t,{}),show:o,tooltip:"Taxi Management",children:"Taxi Management"}),e.jsx(st,{href:"/delivery",icon:e.jsx(_n,{}),show:o,tooltip:"Delivery Management",children:"Delivery Management"}),e.jsx(st,{href:"/provider/taxi-vehicles",icon:e.jsx(_t,{}),show:u,tooltip:"My Vehicles",children:"My Taxi Vehicles"}),e.jsx(st,{href:"/provider/delivery-registration",icon:e.jsx(_n,{}),show:u,tooltip:"Delivery Registration",children:"Delivery Agent Registration"}),e.jsx(st,{href:"/admin/taxi-vehicle-approvals",icon:e.jsx(Zc,{}),show:o,tooltip:"Vehicle Approvals",children:"Vehicle Approvals"}),e.jsx(st,{href:"/admin/delivery-categories",icon:e.jsx(pt,{}),show:o,tooltip:"Delivery Categories",children:"Delivery Categories"}),e.jsx(st,{href:"/admin/delivery-agent-approvals",icon:e.jsx(Zc,{}),show:o,tooltip:"Agent Approvals",children:"Delivery Agent Approvals"}),m&&!n&&e.jsx("div",{className:"pt-5 pb-2",children:e.jsx("p",{className:"px-3 text-xs font-semibold text-neutral-500 uppercase tracking-wider",children:"System Management"})}),m&&n&&e.jsx("div",{className:"pt-5 pb-2",children:e.jsx("div",{className:"w-8 h-px bg-neutral-300 mx-auto"})}),e.jsx(st,{href:"/branch-managers",icon:e.jsx(er,{}),show:o,tooltip:"Branch Managers",children:"Branch Managers"}),e.jsx(st,{href:"/taluk-managers",icon:e.jsx(j_,{}),show:o||c,tooltip:"Taluk Managers",children:"Taluk Managers"}),e.jsx(st,{href:"/service-agents",icon:e.jsx(Dw,{}),show:m,tooltip:"Service Agents",children:"Service Agents"}),e.jsx(st,{href:"/admin/service-providers",icon:e.jsx(og,{}),show:o,tooltip:"Service Providers",children:"Service Providers"}),e.jsx(st,{href:"/commission-config",icon:e.jsx(Qg,{}),show:o,tooltip:"Commission Setup",children:"Commission Setup"}),e.jsx(st,{href:"/analytics",icon:e.jsx(gx,{}),show:m,tooltip:"Analytics",children:"Analytics Dashboard"}),e.jsx(st,{href:"/hierarchy",icon:e.jsx(g_,{}),show:m,tooltip:"Organization",children:"Organization Hierarchy"}),!n&&m&&e.jsx("div",{className:"pt-5 pb-2",children:e.jsx("p",{className:"px-3 text-xs font-semibold text-neutral-500 uppercase tracking-wider",children:"Video Management"})}),n&&m&&e.jsx("div",{className:"pt-5 pb-2",children:e.jsx("div",{className:"w-8 h-px bg-neutral-300 mx-auto"})}),e.jsx(st,{href:"/video-upload",icon:e.jsx(fu,{}),show:m,tooltip:"Upload Videos",children:"Upload Videos"}),e.jsx(st,{href:"/video-analytics",icon:e.jsx(gx,{}),show:m,tooltip:"Video Analytics",children:"Video Analytics"}),e.jsx(st,{href:"/video-library",icon:e.jsx(pu,{}),show:m,tooltip:"Video Library",children:"Video Library"}),e.jsx(st,{href:"/admin/video-approvals",icon:e.jsx(Ot,{}),show:o,tooltip:"Video Approvals",children:"Video Approvals"}),!n&&e.jsx("div",{className:"pt-5 pb-2",children:e.jsx("p",{className:"px-3 text-xs font-semibold text-neutral-500 uppercase tracking-wider",children:"Utilities & Others"})}),n&&e.jsx("div",{className:"pt-5 pb-2",children:e.jsx("div",{className:"w-8 h-px bg-neutral-300 mx-auto"})}),e.jsx(st,{href:"/recharge",icon:e.jsx(Jn,{}),children:"Recharge Services"}),e.jsx(st,{href:"/recharge/electricity",icon:e.jsx(f_,{}),children:"Utility Services"}),e.jsx(st,{href:"/recycling",icon:e.jsx(In,{}),children:"Recycling Services"}),!n&&e.jsx("div",{className:"pt-5 pb-2",children:e.jsx("p",{className:"px-3 text-xs font-semibold text-neutral-500 uppercase tracking-wider",children:"Personal Services"})}),n&&e.jsx("div",{className:"pt-5 pb-2",children:e.jsx("div",{className:"w-8 h-px bg-neutral-300 mx-auto"})}),e.jsx(st,{href:"/chat",icon:e.jsx(hu,{}),children:"Chat & Support"}),e.jsx(st,{href:"/wallet",icon:e.jsx(Mw,{}),children:"Wallet"}),e.jsx(st,{href:"/commissions",icon:e.jsx(ia,{}),tooltip:"My Commissions",children:"My Commissions"}),!n&&e.jsx("div",{className:"pt-5 pb-2",children:e.jsx("p",{className:"px-3 text-xs font-semibold text-neutral-500 uppercase tracking-wider",children:"Video Center"})}),n&&e.jsx("div",{className:"pt-5 pb-2",children:e.jsx("div",{className:"w-8 h-px bg-neutral-300 mx-auto"})}),e.jsx(st,{href:"/video-library",icon:e.jsx(pu,{}),children:"Video Library"}),e.jsx(st,{href:"/video-management",icon:e.jsx(fu,{}),show:f,tooltip:"Video Management",children:"Video Management"}),e.jsxs("div",{className:"mt-auto pt-6 border-t border-neutral-200",children:[e.jsx(st,{href:"/profile",icon:e.jsx(Sc,{}),children:"Profile Settings"}),e.jsxs("button",{onClick:()=>r.mutate(),className:Oe("w-full px-3 py-2 rounded-md flex items-center text-sm font-medium cursor-pointer transition-all duration-200 text-red-600 hover:bg-red-50",n?"justify-center":""),disabled:r.isPending,title:n?"Logout":"",children:[e.jsx("span",{className:Oe("text-lg flex-shrink-0",n?"":"mr-3"),children:e.jsx(Gg,{})}),e.jsx("span",{className:Oe("transition-all duration-200 whitespace-nowrap",n?"opacity-0 w-0 overflow-hidden":"opacity-100"),children:r.isPending?"Logging out...":"Logout"})]})]})]})})}),a&&e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"fixed inset-0 z-40 bg-neutral-900/50 lg:hidden",onClick:()=>i(!1)}),e.jsx("aside",{className:"fixed inset-y-0 left-0 z-50 w-64 bg-white border-r border-neutral-200 pt-16 lg:hidden",children:e.jsxs("div",{className:"h-full flex flex-col overflow-y-auto",children:[e.jsxs("nav",{className:"flex-1 px-4 py-4 space-y-1",children:[e.jsxs("div",{className:"mb-6 px-3 py-3 bg-primary/10 rounded-lg",children:[e.jsx("p",{className:"text-sm font-medium text-primary-foreground",children:o?"Admin":c?"Branch Manager":d?"Taluk Manager":(t==null?void 0:t.userType)==="service_agent"?"Service Agent":u&&s.isApproved?p(s.providerType):u?"Provider (Pending)":"Customer"}),e.jsxs("p",{className:"text-xs text-neutral-500 mt-1",children:[o&&"Tamil Nadu (All Districts)",c&&(t==null?void 0:t.district),d&&`${t==null?void 0:t.district} - ${t==null?void 0:t.taluk}`,(t==null?void 0:t.userType)==="service_agent"&&`${t==null?void 0:t.pincode} Pincode Area`,(t==null?void 0:t.userType)==="customer"&&(t==null?void 0:t.username)]})]}),e.jsx(st,{href:"/",icon:e.jsx(Wg,{}),children:"Dashboard"}),m&&e.jsx("div",{className:"pt-5 pb-2",children:e.jsx("p",{className:"px-3 text-xs font-semibold text-neutral-500 uppercase tracking-wider",children:"Management"})}),e.jsx(st,{href:"/branch-managers",icon:e.jsx(er,{}),show:o,children:"Branch Managers"}),e.jsx(st,{href:"/taluk-managers",icon:e.jsx(j_,{}),show:o||c,children:"Taluk Managers"}),e.jsx(st,{href:"/service-agents",icon:e.jsx(Dw,{}),show:m,children:"Service Agents"}),e.jsx(st,{href:"/commission-config",icon:e.jsx(Qg,{}),show:o,children:"Commission Setup"}),e.jsx(st,{href:"/commissions",icon:e.jsx(ia,{}),show:!0,children:"My Commissions"}),e.jsx(st,{href:"/commission-dashboard",icon:e.jsx(gx,{}),show:o,children:"Commission Dashboard"}),e.jsx(st,{href:"/analytics",icon:e.jsx(gx,{}),show:m,children:"Analytics Dashboard"}),e.jsx(st,{href:"/hierarchy",icon:e.jsx(g_,{}),show:m,children:"Organization Hierarchy"}),e.jsx(st,{href:"/manager-applications",icon:e.jsx(Zc,{}),show:o,children:"Manager Applications"}),o&&e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"pt-5 pb-2",children:e.jsx("p",{className:"px-3 text-xs font-semibold text-neutral-500 uppercase tracking-wider",children:"Product Management"})}),e.jsx(st,{href:"/admin/grocery/categories",icon:e.jsx(Si,{}),show:o,children:"Grocery Categories"}),e.jsx(st,{href:"/admin/grocery/products",icon:e.jsx(qa,{}),show:o,children:"Grocery Products"}),e.jsx(st,{href:"/admin/grocery/product-requests",icon:e.jsx(Zc,{}),show:o,children:"Product Requests"}),e.jsx(st,{href:"/admin/grocery/farmer-listings",icon:e.jsx(Es,{}),show:o,children:"Farmer Product Listings"}),e.jsx(st,{href:"/admin/local-products",icon:e.jsx(og,{}),show:o,children:"Local Products"})]}),h&&e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"pt-5 pb-2",children:e.jsx("p",{className:"px-3 text-xs font-semibold text-neutral-500 uppercase tracking-wider",children:"Farmer Portal"})}),e.jsx(st,{href:"/farmer/add-product",icon:e.jsx(qa,{}),show:h,children:"Add Product Listing"}),e.jsx(st,{href:"/farmer/request-product",icon:e.jsx(Zc,{}),show:h,children:"Request New Product"}),e.jsx(st,{href:"/farmer/my-listings",icon:e.jsx(Es,{}),show:h,children:"My Product Listings"}),e.jsx(st,{href:"/provider/add-grocery-product",icon:e.jsx(qa,{}),show:h,children:"Add Grocery Product"}),e.jsx(st,{href:"/provider/my-grocery-products",icon:e.jsx(qa,{}),show:h,children:"My Grocery Products"})]}),((t==null?void 0:t.userType)==="customer"||(t==null?void 0:t.userType)!=="service_provider"&&!o)&&e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"pt-5 pb-2",children:e.jsx("p",{className:"px-3 text-xs font-semibold text-neutral-500 uppercase tracking-wider",children:"Services"})}),e.jsx(st,{href:"/recharge/",icon:e.jsx(Jn,{}),children:"Recharges & Bills"}),e.jsx(st,{href:"/travel",icon:e.jsx(gi,{}),children:"Travel Bookings"}),e.jsx(st,{href:"/rental",icon:e.jsx(Ns,{}),children:"Rental Services"}),e.jsx(st,{href:"/taxi",icon:e.jsx(_t,{}),children:"Taxi Services"}),e.jsx(st,{href:"/delivery",icon:e.jsx(_n,{}),children:"Delivery Management"}),e.jsx(st,{href:"/customer/grocery-browse",icon:e.jsx(qa,{}),children:"Browse Grocery Products"}),e.jsx(st,{href:"/farm-listings",icon:e.jsx(Es,{}),children:"Farm Products"})]}),e.jsx("div",{className:"pt-5 pb-2",children:e.jsx("p",{className:"px-3 text-xs font-semibold text-neutral-500 uppercase tracking-wider",children:"Additional"})}),e.jsx(st,{href:"/wallet",icon:e.jsx(Mw,{}),children:"Wallet Management"}),e.jsx(st,{href:"/utility",icon:e.jsx(f_,{}),children:"Utility Bills"}),e.jsx(st,{href:"/chat",icon:e.jsx(hu,{}),children:"Chat System"}),e.jsx(st,{href:"/recycling",icon:e.jsx(In,{}),children:"Recycling"})]}),e.jsx("div",{className:"p-4 border-t border-neutral-200",children:e.jsxs("button",{onClick:()=>r.mutate(),className:"text-sm font-medium text-neutral-700 hover:text-primary flex items-center",children:[e.jsx(Gg,{size:18,className:"mr-2"}),e.jsx("span",{children:"Sign out"})]})})]})})]})]})}function WMe(){const[t]=xr(),{user:r}=dt(),s=l=>t===l,n=(r==null?void 0:r.userType)==="admin",a=()=>{const l=new CustomEvent("toggle-sidebar");window.dispatchEvent(l)},i=()=>n?e.jsxs(e.Fragment,{children:[e.jsx(At,{href:"/",children:e.jsxs("div",{className:Oe("flex flex-col items-center py-1 cursor-pointer",s("/")?"text-primary":"text-neutral-500"),children:[e.jsx(Wg,{className:"h-5 w-5"}),e.jsx("span",{className:"text-xs mt-1",children:"Dashboard"})]})}),e.jsx(At,{href:"/admin/grocery/categories",children:e.jsxs("div",{className:Oe("flex flex-col items-center py-1 cursor-pointer",s("/admin/grocery/categories")?"text-primary":"text-neutral-500"),children:[e.jsx(Si,{className:"h-5 w-5"}),e.jsx("span",{className:"text-xs mt-1",children:"Categories"})]})}),e.jsx(At,{href:"/admin/grocery/products",children:e.jsxs("div",{className:Oe("flex flex-col items-center py-1 cursor-pointer",s("/admin/grocery/products")?"text-primary":"text-neutral-500"),children:[e.jsx(qa,{className:"h-5 w-5"}),e.jsx("span",{className:"text-xs mt-1",children:"Products"})]})}),e.jsx(At,{href:"/admin/local-products",children:e.jsxs("div",{className:Oe("flex flex-col items-center py-1 cursor-pointer",s("/admin/local-products")?"text-primary":"text-neutral-500"),children:[e.jsx(og,{className:"h-5 w-5"}),e.jsx("span",{className:"text-xs mt-1",children:"Local Prods"})]})})]}):e.jsxs(e.Fragment,{children:[e.jsx(At,{href:"/",children:e.jsxs("div",{className:Oe("flex flex-col items-center py-1 cursor-pointer",s("/")?"text-primary":"text-neutral-500"),children:[e.jsx(Wg,{className:"h-5 w-5"}),e.jsx("span",{className:"text-xs mt-1",children:"Dashboard"})]})}),e.jsx(At,{href:"/recharge",children:e.jsxs("div",{className:Oe("flex flex-col items-center py-1 cursor-pointer",s("/recharge")?"text-primary":"text-neutral-500"),children:[e.jsx(Jn,{className:"h-5 w-5"}),e.jsx("span",{className:"text-xs mt-1",children:"Recharge"})]})}),e.jsx(At,{href:"/grocery",children:e.jsxs("div",{className:Oe("flex flex-col items-center py-1 cursor-pointer",s("/grocery")?"text-primary":"text-neutral-500"),children:[e.jsx(Si,{className:"h-5 w-5"}),e.jsx("span",{className:"text-xs mt-1",children:"Grocery"})]})}),e.jsx(At,{href:"/delivery",children:e.jsxs("div",{className:Oe("flex flex-col items-center py-1 cursor-pointer",s("/delivery")?"text-primary":"text-neutral-500"),children:[e.jsx(_n,{className:"h-5 w-5"}),e.jsx("span",{className:"text-xs mt-1",children:"Delivery"})]})})]});return e.jsx("div",{className:"fixed bottom-0 left-0 right-0 bg-white border-t border-neutral-200 p-2 lg:hidden z-30",children:e.jsxs("div",{className:"grid grid-cols-5 gap-1",children:[i(),e.jsxs("button",{onClick:a,className:"flex flex-col items-center py-1 text-neutral-500",children:[e.jsx(a$,{className:"h-5 w-5"}),e.jsx("span",{className:"text-xs mt-1",children:"More"})]})]})})}function GMe(){return e.jsx("div",{className:"min-h-screen w-full flex items-center justify-center bg-gray-50",children:e.jsx(E,{className:"w-full max-w-md mx-4",children:e.jsxs(D,{className:"pt-6",children:[e.jsxs("div",{className:"flex mb-4 gap-2",children:[e.jsx(nr,{className:"h-8 w-8 text-red-500"}),e.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"404 Page Not Found"})]}),e.jsx("p",{className:"mt-4 text-sm text-gray-600",children:"Did you forget to add the page to the router?"})]})})})}const YMe=_.object({username:_.string().min(1,"Username is required"),password:_.string().min(1,"Password is required")}),QMe=_.object({username:_.string().min(3,"Username must be at least 3 characters"),password:_.string().min(6,"Password must be at least 6 characters"),confirmPassword:_.string().min(6,"Password must be at least 6 characters"),fullName:_.string().min(1,"Full name is required"),district:_.string().min(1,"District is required"),taluk:_.string().min(1,"Taluk is required"),pincode:_.string().min(6,"Pincode must be 6 digits").max(6,"Pincode must be 6 digits"),userType:_.string().default("customer"),providerType:_.string().optional(),businessName:_.string().optional(),businessDescription:_.string().optional()}).refine(t=>t.password===t.confirmPassword,{message:"Passwords do not match",path:["confirmPassword"]}).refine(t=>t.userType==="service_provider"?t.providerType&&t.businessName:!0,{message:"Provider type and business name are required for service providers",path:["providerType"]});function XMe(){const[t,r]=j.useState("login"),{user:s,loginMutation:n,registerMutation:a}=dt(),[,i]=xr(),[l,o]=j.useState("customer");j.useState("branch_manager"),j.useEffect(()=>{const g=new URLSearchParams(window.location.search).get("registerAs");g==="provider"?(o("provider"),r("register")):g==="manager"&&(o("manager"),r("register"))},[]),j.useEffect(()=>{s&&(s.userType==="provider"?i("/provider-dashboard"):i("/dashboard"))},[s,i]);const c=Ht({resolver:Wt(YMe),defaultValues:{username:"",password:""}}),d=Ht({resolver:Wt(QMe),defaultValues:{username:"",password:"",confirmPassword:"",fullName:"",district:"",taluk:"",pincode:"",userType:"customer",providerType:"",businessName:"",businessDescription:""}});function u(h){n.mutate(h)}function m(h){const g={...h,email:"",phone:""};if(l==="manager"){i("/manager-registration");return}else{const f={...g,userType:l==="provider"?"service_provider":l};a.mutate(f)}}return e.jsxs("div",{className:"min-h-screen flex flex-col lg:flex-row bg-neutral-50",children:[e.jsx("div",{className:"flex-1 flex items-center justify-center p-4 lg:p-8",children:e.jsxs("div",{className:"w-full max-w-md",children:[e.jsxs("div",{className:"mb-6 text-center lg:text-left",children:[e.jsx("h1",{className:"text-3xl font-bold text-primary mb-2",children:"NALAMINI Service Platform"}),e.jsx("p",{className:"text-neutral-600 mb-4",children:"One platform for all services across Tamil Nadu"})]}),e.jsxs(rr,{value:t,onValueChange:r,className:"w-full",children:[e.jsxs(tr,{className:"grid w-full grid-cols-2 mb-8",children:[e.jsx(ke,{value:"login",children:"Login"}),e.jsx(ke,{value:"register",children:"Register"})]}),e.jsx(Le,{value:"login",children:e.jsxs(E,{children:[e.jsxs(Y,{children:[e.jsx(X,{children:"Sign In"}),e.jsx(he,{children:"Enter your credentials to access your account"})]}),e.jsx(D,{children:e.jsx(Gt,{...c,children:e.jsxs("form",{onSubmit:c.handleSubmit(u),className:"space-y-4",children:[e.jsx(q,{control:c.control,name:"username",render:({field:h})=>e.jsxs(B,{children:[e.jsx(V,{children:"Username"}),e.jsx(U,{children:e.jsx($,{placeholder:"Enter your username",...h})}),e.jsx(z,{})]})}),e.jsx(q,{control:c.control,name:"password",render:({field:h})=>e.jsxs(B,{children:[e.jsx(V,{children:"Password"}),e.jsx(U,{children:e.jsx($,{type:"password",placeholder:"Enter your password",...h})}),e.jsx(z,{})]})}),e.jsx(T,{type:"submit",className:"w-full",disabled:n.isPending,children:n.isPending?e.jsxs(e.Fragment,{children:[e.jsx(Ye,{className:"mr-2 h-4 w-4 animate-spin"}),"Signing in..."]}):"Sign In"})]})})}),e.jsx(mr,{className:"flex flex-col",children:e.jsxs("p",{className:"text-sm text-neutral-500 text-center",children:["Don't have an account?"," ",e.jsx(T,{variant:"link",onClick:()=>r("register"),className:"p-0",children:"Register here"})]})})]})}),e.jsx(Le,{value:"register",children:e.jsxs(E,{children:[e.jsxs(Y,{children:[e.jsx(X,{children:"Create Account"}),e.jsx(he,{children:"Register for a new account to access TN Services"})]}),e.jsxs(D,{children:[e.jsxs("div",{className:"mb-6",children:[e.jsx("div",{className:"text-sm font-medium mb-2",children:"I want to register as:"}),e.jsxs("div",{className:"grid grid-cols-3 gap-3",children:[e.jsxs("div",{className:`border rounded-lg p-4 cursor-pointer flex flex-col items-center transition-all ${l==="customer"?"border-primary bg-primary/5":"border-gray-200 hover:border-gray-300"}`,onClick:()=>o("customer"),children:[e.jsx("div",{className:"p-3 rounded-full bg-primary/10 mb-2",children:e.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"text-primary",children:[e.jsx("path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2"}),e.jsx("circle",{cx:"12",cy:"7",r:"4"})]})}),e.jsx("span",{className:"font-medium",children:"Customer"}),e.jsx("span",{className:"text-xs text-gray-500 text-center mt-1",children:"Use services and make payments"})]}),e.jsxs("div",{className:`border rounded-lg p-4 cursor-pointer flex flex-col items-center transition-all ${l==="provider"?"border-primary bg-primary/5":"border-gray-200 hover:border-gray-300"}`,onClick:()=>o("provider"),children:[e.jsx("div",{className:"p-3 rounded-full bg-primary/10 mb-2",children:e.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"text-primary",children:[e.jsx("path",{d:"M2 9a3 3 0 0 1 0 6v2a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-2a3 3 0 0 1 0-6V7a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2Z"}),e.jsx("path",{d:"M13 5v2"}),e.jsx("path",{d:"M13 17v2"}),e.jsx("path",{d:"M13 11v2"})]})}),e.jsx("span",{className:"font-medium",children:"Service Provider"}),e.jsx("span",{className:"text-xs text-gray-500 text-center mt-1",children:"Offer services on the platform"})]}),e.jsxs("div",{className:`border rounded-lg p-4 cursor-pointer flex flex-col items-center transition-all ${l==="manager"?"border-blue-500 bg-blue-50":"border-gray-200 hover:border-gray-300"}`,onClick:()=>o("manager"),children:[e.jsx("div",{className:"p-3 rounded-full bg-blue-100 mb-2",children:e.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"text-blue-600",children:[e.jsx("path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2"}),e.jsx("circle",{cx:"9",cy:"7",r:"4"}),e.jsx("path",{d:"M22 21v-2a4 4 0 0 0-3-3.87"}),e.jsx("path",{d:"M16 3.13a4 4 0 0 1 0 7.75"})]})}),e.jsx("span",{className:"font-medium",children:"Managerial Associate"}),e.jsx("span",{className:"text-xs text-gray-500 text-center mt-1",children:"Join our management team"})]})]})]}),l==="manager"&&e.jsxs("div",{className:"mb-6",children:[e.jsx("div",{className:"text-sm font-medium mb-2",children:"Enhanced Managerial Registration"}),e.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-6 text-center",children:[e.jsx("div",{className:"text-blue-800 mb-3 font-medium",children:"We've enhanced our managerial associate registration process!"}),e.jsx("p",{className:"text-blue-700 mb-4",children:"To provide a better experience and collect all the necessary information, we've created a dedicated registration process for managerial associates."}),e.jsx(T,{onClick:()=>{i("/manager-registration")},className:"bg-blue-600 hover:bg-blue-700",children:"Continue to Manager Registration"})]})]}),e.jsx(Gt,{...d,children:e.jsxs("form",{onSubmit:d.handleSubmit(m),className:"space-y-4",children:[e.jsx(q,{control:d.control,name:"fullName",render:({field:h})=>e.jsxs(B,{children:[e.jsx(V,{children:"Full Name"}),e.jsx(U,{children:e.jsx($,{placeholder:"Enter your full name",...h})}),e.jsx(z,{})]})}),e.jsx(q,{control:d.control,name:"username",render:({field:h})=>e.jsxs(B,{children:[e.jsx(V,{children:"Username"}),e.jsx(U,{children:e.jsx($,{placeholder:"Choose a username",...h})}),e.jsx(z,{})]})}),e.jsxs("div",{className:"mt-6 mb-4 border-t pt-4",children:[e.jsx("h3",{className:"text-md font-semibold mb-2",children:"Location Information"}),e.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:"This information helps us connect you with the right service agents in your area"})]}),e.jsx(q,{control:d.control,name:"district",render:({field:h})=>e.jsxs(B,{children:[e.jsx(V,{children:"District"}),e.jsx(U,{children:e.jsx($,{placeholder:"Your district (e.g., Chennai, Coimbatore)",...h})}),e.jsx(z,{})]})}),e.jsx(q,{control:d.control,name:"taluk",render:({field:h})=>e.jsxs(B,{children:[e.jsx(V,{children:"Taluk"}),e.jsx(U,{children:e.jsx($,{placeholder:"Your taluk",...h})}),e.jsx(z,{})]})}),e.jsx(q,{control:d.control,name:"pincode",render:({field:h})=>e.jsxs(B,{children:[e.jsx(V,{children:"Pincode"}),e.jsx(U,{children:e.jsx($,{placeholder:"6-digit pincode",maxLength:6,...h})}),e.jsx(z,{})]})}),l==="provider"&&e.jsxs("div",{className:"mt-6 mb-4 border-t pt-4",children:[e.jsx("h3",{className:"text-md font-semibold mb-2",children:"Business Information"}),e.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:"Tell us about your business to get started as a service provider"}),e.jsxs("div",{className:"space-y-4",children:[e.jsx(q,{control:d.control,name:"providerType",render:({field:h})=>e.jsxs(B,{children:[e.jsx(V,{children:"Provider Type"}),e.jsx(U,{children:e.jsxs("select",{className:"flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",...h,children:[e.jsx("option",{value:"",children:"Select provider type"}),e.jsx("option",{value:"farmer",children:"Farmer"}),e.jsx("option",{value:"manufacturer",children:"Manufacturer"}),e.jsx("option",{value:"booking_agent",children:"Booking Agent"}),e.jsx("option",{value:"rental_agent",children:"Rental Agent"}),e.jsx("option",{value:"transport_service",children:"Transport Service"}),e.jsx("option",{value:"taxi_service",children:"Taxi Service"}),e.jsx("option",{value:"recycling_agent",children:"Recycling Agent"})]})}),e.jsx(z,{})]})}),e.jsx(q,{control:d.control,name:"businessName",render:({field:h})=>e.jsxs(B,{children:[e.jsx(V,{children:"Business Name"}),e.jsx(U,{children:e.jsx($,{placeholder:"Enter your business name",...h})}),e.jsx(z,{})]})}),e.jsx(q,{control:d.control,name:"businessDescription",render:({field:h})=>e.jsxs(B,{children:[e.jsx(V,{children:"Business Description (Optional)"}),e.jsx(U,{children:e.jsx($,{placeholder:"Briefly describe your business",...h})}),e.jsx(z,{})]})})]})]}),e.jsx(q,{control:d.control,name:"password",render:({field:h})=>e.jsxs(B,{children:[e.jsx(V,{children:"Password"}),e.jsx(U,{children:e.jsx($,{type:"password",placeholder:"Create a password",...h})}),e.jsx(z,{})]})}),e.jsx(q,{control:d.control,name:"confirmPassword",render:({field:h})=>e.jsxs(B,{children:[e.jsx(V,{children:"Confirm Password"}),e.jsx(U,{children:e.jsx($,{type:"password",placeholder:"Confirm your password",...h})}),e.jsx(z,{})]})}),e.jsx(T,{type:"submit",className:`w-full ${l==="manager"?"bg-blue-600 hover:bg-blue-700":""}`,disabled:a.isPending,children:a.isPending?e.jsxs(e.Fragment,{children:[e.jsx(Ye,{className:"mr-2 h-4 w-4 animate-spin"}),"Creating account..."]}):l==="customer"?"Create Customer Account":l==="provider"?"Create Service Provider Account":"Submit Managerial Application"}),l==="provider"&&e.jsx("div",{className:"mt-2 text-xs text-gray-500 text-center",children:"After registration, you'll be directed to set up your service provider profile"}),l==="manager"&&e.jsx("div",{className:"mt-2 text-xs text-gray-500 text-center",children:"Your application will be reviewed by our admin team. Once approved, you will receive your login credentials via email."})]})})]}),e.jsx(mr,{className:"flex flex-col",children:e.jsxs("p",{className:"text-sm text-neutral-500 text-center",children:["Already have an account?"," ",e.jsx(T,{variant:"link",onClick:()=>r("login"),className:"p-0",children:"Sign in"})]})})]})})]})]})}),e.jsx("div",{className:"flex-1 hidden lg:flex bg-gradient-to-br from-primary to-primary/80 p-6",children:e.jsxs("div",{className:"max-w-2xl mx-auto self-center w-full",children:[e.jsxs("div",{className:"text-center mb-6",children:[e.jsx("h2",{className:"text-3xl font-bold mb-4 text-white",children:"Welcome to NALAMINI Service Platform"}),e.jsx("p",{className:"text-lg text-white/90 mb-6",children:"Watch our platform overview to understand how NALAMINI connects communities across Tamil Nadu with essential services"})]}),e.jsxs("div",{className:"bg-white rounded-xl overflow-hidden shadow-2xl mb-6",children:[e.jsx("div",{className:"relative",style:{paddingBottom:"56.25%",height:0},children:e.jsx("iframe",{className:"absolute top-0 left-0 w-full h-full",src:"https://www.youtube.com/embed/dQw4w9WgXcQ",title:"NALAMINI Service Platform Overview",frameBorder:"0",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share",allowFullScreen:!0,referrerPolicy:"strict-origin-when-cross-origin"})}),e.jsxs("div",{className:"p-6 text-center",children:[e.jsx("h3",{className:"text-lg font-semibold mb-3 text-gray-900",children:"Platform Demo"}),e.jsxs("div",{className:"flex flex-wrap gap-2 justify-center",children:[e.jsx("span",{className:"px-3 py-1 bg-primary/10 text-primary rounded-full text-sm",children:"Mobile Recharge"}),e.jsx("span",{className:"px-3 py-1 bg-primary/10 text-primary rounded-full text-sm",children:"Travel Services"}),e.jsx("span",{className:"px-3 py-1 bg-primary/10 text-primary rounded-full text-sm",children:"Grocery Shopping"}),e.jsx("span",{className:"px-3 py-1 bg-primary/10 text-primary rounded-full text-sm",children:"Local Products"})]})]})]}),e.jsx("div",{className:"text-center",children:e.jsx("p",{className:"text-white/80 text-sm",children:"Experience seamless service delivery across Tamil Nadu with our comprehensive platform"})})]})})]})}const PD="/assets/banner_1749951384861-4OWfSDf4.png";class ZMe{constructor(){this.sessions=new Map,this.updateIntervals=new Map,this.UPDATE_INTERVAL=5e3,this.MIN_WATCH_TIME=3}generateSessionId(){return`${Date.now()}-${Math.random().toString(36).substr(2,9)}`}getDeviceInfo(){const r=navigator.userAgent;let s="desktop",n="unknown";return/Mobile|Android|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(r)&&(s=/iPad|tablet/i.test(r)?"tablet":"mobile"),r.includes("Chrome")?n="chrome":r.includes("Firefox")?n="firefox":r.includes("Safari")&&!r.includes("Chrome")?n="safari":r.includes("Edge")&&(n="edge"),{deviceType:s,browserType:n}}startSession(r,s,n){const a=this.generateSessionId();this.getDeviceInfo();const i={sessionId:a,videoId:r,startTime:Date.now(),lastUpdateTime:Date.now(),totalWatchTime:0,pauseCount:0,seekCount:0,volumeChanges:0,playbackSpeed:1,videoDuration:s,isCompleted:!1};return this.sessions.set(a,i),this.recordView(a,n),this.startPeriodicUpdates(a),a}async recordView(r,s){const n=this.sessions.get(r);if(!n)return;const{deviceType:a,browserType:i}=this.getDeviceInfo();try{await le("POST","/api/videos/analytics/view",{videoId:n.videoId,viewerId:s,sessionId:r,videoDuration:n.videoDuration,deviceType:a,browserType:i,ipAddress:"",referrer:document.referrer||window.location.href})}catch(l){console.error("Failed to record video view:",l)}}handleEvent(r,s){const n=this.sessions.get(r);if(!n)return;const a=Date.now(),i=(a-n.lastUpdateTime)/1e3;switch(s.type){case"play":n.lastUpdateTime=a;break;case"pause":n.totalWatchTime+=i,n.pauseCount++,n.lastUpdateTime=a;break;case"seek":n.seekCount++,n.lastUpdateTime=a;break;case"volumechange":n.volumeChanges++;break;case"ratechange":n.playbackSpeed=s.playbackRate||1;break;case"ended":n.totalWatchTime+=i,n.isCompleted=!0,n.lastUpdateTime=a,this.endSession(r);break;case"timeupdate":i>0&&i<2&&(n.totalWatchTime+=i),n.lastUpdateTime=a;break}}startPeriodicUpdates(r){const s=setInterval(()=>{this.sendUpdate(r)},this.UPDATE_INTERVAL);this.updateIntervals.set(r,s)}async sendUpdate(r){const s=this.sessions.get(r);if(!s||s.totalWatchTime<this.MIN_WATCH_TIME)return;const n=Math.min(s.totalWatchTime/s.videoDuration*100,100);try{await le("PUT","/api/videos/analytics/session",{sessionId:r,totalWatchTime:Math.round(s.totalWatchTime),completionPercentage:n,pauseCount:s.pauseCount,seekCount:s.seekCount,volumeChanges:s.volumeChanges,playbackSpeed:s.playbackSpeed,isCompleted:s.isCompleted})}catch(a){console.error("Failed to send video analytics update:",a)}}endSession(r){if(!this.sessions.get(r))return;this.sendUpdate(r);const n=this.updateIntervals.get(r);n&&(clearInterval(n),this.updateIntervals.delete(r)),this.sessions.delete(r)}attachToYouTubePlayer(r,s,n){const a=this.startSession(s,0,n),i=o=>{var c,d;if(o.origin==="https://www.youtube.com")try{const u=JSON.parse(o.data);if(u.event==="video-progress"&&this.handleEvent(a,{type:"timeupdate",currentTime:((c=u.info)==null?void 0:c.currentTime)||0,timestamp:Date.now()}),(d=u.info)!=null&&d.duration&&u.info.duration>0){const m=this.sessions.get(a);m&&(m.videoDuration=u.info.duration)}}catch{}};window.addEventListener("message",i);const l=this.endSession.bind(this);return this.endSession=o=>{o===a&&window.removeEventListener("message",i),l(o)},a}attachToVideoElement(r,s,n){const a=this.startSession(s,r.duration||0,n),i=["play","pause","seeked","volumechange","ratechange","ended","timeupdate"],l=c=>{const d=c.type==="seeked"?"seek":c.type;this.handleEvent(a,{type:d,currentTime:r.currentTime,timestamp:Date.now()})};if(i.forEach(c=>{r.addEventListener(c,l)}),r.duration&&r.duration>0){const c=this.sessions.get(a);c&&(c.videoDuration=r.duration)}const o=this.endSession.bind(this);return this.endSession=c=>{c===a&&i.forEach(d=>{r.removeEventListener(d,l)}),o(c)},a}getSessionStats(r){const s=this.sessions.get(r);if(!s)return null;const n=s.videoDuration>0?s.totalWatchTime/s.videoDuration*100:0;return{totalWatchTime:s.totalWatchTime,completionPercentage:n,pauseCount:s.pauseCount,seekCount:s.seekCount,isCompleted:s.isCompleted}}}const JMe=new ZMe;function eIe(t,r,s){return JMe.attachToYouTubePlayer(t,r,s)}function tIe(){const{user:t}=dt(),[,r]=xr(),[s,n]=j.useState([]),[a,i]=j.useState(""),[l,o]=j.useState(""),[c,d]=j.useState({tamil:[],english:[]}),[u,m]=j.useState(null),[h,g]=j.useState(!0),[f,p]=j.useState(""),[y,v]=j.useState("tamil"),[x,b]=j.useState(0),[N,w]=j.useState([]),[C,P]=j.useState(!1),[S,A]=j.useState(!1),k=(R,F)=>{const W=Math.max(R.length,F.length),Q=[];for(let H=0;H<W;H++)H<R.length&&Q.push({...R[H],language:"tamil"}),H<F.length&&Q.push({...F[H],language:"english"});return Q},I=async()=>{try{const R=await le("GET","/api/youtube/playlists");if(R.ok){const F=await R.json();n(F);const W=F.find(H=>H.title.toLowerCase().includes("tamil")||H.title.toLowerCase().includes("")||H.title.includes("")||H.title.toLowerCase().includes(" ")),Q=F.find(H=>H.title.toLowerCase().includes("english")||H.title.toLowerCase().includes("eng")||H.title.toLowerCase().includes("introduction")||H.title.toLowerCase().includes("nalamini introduction"));W&&i(W.id),Q&&o(Q.id),console.log("Available playlists:",F),console.log("Tamil playlist:",W),console.log("English playlist:",Q)}}catch(R){console.error("Error fetching playlists:",R)}},L=async R=>{try{const F=await le("GET",`/api/youtube/playlist/${R}/videos`);if(F.ok)return await F.json()}catch(F){console.error(`Error fetching videos for playlist ${R}:`,F)}return[]},K=async()=>{if(!a&&!l)return;const[R,F]=await Promise.all([a?L(a):Promise.resolve([]),l?L(l):Promise.resolve([])]),W=R.map(Z=>({...Z,language:"tamil"})),Q=F.map(Z=>({...Z,language:"english"}));d({tamil:W,english:Q});const H=k(W,Q);w(H),console.log("Tamil videos:",W.length),console.log("English videos:",Q.length),console.log("Sequential playlist:",H.length)};return j.useEffect(()=>{(async()=>{try{console.log("Starting YouTube data fetch..."),await I();const Q=await(await le("GET","/api/youtube/channel-info")).json();m(Q),console.log("YouTube data fetch completed")}catch(W){console.error("Error fetching YouTube data:",W)}finally{setTimeout(()=>g(!1),2e3)}})();const F=setTimeout(()=>{g(!1)},3e3);return()=>clearTimeout(F)},[]),j.useEffect(()=>{(a||l)&&K()},[a,l]),j.useEffect(()=>{N.length>0&&!f&&(p(N[0].id),v(N[0].language||"tamil"))},[N,f]),j.useEffect(()=>{if(!C||!S)return;const R=()=>{const W=(x+1)%N.length,Q=N[W];Q&&(b(W),p(Q.id),v(Q.language||"tamil"),setTimeout(()=>{const H=document.querySelector("iframe[data-session-id]");H&&H.contentWindow&&H.contentWindow.postMessage(`{"event":"command","func":"loadVideoById","args":["${Q.id}"]}`,"*")},1e3))},F=W=>{if(W.origin==="https://www.youtube.com")try{const Q=JSON.parse(W.data);(Q.event==="video-ended"||Q.info===0)&&R()}catch{}};return window.addEventListener("message",F),()=>window.removeEventListener("message",F)},[C,S,x,N]),j.useEffect(()=>{t&&(t.userType==="service_provider"?r("/provider-dashboard"):r("/dashboard"))},[t,r]),e.jsxs("div",{className:"min-h-screen flex flex-col relative",children:[e.jsx("nav",{className:"bg-white shadow-sm border-b border-gray-200 fixed top-0 left-0 right-0 z-50",children:e.jsxs("div",{className:"container mx-auto px-4",children:[e.jsxs("div",{className:"flex justify-between items-center h-16",children:[e.jsx("div",{className:"flex items-center",children:e.jsx("h1",{className:"text-xl font-bold text-primary",children:"Nalamini"})}),e.jsxs("div",{className:"hidden md:flex items-center space-x-8",children:[e.jsx("a",{href:"#about",className:"text-gray-600 hover:text-primary transition-colors",children:"About Us"}),e.jsx("a",{href:"#contact",className:"text-gray-600 hover:text-primary transition-colors",children:"Contact Us"}),e.jsx(T,{variant:"outline",onClick:()=>r("/auth"),className:"border-primary text-primary hover:bg-primary hover:text-white",children:"Sign In"}),e.jsx(T,{onClick:()=>r("/auth"),className:"bg-primary hover:bg-primary/90 text-white",children:"Get Started"})]}),e.jsx("div",{className:"md:hidden",children:e.jsx(T,{variant:"ghost",size:"icon",onClick:()=>{const R=document.getElementById("mobile-menu");R&&R.classList.toggle("hidden")},children:e.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 6h16M4 12h16M4 18h16"})})})})]}),e.jsx("div",{id:"mobile-menu",className:"hidden md:hidden pb-4",children:e.jsxs("div",{className:"flex flex-col space-y-2",children:[e.jsx("a",{href:"#about",className:"text-gray-600 hover:text-primary transition-colors py-2",children:"About Us"}),e.jsx("a",{href:"#contact",className:"text-gray-600 hover:text-primary transition-colors py-2",children:"Contact Us"}),e.jsx(T,{variant:"outline",onClick:()=>r("/auth"),className:"border-primary text-primary hover:bg-primary hover:text-white w-full mt-2",children:"Sign In"}),e.jsx(T,{onClick:()=>r("/auth"),className:"bg-primary hover:bg-primary/90 text-white w-full",children:"Get Started"})]})})]})}),e.jsx("div",{className:"bg-gradient-to-r from-primary to-primary/80 text-white pt-24",children:e.jsx("div",{className:"container mx-auto px-4 py-12 md:py-16",children:e.jsxs("div",{className:"max-w-5xl mx-auto text-center",children:[e.jsx("div",{className:"inline-block p-2 px-4 bg-white/10 rounded-full mb-4",children:e.jsx("span",{className:"text-white/90 text-sm font-medium",children:"Tamil Nadu's Premier Service Platform"})}),e.jsx("h1",{className:"text-4xl md:text-6xl font-bold mb-4 bg-clip-text text-transparent bg-gradient-to-r from-white to-white/90",children:"Nalamini Service Platform"}),e.jsx("p",{className:"text-xl md:text-2xl mb-8 text-white/90 max-w-3xl mx-auto",children:"Connecting communities with essential services across Tamil Nadu"})]})})}),e.jsx("div",{className:"hidden",children:e.jsx("div",{className:"container mx-auto px-4",children:e.jsx("div",{className:"max-w-5xl mx-auto text-center"})})}),h&&e.jsx("div",{className:"py-16 bg-gray-50",children:e.jsx("div",{className:"container mx-auto px-4",children:e.jsxs("div",{className:"max-w-6xl mx-auto text-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-primary mx-auto"}),e.jsx("p",{className:"mt-4 text-gray-600",children:"Loading platform videos..."})]})})}),!h&&e.jsx("div",{className:"py-16 bg-gray-50",children:e.jsx("div",{className:"container mx-auto px-4",children:e.jsxs("div",{className:"max-w-6xl mx-auto",children:[e.jsxs("div",{className:"text-center mb-8",children:[e.jsx("h2",{className:"text-3xl font-bold text-gray-900 mb-4",children:"Our Platform Services"}),e.jsx("p",{className:"text-lg text-gray-600",children:"Discover all 7 services through our educational videos and platform overview"})]}),e.jsx("div",{className:"mb-12 bg-white rounded-2xl shadow-xl p-6",children:e.jsx("div",{className:"max-w-full mx-auto relative",children:e.jsx("div",{className:"relative rounded-xl overflow-hidden",children:e.jsx("img",{src:PD,alt:"Nalamini Platform Services",className:"w-full h-auto",style:{minHeight:"300px",objectFit:"contain"}})})})}),e.jsxs("div",{className:"mb-12 bg-white rounded-2xl shadow-xl p-6",children:[e.jsx("div",{className:"max-w-full mx-auto",children:e.jsxs("div",{className:"relative rounded-xl overflow-hidden",children:[e.jsx("img",{src:PD,alt:"Nalamini Platform Services - Farm to Market, Manufacturers Hub, Transport, Taxi, Rental, Recharge & Booking, Recycling",className:"w-full h-auto",style:{minHeight:"300px",objectFit:"contain"}}),f&&e.jsx("div",{className:"absolute inset-0 bg-black/95 rounded-xl flex items-center justify-center p-4",children:e.jsxs("div",{className:"w-full h-full relative",style:{maxHeight:"400px"},children:[e.jsx("iframe",{ref:R=>{if(R){const F=eIe(R,f,t==null?void 0:t.id);R.setAttribute("data-session-id",F),R.onload=()=>{setTimeout(()=>A(!0),1e3)}}},className:"w-full h-full rounded-lg",style:{aspectRatio:"16/9"},src:`https://www.youtube.com/embed/${f}?modestbranding=1&rel=0&showinfo=0&iv_load_policy=3&fs=1&controls=1&enablejsapi=1&autoplay=1&origin=${window.location.origin}`,title:"Nalamini Platform Services Video",frameBorder:"0",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; fullscreen",referrerPolicy:"strict-origin-when-cross-origin",allowFullScreen:!0},f),e.jsx("button",{onClick:()=>p(""),className:"absolute -top-2 -right-2 bg-red-600 hover:bg-red-700 text-white p-2 rounded-full z-20 shadow-lg",children:e.jsx("svg",{className:"h-4 w-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]})})]})}),e.jsxs("div",{className:"flex justify-center gap-4 mt-6 mb-4",children:[e.jsxs("button",{onClick:()=>{c.english.length>0&&(p(c.english[0].id),v("english"),b(0))},className:"px-8 py-3 bg-blue-600 hover:bg-blue-700 text-white rounded-lg font-medium transition-all shadow-lg",children:["English Videos (",c.english.length,")"]}),e.jsxs("button",{onClick:()=>{c.tamil.length>0&&(p(c.tamil[0].id),v("tamil"),b(0))},className:"px-8 py-3 bg-orange-600 hover:bg-orange-700 text-white rounded-lg font-medium transition-all shadow-lg",children:[" Videos (",c.tamil.length,")"]})]}),f&&e.jsxs("div",{className:"mt-6 bg-gray-50 rounded-lg p-4",children:[e.jsx("h4",{className:"font-semibold text-gray-800 mb-3",children:y==="english"?"English Videos Playlist":" Videos Playlist"}),e.jsx("div",{className:"grid gap-2 max-h-64 overflow-y-auto",children:(y==="english"?c.english:c.tamil).map((R,F)=>e.jsx("div",{className:`p-3 rounded-lg cursor-pointer transition-all border ${R.id===f?"bg-white border-blue-300 shadow-md":"bg-white border-gray-200 hover:border-gray-300"}`,onClick:()=>{p(R.id),b(F)},children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsxs("span",{className:"text-sm font-medium text-gray-500",children:["#",F+1]}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h5",{className:"font-medium text-sm text-gray-800 line-clamp-1",children:R.title}),e.jsx("p",{className:"text-xs text-gray-600 line-clamp-1",children:R.description})]}),R.id===f&&e.jsx("div",{className:"text-blue-600",children:e.jsx("svg",{className:"w-4 h-4",fill:"currentColor",viewBox:"0 0 20 20",children:e.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM9.555 7.168A1 1 0 008 8v4a1 1 0 001.555.832l3-2a1 1 0 000-1.664l-3-2z",clipRule:"evenodd"})})})]})},R.id))})]})]})]})})}),e.jsx("div",{className:"py-16 bg-white",children:e.jsx("div",{className:"container mx-auto px-4",children:e.jsx("div",{className:"max-w-5xl mx-auto",children:e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-primary/5 to-primary/10 rounded-3xl transform -rotate-1 scale-105"}),e.jsxs("div",{className:"relative bg-white p-10 rounded-2xl shadow-xl border border-primary/10",children:[e.jsxs("div",{className:"text-center mb-8",children:[e.jsx("span",{className:"inline-block py-1 px-4 rounded-full text-sm font-medium bg-primary/10 text-primary mb-2",children:"Join Our Community"}),e.jsx("h2",{className:"text-3xl font-bold mb-2",children:"Get Started Today"}),e.jsx("p",{className:"text-gray-600 max-w-2xl mx-auto",children:"Choose your journey with Nalamini Service Platform and be part of a growing ecosystem that's transforming service delivery across Tamil Nadu"})]}),e.jsxs("div",{className:"grid md:grid-cols-2 gap-8",children:[e.jsxs("div",{className:"text-center p-6 rounded-xl border border-gray-200 hover:border-primary/30 hover:shadow-lg transition-all",children:[e.jsx("div",{className:"mb-4 bg-blue-100 w-16 h-16 rounded-full flex items-center justify-center mx-auto",children:e.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"text-blue-600",children:[e.jsx("path",{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"}),e.jsx("circle",{cx:"12",cy:"7",r:"4"})]})}),e.jsx("h3",{className:"text-xl font-semibold mb-2",children:"I'm a Customer"}),e.jsx("p",{className:"text-gray-600 mb-4",children:"Access services like mobile recharges, travel bookings, local products, and more"}),e.jsx(T,{className:"w-full bg-blue-600 hover:bg-blue-700 text-white",onClick:()=>r("/auth"),children:"Get Started"})]}),e.jsxs("div",{className:"text-center p-6 rounded-xl border border-gray-200 hover:border-primary/30 hover:shadow-lg transition-all",children:[e.jsx("div",{className:"mb-4 bg-primary/10 w-16 h-16 rounded-full flex items-center justify-center mx-auto",children:e.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"text-primary",children:[e.jsx("path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2"}),e.jsx("circle",{cx:"9",cy:"7",r:"4"}),e.jsx("path",{d:"m22 21-3-3"}),e.jsx("path",{d:"m16 8 2-2"}),e.jsx("path",{d:"m18 6 2-2"})]})}),e.jsx("h3",{className:"text-xl font-semibold mb-2",children:"Management Team"}),e.jsx("p",{className:"text-gray-600 mb-4",children:"Admin access for platform management, analytics, and service oversight"}),e.jsx(T,{className:"w-full bg-primary hover:bg-primary/90",onClick:()=>r("/auth"),children:"Team Login"})]})]})]})]})})})}),e.jsx("div",{id:"about",className:"py-16 bg-white",children:e.jsx("div",{className:"container mx-auto px-4",children:e.jsxs("div",{className:"max-w-6xl mx-auto",children:[e.jsxs("div",{className:"text-center mb-12",children:[e.jsx("span",{className:"inline-block py-1 px-4 rounded-full text-sm font-medium bg-primary/10 text-primary mb-2",children:"About Nalamini"}),e.jsx("h2",{className:"text-3xl font-bold text-gray-900 mb-4",children:"Transforming Tamil Nadu's Service Ecosystem"}),e.jsx("p",{className:"text-lg text-gray-600 max-w-3xl mx-auto",children:"Nalamini Service Platform is Tamil Nadu's comprehensive digital ecosystem, connecting communities with essential services through innovative technology."})]}),e.jsxs("div",{className:"grid md:grid-cols-2 gap-12 mb-16",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-2xl font-semibold mb-4",children:"Our Mission"}),e.jsx("p",{className:"text-gray-600 mb-6",children:"To bridge the digital divide across Tamil Nadu by creating a unified platform that makes essential services accessible to every citizen, while empowering local businesses and service providers with the tools they need to thrive in the digital economy."}),e.jsx("h3",{className:"text-2xl font-semibold mb-4",children:"Our Vision"}),e.jsx("p",{className:"text-gray-600",children:"To become the leading service platform in Tamil Nadu, fostering economic growth, community development, and digital inclusion across all districts and rural areas."})]}),e.jsxs("div",{className:"bg-gray-50 p-6 rounded-xl",children:[e.jsx("h3",{className:"text-2xl font-semibold mb-4",children:"Platform Statistics"}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"text-center p-4 bg-white rounded-lg",children:[e.jsx("div",{className:"text-2xl font-bold text-primary",children:"7"}),e.jsx("div",{className:"text-sm text-gray-600",children:"Core Services"})]}),e.jsxs("div",{className:"text-center p-4 bg-white rounded-lg",children:[e.jsx("div",{className:"text-2xl font-bold text-green-600",children:"38"}),e.jsx("div",{className:"text-sm text-gray-600",children:"Districts Covered"})]}),e.jsxs("div",{className:"text-center p-4 bg-white rounded-lg",children:[e.jsx("div",{className:"text-2xl font-bold text-blue-600",children:"400+"}),e.jsx("div",{className:"text-sm text-gray-600",children:"Taluks Served"})]}),e.jsxs("div",{className:"text-center p-4 bg-white rounded-lg",children:[e.jsx("div",{className:"text-2xl font-bold text-orange-600",children:"24/7"}),e.jsx("div",{className:"text-sm text-gray-600",children:"Service Support"})]})]})]})]})]})})}),e.jsx("div",{id:"contact",className:"py-16 bg-gray-50",children:e.jsx("div",{className:"container mx-auto px-4",children:e.jsxs("div",{className:"max-w-6xl mx-auto",children:[e.jsxs("div",{className:"text-center mb-12",children:[e.jsx("span",{className:"inline-block py-1 px-4 rounded-full text-sm font-medium bg-primary/10 text-primary mb-2",children:"Contact Us"}),e.jsx("h2",{className:"text-3xl font-bold text-gray-900 mb-4",children:"Get in Touch"}),e.jsx("p",{className:"text-lg text-gray-600 max-w-3xl mx-auto",children:"Have questions about our services? Need support? Want to partner with us? We're here to help you connect with the right solutions."})]}),e.jsxs("div",{className:"grid lg:grid-cols-3 gap-8 mb-12",children:[e.jsx("div",{className:"lg:col-span-1",children:e.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-gray-200",children:[e.jsx("h3",{className:"text-xl font-semibold mb-6",children:"Contact Information"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"bg-primary/10 p-2 rounded-lg",children:e.jsxs("svg",{className:"w-5 h-5 text-primary",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"}),e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 11a3 3 0 11-6 0 3 3 0 016 0z"})]})}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium",children:"Headquarters"}),e.jsx("p",{className:"text-gray-600 text-sm",children:"Coimbatore, Tamil Nadu, India"})]})]}),e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"bg-green-100 p-2 rounded-lg",children:e.jsx("svg",{className:"w-5 h-5 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 5a2 2 0 012-2h3.28a1 1 0 01.948.684l1.498 4.493a1 1 0 01-.502 1.21l-2.257 1.13a11.042 11.042 0 005.516 5.516l1.13-2.257a1 1 0 011.21-.502l4.493 1.498a1 1 0 01.684.949V19a2 2 0 01-2 2h-1C9.716 21 3 14.284 3 6V5z"})})}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium",children:"Phone Support"}),e.jsx("p",{className:"text-gray-600 text-sm",children:"+91 9513430615"}),e.jsx("p",{className:"text-gray-500 text-xs",children:"Mon-Sat, 9 AM - 6 PM IST"})]})]}),e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"bg-blue-100 p-2 rounded-lg",children:e.jsx("svg",{className:"w-5 h-5 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 8l7.89 4.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"})})}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium",children:"Email Support"}),e.jsx("p",{className:"text-gray-600 text-sm",children:"support@nalamini.com"}),e.jsx("p",{className:"text-gray-500 text-xs",children:"Response within 24 hours"})]})]}),e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"bg-purple-100 p-2 rounded-lg",children:e.jsx("svg",{className:"w-5 h-5 text-purple-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 13.255A23.931 23.931 0 0112 15c-3.183 0-6.22-.62-9-1.745M16 6V4a2 2 0 00-2-2h-4a2 2 0 00-2-2v2m8 0V6a2 2 0 012 2v6a2 2 0 01-2 2H6a2 2 0 01-2-2V8a2 2 0 012-2V6"})})}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium",children:"Business Partnerships"}),e.jsx("p",{className:"text-gray-600 text-sm",children:"admin@nalamini.com"}),e.jsx("p",{className:"text-gray-500 text-xs",children:"For collaboration opportunities"})]})]})]}),e.jsxs("div",{className:"mt-6 pt-6 border-t border-gray-200",children:[e.jsx("h4",{className:"font-medium mb-3",children:"Follow Us"}),e.jsxs("div",{className:"flex gap-3",children:[e.jsx("a",{href:"#",className:"bg-blue-600 text-white p-2 rounded-lg hover:bg-blue-700 transition-colors",children:e.jsx("svg",{className:"w-4 h-4",fill:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{d:"M24 4.557c-.883.392-1.832.656-2.828.775 1.017-.609 1.798-1.574 2.165-2.724-.951.564-2.005.974-3.127 1.195-.897-.957-2.178-1.555-3.594-1.555-3.179 0-5.515 2.966-4.797 6.045-4.091-.205-7.719-2.165-10.148-5.144-1.29 2.213-.669 5.108 1.523 6.574-.806-.026-1.566-.247-2.229-.616-.054 2.281 1.581 4.415 3.949 4.89-.693.188-1.452.232-2.224.084.626 1.956 2.444 3.379 4.6 3.419-2.07 1.623-4.678 2.348-7.29 2.04 2.179 1.397 4.768 2.212 7.548 2.212 9.142 0 14.307-7.721 13.995-14.646.962-.695 1.797-1.562 2.457-2.549z"})})}),e.jsx("a",{href:"#",className:"bg-blue-800 text-white p-2 rounded-lg hover:bg-blue-900 transition-colors",children:e.jsx("svg",{className:"w-4 h-4",fill:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{d:"M22.46 6c-.77.35-1.6.58-2.46.69.88-.53 1.56-1.37 1.88-2.38-.83.5-1.75.85-2.72 1.05C18.37 4.5 17.26 4 16 4c-2.35 0-4.27 1.92-4.27 4.29 0 .34.04.67.11.98C8.28 9.09 5.11 7.38 3 4.79c-.37.63-.58 1.37-.58 2.15 0 1.49.75 2.81 1.91 3.56-.71 0-1.37-.2-1.95-.5v.03c0 2.08 1.48 3.82 3.44 4.21a4.22 4.22 0 0 1-1.93.07 4.28 4.28 0 0 0 4 2.98 8.521 8.521 0 0 1-5.33 1.84c-.34 0-.68-.02-1.02-.06C3.44 20.29 5.7 21 8.12 21 16 21 20.33 14.46 20.33 8.79c0-.19 0-.37-.01-.56.84-.6 1.56-1.36 2.14-2.23z"})})}),e.jsx("a",{href:"#",className:"bg-red-600 text-white p-2 rounded-lg hover:bg-red-700 transition-colors",children:e.jsx("svg",{className:"w-4 h-4",fill:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{d:"M23.498 6.186a3.016 3.016 0 0 0-2.122-2.136C19.505 3.545 12 3.545 12 3.545s-7.505 0-9.377.505A3.017 3.017 0 0 0 .502 6.186C0 8.07 0 12 0 12s0 3.93.502 5.814a3.016 3.016 0 0 0 2.122 2.136c1.871.505 9.376.505 9.376.505s7.505 0 9.377-.505a3.015 3.015 0 0 0 2.122-2.136C24 15.93 24 12 24 12s0-3.93-.502-5.814zM9.545 15.568V8.432L15.818 12l-6.273 3.568z"})})})]})]})]})}),e.jsx("div",{className:"lg:col-span-2",children:e.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-gray-200",children:[e.jsx("h3",{className:"text-xl font-semibold mb-6",children:"Send us a Message"}),e.jsxs("form",{className:"space-y-4",children:[e.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Name"}),e.jsx("input",{type:"text",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary/20 focus:border-primary",placeholder:"Your full name"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Email"}),e.jsx("input",{type:"email",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary/20 focus:border-primary",placeholder:"your@email.com"})]})]}),e.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Phone"}),e.jsx("input",{type:"tel",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary/20 focus:border-primary",placeholder:"+91 XXXXX XXXXX"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Subject"}),e.jsxs("select",{className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary/20 focus:border-primary",children:[e.jsx("option",{children:"General Inquiry"}),e.jsx("option",{children:"Service Support"}),e.jsx("option",{children:"Partnership Opportunity"}),e.jsx("option",{children:"Technical Issue"}),e.jsx("option",{children:"Feedback"})]})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Message"}),e.jsx("textarea",{rows:4,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary/20 focus:border-primary",placeholder:"Tell us how we can help you..."})]}),e.jsx(T,{className:"w-full bg-primary hover:bg-primary/90 text-white",children:"Send Message"})]})]})})]})]})})}),e.jsx("div",{className:"py-16 bg-white",children:e.jsx("div",{className:"container mx-auto px-4",children:e.jsx("div",{className:"max-w-4xl mx-auto text-center",children:e.jsxs("div",{className:"bg-gradient-to-r from-primary/5 to-primary/10 rounded-2xl p-8 border border-primary/20",children:[e.jsxs("div",{className:"mb-4",children:[e.jsx("span",{className:"inline-block py-1 px-4 rounded-full text-sm font-medium bg-primary/10 text-primary mb-2",children:"Career Opportunities"}),e.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Nalamini Opportunities Forum"}),e.jsx("p",{className:"text-gray-600 max-w-2xl mx-auto",children:"Be part of Tamil Nadu's digital transformation. Apply for management positions, service agent roles, or become a service provider."})]}),e.jsx(T,{className:"bg-primary hover:bg-primary/90 text-white font-semibold px-8 py-3 text-lg",onClick:()=>r("/opportunities"),children:"Explore & Get Associated"})]})})})}),e.jsx("footer",{className:"bg-gray-900 text-white py-12",children:e.jsxs("div",{className:"container mx-auto px-4",children:[e.jsxs("div",{className:"grid md:grid-cols-4 gap-8",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-xl font-semibold mb-4",children:"Nalamini Service Platform"}),e.jsx("p",{className:"text-gray-400 mb-4",children:"Tamil Nadu's comprehensive digital ecosystem for essential services."}),e.jsxs("div",{className:"flex gap-3",children:[e.jsx("a",{href:"#",className:"bg-gray-800 text-gray-400 hover:text-white p-2 rounded-lg transition-colors",children:e.jsx("svg",{className:"w-4 h-4",fill:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{d:"M24 4.557c-.883.392-1.832.656-2.828.775 1.017-.609 1.798-1.574 2.165-2.724-.951.564-2.005.974-3.127 1.195-.897-.957-2.178-1.555-3.594-1.555-3.179 0-5.515 2.966-4.797 6.045-4.091-.205-7.719-2.165-10.148-5.144-1.29 2.213-.669 5.108 1.523 6.574-.806-.026-1.566-.247-2.229-.616-.054 2.281 1.581 4.415 3.949 4.89-.693.188-1.452.232-2.224.084.626 1.956 2.444 3.379 4.6 3.419-2.07 1.623-4.678 2.348-7.29 2.04 2.179 1.397 4.768 2.212 7.548 2.212 9.142 0 14.307-7.721 13.995-14.646.962-.695 1.797-1.562 2.457-2.549z"})})}),e.jsx("a",{href:"#",className:"bg-gray-800 text-gray-400 hover:text-white p-2 rounded-lg transition-colors",children:e.jsx("svg",{className:"w-4 h-4",fill:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{d:"M22.46 6c-.77.35-1.6.58-2.46.69.88-.53 1.56-1.37 1.88-2.38-.83.5-1.75.85-2.72 1.05C18.37 4.5 17.26 4 16 4c-2.35 0-4.27 1.92-4.27 4.29 0 .34.04.67.11.98C8.28 9.09 5.11 7.38 3 4.79c-.37.63-.58 1.37-.58 2.15 0 1.49.75 2.81 1.91 3.56-.71 0-1.37-.2-1.95-.5v.03c0 2.08 1.48 3.82 3.44 4.21a4.22 4.22 0 0 1-1.93.07 4.28 4.28 0 0 0 4 2.98 8.521 8.521 0 0 1-5.33 1.84c-.34 0-.68-.02-1.02-.06C3.44 20.29 5.7 21 8.12 21 16 21 20.33 14.46 20.33 8.79c0-.19 0-.37-.01-.56.84-.6 1.56-1.36 2.14-2.23z"})})}),e.jsx("a",{href:"#",className:"bg-gray-800 text-gray-400 hover:text-white p-2 rounded-lg transition-colors",children:e.jsx("svg",{className:"w-4 h-4",fill:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{d:"M23.498 6.186a3.016 3.016 0 0 0-2.122-2.136C19.505 3.545 12 3.545 12 3.545s-7.505 0-9.377.505A3.017 3.017 0 0 0 .502 6.186C0 8.07 0 12 0 12s0 3.93.502 5.814a3.016 3.016 0 0 0 2.122 2.136c1.871.505 9.376.505 9.376.505s7.505 0 9.377-.505a3.015 3.015 0 0 0 2.122-2.136C24 15.93 24 12 24 12s0-3.93-.502-5.814zM9.545 15.568V8.432L15.818 12l-6.273 3.568z"})})})]})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-lg font-semibold mb-4",children:"Our Services"}),e.jsxs("ul",{className:"space-y-2 text-gray-400",children:[e.jsx("li",{children:e.jsx("a",{href:"#",className:"hover:text-white transition-colors",children:"Farmer's Market"})}),e.jsx("li",{children:e.jsx("a",{href:"#",className:"hover:text-white transition-colors",children:"Manufacturers Hub"})}),e.jsx("li",{children:e.jsx("a",{href:"#",className:"hover:text-white transition-colors",children:"Transport Services"})}),e.jsx("li",{children:e.jsx("a",{href:"#",className:"hover:text-white transition-colors",children:"Taxi Services"})}),e.jsx("li",{children:e.jsx("a",{href:"#",className:"hover:text-white transition-colors",children:"Rental Services"})}),e.jsx("li",{children:e.jsx("a",{href:"#",className:"hover:text-white transition-colors",children:"Recharge & Utilities"})}),e.jsx("li",{children:e.jsx("a",{href:"#",className:"hover:text-white transition-colors",children:"Recycling Services"})})]})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-lg font-semibold mb-4",children:"Quick Links"}),e.jsxs("ul",{className:"space-y-2 text-gray-400",children:[e.jsx("li",{children:e.jsx("a",{href:"#about",className:"hover:text-white transition-colors",children:"About Us"})}),e.jsx("li",{children:e.jsx("a",{href:"#contact",className:"hover:text-white transition-colors",children:"Contact Us"})}),e.jsx("li",{children:e.jsx("a",{href:"/auth",className:"hover:text-white transition-colors",onClick:R=>{R.preventDefault(),r("/auth")},children:"Get Started"})}),e.jsx("li",{children:e.jsx("a",{href:"/opportunities",className:"hover:text-white transition-colors",onClick:R=>{R.preventDefault(),r("/opportunities")},children:"Careers"})}),e.jsx("li",{children:e.jsx("a",{href:"#",className:"hover:text-white transition-colors",children:"Privacy Policy"})}),e.jsx("li",{children:e.jsx("a",{href:"#",className:"hover:text-white transition-colors",children:"Terms of Service"})})]})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-lg font-semibold mb-4",children:"Contact Information"}),e.jsxs("ul",{className:"space-y-2 text-gray-400",children:[e.jsx("li",{children:"Coimbatore, Tamil Nadu"}),e.jsx("li",{children:"support@nalamini.com"}),e.jsx("li",{children:"admin@nalamini.com"}),e.jsx("li",{children:"+91 9513430615"})]}),e.jsx("div",{className:"mt-4",children:e.jsx("p",{className:"text-sm text-gray-500",children:"Serving all 38 districts of Tamil Nadu"})})]})]}),e.jsx("div",{className:"border-t border-gray-800 mt-8 pt-8 text-center text-gray-400",children:e.jsx("p",{children:" 2025 Nalamini Service Platform. All rights reserved."})})]})})]})}function rIe(){const{user:t}=dt(),[r,s]=j.useState("overview"),n=()=>(t==null?void 0:t.type)==="admin"||(t==null?void 0:t.userType)==="admin"?"/api/service-requests/all":(t==null?void 0:t.type)==="service_provider"||(t==null?void 0:t.userType)==="service_provider"?"/api/service-requests/provider":(t==null?void 0:t.type)==="branch_manager"||(t==null?void 0:t.userType)==="branch_manager"?"/api/service-requests/branch-manager":(t==null?void 0:t.type)==="taluk_manager"||(t==null?void 0:t.userType)==="taluk_manager"?"/api/service-requests/taluk-manager":(t==null?void 0:t.type)==="pincode_agent"||(t==null?void 0:t.userType)==="pincode_agent"?"/api/service-requests/agent":"/api/service-requests/customer",{data:a=[],isLoading:i}=fe({queryKey:[n()]}),{data:l,isLoading:o}=fe({queryKey:["/api/dashboard/stats"]}),c=g=>{switch(g){case"taxi":return e.jsx(_t,{className:"h-5 w-5"});case"delivery":return e.jsx(pt,{className:"h-5 w-5"});case"rental":return e.jsx(Ns,{className:"h-5 w-5"});case"grocery":return e.jsx(Pr,{className:"h-5 w-5"});case"recharge":return e.jsx(Jn,{className:"h-5 w-5"});case"recycling":return e.jsx(In,{className:"h-5 w-5"});default:return e.jsx(_t,{className:"h-5 w-5"})}},d=g=>{switch(g.toLowerCase()){case"new":return"bg-blue-100 text-blue-800";case"in_progress":return"bg-yellow-100 text-yellow-800";case"completed":return"bg-green-100 text-green-800";case"cancelled":return"bg-red-100 text-red-800";case"approved":return"bg-purple-100 text-purple-800";case"closed":return"bg-gray-100 text-gray-800";default:return"bg-gray-100 text-gray-800"}},u=()=>{switch((t==null?void 0:t.type)||(t==null?void 0:t.userType)){case"admin":return"Administrator";case"service_provider":return"Service Provider";case"branch_manager":return"Branch Manager";case"taluk_manager":return"Taluk Manager";case"pincode_agent":return"Pincode Agent";case"customer":return"Customer";case"farmer":return"Farmer";default:return"User"}},m=()=>{const g=(t==null?void 0:t.type)||(t==null?void 0:t.userType),f=[{label:"New Taxi Booking",icon:_t,href:"/taxi",color:"bg-blue-500"},{label:"Schedule Delivery",icon:pt,href:"/delivery",color:"bg-green-500"},{label:"Rent Equipment",icon:Ns,href:"/rental",color:"bg-orange-500"},{label:"Order Groceries",icon:Pr,href:"/grocery",color:"bg-purple-500"},{label:"Mobile Recharge",icon:Jn,href:"/recharge",color:"bg-red-500"},{label:"Recycling Service",icon:In,href:"/recycling",color:"bg-teal-500"}],p=[{label:"Manage Users",icon:er,href:"/admin/users",color:"bg-indigo-500"},{label:"Branch Managers",icon:vn,href:"/branch-managers",color:"bg-gray-500"},{label:"Analytics",icon:Aw,href:"/analytics",color:"bg-pink-500"},{label:"Commission Config",icon:Sc,href:"/commission-config",color:"bg-yellow-500"}],y=[{label:"Add Local Product",icon:Rt,href:"/provider/add-local-product",color:"bg-emerald-500"},{label:"My Products",icon:fr,href:"/provider/my-local-products",color:"bg-cyan-500"},{label:"Taxi Vehicles",icon:_t,href:"/provider/taxi-vehicles",color:"bg-blue-500"},{label:"Rental Items",icon:Ns,href:"/provider/rental-items",color:"bg-orange-500"}];return g==="admin"?[...f,...p]:g==="service_provider"?[...f,...y]:f},h=a.slice(0,5);return i||o?e.jsx("div",{className:"flex items-center justify-center min-h-[400px]",children:e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"})}):e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex flex-col space-y-4 sm:flex-row sm:items-center sm:justify-between sm:space-y-0",children:[e.jsxs("div",{children:[e.jsxs("h1",{className:"text-3xl font-bold",children:["Welcome back, ",t==null?void 0:t.username,"!"]}),e.jsxs("p",{className:"text-muted-foreground",children:[u()," Dashboard - Manage your services and requests"]})]}),e.jsx("div",{className:"flex space-x-2",children:e.jsx(T,{asChild:!0,children:e.jsxs(At,{href:"/wallet",children:[e.jsx(qs,{className:"h-4 w-4 mr-2"}),"Wallet"]})})})]}),e.jsxs(rr,{value:r,onValueChange:s,children:[e.jsxs(tr,{className:"grid w-full grid-cols-4",children:[e.jsx(ke,{value:"overview",children:"Overview"}),e.jsx(ke,{value:"services",children:"Services"}),e.jsx(ke,{value:"requests",children:"My Requests"}),e.jsx(ke,{value:"analytics",children:"Analytics"})]}),e.jsxs(Le,{value:"overview",className:"space-y-6",children:[e.jsxs("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-4",children:[e.jsxs(E,{children:[e.jsxs(Y,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(X,{className:"text-sm font-medium",children:"Total Requests"}),e.jsx(Aw,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsxs(D,{children:[e.jsx("div",{className:"text-2xl font-bold",children:(l==null?void 0:l.totalServiceRequests)||a.length}),e.jsxs("p",{className:"text-xs text-muted-foreground",children:["+",(l==null?void 0:l.monthlyGrowth)||0,"% from last month"]})]})]}),e.jsxs(E,{children:[e.jsxs(Y,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(X,{className:"text-sm font-medium",children:"Pending"}),e.jsx(gt,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsxs(D,{children:[e.jsx("div",{className:"text-2xl font-bold",children:(l==null?void 0:l.pendingRequests)||a.filter(g=>g.status==="new"||g.status==="in_progress").length}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Awaiting processing"})]})]}),e.jsxs(E,{children:[e.jsxs(Y,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(X,{className:"text-sm font-medium",children:"Completed"}),e.jsx(Xt,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsxs(D,{children:[e.jsx("div",{className:"text-2xl font-bold",children:(l==null?void 0:l.completedRequests)||a.filter(g=>g.status==="completed"||g.status==="approved").length}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Successfully processed"})]})]}),e.jsxs(E,{children:[e.jsxs(Y,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(X,{className:"text-sm font-medium",children:"Total Revenue"}),e.jsx(qs,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsxs(D,{children:[e.jsxs("div",{className:"text-2xl font-bold",children:["",((l==null?void 0:l.totalRevenue)||a.reduce((g,f)=>g+(f.amount||0),0)).toLocaleString("en-IN")]}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Total earnings"})]})]})]}),e.jsxs(E,{children:[e.jsxs(Y,{children:[e.jsx(X,{children:"Quick Actions"}),e.jsx(he,{children:"Access frequently used services and features"})]}),e.jsx(D,{children:e.jsx("div",{className:"grid gap-4 md:grid-cols-3 lg:grid-cols-4",children:m().map((g,f)=>e.jsx(T,{asChild:!0,variant:"outline",className:"h-auto p-4 flex flex-col space-y-2",children:e.jsxs(At,{href:g.href,children:[e.jsx("div",{className:`p-2 rounded-lg ${g.color} text-white`,children:e.jsx(g.icon,{className:"h-6 w-6"})}),e.jsx("span",{className:"text-sm font-medium",children:g.label})]})},f))})})]}),e.jsxs(E,{children:[e.jsxs(Y,{children:[e.jsx(X,{children:"Recent Service Requests"}),e.jsx(he,{children:"Your latest service requests and their status"})]}),e.jsx(D,{children:h.length===0?e.jsxs("div",{className:"text-center py-8",children:[e.jsx(gt,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),e.jsx("p",{className:"text-lg font-semibold mb-2",children:"No Service Requests"}),e.jsx("p",{className:"text-muted-foreground",children:"Start by booking a service above"})]}):e.jsx("div",{className:"space-y-4",children:h.map(g=>e.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg",children:[e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx("div",{className:"p-2 bg-muted rounded-lg",children:c(g.serviceType)}),e.jsxs("div",{children:[e.jsxs("p",{className:"font-medium",children:["#",g.srNumber]}),e.jsxs("p",{className:"text-sm text-muted-foreground capitalize",children:[g.serviceType," Service"]}),e.jsx("p",{className:"text-xs text-muted-foreground",children:xt(new Date(g.createdAt),"PPp")})]})]}),e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsxs("div",{className:"text-right",children:[e.jsxs("p",{className:"font-medium",children:["",g.amount.toLocaleString()]}),e.jsx(ae,{className:`text-xs ${d(g.status)}`,children:g.status.replace(/_/g," ")})]}),e.jsx(T,{size:"sm",variant:"outline",asChild:!0,children:e.jsx(At,{href:`/booking/${g.id}`,children:e.jsx(fr,{className:"h-4 w-4"})})})]})]},g.id))})})]})]}),e.jsx(Le,{value:"services",className:"space-y-6",children:e.jsxs("div",{className:"grid gap-6 md:grid-cols-2 lg:grid-cols-3",children:[e.jsx(E,{className:"cursor-pointer hover:shadow-md transition-shadow",asChild:!0,children:e.jsxs(At,{href:"/taxi-browse",children:[e.jsx(Y,{children:e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("div",{className:"p-2 bg-blue-500 text-white rounded-lg",children:e.jsx(_t,{className:"h-6 w-6"})}),e.jsx(X,{children:"Taxi Service"})]})}),e.jsx(D,{children:e.jsx(he,{children:"Book reliable taxi rides for your daily commute and travel needs"})})]})}),e.jsx(E,{className:"cursor-pointer hover:shadow-md transition-shadow",asChild:!0,children:e.jsxs(At,{href:"/delivery-browse",children:[e.jsx(Y,{children:e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("div",{className:"p-2 bg-green-500 text-white rounded-lg",children:e.jsx(pt,{className:"h-6 w-6"})}),e.jsx(X,{children:"Delivery Service"})]})}),e.jsx(D,{children:e.jsx(he,{children:"Fast and secure package delivery across Tamil Nadu"})})]})}),e.jsx(E,{className:"cursor-pointer hover:shadow-md transition-shadow",asChild:!0,children:e.jsxs(At,{href:"/rental-browse",children:[e.jsx(Y,{children:e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("div",{className:"p-2 bg-orange-500 text-white rounded-lg",children:e.jsx(Ns,{className:"h-6 w-6"})}),e.jsx(X,{children:"Equipment Rental"})]})}),e.jsx(D,{children:e.jsx(he,{children:"Rent tools, vehicles, and equipment for your projects"})})]})}),e.jsx(E,{className:"cursor-pointer hover:shadow-md transition-shadow",asChild:!0,children:e.jsxs(At,{href:"/grocery-fixed",children:[e.jsx(Y,{children:e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("div",{className:"p-2 bg-purple-500 text-white rounded-lg",children:e.jsx(Pr,{className:"h-6 w-6"})}),e.jsx(X,{children:"Grocery Shopping"})]})}),e.jsx(D,{children:e.jsx(he,{children:"Order fresh groceries and daily essentials for home delivery"})})]})}),e.jsx(E,{className:"cursor-pointer hover:shadow-md transition-shadow",asChild:!0,children:e.jsxs(At,{href:"/recharge",children:[e.jsx(Y,{children:e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("div",{className:"p-2 bg-red-500 text-white rounded-lg",children:e.jsx(Jn,{className:"h-6 w-6"})}),e.jsx(X,{children:"Recharge & Bills"})]})}),e.jsx(D,{children:e.jsx(he,{children:"Mobile recharge, DTH, electricity bills, and more"})})]})}),e.jsx(E,{className:"cursor-pointer hover:shadow-md transition-shadow",asChild:!0,children:e.jsxs(At,{href:"/recycling",children:[e.jsx(Y,{children:e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("div",{className:"p-2 bg-teal-500 text-white rounded-lg",children:e.jsx(In,{className:"h-6 w-6"})}),e.jsx(X,{children:"Recycling Service"})]})}),e.jsx(D,{children:e.jsx(he,{children:"Eco-friendly waste collection and recycling solutions"})})]})})]})}),e.jsx(Le,{value:"requests",className:"space-y-6",children:e.jsxs(E,{children:[e.jsxs(Y,{children:[e.jsx(X,{children:"All Service Requests"}),e.jsx(he,{children:"View and manage all your service requests"})]}),e.jsx(D,{children:a.length===0?e.jsxs("div",{className:"text-center py-8",children:[e.jsx(gt,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),e.jsx("p",{className:"text-lg font-semibold mb-2",children:"No Service Requests"}),e.jsx("p",{className:"text-muted-foreground",children:"Start by booking a service"})]}):e.jsx("div",{className:"space-y-4",children:a.map(g=>e.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg",children:[e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx("div",{className:"p-2 bg-muted rounded-lg",children:c(g.serviceType)}),e.jsxs("div",{children:[e.jsxs("p",{className:"font-medium",children:["#",g.srNumber]}),e.jsxs("p",{className:"text-sm text-muted-foreground capitalize",children:[g.serviceType," Service"]}),e.jsx("p",{className:"text-xs text-muted-foreground",children:xt(new Date(g.createdAt),"PPp")})]})]}),e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsxs("div",{className:"text-right",children:[e.jsxs("p",{className:"font-medium",children:["",g.amount.toLocaleString()]}),e.jsx(ae,{className:`text-xs ${d(g.status)}`,children:g.status.replace(/_/g," ")})]}),e.jsx(T,{size:"sm",variant:"outline",asChild:!0,children:e.jsx(At,{href:`/booking/${g.id}`,children:e.jsx(fr,{className:"h-4 w-4"})})})]})]},g.id))})})]})}),e.jsx(Le,{value:"analytics",className:"space-y-6",children:e.jsxs("div",{className:"grid gap-6 md:grid-cols-2",children:[e.jsxs(E,{children:[e.jsxs(Y,{children:[e.jsx(X,{children:"Service Usage"}),e.jsx(he,{children:"Breakdown of services you use most"})]}),e.jsx(D,{children:e.jsx("div",{className:"space-y-4",children:Object.entries(a.reduce((g,f)=>(g[f.serviceType]=(g[f.serviceType]||0)+1,g),{})).map(([g,f])=>e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[c(g),e.jsx("span",{className:"capitalize",children:g})]}),e.jsx(ae,{variant:"secondary",children:f})]},g))})})]}),e.jsxs(E,{children:[e.jsxs(Y,{children:[e.jsx(X,{children:"Monthly Spending"}),e.jsx(he,{children:"Your service expenses this month"})]}),e.jsxs(D,{children:[e.jsxs("div",{className:"text-3xl font-bold mb-2",children:["",a.reduce((g,f)=>g+(f.amount||0),0).toLocaleString("en-IN")]}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Total spent on all services"})]})]})]})})]})]})}const Ur=j.forwardRef(({className:t,...r},s)=>e.jsx("div",{className:"relative w-full overflow-auto",children:e.jsx("table",{ref:s,className:Oe("w-full caption-bottom text-sm",t),...r})}));Ur.displayName="Table";const qr=j.forwardRef(({className:t,...r},s)=>e.jsx("thead",{ref:s,className:Oe("[&_tr]:border-b",t),...r}));qr.displayName="TableHeader";const zr=j.forwardRef(({className:t,...r},s)=>e.jsx("tbody",{ref:s,className:Oe("[&_tr:last-child]:border-0",t),...r}));zr.displayName="TableBody";const sIe=j.forwardRef(({className:t,...r},s)=>e.jsx("tfoot",{ref:s,className:Oe("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",t),...r}));sIe.displayName="TableFooter";const mt=j.forwardRef(({className:t,...r},s)=>e.jsx("tr",{ref:s,className:Oe("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",t),...r}));mt.displayName="TableRow";const xe=j.forwardRef(({className:t,...r},s)=>e.jsx("th",{ref:s,className:Oe("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",t),...r}));xe.displayName="TableHead";const ne=j.forwardRef(({className:t,...r},s)=>e.jsx("td",{ref:s,className:Oe("p-4 align-middle [&:has([role=checkbox])]:pr-0",t),...r}));ne.displayName="TableCell";const Vh=j.forwardRef(({className:t,...r},s)=>e.jsx("caption",{ref:s,className:Oe("mt-4 text-sm text-muted-foreground",t),...r}));Vh.displayName="TableCaption";const kD=["Ariyalur","Chennai","Coimbatore","Cuddalore","Dharmapuri","Dindigul","Erode","Kanchipuram","Kanyakumari","Karur","Krishnagiri","Madurai","Nagapattinam","Namakkal","Nilgiris","Perambalur","Pudukkottai","Ramanathapuram","Salem","Sivaganga","Thanjavur","Theni","Thoothukudi","Tiruchirappalli","Tirunelveli","Tiruppur","Tiruvallur","Tiruvannamalai","Tiruvarur","Vellore","Viluppuram","Virudhunagar","Tenkasi","Kallakurichi","Ranipet","Chengalpattu","Mayiladuthurai","Tirupattur"],nIe=_.object({username:_.string().min(3,"Username must be at least 3 characters"),password:_.string().min(6,"Password must be at least 6 characters"),fullName:_.string().min(1,"Full name is required"),email:_.string().email("Invalid email address"),phone:_.string().optional(),district:_.string().min(1,"District is required")});function aIe(){const{user:t}=dt(),{toast:r}=Be(),[s,n]=j.useState(""),[a,i]=j.useState(""),[l,o]=j.useState(!1),{data:c,isLoading:d}=fe({queryKey:["/api/managers/branch"],enabled:(t==null?void 0:t.userType)==="admin"}),u=Ht({resolver:Wt(nIe),defaultValues:{username:"",password:"",fullName:"",email:"",phone:"",district:""}}),m=Se({mutationFn:async p=>await(await le("POST","/api/managers/branch",{...p,userType:"branch_manager"})).json(),onSuccess:()=>{r({title:"Branch Manager Added",description:"The branch manager has been successfully added."}),pe.invalidateQueries({queryKey:["/api/managers/branch"]}),o(!1),u.reset()},onError:p=>{r({title:"Failed to add Branch Manager",description:p.message,variant:"destructive"})}});function h(p){m.mutate(p)}const g=c==null?void 0:c.filter(p=>(s===""||p.fullName.toLowerCase().includes(s.toLowerCase())||p.username.toLowerCase().includes(s.toLowerCase()))&&(a===""||a==="all"||p.district===a)),f=p=>{r({title:"Delete Operation",description:"This function is not implemented in the demo.",variant:"destructive"})};return(t==null?void 0:t.userType)!=="admin"?e.jsx("div",{className:"p-4 sm:p-6 lg:p-8",children:e.jsx(E,{children:e.jsx(D,{className:"py-10",children:e.jsxs("div",{className:"text-center",children:[e.jsx("h2",{className:"text-xl font-semibold text-neutral-900 mb-2",children:"Access Restricted"}),e.jsx("p",{className:"text-neutral-600",children:"You don't have permission to manage branch managers. This section is only available to administrators."})]})})})}):e.jsxs("div",{className:"p-4 sm:p-6 lg:p-8",children:[e.jsxs("div",{className:"mb-6",children:[e.jsx("h2",{className:"text-2xl font-bold text-neutral-900",children:"Branch Managers"}),e.jsx("p",{className:"mt-1 text-sm text-neutral-500",children:"Manage the 38 branch managers across Tamil Nadu districts."})]}),e.jsxs("div",{className:"mb-6 flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row gap-2 sm:gap-4 w-full sm:w-auto",children:[e.jsxs("div",{className:"relative w-full sm:w-64",children:[e.jsx(es,{className:"absolute left-2.5 top-2.5 h-4 w-4 text-neutral-400"}),e.jsx($,{type:"text",placeholder:"Search managers...",className:"pl-8 w-full",value:s,onChange:p=>n(p.target.value)})]}),e.jsxs(je,{value:a,onValueChange:p=>i(p),children:[e.jsx(ge,{className:"w-full sm:w-40",children:e.jsx(be,{placeholder:"All Districts"})}),e.jsxs(ve,{children:[e.jsx(O,{value:"all",children:"All Districts"}),kD.map(p=>e.jsx(O,{value:p,children:p},p))]})]})]}),e.jsxs(kt,{open:l,onOpenChange:o,children:[e.jsx(ls,{asChild:!0,children:e.jsxs(T,{className:"w-full sm:w-auto",children:[e.jsx(eC,{className:"mr-2 h-4 w-4"}),"Add Branch Manager"]})}),e.jsxs(St,{className:"sm:max-w-[500px]",children:[e.jsxs(Ct,{children:[e.jsx(Pt,{children:"Add Branch Manager"}),e.jsx(Yt,{children:"Create a new branch manager for a district in Tamil Nadu."})]}),e.jsx(Gt,{...u,children:e.jsxs("form",{onSubmit:u.handleSubmit(h),className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsx(q,{control:u.control,name:"fullName",render:({field:p})=>e.jsxs(B,{children:[e.jsx(V,{children:"Full Name"}),e.jsx(U,{children:e.jsx($,{...p})}),e.jsx(z,{})]})}),e.jsx(q,{control:u.control,name:"district",render:({field:p})=>e.jsxs(B,{children:[e.jsx(V,{children:"District"}),e.jsxs(je,{onValueChange:p.onChange,defaultValue:p.value,children:[e.jsx(U,{children:e.jsx(ge,{children:e.jsx(be,{placeholder:"Select district"})})}),e.jsx(ve,{children:kD.map(y=>e.jsx(O,{value:y,children:y},y))})]}),e.jsx(z,{})]})})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsx(q,{control:u.control,name:"username",render:({field:p})=>e.jsxs(B,{children:[e.jsx(V,{children:"Username"}),e.jsx(U,{children:e.jsx($,{...p})}),e.jsx(z,{})]})}),e.jsx(q,{control:u.control,name:"password",render:({field:p})=>e.jsxs(B,{children:[e.jsx(V,{children:"Password"}),e.jsx(U,{children:e.jsx($,{type:"password",...p})}),e.jsx(z,{})]})})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsx(q,{control:u.control,name:"email",render:({field:p})=>e.jsxs(B,{children:[e.jsx(V,{children:"Email"}),e.jsx(U,{children:e.jsx($,{type:"email",...p})}),e.jsx(z,{})]})}),e.jsx(q,{control:u.control,name:"phone",render:({field:p})=>e.jsxs(B,{children:[e.jsx(V,{children:"Phone (Optional)"}),e.jsx(U,{children:e.jsx($,{...p})}),e.jsx(z,{})]})})]}),e.jsxs(Ms,{children:[e.jsx(T,{type:"button",variant:"outline",onClick:()=>o(!1),children:"Cancel"}),e.jsx(T,{type:"submit",disabled:m.isPending,children:m.isPending?e.jsxs(e.Fragment,{children:[e.jsx(Ye,{className:"mr-2 h-4 w-4 animate-spin"}),"Creating..."]}):"Add Manager"})]})]})})]})]})]}),e.jsx(E,{children:d?e.jsx(D,{className:"flex justify-center items-center p-6",children:e.jsx(Ye,{className:"h-8 w-8 animate-spin text-primary"})}):g&&g.length>0?e.jsxs("div",{className:"overflow-x-auto",children:[e.jsxs(Ur,{children:[e.jsx(qr,{children:e.jsxs(mt,{children:[e.jsx(xe,{children:"Manager"}),e.jsx(xe,{children:"District"}),e.jsx(xe,{children:"Taluk Managers"}),e.jsx(xe,{children:"Performance"}),e.jsx(xe,{children:"Status"}),e.jsx(xe,{className:"text-right",children:"Actions"})]})}),e.jsx(zr,{children:g.map(p=>e.jsxs(mt,{children:[e.jsx(ne,{children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"flex-shrink-0 h-10 w-10 bg-primary/10 rounded-full flex items-center justify-center text-primary font-semibold",children:p.fullName.charAt(0)}),e.jsxs("div",{className:"ml-4",children:[e.jsx("div",{className:"text-sm font-medium text-neutral-900",children:p.fullName}),e.jsxs("div",{className:"text-xs text-neutral-500",children:["ID: BM",p.id.toString().padStart(5,"0")]})]})]})}),e.jsxs(ne,{children:[e.jsx("div",{className:"text-sm text-neutral-900",children:p.district}),e.jsx("div",{className:"text-xs text-neutral-500",children:"12 blocks"})]}),e.jsx(ne,{children:e.jsx("div",{className:"text-sm text-neutral-900",children:"8 active"})}),e.jsx(ne,{children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"w-16 bg-neutral-200 rounded-full h-2 mr-2",children:e.jsx("div",{className:"bg-green-500 h-2 rounded-full",style:{width:"95%"}})}),e.jsx("span",{className:"text-xs text-neutral-500",children:"95%"})]})}),e.jsx(ne,{children:e.jsx("span",{className:"px-2 inline-flex text-xs leading-5 font-semibold rounded-full bg-green-100 text-green-600",children:"Active"})}),e.jsxs(ne,{className:"text-right",children:[e.jsx(T,{variant:"ghost",size:"sm",className:"h-8 w-8 p-0",children:e.jsx(fr,{className:"h-4 w-4"})}),e.jsx(T,{variant:"ghost",size:"sm",className:"h-8 w-8 p-0",children:e.jsx(Gr,{className:"h-4 w-4"})}),e.jsx(T,{variant:"ghost",size:"sm",className:"h-8 w-8 p-0 text-red-500 hover:text-red-600 hover:bg-red-50",onClick:()=>f(p.id),children:e.jsx(Er,{className:"h-4 w-4"})})]})]},p.id))})]}),e.jsxs("div",{className:"px-4 py-3 border-t border-neutral-200 sm:px-6 flex items-center justify-between",children:[e.jsx("div",{className:"hidden sm:block",children:e.jsxs("p",{className:"text-sm text-neutral-700",children:["Showing ",e.jsx("span",{className:"font-medium",children:"1"})," to"," ",e.jsx("span",{className:"font-medium",children:g.length})," of"," ",e.jsx("span",{className:"font-medium",children:(c==null?void 0:c.length)||0})," results"]})}),e.jsxs("div",{className:"flex-1 flex justify-between sm:justify-end",children:[e.jsx(T,{variant:"outline",size:"sm",disabled:!0,children:"Previous"}),e.jsx(T,{variant:"outline",size:"sm",className:"ml-3",disabled:!0,children:"Next"})]})]})]}):e.jsx(D,{className:"py-10",children:e.jsxs("div",{className:"text-center",children:[e.jsx("h3",{className:"text-lg font-medium text-neutral-900 mb-2",children:"No branch managers found"}),e.jsx("p",{className:"text-neutral-500 mb-4",children:s||a?"Try adjusting your search or filter criteria.":"Start by adding a branch manager to the system."}),(s||a)&&e.jsx(T,{variant:"outline",onClick:()=>{n(""),i("")},children:"Clear Filters"})]})})})]})}const bK={Chennai:["Chennai North","Chennai South","Chennai East","Chennai West","Chennai Central"],Coimbatore:["Coimbatore North","Coimbatore South","Mettupalayam","Pollachi","Sulur","Valparai"],Madurai:["Madurai North","Madurai South","Melur","Peraiyur","Tirumangalam","Usilampatti","Vadipatti"],Salem:["Salem","Attur","Edappadi","Gangavalli","Mettur","Omalur","Sangagiri","Valapady","Yercaud"],Trichy:["Lalgudi","Manachanallur","Manapparai","Musiri","Srirangam","Thiruverumbur","Thottiyam","Thuraiyur"]},AD=Object.keys(bK),iIe=_.object({username:_.string().min(3,"Username must be at least 3 characters"),password:_.string().min(6,"Password must be at least 6 characters"),fullName:_.string().min(1,"Full name is required"),email:_.string().email("Invalid email address"),phone:_.string().optional(),district:_.string().min(1,"District is required"),taluk:_.string().min(1,"Taluk is required")});function lIe(){const{user:t}=dt(),{toast:r}=Be(),[s,n]=j.useState(""),[a,i]=j.useState(""),[l,o]=j.useState(!1),[c,d]=j.useState(""),u=(t==null?void 0:t.userType)==="admin",m=(t==null?void 0:t.userType)==="branch_manager",{data:h,isLoading:g}=fe({queryKey:["/api/managers/taluk"],enabled:u||m}),f=Ht({resolver:Wt(iIe),defaultValues:{username:"",password:"",fullName:"",email:"",phone:"",district:m&&(t==null?void 0:t.district)||"",taluk:""}}),p=f.watch("district");p!==c&&(d(p),f.setValue("taluk",""));const y=Se({mutationFn:async N=>await(await le("POST","/api/managers/taluk",{...N,userType:"taluk_manager"})).json(),onSuccess:()=>{r({title:"Taluk Manager Added",description:"The taluk manager has been successfully added."}),pe.invalidateQueries({queryKey:["/api/managers/taluk"]}),o(!1),f.reset()},onError:N=>{r({title:"Failed to add Taluk Manager",description:N.message,variant:"destructive"})}});function v(N){y.mutate(N)}const x=h==null?void 0:h.filter(N=>(s===""||N.fullName.toLowerCase().includes(s.toLowerCase())||N.username.toLowerCase().includes(s.toLowerCase()))&&(a===""||a==="all"||N.district===a)),b=N=>{r({title:"Delete Operation",description:"This function is not implemented in the demo.",variant:"destructive"})};return!u&&!m?e.jsx("div",{className:"p-4 sm:p-6 lg:p-8",children:e.jsx(E,{children:e.jsx(D,{className:"py-10",children:e.jsxs("div",{className:"text-center",children:[e.jsx("h2",{className:"text-xl font-semibold text-neutral-900 mb-2",children:"Access Restricted"}),e.jsx("p",{className:"text-neutral-600",children:"You don't have permission to manage taluk managers. This section is only available to administrators and branch managers."})]})})})}):e.jsxs("div",{className:"p-4 sm:p-6 lg:p-8",children:[e.jsxs("div",{className:"mb-6",children:[e.jsx("h2",{className:"text-2xl font-bold text-neutral-900",children:"Taluk Managers"}),e.jsx("p",{className:"mt-1 text-sm text-neutral-500",children:u?"Manage the 262 taluk managers across Tamil Nadu":`Manage taluk managers in ${t==null?void 0:t.district} district`})]}),e.jsxs("div",{className:"mb-6 flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row gap-2 sm:gap-4 w-full sm:w-auto",children:[e.jsxs("div",{className:"relative w-full sm:w-64",children:[e.jsx(es,{className:"absolute left-2.5 top-2.5 h-4 w-4 text-neutral-400"}),e.jsx($,{type:"text",placeholder:"Search managers...",className:"pl-8 w-full",value:s,onChange:N=>n(N.target.value)})]}),u&&e.jsxs(je,{value:a,onValueChange:N=>i(N),children:[e.jsx(ge,{className:"w-full sm:w-40",children:e.jsx(be,{placeholder:"All Districts"})}),e.jsxs(ve,{children:[e.jsx(O,{value:"all",children:"All Districts"}),AD.map(N=>e.jsx(O,{value:N,children:N},N))]})]})]}),e.jsxs(kt,{open:l,onOpenChange:o,children:[e.jsx(ls,{asChild:!0,children:e.jsxs(T,{className:"w-full sm:w-auto",children:[e.jsx(eC,{className:"mr-2 h-4 w-4"}),"Add Taluk Manager"]})}),e.jsxs(St,{className:"sm:max-w-[500px]",children:[e.jsxs(Ct,{children:[e.jsx(Pt,{children:"Add Taluk Manager"}),e.jsx(Yt,{children:"Create a new taluk manager for a taluk in Tamil Nadu."})]}),e.jsx(Gt,{...f,children:e.jsxs("form",{onSubmit:f.handleSubmit(v),className:"space-y-4",children:[e.jsx(q,{control:f.control,name:"fullName",render:({field:N})=>e.jsxs(B,{children:[e.jsx(V,{children:"Full Name"}),e.jsx(U,{children:e.jsx($,{...N})}),e.jsx(z,{})]})}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsx(q,{control:f.control,name:"district",render:({field:N})=>e.jsxs(B,{children:[e.jsx(V,{children:"District"}),e.jsxs(je,{onValueChange:N.onChange,defaultValue:N.value,disabled:m,children:[e.jsx(U,{children:e.jsx(ge,{children:e.jsx(be,{placeholder:"Select district"})})}),e.jsx(ve,{children:AD.map(w=>e.jsx(O,{value:w,children:w},w))})]}),e.jsx(z,{})]})}),e.jsx(q,{control:f.control,name:"taluk",render:({field:N})=>{var w;return e.jsxs(B,{children:[e.jsx(V,{children:"Taluk"}),e.jsxs(je,{onValueChange:N.onChange,defaultValue:N.value,disabled:!c,children:[e.jsx(U,{children:e.jsx(ge,{children:e.jsx(be,{placeholder:"Select taluk"})})}),e.jsx(ve,{children:c&&((w=bK[c])==null?void 0:w.map(C=>e.jsx(O,{value:C,children:C},C)))})]}),e.jsx(z,{})]})}})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsx(q,{control:f.control,name:"username",render:({field:N})=>e.jsxs(B,{children:[e.jsx(V,{children:"Username"}),e.jsx(U,{children:e.jsx($,{...N})}),e.jsx(z,{})]})}),e.jsx(q,{control:f.control,name:"password",render:({field:N})=>e.jsxs(B,{children:[e.jsx(V,{children:"Password"}),e.jsx(U,{children:e.jsx($,{type:"password",...N})}),e.jsx(z,{})]})})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsx(q,{control:f.control,name:"email",render:({field:N})=>e.jsxs(B,{children:[e.jsx(V,{children:"Email"}),e.jsx(U,{children:e.jsx($,{type:"email",...N})}),e.jsx(z,{})]})}),e.jsx(q,{control:f.control,name:"phone",render:({field:N})=>e.jsxs(B,{children:[e.jsx(V,{children:"Phone (Optional)"}),e.jsx(U,{children:e.jsx($,{...N})}),e.jsx(z,{})]})})]}),e.jsxs(Ms,{children:[e.jsx(T,{type:"button",variant:"outline",onClick:()=>o(!1),children:"Cancel"}),e.jsx(T,{type:"submit",disabled:y.isPending,children:y.isPending?e.jsxs(e.Fragment,{children:[e.jsx(Ye,{className:"mr-2 h-4 w-4 animate-spin"}),"Creating..."]}):"Add Manager"})]})]})})]})]})]}),e.jsx(E,{children:g?e.jsx(D,{className:"flex justify-center items-center p-6",children:e.jsx(Ye,{className:"h-8 w-8 animate-spin text-primary"})}):x&&x.length>0?e.jsxs("div",{className:"overflow-x-auto",children:[e.jsxs(Ur,{children:[e.jsx(qr,{children:e.jsxs(mt,{children:[e.jsx(xe,{children:"Manager"}),e.jsx(xe,{children:"District"}),e.jsx(xe,{children:"Taluk"}),e.jsx(xe,{children:"Service Agents"}),e.jsx(xe,{children:"Status"}),e.jsx(xe,{className:"text-right",children:"Actions"})]})}),e.jsx(zr,{children:x.map(N=>e.jsxs(mt,{children:[e.jsx(ne,{children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"flex-shrink-0 h-10 w-10 bg-primary/10 rounded-full flex items-center justify-center text-primary font-semibold",children:N.fullName.charAt(0)}),e.jsxs("div",{className:"ml-4",children:[e.jsx("div",{className:"text-sm font-medium text-neutral-900",children:N.fullName}),e.jsxs("div",{className:"text-xs text-neutral-500",children:["ID: TM",N.id.toString().padStart(5,"0")]})]})]})}),e.jsx(ne,{children:e.jsx("div",{className:"text-sm text-neutral-900",children:N.district})}),e.jsx(ne,{children:e.jsx("div",{className:"text-sm text-neutral-900",children:N.taluk})}),e.jsx(ne,{children:e.jsx("div",{className:"text-sm text-neutral-900",children:"6 active"})}),e.jsx(ne,{children:e.jsx("span",{className:"px-2 inline-flex text-xs leading-5 font-semibold rounded-full bg-green-100 text-green-600",children:"Active"})}),e.jsxs(ne,{className:"text-right",children:[e.jsx(T,{variant:"ghost",size:"sm",className:"h-8 w-8 p-0",children:e.jsx(fr,{className:"h-4 w-4"})}),e.jsx(T,{variant:"ghost",size:"sm",className:"h-8 w-8 p-0",children:e.jsx(Gr,{className:"h-4 w-4"})}),e.jsx(T,{variant:"ghost",size:"sm",className:"h-8 w-8 p-0 text-red-500 hover:text-red-600 hover:bg-red-50",onClick:()=>b(N.id),children:e.jsx(Er,{className:"h-4 w-4"})})]})]},N.id))})]}),e.jsxs("div",{className:"px-4 py-3 border-t border-neutral-200 sm:px-6 flex items-center justify-between",children:[e.jsx("div",{className:"hidden sm:block",children:e.jsxs("p",{className:"text-sm text-neutral-700",children:["Showing ",e.jsx("span",{className:"font-medium",children:"1"})," to"," ",e.jsx("span",{className:"font-medium",children:x.length})," of"," ",e.jsx("span",{className:"font-medium",children:(h==null?void 0:h.length)||0})," results"]})}),e.jsxs("div",{className:"flex-1 flex justify-between sm:justify-end",children:[e.jsx(T,{variant:"outline",size:"sm",disabled:!0,children:"Previous"}),e.jsx(T,{variant:"outline",size:"sm",className:"ml-3",disabled:!0,children:"Next"})]})]})]}):e.jsx(D,{className:"py-10",children:e.jsxs("div",{className:"text-center",children:[e.jsx("h3",{className:"text-lg font-medium text-neutral-900 mb-2",children:"No taluk managers found"}),e.jsx("p",{className:"text-neutral-500 mb-4",children:s||a?"Try adjusting your search or filter criteria.":"Start by adding a taluk manager to the system."}),(s||a)&&e.jsx(T,{variant:"outline",onClick:()=>{n(""),i("")},children:"Clear Filters"})]})})})]})}const oIe=_.object({username:_.string().min(3,"Username must be at least 3 characters"),password:_.string().min(6,"Password must be at least 6 characters"),fullName:_.string().min(1,"Full name is required"),email:_.string().email("Invalid email address"),phone:_.string().optional(),pincode:_.string().length(6,"Pincode must be exactly 6 digits").regex(/^\d+$/,"Pincode must contain only numbers")});function cIe(){const{user:t}=dt(),{toast:r}=Be(),[s,n]=j.useState(""),[a,i]=j.useState(!1),l=(t==null?void 0:t.userType)==="admin",o=(t==null?void 0:t.userType)==="branch_manager",c=(t==null?void 0:t.userType)==="taluk_manager",d=l||o||c,{data:u,isLoading:m}=fe({queryKey:["/api/agents"],enabled:d}),h=Ht({resolver:Wt(oIe),defaultValues:{username:"",password:"",fullName:"",email:"",phone:"",pincode:""}}),g=Se({mutationFn:async v=>await(await le("POST","/api/agents",{...v,userType:"service_agent"})).json(),onSuccess:()=>{r({title:"Service Agent Added",description:"The service agent has been successfully added."}),pe.invalidateQueries({queryKey:["/api/agents"]}),i(!1),h.reset()},onError:v=>{r({title:"Failed to add Service Agent",description:v.message,variant:"destructive"})}});function f(v){g.mutate(v)}const p=u==null?void 0:u.filter(v=>{var x;return s===""||v.fullName.toLowerCase().includes(s.toLowerCase())||v.username.toLowerCase().includes(s.toLowerCase())||((x=v.pincode)==null?void 0:x.includes(s))}),y=v=>{r({title:"Delete Operation",description:"This function is not implemented in the demo.",variant:"destructive"})};return d?e.jsxs("div",{className:"p-4 sm:p-6 lg:p-8",children:[e.jsxs("div",{className:"mb-6",children:[e.jsx("h2",{className:"text-2xl font-bold text-neutral-900",children:"Service Agents"}),e.jsx("p",{className:"mt-1 text-sm text-neutral-500",children:l?"Manage service agents across all pincodes in Tamil Nadu":o?`Manage service agents in ${t==null?void 0:t.district} district`:`Manage service agents in ${t==null?void 0:t.taluk} taluk`})]}),e.jsxs("div",{className:"mb-6 flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:[e.jsxs("div",{className:"relative w-full sm:w-64",children:[e.jsx(es,{className:"absolute left-2.5 top-2.5 h-4 w-4 text-neutral-400"}),e.jsx($,{type:"text",placeholder:"Search by name or pincode...",className:"pl-8 w-full",value:s,onChange:v=>n(v.target.value)})]}),e.jsxs(kt,{open:a,onOpenChange:i,children:[e.jsx(ls,{asChild:!0,children:e.jsxs(T,{className:"w-full sm:w-auto",children:[e.jsx(eC,{className:"mr-2 h-4 w-4"}),"Add Service Agent"]})}),e.jsxs(St,{className:"sm:max-w-[500px]",children:[e.jsxs(Ct,{children:[e.jsx(Pt,{children:"Add Service Agent"}),e.jsx(Yt,{children:"Create a new service agent for a specific pincode area."})]}),e.jsx(Gt,{...h,children:e.jsxs("form",{onSubmit:h.handleSubmit(f),className:"space-y-4",children:[e.jsx(q,{control:h.control,name:"fullName",render:({field:v})=>e.jsxs(B,{children:[e.jsx(V,{children:"Full Name"}),e.jsx(U,{children:e.jsx($,{...v})}),e.jsx(z,{})]})}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsx(q,{control:h.control,name:"username",render:({field:v})=>e.jsxs(B,{children:[e.jsx(V,{children:"Username"}),e.jsx(U,{children:e.jsx($,{...v})}),e.jsx(z,{})]})}),e.jsx(q,{control:h.control,name:"password",render:({field:v})=>e.jsxs(B,{children:[e.jsx(V,{children:"Password"}),e.jsx(U,{children:e.jsx($,{type:"password",...v})}),e.jsx(z,{})]})})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsx(q,{control:h.control,name:"email",render:({field:v})=>e.jsxs(B,{children:[e.jsx(V,{children:"Email"}),e.jsx(U,{children:e.jsx($,{type:"email",...v})}),e.jsx(z,{})]})}),e.jsx(q,{control:h.control,name:"phone",render:({field:v})=>e.jsxs(B,{children:[e.jsx(V,{children:"Phone (Optional)"}),e.jsx(U,{children:e.jsx($,{...v})}),e.jsx(z,{})]})})]}),e.jsx(q,{control:h.control,name:"pincode",render:({field:v})=>e.jsxs(B,{children:[e.jsx(V,{children:"Pincode"}),e.jsx(U,{children:e.jsx($,{...v,maxLength:6,placeholder:"6-digit pincode"})}),e.jsx(z,{})]})}),e.jsxs(Ms,{children:[e.jsx(T,{type:"button",variant:"outline",onClick:()=>i(!1),children:"Cancel"}),e.jsx(T,{type:"submit",disabled:g.isPending,children:g.isPending?e.jsxs(e.Fragment,{children:[e.jsx(Ye,{className:"mr-2 h-4 w-4 animate-spin"}),"Creating..."]}):"Add Agent"})]})]})})]})]})]}),e.jsx(E,{children:m?e.jsx(D,{className:"flex justify-center items-center p-6",children:e.jsx(Ye,{className:"h-8 w-8 animate-spin text-primary"})}):p&&p.length>0?e.jsxs("div",{className:"overflow-x-auto",children:[e.jsxs(Ur,{children:[e.jsx(qr,{children:e.jsxs(mt,{children:[e.jsx(xe,{children:"Agent"}),e.jsx(xe,{children:"Pincode"}),e.jsx(xe,{children:"Email"}),e.jsx(xe,{children:"Phone"}),e.jsx(xe,{children:"Status"}),e.jsx(xe,{className:"text-right",children:"Actions"})]})}),e.jsx(zr,{children:p.map(v=>e.jsxs(mt,{children:[e.jsx(ne,{children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"flex-shrink-0 h-10 w-10 bg-primary/10 rounded-full flex items-center justify-center text-primary font-semibold",children:v.fullName.charAt(0)}),e.jsxs("div",{className:"ml-4",children:[e.jsx("div",{className:"text-sm font-medium text-neutral-900",children:v.fullName}),e.jsxs("div",{className:"text-xs text-neutral-500",children:["ID: SA",v.id.toString().padStart(5,"0")]})]})]})}),e.jsx(ne,{children:e.jsxs("div",{className:"flex items-center text-sm",children:[e.jsx(ft,{className:"mr-1 h-4 w-4 text-neutral-400"}),v.pincode]})}),e.jsx(ne,{children:e.jsx("div",{className:"text-sm text-neutral-900",children:v.email})}),e.jsx(ne,{children:e.jsx("div",{className:"text-sm text-neutral-900",children:v.phone||"-"})}),e.jsx(ne,{children:e.jsx("span",{className:"px-2 inline-flex text-xs leading-5 font-semibold rounded-full bg-green-100 text-green-600",children:"Active"})}),e.jsxs(ne,{className:"text-right",children:[e.jsx(T,{variant:"ghost",size:"sm",className:"h-8 w-8 p-0",children:e.jsx(fr,{className:"h-4 w-4"})}),e.jsx(T,{variant:"ghost",size:"sm",className:"h-8 w-8 p-0",children:e.jsx(Gr,{className:"h-4 w-4"})}),e.jsx(T,{variant:"ghost",size:"sm",className:"h-8 w-8 p-0 text-red-500 hover:text-red-600 hover:bg-red-50",onClick:()=>y(v.id),children:e.jsx(Er,{className:"h-4 w-4"})})]})]},v.id))})]}),e.jsxs("div",{className:"px-4 py-3 border-t border-neutral-200 sm:px-6 flex items-center justify-between",children:[e.jsx("div",{className:"hidden sm:block",children:e.jsxs("p",{className:"text-sm text-neutral-700",children:["Showing ",e.jsx("span",{className:"font-medium",children:"1"})," to"," ",e.jsx("span",{className:"font-medium",children:p.length})," of"," ",e.jsx("span",{className:"font-medium",children:(u==null?void 0:u.length)||0})," results"]})}),e.jsxs("div",{className:"flex-1 flex justify-between sm:justify-end",children:[e.jsx(T,{variant:"outline",size:"sm",disabled:!0,children:"Previous"}),e.jsx(T,{variant:"outline",size:"sm",className:"ml-3",disabled:!0,children:"Next"})]})]})]}):e.jsx(D,{className:"py-10",children:e.jsxs("div",{className:"text-center",children:[e.jsx("h3",{className:"text-lg font-medium text-neutral-900 mb-2",children:"No service agents found"}),e.jsx("p",{className:"text-neutral-500 mb-4",children:s?"Try adjusting your search criteria.":"Start by adding a service agent to the system."}),s&&e.jsx(T,{variant:"outline",onClick:()=>n(""),children:"Clear Search"})]})})})]}):e.jsx("div",{className:"p-4 sm:p-6 lg:p-8",children:e.jsx(E,{children:e.jsx(D,{className:"py-10",children:e.jsxs("div",{className:"text-center",children:[e.jsx("h2",{className:"text-xl font-semibold text-neutral-900 mb-2",children:"Access Restricted"}),e.jsx("p",{className:"text-neutral-600",children:"You don't have permission to manage service agents. This section is only available to management team members."})]})})})})}const dIe=({title:t,icon:r,path:s})=>{const[,n]=xr();return e.jsxs(E,{className:"cursor-pointer hover:shadow-lg hover:border-primary/30 transition-all group overflow-hidden relative",onClick:()=>n(s),children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-primary/5 to-primary/10 opacity-0 group-hover:opacity-100 transition-opacity"}),e.jsxs(D,{className:"flex flex-col items-center justify-center p-6 relative z-10",children:[e.jsx("div",{className:"h-16 w-16 rounded-full bg-primary/10 flex items-center justify-center mb-4 group-hover:scale-110 transition-transform duration-300",children:r}),e.jsx("h3",{className:"text-sm font-medium text-center group-hover:text-primary transition-colors",children:t})]})]})};function uIe(){const[,t]=xr(),r=[{title:"Mobile Recharge",icon:e.jsx(Oo,{className:"h-7 w-7 text-primary"}),description:"Prepaid & Postpaid mobile recharges for all operators",path:"/recharge/mobile"},{title:"DTH",icon:e.jsx(u$,{className:"h-7 w-7 text-primary"}),description:"Recharge your DTH connections across all providers",path:"/recharge/dth"},{title:"Electricity",icon:e.jsx(m$,{className:"h-7 w-7 text-primary"}),description:"Pay electricity bills for all major boards",path:"/recharge/electricity"},{title:"Gas Bill",icon:e.jsx(go,{className:"h-7 w-7 text-primary"}),description:"Pay your gas bills quickly and securely",path:"/recharge/gas"},{title:"Broadband",icon:e.jsx(Iw,{className:"h-7 w-7 text-primary"}),description:"Pay bills for all broadband service providers",path:"/recharge/broadband"},{title:"Water Bill",icon:e.jsx(zg,{className:"h-7 w-7 text-primary"}),description:"Pay your water utility bills easily",path:"/recharge/water"},{title:"Credit Card Bill",icon:e.jsx(ia,{className:"h-7 w-7 text-primary"}),description:"Pay credit card bills for all major banks",path:"/recharge/credit-card"},{title:"All Services",icon:e.jsx(zX,{className:"h-7 w-7 text-primary"}),description:"View all available recharge services in one place",path:"/recharge/all"}];return e.jsxs("div",{className:"container max-w-6xl py-8",children:[e.jsxs("div",{className:"mb-10",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx(c$,{className:"h-5 w-5 text-primary"}),e.jsx("h1",{className:"text-3xl font-bold tracking-tight bg-gradient-to-r from-primary to-primary/70 text-transparent bg-clip-text",children:"Recharge & Bill Payments"})]}),e.jsx("p",{className:"text-muted-foreground max-w-2xl",children:"Quick and secure payments for all your utility services in one place. Get instant confirmation and save time."})]}),e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6",children:r.map(s=>e.jsx(dIe,{title:s.title,icon:s.icon,path:s.path},s.title))}),e.jsxs("div",{className:"mt-12 mb-4",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(y_,{className:"h-5 w-5 text-primary"}),e.jsx("h2",{className:"text-xl font-semibold",children:"Recent Transactions"})]}),e.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:"Your recent recharge history will appear here"})]}),e.jsx(E,{className:"border-dashed",children:e.jsx(D,{className:"p-8",children:e.jsxs("div",{className:"flex flex-col items-center justify-center space-y-4",children:[e.jsx("div",{className:"h-12 w-12 rounded-full bg-primary/10 flex items-center justify-center",children:e.jsx(y_,{className:"h-6 w-6 text-primary"})}),e.jsx("p",{className:"text-muted-foreground text-center",children:"Your recent recharge transactions will appear here."}),e.jsx(T,{variant:"outline",onClick:()=>t("/recharge/mobile"),className:"mt-2",children:"Make Your First Recharge"})]})})})]})}function fk({plansData:t,serviceType:r,selectedPlan:s,setSelectedPlan:n,setViewMode:a,searchTerm:i,setSearchTerm:l,selectedCategory:o,setSelectedCategory:c}){var p,y;const d=((p=t==null?void 0:t.plans)==null?void 0:p.filter(v=>{const x=!o||v.category===o,b=!i||v.description.toLowerCase().includes(i.toLowerCase())||v.amount.toString().includes(i);return x&&b}))||[],u=()=>{var v,x;return e.jsxs("div",{className:"flex flex-wrap gap-2 mt-2",children:[e.jsx(T,{variant:o===null?"default":"outline",size:"sm",onClick:()=>c(null),className:"text-xs h-8",children:r==="electricity"?"All Categories":r==="dth"?"All Packs":"All Plans"}),(x=(v=t==null?void 0:t.categories)==null?void 0:v.data)==null?void 0:x.map(b=>e.jsx(T,{variant:o===b.id?"default":"outline",size:"sm",onClick:()=>c(b.id),className:"text-xs h-8",children:b.name},b.id))]})},m=({plan:v})=>e.jsx(E,{className:Oe("cursor-pointer hover:border-primary transition-colors",(s==null?void 0:s.id)===v.id&&"border-primary bg-primary/5"),onClick:()=>n(v),children:e.jsx(D,{className:"p-4",children:e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("div",{children:[e.jsxs("p",{className:"font-semibold",children:["",v.amount]}),e.jsxs("p",{className:"text-sm text-muted-foreground",children:["Validity: ",v.validity]}),e.jsx("p",{className:"text-xs mt-1",children:v.description})]}),e.jsx(T,{variant:(s==null?void 0:s.id)===v.id?"default":"outline",size:"sm",onClick:x=>{x.stopPropagation(),n(v),a("form")},children:"Select"})]})})},v.id),h=({plan:v})=>e.jsx(E,{className:Oe("cursor-pointer hover:border-primary transition-colors",(s==null?void 0:s.id)===v.id&&"border-primary bg-primary/5"),onClick:()=>n(v),children:e.jsx(D,{className:"p-4",children:e.jsxs("div",{className:"flex justify-between items-start",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs("p",{className:"font-semibold",children:["",v.amount]}),e.jsx(ae,{variant:"outline",children:v.category})]}),e.jsxs("p",{className:"text-sm text-muted-foreground",children:["Validity: ",v.validity]}),e.jsx("p",{className:"text-xs mt-1",children:v.description})]}),e.jsx(T,{variant:(s==null?void 0:s.id)===v.id?"default":"outline",size:"sm",onClick:x=>{x.stopPropagation(),n(v),a("form")},children:"Select"})]})})},v.id),g=({plan:v})=>e.jsx(E,{className:Oe("cursor-pointer hover:border-primary transition-colors",(s==null?void 0:s.id)===v.id&&"border-primary bg-primary/5"),onClick:()=>n(v),children:e.jsx(D,{className:"p-4",children:e.jsxs("div",{className:"flex justify-between items-start",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs("p",{className:"font-semibold",children:["",v.amount]}),e.jsx(ae,{children:v.category})]}),e.jsxs("p",{className:"text-sm text-muted-foreground",children:["Billing Cycle: ",v.validity]}),e.jsx("p",{className:"text-xs mt-1",children:v.description})]}),e.jsx(T,{variant:(s==null?void 0:s.id)===v.id?"default":"outline",size:"sm",onClick:x=>{x.stopPropagation(),n(v),a("form")},children:"Select"})]})})},v.id),f=v=>{switch(r){case"dth":return e.jsx(h,{plan:v});case"electricity":return e.jsx(g,{plan:v});case"mobile":default:return e.jsx(m,{plan:v})}};return e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex flex-col space-y-2 pb-4",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(es,{className:"h-4 w-4 text-muted-foreground"}),e.jsx($,{placeholder:`Search ${r==="electricity"?"tariffs":"plans"}`,value:i,onChange:v=>l(v.target.value),className:"max-w-sm"})]}),((y=t==null?void 0:t.categories)==null?void 0:y.data)&&e.jsx(u,{})]}),d.length===0?e.jsx("div",{className:"text-center py-8",children:e.jsxs("p",{children:["No ",r==="electricity"?"tariffs":"plans"," found matching your criteria."]})}):e.jsx("div",{className:"space-y-2",children:d.map(v=>e.jsx("div",{children:f(v)},v.id))}),s&&e.jsx("div",{className:"mt-4 flex justify-end",children:e.jsxs(T,{onClick:()=>{a("form")},children:["Continue with ",s.amount," ",r==="electricity"?"tariff":"plan"]})})]})}const mIe=_.object({mobileNumber:_.string().min(10,"Mobile number must be at least 10 digits").max(10,"Mobile number must not exceed 10 digits"),provider:_.string().min(1,"Please select a provider"),amount:_.string().min(1,"Amount is required"),serviceType:_.string().default("mobile")});function NK(){const[,t]=xr(),{toast:r}=Be(),[s,n]=j.useState("form"),[a,i]=j.useState(null),[l,o]=j.useState(""),[c,d]=j.useState(null),u=Ht({resolver:Wt(mIe),defaultValues:{mobileNumber:"",provider:"",amount:"",serviceType:"mobile"}}),m=u.watch("provider");j.useEffect(()=>{a&&u.setValue("amount",a.amount.toString())},[a,u]),j.useEffect(()=>{o(""),d(null)},[s]);const{data:h,isLoading:g,isError:f,refetch:p}=fe({queryKey:[`/api/recharge/plans/${m}`,"mobile"],queryFn:({queryKey:w})=>fetch(`${w[0]}?serviceType=mobile`).then(C=>{if(!C.ok)throw new Error("Failed to fetch plans");return C.json()}),enabled:s==="plans"&&!!m}),{data:y,isLoading:v}=fe({queryKey:["/api/recharge/history"],queryFn:()=>fetch("/api/recharge/history").then(w=>{if(!w.ok)throw new Error("Failed to fetch recharge history");return w.json()})}),x=Se({mutationFn:async w=>{const P=await(await le("POST","/api/recharge",w)).json(),S={serviceType:"recharge",amount:parseFloat(w.amount),paymentMethod:"razorpay",serviceData:{mobileNumber:w.mobileNumber,provider:w.provider,serviceType:w.serviceType,rechargeId:P.id}},k=await(await le("POST","/api/service-requests",S)).json();return{recharge:P,serviceRequest:k}},onSuccess:w=>{r({title:"Recharge Successful",description:`Your mobile recharge for ${w.recharge.amount} was successful! Service request ${w.serviceRequest.srNumber} has been generated.`}),u.reset({mobileNumber:"",amount:"",provider:"",serviceType:"mobile"}),pe.invalidateQueries({queryKey:["/api/recharge/history"]}),pe.invalidateQueries({queryKey:["/api/service-requests/my-requests"]})},onError:w=>{r({title:"Recharge Failed",description:w.message||"Something went wrong. Please try again.",variant:"destructive"})}});function b(w){if(!/^[6-9]\d{9}$/.test(w.mobileNumber)){r({title:"Invalid Mobile Number",description:"Please enter a valid 10-digit mobile number starting with 6, 7, 8, or 9.",variant:"destructive"});return}x.mutate(w)}function N(){n(s==="form"?"plans":"form")}return e.jsxs("div",{className:"container max-w-6xl py-6",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-6",children:[e.jsx(T,{variant:"outline",size:"icon",onClick:()=>t("/recharge"),children:e.jsx(is,{className:"h-4 w-4"})}),e.jsx("h1",{className:"text-2xl font-bold tracking-tight",children:"Mobile Recharge"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[e.jsx("div",{className:"md:col-span-2",children:e.jsxs(E,{className:"h-full",children:[e.jsxs(Y,{children:[e.jsx(X,{children:"Mobile Recharge"}),e.jsx(he,{children:"Recharge your mobile phone with ease"})]}),e.jsx(D,{children:s==="form"?e.jsx(Gt,{...u,children:e.jsxs("form",{className:"space-y-4",children:[e.jsx(q,{control:u.control,name:"mobileNumber",render:({field:w})=>e.jsxs(B,{children:[e.jsx(V,{children:"Mobile Number"}),e.jsx(U,{children:e.jsx($,{placeholder:"Enter 10-digit mobile number",...w,maxLength:10})}),e.jsx(Ue,{children:"Enter your mobile number without any prefix"}),e.jsx(z,{})]})}),e.jsx(q,{control:u.control,name:"provider",render:({field:w})=>e.jsxs(B,{children:[e.jsx(V,{children:"Operator"}),e.jsxs(je,{onValueChange:w.onChange,defaultValue:w.value,children:[e.jsx(U,{children:e.jsx(ge,{children:e.jsx(be,{placeholder:"Select mobile operator"})})}),e.jsxs(ve,{children:[e.jsx(O,{value:"Jio",children:"Reliance Jio"}),e.jsx(O,{value:"Airtel",children:"Airtel"}),e.jsx(O,{value:"Vi",children:"Vodafone Idea"}),e.jsx(O,{value:"BSNL",children:"BSNL"})]})]}),e.jsx(z,{})]})}),e.jsx(q,{control:u.control,name:"amount",render:({field:w})=>e.jsxs(B,{children:[e.jsx(V,{children:"Amount"}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(U,{children:e.jsx($,{placeholder:"Enter recharge amount",...w,type:"number",min:"1"})}),e.jsx(T,{type:"button",variant:"outline",onClick:()=>{u.getValues("provider")?n("plans"):r({title:"Please select an operator first",variant:"destructive"})},children:"Browse Plans"})]}),e.jsx(z,{})]})}),e.jsx(T,{type:"submit",className:"w-full",onClick:u.handleSubmit(b),disabled:x.isPending,children:x.isPending?e.jsxs(e.Fragment,{children:[e.jsx(Ye,{className:"mr-2 h-4 w-4 animate-spin"}),"Processing..."]}):e.jsxs(e.Fragment,{children:["Proceed to Pay",e.jsx(Xa,{className:"ml-2 h-4 w-4"})]})})]})}):e.jsxs("div",{children:[e.jsxs("div",{className:"flex justify-between items-center mb-4",children:[e.jsxs("h3",{className:"text-lg font-medium",children:[m," Mobile Plans"]}),e.jsx(T,{variant:"outline",size:"sm",onClick:N,children:"Back to Recharge"})]}),g?e.jsx("div",{className:"py-12 flex justify-center",children:e.jsx(Ye,{className:"h-8 w-8 animate-spin text-primary"})}):f?e.jsxs("div",{className:"py-8 text-center",children:[e.jsx(nr,{className:"mx-auto h-8 w-8 text-red-500 mb-2"}),e.jsx("p",{children:"Failed to load plans. Please try again."}),e.jsx(T,{variant:"outline",size:"sm",onClick:()=>p(),className:"mt-4",children:"Retry"})]}):e.jsx(fk,{plansData:h,serviceType:"mobile",selectedPlan:a,setSelectedPlan:i,setViewMode:n,searchTerm:l,setSearchTerm:o,selectedCategory:c,setSelectedCategory:d})]})})]})}),e.jsx("div",{children:e.jsxs(E,{children:[e.jsxs(Y,{children:[e.jsx(X,{children:"Recharge History"}),e.jsx(he,{children:"Your recent mobile recharges"})]}),e.jsx(D,{children:v?e.jsx("div",{className:"py-12 flex justify-center",children:e.jsx(Ye,{className:"h-6 w-6 animate-spin text-muted-foreground"})}):!y||y.length===0?e.jsx("div",{className:"text-center py-6 text-muted-foreground",children:e.jsx("p",{children:"No recharge history found"})}):e.jsx("div",{className:"space-y-3",children:y.filter(w=>w.serviceType==="mobile").slice(0,5).map(w=>e.jsxs("div",{className:"flex justify-between items-center p-3 bg-muted/50 rounded-lg",children:[e.jsxs("div",{children:[e.jsx("p",{className:"font-medium",children:w.mobileNumber}),e.jsxs("p",{className:"text-xs text-muted-foreground",children:[w.provider,"  ",new Date(w.createdAt).toLocaleDateString()]})]}),e.jsxs("div",{className:"text-right",children:[e.jsxs("p",{className:"font-semibold",children:["",w.amount]}),e.jsx("p",{className:`text-xs ${w.status==="completed"?"text-green-500":w.status==="failed"?"text-red-500":"text-yellow-500"}`,children:w.status.charAt(0).toUpperCase()+w.status.slice(1)})]})]},w.id))})})]})})]})]})}const hIe=_.object({mobileNumber:_.string().min(5,"Subscriber ID must be at least 5 characters").max(15,"Subscriber ID must not exceed 15 characters"),provider:_.string().min(1,"Please select a provider"),amount:_.string().min(1,"Amount is required"),serviceType:_.string().default("dth")});function wK(){const[,t]=xr(),{toast:r}=Be(),[s,n]=j.useState("form"),[a,i]=j.useState(null),[l,o]=j.useState(""),[c,d]=j.useState(null),u=Ht({resolver:Wt(hIe),defaultValues:{mobileNumber:"",provider:"",amount:"",serviceType:"dth"}}),m=u.watch("provider");j.useEffect(()=>{a&&u.setValue("amount",a.amount.toString())},[a,u]),j.useEffect(()=>{o(""),d(null)},[s]);const{data:h,isLoading:g,isError:f,refetch:p}=fe({queryKey:[`/api/recharge/plans/${m}`,"dth"],queryFn:({queryKey:w})=>fetch(`${w[0]}?serviceType=dth`).then(C=>{if(!C.ok)throw new Error("Failed to fetch plans");return C.json()}),enabled:s==="plans"&&!!m}),{data:y,isLoading:v}=fe({queryKey:["/api/recharge/history"],queryFn:()=>fetch("/api/recharge/history").then(w=>{if(!w.ok)throw new Error("Failed to fetch recharge history");return w.json()})}),x=Se({mutationFn:async w=>await(await le("POST","/api/recharge",w)).json(),onSuccess:w=>{r({title:"DTH Recharge Successful",description:`Your DTH recharge for ${w.amount} was successful.`}),u.reset({mobileNumber:"",amount:"",provider:"",serviceType:"dth"}),pe.invalidateQueries({queryKey:["/api/recharge/history"]})},onError:w=>{r({title:"DTH Recharge Failed",description:w.message||"Something went wrong. Please try again.",variant:"destructive"})}});function b(w){x.mutate(w)}function N(){n(s==="form"?"plans":"form")}return e.jsxs("div",{className:"container max-w-6xl py-6",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-6",children:[e.jsx(T,{variant:"outline",size:"icon",onClick:()=>t("/recharge"),children:e.jsx(is,{className:"h-4 w-4"})}),e.jsx("h1",{className:"text-2xl font-bold tracking-tight",children:"DTH Recharge"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[e.jsx("div",{className:"md:col-span-2",children:e.jsxs(E,{className:"h-full",children:[e.jsxs(Y,{children:[e.jsx(X,{children:"DTH Recharge"}),e.jsx(he,{children:"Recharge your DTH connection with ease"})]}),e.jsx(D,{children:s==="form"?e.jsx(Gt,{...u,children:e.jsxs("form",{className:"space-y-4",children:[e.jsx(q,{control:u.control,name:"mobileNumber",render:({field:w})=>e.jsxs(B,{children:[e.jsx(V,{children:"Customer ID / Subscriber ID"}),e.jsx(U,{children:e.jsx($,{placeholder:"Enter your DTH subscriber ID",...w,maxLength:15})}),e.jsx(Ue,{children:"You can find your Subscriber ID on your DTH bill or on-screen by pressing the 'Info' button on your remote."}),e.jsx(z,{})]})}),e.jsx(q,{control:u.control,name:"provider",render:({field:w})=>e.jsxs(B,{children:[e.jsx(V,{children:"DTH Operator"}),e.jsxs(je,{onValueChange:w.onChange,defaultValue:w.value,children:[e.jsx(U,{children:e.jsx(ge,{children:e.jsx(be,{placeholder:"Select DTH operator"})})}),e.jsxs(ve,{children:[e.jsx(O,{value:"Tata Play",children:"Tata Play"}),e.jsx(O,{value:"Airtel Digital TV",children:"Airtel Digital TV"}),e.jsx(O,{value:"Dish TV",children:"Dish TV"}),e.jsx(O,{value:"Sun Direct",children:"Sun Direct"}),e.jsx(O,{value:"D2H",children:"D2H"})]})]}),e.jsx(z,{})]})}),e.jsx(q,{control:u.control,name:"amount",render:({field:w})=>e.jsxs(B,{children:[e.jsx(V,{children:"Amount"}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(U,{children:e.jsx($,{placeholder:"Enter recharge amount",...w,type:"number",min:"1"})}),e.jsx(T,{type:"button",variant:"outline",onClick:()=>{u.getValues("provider")?n("plans"):r({title:"Please select an operator first",variant:"destructive"})},children:"Browse Plans"})]}),e.jsx(z,{})]})}),e.jsx(T,{type:"submit",className:"w-full",onClick:u.handleSubmit(b),disabled:x.isPending,children:x.isPending?e.jsxs(e.Fragment,{children:[e.jsx(Ye,{className:"mr-2 h-4 w-4 animate-spin"}),"Processing..."]}):e.jsxs(e.Fragment,{children:["Proceed to Pay",e.jsx(Xa,{className:"ml-2 h-4 w-4"})]})})]})}):e.jsxs("div",{children:[e.jsxs("div",{className:"flex justify-between items-center mb-4",children:[e.jsxs("h3",{className:"text-lg font-medium",children:[m," DTH Plans"]}),e.jsx(T,{variant:"outline",size:"sm",onClick:N,children:"Back to Recharge"})]}),g?e.jsx("div",{className:"py-12 flex justify-center",children:e.jsx(Ye,{className:"h-8 w-8 animate-spin text-primary"})}):f?e.jsxs("div",{className:"py-8 text-center",children:[e.jsx(nr,{className:"mx-auto h-8 w-8 text-red-500 mb-2"}),e.jsx("p",{children:"Failed to load plans. Please try again."}),e.jsx(T,{variant:"outline",size:"sm",onClick:()=>p(),className:"mt-4",children:"Retry"})]}):e.jsx(fk,{plansData:h,serviceType:"dth",selectedPlan:a,setSelectedPlan:i,setViewMode:n,searchTerm:l,setSearchTerm:o,selectedCategory:c,setSelectedCategory:d})]})})]})}),e.jsx("div",{children:e.jsxs(E,{children:[e.jsxs(Y,{children:[e.jsx(X,{children:"Recharge History"}),e.jsx(he,{children:"Your recent DTH recharges"})]}),e.jsx(D,{children:v?e.jsx("div",{className:"py-12 flex justify-center",children:e.jsx(Ye,{className:"h-6 w-6 animate-spin text-muted-foreground"})}):!y||y.length===0?e.jsx("div",{className:"text-center py-6 text-muted-foreground",children:e.jsx("p",{children:"No recharge history found"})}):e.jsx("div",{className:"space-y-3",children:y.filter(w=>w.serviceType==="dth").slice(0,5).map(w=>e.jsxs("div",{className:"flex justify-between items-center p-3 bg-muted/50 rounded-lg",children:[e.jsxs("div",{children:[e.jsx("p",{className:"font-medium",children:w.mobileNumber}),e.jsxs("p",{className:"text-xs text-muted-foreground",children:[w.provider,"  ",new Date(w.createdAt).toLocaleDateString()]})]}),e.jsxs("div",{className:"text-right",children:[e.jsxs("p",{className:"font-semibold",children:["",w.amount]}),e.jsx("p",{className:`text-xs ${w.status==="completed"?"text-green-500":w.status==="failed"?"text-red-500":"text-yellow-500"}`,children:w.status.charAt(0).toUpperCase()+w.status.slice(1)})]})]},w.id))})})]})})]})]})}const pIe=_.object({mobileNumber:_.string().min(5,"Consumer number must be at least 5 characters").max(20,"Consumer number must not exceed 20 characters"),provider:_.string().min(1,"Please select a provider"),amount:_.string().min(1,"Amount is required"),serviceType:_.string().default("electricity")});function SK(){const[,t]=xr(),{toast:r}=Be(),[s,n]=j.useState("form"),[a,i]=j.useState(null),[l,o]=j.useState(""),[c,d]=j.useState(null),u=Ht({resolver:Wt(pIe),defaultValues:{mobileNumber:"",provider:"",amount:"",serviceType:"electricity"}}),m=u.watch("provider");j.useEffect(()=>{a&&u.setValue("amount",a.amount.toString())},[a,u]),j.useEffect(()=>{o(""),d(null)},[s]);const{data:h,isLoading:g,isError:f,refetch:p}=fe({queryKey:[`/api/recharge/plans/${m}`,"electricity"],queryFn:({queryKey:w})=>fetch(`${w[0]}?serviceType=electricity`).then(C=>{if(!C.ok)throw new Error("Failed to fetch plans");return C.json()}),enabled:s==="plans"&&!!m}),{data:y,isLoading:v}=fe({queryKey:["/api/recharge/history"],queryFn:()=>fetch("/api/recharge/history").then(w=>{if(!w.ok)throw new Error("Failed to fetch recharge history");return w.json()})}),x=Se({mutationFn:async w=>await(await le("POST","/api/recharge",w)).json(),onSuccess:w=>{r({title:"Electricity Bill Payment Successful",description:`Your electricity bill payment of ${w.amount} was successful.`}),u.reset({mobileNumber:"",amount:"",provider:"",serviceType:"electricity"}),pe.invalidateQueries({queryKey:["/api/recharge/history"]})},onError:w=>{r({title:"Electricity Bill Payment Failed",description:w.message||"Something went wrong. Please try again.",variant:"destructive"})}});function b(w){x.mutate(w)}function N(){n(s==="form"?"plans":"form")}return e.jsxs("div",{className:"container max-w-6xl py-6",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-6",children:[e.jsx(T,{variant:"outline",size:"icon",onClick:()=>t("/recharge"),children:e.jsx(is,{className:"h-4 w-4"})}),e.jsx("h1",{className:"text-2xl font-bold tracking-tight",children:"Electricity Bill Payment"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[e.jsx("div",{className:"md:col-span-2",children:e.jsxs(E,{className:"h-full",children:[e.jsxs(Y,{children:[e.jsx(X,{children:"Electricity Bill Payment"}),e.jsx(he,{children:"Pay your electricity bills with ease"})]}),e.jsx(D,{children:s==="form"?e.jsx(Gt,{...u,children:e.jsxs("form",{className:"space-y-4",children:[e.jsx(q,{control:u.control,name:"mobileNumber",render:({field:w})=>e.jsxs(B,{children:[e.jsx(V,{children:"Consumer Number / Service Number"}),e.jsx(U,{children:e.jsx($,{placeholder:"Enter your consumer number",...w,maxLength:20})}),e.jsx(Ue,{children:"You can find your consumer number on your electricity bill"}),e.jsx(z,{})]})}),e.jsx(q,{control:u.control,name:"provider",render:({field:w})=>e.jsxs(B,{children:[e.jsx(V,{children:"Electricity Board"}),e.jsxs(je,{onValueChange:w.onChange,defaultValue:w.value,children:[e.jsx(U,{children:e.jsx(ge,{children:e.jsx(be,{placeholder:"Select electricity provider"})})}),e.jsxs(ve,{children:[e.jsx(O,{value:"TNEB",children:"Tamil Nadu Electricity Board (TNEB)"}),e.jsx(O,{value:"BESCOM",children:"Bangalore Electricity Supply (BESCOM)"}),e.jsx(O,{value:"KSEB",children:"Kerala State Electricity Board (KSEB)"}),e.jsx(O,{value:"APTRANSCO",children:"Andhra Pradesh Transmission Corp"}),e.jsx(O,{value:"TSSPDCL",children:"Telangana State Southern Power Distribution"})]})]}),e.jsx(z,{})]})}),e.jsx(q,{control:u.control,name:"amount",render:({field:w})=>e.jsxs(B,{children:[e.jsx(V,{children:"Amount"}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(U,{children:e.jsx($,{placeholder:"Enter bill amount",...w,type:"number",min:"1"})}),e.jsx(T,{type:"button",variant:"outline",onClick:()=>{u.getValues("provider")?n("plans"):r({title:"Please select an electricity provider first",variant:"destructive"})},children:"View Plans"})]}),e.jsx(z,{})]})}),e.jsx(T,{type:"submit",className:"w-full",onClick:u.handleSubmit(b),disabled:x.isPending,children:x.isPending?e.jsxs(e.Fragment,{children:[e.jsx(Ye,{className:"mr-2 h-4 w-4 animate-spin"}),"Processing..."]}):e.jsxs(e.Fragment,{children:["Proceed to Pay",e.jsx(Xa,{className:"ml-2 h-4 w-4"})]})})]})}):e.jsxs("div",{children:[e.jsxs("div",{className:"flex justify-between items-center mb-4",children:[e.jsxs("h3",{className:"text-lg font-medium",children:[m," Payment Plans"]}),e.jsx(T,{variant:"outline",size:"sm",onClick:N,children:"Back to Payment"})]}),g?e.jsx("div",{className:"py-12 flex justify-center",children:e.jsx(Ye,{className:"h-8 w-8 animate-spin text-primary"})}):f?e.jsxs("div",{className:"py-8 text-center",children:[e.jsx(nr,{className:"mx-auto h-8 w-8 text-red-500 mb-2"}),e.jsx("p",{children:"Failed to load plans. Please try again."}),e.jsx(T,{variant:"outline",size:"sm",onClick:()=>p(),className:"mt-4",children:"Retry"})]}):e.jsx(fk,{plansData:h,serviceType:"electricity",selectedPlan:a,setSelectedPlan:i,setViewMode:n,searchTerm:l,setSearchTerm:o,selectedCategory:c,setSelectedCategory:d})]})})]})}),e.jsx("div",{children:e.jsxs(E,{children:[e.jsxs(Y,{children:[e.jsx(X,{children:"Payment History"}),e.jsx(he,{children:"Your recent electricity bill payments"})]}),e.jsx(D,{children:v?e.jsx("div",{className:"py-12 flex justify-center",children:e.jsx(Ye,{className:"h-6 w-6 animate-spin text-muted-foreground"})}):!y||y.length===0?e.jsx("div",{className:"text-center py-6 text-muted-foreground",children:e.jsx("p",{children:"No payment history found"})}):e.jsx("div",{className:"space-y-3",children:y.filter(w=>w.serviceType==="electricity").slice(0,5).map(w=>e.jsxs("div",{className:"flex justify-between items-center p-3 bg-muted/50 rounded-lg",children:[e.jsxs("div",{children:[e.jsx("p",{className:"font-medium",children:w.mobileNumber}),e.jsxs("p",{className:"text-xs text-muted-foreground",children:[w.provider,"  ",new Date(w.createdAt).toLocaleDateString()]})]}),e.jsxs("div",{className:"text-right",children:[e.jsxs("p",{className:"font-semibold",children:["",w.amount]}),e.jsx("p",{className:`text-xs ${w.status==="completed"?"text-green-500":w.status==="failed"?"text-red-500":"text-yellow-500"}`,children:w.status.charAt(0).toUpperCase()+w.status.slice(1)})]})]},w.id))})})]})})]})]})}const Lx=({title:t,icon:r,description:s})=>e.jsx(E,{className:"border border-dashed bg-card/50",children:e.jsxs(D,{className:"flex flex-col items-center justify-center py-10 px-6 text-center",children:[e.jsx("div",{className:"h-16 w-16 rounded-full bg-primary/10 flex items-center justify-center mb-4",children:r}),e.jsx("h3",{className:"text-lg font-medium mb-2",children:t}),e.jsx("p",{className:"text-muted-foreground text-sm",children:s}),e.jsx("div",{className:"mt-4",children:e.jsx("span",{className:"inline-flex items-center rounded-full bg-primary/10 px-3 py-1 text-xs font-medium text-primary",children:"Coming Soon"})})]})});function sh(){const[,t]=xr();return e.jsxs("div",{className:"container max-w-6xl py-8",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-8",children:[e.jsx(T,{variant:"outline",size:"icon",onClick:()=>t("/recharge"),className:"h-9 w-9",children:e.jsx(is,{className:"h-4 w-4"})}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(c$,{className:"h-5 w-5 text-primary"}),e.jsx("h1",{className:"text-2xl font-bold tracking-tight bg-gradient-to-r from-primary to-primary/70 text-transparent bg-clip-text",children:"All Recharge Services"})]}),e.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"Pay all your utility bills from a single dashboard"})]})]}),e.jsxs(rr,{defaultValue:"mobile",className:"w-full",children:[e.jsxs(tr,{className:"mb-6 w-full flex justify-start overflow-x-auto",children:[e.jsxs(ke,{value:"mobile",className:"flex items-center gap-2",children:[e.jsx(Oo,{className:"h-4 w-4"})," Mobile"]}),e.jsxs(ke,{value:"dth",className:"flex items-center gap-2",children:[e.jsx(u$,{className:"h-4 w-4"})," DTH"]}),e.jsxs(ke,{value:"electricity",className:"flex items-center gap-2",children:[e.jsx(m$,{className:"h-4 w-4"})," Electricity"]}),e.jsxs(ke,{value:"gas",className:"flex items-center gap-2",children:[e.jsx(go,{className:"h-4 w-4"})," Gas"]}),e.jsxs(ke,{value:"broadband",className:"flex items-center gap-2",children:[e.jsx(Iw,{className:"h-4 w-4"})," Broadband"]}),e.jsxs(ke,{value:"water",className:"flex items-center gap-2",children:[e.jsx(zg,{className:"h-4 w-4"})," Water"]}),e.jsxs(ke,{value:"credit-card",className:"flex items-center gap-2",children:[e.jsx(ia,{className:"h-4 w-4"})," Credit Card"]})]}),e.jsx(Le,{value:"mobile",children:e.jsx("div",{className:"mt-2",children:e.jsx(NK,{})})}),e.jsx(Le,{value:"dth",children:e.jsx("div",{className:"mt-2",children:e.jsx(wK,{})})}),e.jsx(Le,{value:"electricity",children:e.jsx("div",{className:"mt-2",children:e.jsx(SK,{})})}),e.jsx(Le,{value:"gas",children:e.jsx("div",{className:"mt-4",children:e.jsx(Lx,{title:"Gas Bill Payment",icon:e.jsx(go,{className:"h-7 w-7 text-primary"}),description:"Pay your gas bills for all major gas providers with instant confirmation and receipts."})})}),e.jsx(Le,{value:"broadband",children:e.jsx("div",{className:"mt-4",children:e.jsx(Lx,{title:"Broadband Bill Payment",icon:e.jsx(Iw,{className:"h-7 w-7 text-primary"}),description:"Pay your broadband and internet bills for all ISPs with attractive cashback offers."})})}),e.jsx(Le,{value:"water",children:e.jsx("div",{className:"mt-4",children:e.jsx(Lx,{title:"Water Bill Payment",icon:e.jsx(zg,{className:"h-7 w-7 text-primary"}),description:"Pay your water utility bills for all municipalities and water boards with zero convenience fee."})})}),e.jsx(Le,{value:"credit-card",children:e.jsx("div",{className:"mt-4",children:e.jsx(Lx,{title:"Credit Card Bill Payment",icon:e.jsx(ia,{className:"h-7 w-7 text-primary"}),description:"Pay your credit card bills for all major banks with rewards and special offers."})})})]}),e.jsx(kr,{className:"my-8"}),e.jsx("div",{className:"mt-6 text-center",children:e.jsxs("p",{className:"text-sm text-muted-foreground",children:["Have questions about our recharge services? ",e.jsx(T,{variant:"link",className:"h-auto p-0",children:"Contact Support"})]})})]})}const fIe=_.object({bookingType:_.enum(["bus","flight","hotel"]),origin:_.string().min(1,"Origin is required"),destination:_.string().min(1,"Destination is required").optional(),checkIn:_.string().min(1,"Check-in date is required"),checkOut:_.string().min(1,"Check-out date is required").optional(),passengers:_.string().min(1,"Number of passengers is required").refine(t=>!isNaN(parseInt(t))&&parseInt(t)>0,{message:"Passengers must be a positive number"}).optional(),amount:_.string().min(1,"Amount is required").refine(t=>!isNaN(parseFloat(t))&&parseFloat(t)>0,{message:"Amount must be a positive number"})});function cN(t){const r=new Date(t);return new Intl.DateTimeFormat("en-IN",{year:"numeric",month:"short",day:"numeric"}).format(r)}function xIe(){const{user:t}=dt(),{toast:r}=Be(),[s,n]=j.useState("bus"),a=new Date().toISOString().split("T")[0],{data:i,isLoading:l}=fe({queryKey:["/api/booking"],enabled:!!t}),o=Ht({resolver:Wt(fIe),defaultValues:{bookingType:"bus",origin:"",destination:"",checkIn:a,checkOut:"",passengers:"1",amount:""}}),c=o.watch("bookingType"),d=f=>{n(f),o.setValue("bookingType",f),f==="hotel"?o.setValue("destination",""):o.setValue("checkOut","")},u=["Chennai","Coimbatore","Madurai","Trichy","Salem","Tirunelveli","Erode","Vellore"],m=Se({mutationFn:async f=>{const p={...f,passengers:f.passengers?parseInt(f.passengers):void 0,amount:parseFloat(f.amount),status:"pending"};return await(await le("POST","/api/booking",p)).json()},onSuccess:()=>{r({title:"Booking Successful",description:`Your ${c} booking has been confirmed.`}),pe.invalidateQueries({queryKey:["/api/booking"]}),pe.invalidateQueries({queryKey:["/api/wallet"]}),o.reset({bookingType:c,origin:"",destination:"",checkIn:a,checkOut:"",passengers:"1",amount:""})},onError:f=>{r({title:"Booking Failed",description:f.message,variant:"destructive"})}});function h(f){m.mutate(f)}const g=f=>{switch(f){case"bus":o.setValue("amount","650");break;case"flight":o.setValue("amount","3500");break;case"hotel":o.setValue("amount","2800");break}};return e.jsxs("div",{className:"p-4 sm:p-6 lg:p-8",children:[e.jsxs("div",{className:"mb-6",children:[e.jsx("h2",{className:"text-2xl font-bold text-neutral-900",children:"Travel Bookings"}),e.jsx("p",{className:"mt-1 text-sm text-neutral-500",children:"Book buses, flights, and hotels across Tamil Nadu and beyond."})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[e.jsx("div",{className:"lg:col-span-2",children:e.jsxs(E,{children:[e.jsxs(Y,{children:[e.jsx(X,{children:"Book Your Travel"}),e.jsx(he,{children:"Find the best deals for your journey"})]}),e.jsx(D,{children:e.jsxs(rr,{value:s,onValueChange:d,children:[e.jsxs(tr,{className:"grid grid-cols-3 mb-6",children:[e.jsxs(ke,{value:"bus",className:"flex items-center gap-2",children:[e.jsx(wi,{className:"h-4 w-4"}),e.jsx("span",{children:"Bus"})]}),e.jsxs(ke,{value:"flight",className:"flex items-center gap-2",children:[e.jsx(gi,{className:"h-4 w-4"}),e.jsx("span",{children:"Flight"})]}),e.jsxs(ke,{value:"hotel",className:"flex items-center gap-2",children:[e.jsx(vn,{className:"h-4 w-4"}),e.jsx("span",{children:"Hotel"})]})]}),e.jsx(Le,{value:"bus",children:e.jsx(Gt,{...o,children:e.jsxs("form",{onSubmit:o.handleSubmit(h),className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsx(q,{control:o.control,name:"origin",render:({field:f})=>e.jsxs(B,{children:[e.jsxs(V,{className:"flex items-center gap-1",children:[e.jsx(ft,{className:"h-4 w-4"}),"From"]}),e.jsxs(je,{onValueChange:f.onChange,defaultValue:f.value,children:[e.jsx(U,{children:e.jsx(ge,{children:e.jsx(be,{placeholder:"Select origin city"})})}),e.jsx(ve,{children:u.map(p=>e.jsx(O,{value:p,children:p},p))})]}),e.jsx(z,{})]})}),e.jsx(q,{control:o.control,name:"destination",render:({field:f})=>e.jsxs(B,{children:[e.jsxs(V,{className:"flex items-center gap-1",children:[e.jsx(ft,{className:"h-4 w-4"}),"To"]}),e.jsxs(je,{onValueChange:f.onChange,defaultValue:f.value,children:[e.jsx(U,{children:e.jsx(ge,{children:e.jsx(be,{placeholder:"Select destination city"})})}),e.jsx(ve,{children:u.map(p=>e.jsx(O,{value:p,children:p},p))})]}),e.jsx(z,{})]})})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsx(q,{control:o.control,name:"checkIn",render:({field:f})=>e.jsxs(B,{children:[e.jsxs(V,{className:"flex items-center gap-1",children:[e.jsx(Xt,{className:"h-4 w-4"}),"Journey Date"]}),e.jsx(U,{children:e.jsx($,{type:"date",...f,min:a})}),e.jsx(z,{})]})}),e.jsx(q,{control:o.control,name:"passengers",render:({field:f})=>e.jsxs(B,{children:[e.jsxs(V,{className:"flex items-center gap-1",children:[e.jsx(er,{className:"h-4 w-4"}),"Passengers"]}),e.jsx(U,{children:e.jsx($,{type:"number",min:"1",max:"10",...f})}),e.jsx(z,{})]})})]}),e.jsx(q,{control:o.control,name:"amount",render:({field:f})=>e.jsxs(B,{children:[e.jsx(V,{children:"Fare Amount"}),e.jsx(U,{children:e.jsx($,{...f,disabled:!0,className:"bg-neutral-50"})}),!f.value&&e.jsx(T,{type:"button",variant:"outline",size:"sm",onClick:()=>g("bus"),children:"Check Fare"}),e.jsx(z,{})]})}),e.jsx(T,{type:"submit",className:"w-full",disabled:m.isPending||!o.getValues("amount"),children:m.isPending?e.jsxs(e.Fragment,{children:[e.jsx(Ye,{className:"mr-2 h-4 w-4 animate-spin"}),"Processing..."]}):e.jsxs(e.Fragment,{children:["Book Now",e.jsx(Xa,{className:"ml-2 h-4 w-4"})]})})]})})}),e.jsx(Le,{value:"flight",children:e.jsx(Gt,{...o,children:e.jsxs("form",{onSubmit:o.handleSubmit(h),className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsx(q,{control:o.control,name:"origin",render:({field:f})=>e.jsxs(B,{children:[e.jsxs(V,{className:"flex items-center gap-1",children:[e.jsx(ft,{className:"h-4 w-4"}),"From"]}),e.jsxs(je,{onValueChange:f.onChange,defaultValue:f.value,children:[e.jsx(U,{children:e.jsx(ge,{children:e.jsx(be,{placeholder:"Select origin city"})})}),e.jsx(ve,{children:["Chennai","Coimbatore","Madurai","Trichy"].map(p=>e.jsx(O,{value:p,children:p},p))})]}),e.jsx(z,{})]})}),e.jsx(q,{control:o.control,name:"destination",render:({field:f})=>e.jsxs(B,{children:[e.jsxs(V,{className:"flex items-center gap-1",children:[e.jsx(ft,{className:"h-4 w-4"}),"To"]}),e.jsxs(je,{onValueChange:f.onChange,defaultValue:f.value,children:[e.jsx(U,{children:e.jsx(ge,{children:e.jsx(be,{placeholder:"Select destination city"})})}),e.jsx(ve,{children:["Delhi","Mumbai","Bangalore","Hyderabad","Kolkata"].map(p=>e.jsx(O,{value:p,children:p},p))})]}),e.jsx(z,{})]})})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsx(q,{control:o.control,name:"checkIn",render:({field:f})=>e.jsxs(B,{children:[e.jsxs(V,{className:"flex items-center gap-1",children:[e.jsx(Xt,{className:"h-4 w-4"}),"Journey Date"]}),e.jsx(U,{children:e.jsx($,{type:"date",...f,min:a})}),e.jsx(z,{})]})}),e.jsx(q,{control:o.control,name:"passengers",render:({field:f})=>e.jsxs(B,{children:[e.jsxs(V,{className:"flex items-center gap-1",children:[e.jsx(er,{className:"h-4 w-4"}),"Passengers"]}),e.jsx(U,{children:e.jsx($,{type:"number",min:"1",max:"10",...f})}),e.jsx(z,{})]})})]}),e.jsx(q,{control:o.control,name:"amount",render:({field:f})=>e.jsxs(B,{children:[e.jsx(V,{children:"Fare Amount"}),e.jsx(U,{children:e.jsx($,{...f,disabled:!0,className:"bg-neutral-50"})}),!f.value&&e.jsx(T,{type:"button",variant:"outline",size:"sm",onClick:()=>g("flight"),children:"Check Fare"}),e.jsx(z,{})]})}),e.jsx(T,{type:"submit",className:"w-full",disabled:m.isPending||!o.getValues("amount"),children:m.isPending?e.jsxs(e.Fragment,{children:[e.jsx(Ye,{className:"mr-2 h-4 w-4 animate-spin"}),"Processing..."]}):e.jsxs(e.Fragment,{children:["Book Flight",e.jsx(Xa,{className:"ml-2 h-4 w-4"})]})})]})})}),e.jsx(Le,{value:"hotel",children:e.jsx(Gt,{...o,children:e.jsxs("form",{onSubmit:o.handleSubmit(h),className:"space-y-4",children:[e.jsx(q,{control:o.control,name:"origin",render:({field:f})=>e.jsxs(B,{children:[e.jsxs(V,{className:"flex items-center gap-1",children:[e.jsx(ft,{className:"h-4 w-4"}),"City"]}),e.jsxs(je,{onValueChange:f.onChange,defaultValue:f.value,children:[e.jsx(U,{children:e.jsx(ge,{children:e.jsx(be,{placeholder:"Select city"})})}),e.jsx(ve,{children:u.map(p=>e.jsx(O,{value:p,children:p},p))})]}),e.jsx(z,{})]})}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsx(q,{control:o.control,name:"checkIn",render:({field:f})=>e.jsxs(B,{children:[e.jsxs(V,{className:"flex items-center gap-1",children:[e.jsx(Xt,{className:"h-4 w-4"}),"Check-in Date"]}),e.jsx(U,{children:e.jsx($,{type:"date",...f,min:a})}),e.jsx(z,{})]})}),e.jsx(q,{control:o.control,name:"checkOut",render:({field:f})=>e.jsxs(B,{children:[e.jsxs(V,{className:"flex items-center gap-1",children:[e.jsx(Xt,{className:"h-4 w-4"}),"Check-out Date"]}),e.jsx(U,{children:e.jsx($,{type:"date",...f,min:o.getValues("checkIn")||a})}),e.jsx(z,{})]})})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsx(q,{control:o.control,name:"passengers",render:({field:f})=>e.jsxs(B,{children:[e.jsxs(V,{className:"flex items-center gap-1",children:[e.jsx(er,{className:"h-4 w-4"}),"Guests"]}),e.jsx(U,{children:e.jsx($,{type:"number",min:"1",max:"10",...f})}),e.jsx(z,{})]})}),e.jsx(q,{control:o.control,name:"amount",render:({field:f})=>e.jsxs(B,{children:[e.jsx(V,{children:"Room Rate"}),e.jsx(U,{children:e.jsx($,{...f,disabled:!0,className:"bg-neutral-50"})}),!f.value&&e.jsx(T,{type:"button",variant:"outline",size:"sm",onClick:()=>g("hotel"),children:"Check Rate"}),e.jsx(z,{})]})})]}),e.jsx(T,{type:"submit",className:"w-full",disabled:m.isPending||!o.getValues("amount"),children:m.isPending?e.jsxs(e.Fragment,{children:[e.jsx(Ye,{className:"mr-2 h-4 w-4 animate-spin"}),"Processing..."]}):e.jsxs(e.Fragment,{children:["Book Hotel",e.jsx(Xa,{className:"ml-2 h-4 w-4"})]})})]})})})]})})]})}),e.jsx("div",{children:e.jsxs(E,{children:[e.jsxs(Y,{children:[e.jsx(X,{children:"Your Bookings"}),e.jsx(he,{children:"View your recent travel bookings"})]}),e.jsx(D,{children:l?e.jsx("div",{className:"flex justify-center py-8",children:e.jsx(Ye,{className:"h-8 w-8 animate-spin text-primary"})}):i&&i.length>0?e.jsx("div",{className:"space-y-4",children:i.map(f=>e.jsxs("div",{className:"flex items-start border-b border-neutral-200 pb-4 last:border-0",children:[e.jsx("div",{className:`p-2 rounded-full ${f.status==="confirmed"?"bg-green-100 text-green-600":f.status==="cancelled"?"bg-red-100 text-red-600":"bg-yellow-100 text-yellow-600"}`,children:f.bookingType==="bus"?e.jsx(wi,{className:"h-4 w-4"}):f.bookingType==="flight"?e.jsx(gi,{className:"h-4 w-4"}):e.jsx(vn,{className:"h-4 w-4"})}),e.jsxs("div",{className:"ml-3 flex-1",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsxs("p",{className:"text-sm font-medium text-neutral-900",children:[f.bookingType.charAt(0).toUpperCase()+f.bookingType.slice(1)," Booking"]}),e.jsxs("p",{className:"text-sm font-semibold text-neutral-900",children:["",f.amount]})]}),f.bookingType!=="hotel"&&e.jsxs("p",{className:"text-xs text-neutral-500",children:[f.origin," to ",f.destination]}),f.bookingType==="hotel"&&e.jsxs("p",{className:"text-xs text-neutral-500",children:[f.origin," - ",f.checkIn&&cN(f.checkIn)," to ",f.checkOut&&cN(f.checkOut)]}),f.bookingType!=="hotel"&&e.jsxs("p",{className:"text-xs text-neutral-500",children:[f.checkIn&&cN(f.checkIn),f.passengers&&`  ${f.passengers} ${f.passengers===1?"passenger":"passengers"}`]}),e.jsx("div",{className:"mt-1",children:e.jsx("span",{className:`text-xs px-2 py-0.5 rounded-full ${f.status==="confirmed"?"bg-green-100 text-green-600":f.status==="cancelled"?"bg-red-100 text-red-600":"bg-yellow-100 text-yellow-600"}`,children:f.status.charAt(0).toUpperCase()+f.status.slice(1)})})]})]},f.id))}):e.jsxs("div",{className:"text-center py-8",children:[e.jsx(nr,{className:"mx-auto h-8 w-8 text-neutral-400 mb-2"}),e.jsx("p",{className:"text-neutral-500",children:"No bookings found"}),e.jsx("p",{className:"text-xs text-neutral-400 mt-1",children:"Your travel bookings will appear here"})]})}),i&&i.length>5&&e.jsx(mr,{children:e.jsx(T,{variant:"ghost",className:"w-full text-primary",children:"View All Bookings"})})]})})]})]})}const gIe=_.object({itemName:_.string().min(1,"Item name is required"),category:_.enum(["power_tools","construction","cleaning","medical","ornament"]),startDate:_.string().min(1,"Start date is required"),endDate:_.string().min(1,"End date is required"),amount:_.string().min(1,"Amount is required").refine(t=>!isNaN(parseFloat(t))&&parseFloat(t)>0,{message:"Amount must be a positive number"})});function _D(t){const r=new Date(t);return new Intl.DateTimeFormat("en-IN",{year:"numeric",month:"short",day:"numeric"}).format(r)}function dN(t,r){const s=new Date(t),n=new Date(r),a=Math.abs(n.getTime()-s.getTime());return Math.ceil(a/(1e3*60*60*24))}function vIe(){const{user:t}=dt(),{toast:r}=Be(),[s,n]=j.useState("power_tools"),a=new Date().toISOString().split("T")[0],i=new Date;i.setDate(i.getDate()+1);const l=i.toISOString().split("T")[0],{data:o,isLoading:c}=fe({queryKey:["/api/rental"],enabled:!!t}),d=Ht({resolver:Wt(gIe),defaultValues:{itemName:"",category:"power_tools",startDate:a,endDate:l,amount:""}}),u=d.watch("startDate"),m=d.watch("endDate"),h=d.watch("itemName"),g=b=>{n(b),d.setValue("category",b),d.setValue("itemName",""),d.setValue("amount","")},f={power_tools:[{name:"Drill Machine",rate:200},{name:"Circular Saw",rate:250},{name:"Angle Grinder",rate:180},{name:"Jigsaw",rate:220},{name:"Router",rate:260}],construction:[{name:"Concrete Mixer",rate:800},{name:"Scaffolding Set",rate:600},{name:"Tile Cutter",rate:350},{name:"Compactor",rate:700},{name:"Ladder (8ft)",rate:120}],cleaning:[{name:"Pressure Washer",rate:400},{name:"Industrial Vacuum",rate:300},{name:"Floor Polisher",rate:350},{name:"Carpet Cleaner",rate:450},{name:"Steam Cleaner",rate:380}],medical:[{name:"Wheelchair",rate:150},{name:"Hospital Bed",rate:500},{name:"Oxygen Concentrator",rate:700},{name:"Blood Pressure Monitor",rate:80},{name:"Nebulizer",rate:120}],ornament:[{name:"Bridal Jewelry Set",rate:1200},{name:"Wedding Necklace",rate:800},{name:"Traditional Earrings",rate:400},{name:"Designer Bangles",rate:350},{name:"Statement Rings",rate:300}]},p={power_tools:e.jsx(Ns,{className:"h-5 w-5"}),construction:e.jsx(o0,{className:"h-5 w-5"}),cleaning:e.jsx(a0,{className:"h-5 w-5"}),medical:e.jsx(c0,{className:"h-5 w-5"}),ornament:e.jsx(l0,{className:"h-5 w-5"})},y=()=>{if(h&&u&&m){const b=f[s].find(N=>N.name===h);if(b){const N=dN(u,m),w=b.rate*N;d.setValue("amount",w.toString())}}},v=Se({mutationFn:async b=>{const N={...b,amount:parseFloat(b.amount),status:"pending"},C=await(await le("POST","/api/rental",N)).json(),P={serviceType:"rental",amount:parseFloat(b.amount),paymentMethod:"razorpay",serviceData:{itemName:b.itemName,category:b.category,startDate:b.startDate,endDate:b.endDate,rentalId:C.id}},A=await(await le("POST","/api/service-requests",P)).json();return{rental:C,serviceRequest:A}},onSuccess:b=>{r({title:"Rental Successful",description:`Your ${h} has been rented successfully! Service request ${b.serviceRequest.srNumber} has been generated.`}),pe.invalidateQueries({queryKey:["/api/rental"]}),pe.invalidateQueries({queryKey:["/api/wallet"]}),pe.invalidateQueries({queryKey:["/api/service-requests/my-requests"]}),d.reset({itemName:"",category:s,startDate:a,endDate:l,amount:""})},onError:b=>{r({title:"Rental Failed",description:b.message,variant:"destructive"})}});function x(b){v.mutate(b)}return e.jsxs("div",{className:"p-4 sm:p-6 lg:p-8",children:[e.jsxs("div",{className:"mb-6",children:[e.jsx("h2",{className:"text-2xl font-bold text-neutral-900",children:"Rental Services"}),e.jsx("p",{className:"mt-1 text-sm text-neutral-500",children:"Rent tools and equipment for your needs at affordable prices."})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[e.jsx("div",{className:"lg:col-span-2",children:e.jsxs(E,{children:[e.jsxs(Y,{children:[e.jsx(X,{children:"Rent Equipment"}),e.jsx(he,{children:"Select from our wide range of rental items"})]}),e.jsx(D,{children:e.jsxs(rr,{value:s,onValueChange:g,children:[e.jsxs(tr,{className:"grid grid-cols-5 mb-6",children:[e.jsxs(ke,{value:"power_tools",className:"flex flex-col py-2 px-1 h-auto",children:[e.jsx(Ns,{className:"h-5 w-5 mb-1"}),e.jsx("span",{className:"text-xs",children:"Power Tools"})]}),e.jsxs(ke,{value:"construction",className:"flex flex-col py-2 px-1 h-auto",children:[e.jsx(o0,{className:"h-5 w-5 mb-1"}),e.jsx("span",{className:"text-xs",children:"Construction"})]}),e.jsxs(ke,{value:"cleaning",className:"flex flex-col py-2 px-1 h-auto",children:[e.jsx(a0,{className:"h-5 w-5 mb-1"}),e.jsx("span",{className:"text-xs",children:"Cleaning"})]}),e.jsxs(ke,{value:"medical",className:"flex flex-col py-2 px-1 h-auto",children:[e.jsx(c0,{className:"h-5 w-5 mb-1"}),e.jsx("span",{className:"text-xs",children:"Medical"})]}),e.jsxs(ke,{value:"ornament",className:"flex flex-col py-2 px-1 h-auto",children:[e.jsx(l0,{className:"h-5 w-5 mb-1"}),e.jsx("span",{className:"text-xs",children:"Ornaments"})]})]}),Object.keys(f).map(b=>e.jsx(Le,{value:b,children:e.jsx(Gt,{...d,children:e.jsxs("form",{onSubmit:d.handleSubmit(x),className:"space-y-4",children:[e.jsx(q,{control:d.control,name:"itemName",render:({field:N})=>e.jsxs(B,{children:[e.jsxs(V,{className:"flex items-center gap-1",children:[p[b],e.jsx("span",{children:"Select Item"})]}),e.jsxs(je,{onValueChange:w=>{N.onChange(w),setTimeout(y,0)},defaultValue:N.value,children:[e.jsx(U,{children:e.jsx(ge,{children:e.jsx(be,{placeholder:`Select a ${b.replace("_"," ")}`})})}),e.jsx(ve,{children:f[b].map(w=>e.jsxs(O,{value:w.name,children:[w.name," - ",w.rate,"/day"]},w.name))})]}),e.jsx(z,{})]})}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsx(q,{control:d.control,name:"startDate",render:({field:N})=>e.jsxs(B,{children:[e.jsxs(V,{className:"flex items-center gap-1",children:[e.jsx(Xt,{className:"h-4 w-4"}),"Start Date"]}),e.jsx(U,{children:e.jsx($,{type:"date",...N,min:a,onChange:w=>{N.onChange(w),setTimeout(y,0)}})}),e.jsx(z,{})]})}),e.jsx(q,{control:d.control,name:"endDate",render:({field:N})=>e.jsxs(B,{children:[e.jsxs(V,{className:"flex items-center gap-1",children:[e.jsx(Xt,{className:"h-4 w-4"}),"End Date"]}),e.jsx(U,{children:e.jsx($,{type:"date",...N,min:u||a,onChange:w=>{N.onChange(w),setTimeout(y,0)}})}),e.jsx(z,{})]})})]}),e.jsx(q,{control:d.control,name:"amount",render:({field:N})=>{var w;return e.jsxs(B,{children:[e.jsx(V,{children:"Total Rental Amount"}),e.jsx(U,{children:e.jsx($,{...N,disabled:!0,className:"bg-neutral-50"})}),e.jsx(z,{}),h&&u&&m&&!N.value&&e.jsx(T,{type:"button",variant:"outline",size:"sm",onClick:y,children:"Calculate Amount"}),N.value&&e.jsxs("p",{className:"text-xs text-neutral-500 mt-1",children:[dN(u,m)," days  ",((w=f[b].find(C=>C.name===h))==null?void 0:w.rate)||0,"/day"]})]})}}),e.jsx(T,{type:"submit",className:"w-full",disabled:v.isPending||!d.getValues("amount"),children:v.isPending?e.jsxs(e.Fragment,{children:[e.jsx(Ye,{className:"mr-2 h-4 w-4 animate-spin"}),"Processing..."]}):e.jsxs(e.Fragment,{children:["Rent Now",e.jsx(Xa,{className:"ml-2 h-4 w-4"})]})})]})})},b))]})})]})}),e.jsx("div",{children:e.jsxs(E,{children:[e.jsxs(Y,{children:[e.jsx(X,{children:"Your Rentals"}),e.jsx(he,{children:"View your active and past rentals"})]}),e.jsx(D,{children:c?e.jsx("div",{className:"flex justify-center py-8",children:e.jsx(Ye,{className:"h-8 w-8 animate-spin text-primary"})}):o&&o.length>0?e.jsx("div",{className:"space-y-4",children:o.map(b=>e.jsxs("div",{className:"flex items-start border-b border-neutral-200 pb-4 last:border-0",children:[e.jsx("div",{className:`p-2 rounded-full ${b.status==="active"?"bg-green-100 text-green-600":b.status==="cancelled"?"bg-red-100 text-red-600":b.status==="returned"?"bg-blue-100 text-blue-600":"bg-yellow-100 text-yellow-600"}`,children:(()=>{switch(b.category){case"power_tools":return e.jsx(Ns,{className:"h-4 w-4"});case"construction":return e.jsx(o0,{className:"h-4 w-4"});case"cleaning":return e.jsx(a0,{className:"h-4 w-4"});case"medical":return e.jsx(c0,{className:"h-4 w-4"});case"ornament":return e.jsx(l0,{className:"h-4 w-4"});default:return e.jsx(Ns,{className:"h-4 w-4"})}})()}),e.jsxs("div",{className:"ml-3 flex-1",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("p",{className:"text-sm font-medium text-neutral-900",children:b.itemName}),e.jsxs("p",{className:"text-sm font-semibold text-neutral-900",children:["",b.amount]})]}),e.jsxs("p",{className:"text-xs text-neutral-500",children:[_D(b.startDate)," to ",_D(b.endDate)]}),e.jsxs("p",{className:"text-xs text-neutral-500",children:[b.category.charAt(0).toUpperCase()+b.category.slice(1).replace("_"," "),"  ",dN(b.startDate,b.endDate)," days"]}),e.jsx("div",{className:"mt-1",children:e.jsx("span",{className:`text-xs px-2 py-0.5 rounded-full ${b.status==="active"?"bg-green-100 text-green-600":b.status==="cancelled"?"bg-red-100 text-red-600":b.status==="returned"?"bg-blue-100 text-blue-600":"bg-yellow-100 text-yellow-600"}`,children:b.status.charAt(0).toUpperCase()+b.status.slice(1)})})]}),b.status==="active"&&e.jsx(T,{variant:"outline",size:"sm",className:"ml-2 text-xs h-8",children:"Return"})]},b.id))}):e.jsxs("div",{className:"text-center py-8",children:[e.jsx(nr,{className:"mx-auto h-8 w-8 text-neutral-400 mb-2"}),e.jsx("p",{className:"text-neutral-500",children:"No rentals found"}),e.jsx("p",{className:"text-xs text-neutral-400 mt-1",children:"Your rental history will appear here"})]})}),o&&o.length>5&&e.jsx(mr,{children:e.jsx(T,{variant:"ghost",className:"w-full text-primary",children:"View All Rentals"})})]})})]})]})}const yIe=_.object({pickup:_.string().min(1,"Pickup location is required"),dropoff:_.string().min(1,"Dropoff location is required"),distance:_.string().min(1,"Distance is required").refine(t=>!isNaN(parseFloat(t))&&parseFloat(t)>0,{message:"Distance must be a positive number"}),amount:_.string().min(1,"Amount is required").refine(t=>!isNaN(parseFloat(t))&&parseFloat(t)>0,{message:"Amount must be a positive number"})});function jIe(t){const r=new Date(t);return new Intl.DateTimeFormat("en-IN",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}).format(r)}function bIe(){const{user:t}=dt(),{toast:r}=Be(),[s,n]=j.useState("regular"),{data:a,isLoading:i}=fe({queryKey:["/api/taxi"],enabled:!!t}),l=Ht({resolver:Wt(yIe),defaultValues:{pickup:"",dropoff:"",distance:"",amount:""}}),o=["Chennai Central","T Nagar","Anna Nagar","Adyar","Velachery","Tambaram","Guindy","Mylapore","Egmore","Porur","Vadapalani","Nungambakkam","Besant Nagar","Royapettah","Teynampet"],c=l.watch("distance"),d=()=>{if(c){const h=parseFloat(c);let g=0;switch(s){case"regular":g=12;break;case"premium":g=18;break;case"suv":g=22;break;default:g=12}const p=40+h*g;l.setValue("amount",p.toFixed(2))}},u=Se({mutationFn:async h=>{const g={...h,distance:parseFloat(h.distance),amount:parseFloat(h.amount),status:"pending"};return await(await le("POST","/api/taxi",g)).json()},onSuccess:()=>{r({title:"Taxi Booked Successfully",description:`Your ride from ${l.getValues("pickup")} to ${l.getValues("dropoff")} has been confirmed.`}),pe.invalidateQueries({queryKey:["/api/taxi"]}),pe.invalidateQueries({queryKey:["/api/wallet"]}),l.reset({pickup:"",dropoff:"",distance:"",amount:""})},onError:h=>{r({title:"Booking Failed",description:h.message,variant:"destructive"})}});function m(h){u.mutate(h)}return e.jsxs("div",{className:"p-4 sm:p-6 lg:p-8",children:[e.jsxs("div",{className:"mb-6",children:[e.jsx("h2",{className:"text-2xl font-bold text-neutral-900",children:"Taxi Services"}),e.jsx("p",{className:"mt-1 text-sm text-neutral-500",children:"Book taxis for your travel needs within Tamil Nadu."})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[e.jsx("div",{className:"lg:col-span-2",children:e.jsxs(E,{children:[e.jsxs(Y,{children:[e.jsx(X,{children:"Book a Ride"}),e.jsx(he,{children:"Choose your cab type and enter journey details"})]}),e.jsx(D,{children:e.jsxs(rr,{value:s,onValueChange:h=>{n(h),c&&setTimeout(d,0)},children:[e.jsxs(tr,{className:"grid grid-cols-3 mb-6",children:[e.jsxs(ke,{value:"regular",className:"flex items-center gap-2",children:[e.jsx(_t,{className:"h-4 w-4"}),e.jsx("span",{children:"Regular"})]}),e.jsxs(ke,{value:"premium",className:"flex items-center gap-2",children:[e.jsx(_t,{className:"h-4 w-4"}),e.jsx("span",{children:"Premium"})]}),e.jsxs(ke,{value:"suv",className:"flex items-center gap-2",children:[e.jsx(_t,{className:"h-4 w-4"}),e.jsx("span",{children:"SUV"})]})]}),["regular","premium","suv"].map(h=>e.jsxs(Le,{value:h,children:[e.jsx("div",{className:"bg-primary/5 rounded-lg p-4 mb-6",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"p-3 rounded-full bg-primary/10 text-primary",children:e.jsx(_t,{className:"h-5 w-5"})}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium text-primary",children:h==="regular"?"Regular Cab":h==="premium"?"Premium Sedan":"SUV"}),e.jsx("p",{className:"text-xs text-neutral-600",children:h==="regular"?"Affordable rides for daily travel":h==="premium"?"Comfortable sedans for a premium experience":"Spacious SUVs for family and group travel"})]}),e.jsxs("div",{className:"ml-auto text-right",children:[e.jsxs("p",{className:"text-sm font-medium text-neutral-900",children:["",h==="regular"?"12":h==="premium"?"18":"22","/km"]}),e.jsx("p",{className:"text-xs text-neutral-500",children:"+ 40 base fare"})]})]})}),e.jsx(Gt,{...l,children:e.jsxs("form",{onSubmit:l.handleSubmit(m),className:"space-y-4",children:[e.jsx(q,{control:l.control,name:"pickup",render:({field:g})=>e.jsxs(B,{children:[e.jsxs(V,{className:"flex items-center gap-1",children:[e.jsx(ft,{className:"h-4 w-4"}),"Pickup Location"]}),e.jsxs("div",{className:"relative",children:[e.jsx(U,{children:e.jsxs(je,{onValueChange:g.onChange,defaultValue:g.value,children:[e.jsx(ge,{className:"pl-9",children:e.jsx(be,{placeholder:"Enter pickup location"})}),e.jsx(ve,{children:o.map(f=>e.jsx(O,{value:f,children:f},f))})]})}),e.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:e.jsx(ft,{className:"h-4 w-4 text-neutral-400"})})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx(z,{}),e.jsxs(T,{type:"button",variant:"ghost",size:"sm",className:"h-6 px-2 text-xs flex items-center gap-1 text-primary",children:[e.jsx(YX,{className:"h-3 w-3"}),"Current Location"]})]})]})}),e.jsx(q,{control:l.control,name:"dropoff",render:({field:g})=>e.jsxs(B,{children:[e.jsxs(V,{className:"flex items-center gap-1",children:[e.jsx(ft,{className:"h-4 w-4"}),"Dropoff Location"]}),e.jsxs("div",{className:"relative",children:[e.jsx(U,{children:e.jsxs(je,{onValueChange:g.onChange,defaultValue:g.value,children:[e.jsx(ge,{className:"pl-9",children:e.jsx(be,{placeholder:"Enter dropoff location"})}),e.jsx(ve,{children:o.map(f=>e.jsx(O,{value:f,children:f},f))})]})}),e.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:e.jsx(ft,{className:"h-4 w-4 text-neutral-400"})})]}),e.jsx(z,{})]})}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsx(q,{control:l.control,name:"distance",render:({field:g})=>e.jsxs(B,{children:[e.jsx(V,{children:"Distance (km)"}),e.jsx(U,{children:e.jsx($,{type:"number",min:"1",step:"0.1",...g,onChange:f=>{g.onChange(f),setTimeout(d,0)}})}),e.jsx(z,{})]})}),e.jsx(q,{control:l.control,name:"amount",render:({field:g})=>e.jsxs(B,{children:[e.jsx(V,{children:"Estimated Fare"}),e.jsx(U,{children:e.jsx($,{...g,disabled:!0,className:"bg-neutral-50"})}),e.jsx(z,{})]})})]}),e.jsx(T,{type:"submit",className:"w-full",disabled:u.isPending||!l.getValues("amount"),children:u.isPending?e.jsxs(e.Fragment,{children:[e.jsx(Ye,{className:"mr-2 h-4 w-4 animate-spin"}),"Processing..."]}):e.jsxs(e.Fragment,{children:["Book Taxi",e.jsx(Xa,{className:"ml-2 h-4 w-4"})]})})]})})]},h))]})})]})}),e.jsx("div",{children:e.jsxs(E,{children:[e.jsxs(Y,{children:[e.jsx(X,{children:"Your Rides"}),e.jsx(he,{children:"View your recent taxi bookings"})]}),e.jsx(D,{children:i?e.jsx("div",{className:"flex justify-center py-8",children:e.jsx(Ye,{className:"h-8 w-8 animate-spin text-primary"})}):a&&a.length>0?e.jsx("div",{className:"space-y-4",children:a.map(h=>e.jsxs("div",{className:"flex items-start border-b border-neutral-200 pb-4 last:border-0",children:[e.jsx("div",{className:`p-2 rounded-full ${h.status==="completed"?"bg-green-100 text-green-600":h.status==="cancelled"?"bg-red-100 text-red-600":h.status==="active"?"bg-blue-100 text-blue-600":"bg-yellow-100 text-yellow-600"}`,children:e.jsx(_t,{className:"h-4 w-4"})}),e.jsxs("div",{className:"ml-3 flex-1",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("p",{className:"text-sm font-medium text-neutral-900",children:"Taxi Ride"}),e.jsxs("p",{className:"text-sm font-semibold text-neutral-900",children:["",h.amount]})]}),e.jsxs("p",{className:"text-xs text-neutral-500",children:[h.pickup,"  ",h.dropoff]}),e.jsxs("p",{className:"text-xs text-neutral-500",children:[jIe(h.createdAt),"  ",h.distance," km"]}),e.jsx("div",{className:"mt-1",children:e.jsx("span",{className:`text-xs px-2 py-0.5 rounded-full ${h.status==="completed"?"bg-green-100 text-green-600":h.status==="cancelled"?"bg-red-100 text-red-600":h.status==="active"?"bg-blue-100 text-blue-600":"bg-yellow-100 text-yellow-600"}`,children:h.status.charAt(0).toUpperCase()+h.status.slice(1)})})]}),h.status==="active"&&e.jsx("div",{className:"ml-2",children:e.jsx(T,{variant:"outline",size:"sm",className:"text-xs h-8 px-2",children:"Track"})})]},h.id))}):e.jsxs("div",{className:"text-center py-8",children:[e.jsx(nr,{className:"mx-auto h-8 w-8 text-neutral-400 mb-2"}),e.jsx("p",{className:"text-neutral-500",children:"No rides found"}),e.jsx("p",{className:"text-xs text-neutral-400 mt-1",children:"Your taxi bookings will appear here"})]})}),a&&a.length>5&&e.jsx(mr,{children:e.jsx(T,{variant:"ghost",className:"w-full text-primary",children:"View All Rides"})})]})})]})]})}const NIe=_.object({pickupAddress:_.string().min(1,"Pickup address is required"),deliveryAddress:_.string().min(1,"Delivery address is required"),packageDetails:_.string().min(1,"Package details are required"),amount:_.string().min(1,"Amount is required").refine(t=>!isNaN(parseFloat(t))&&parseFloat(t)>0,{message:"Amount must be a positive number"})});function wIe(t){const r=new Date(t);return new Intl.DateTimeFormat("en-IN",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}).format(r)}function SIe(t){switch(t){case"pending":return e.jsx(gt,{className:"h-4 w-4"});case"picked_up":return e.jsx(pt,{className:"h-4 w-4"});case"in_transit":return e.jsx(_n,{className:"h-4 w-4"});case"delivered":return e.jsx(Is,{className:"h-4 w-4"});case"cancelled":return e.jsx(nr,{className:"h-4 w-4"});default:return e.jsx(pt,{className:"h-4 w-4"})}}function TD(t){switch(t){case"pending":return"bg-yellow-100 text-yellow-600";case"picked_up":return"bg-blue-100 text-blue-600";case"in_transit":return"bg-purple-100 text-purple-600";case"delivered":return"bg-green-100 text-green-600";case"cancelled":return"bg-red-100 text-red-600";default:return"bg-yellow-100 text-yellow-600"}}function CIe(){const{user:t}=dt(),{toast:r}=Be(),[s,n]=j.useState("standard"),{data:a,isLoading:i}=fe({queryKey:["/api/delivery"],enabled:!!t}),l=Ht({resolver:Wt(NIe),defaultValues:{pickupAddress:"",deliveryAddress:"",packageDetails:"",amount:""}}),o=()=>{const u=l.getValues("pickupAddress"),m=l.getValues("deliveryAddress");if(u&&m){let h=80;switch(s){case"express":h+=60;break;case"premium":h+=120;break}const f=(Math.floor(Math.random()*20)+5)*5,p=h+f;l.setValue("amount",p.toString())}},c=Se({mutationFn:async u=>{const m={...u,amount:parseFloat(u.amount),status:"pending"};return await(await le("POST","/api/delivery",m)).json()},onSuccess:()=>{r({title:"Delivery Request Successful",description:"Your package delivery request has been confirmed."}),pe.invalidateQueries({queryKey:["/api/delivery"]}),pe.invalidateQueries({queryKey:["/api/wallet"]}),l.reset({pickupAddress:"",deliveryAddress:"",packageDetails:"",amount:""})},onError:u=>{r({title:"Delivery Request Failed",description:u.message,variant:"destructive"})}});function d(u){c.mutate(u)}return e.jsxs("div",{className:"p-4 sm:p-6 lg:p-8",children:[e.jsxs("div",{className:"mb-6",children:[e.jsx("h2",{className:"text-2xl font-bold text-neutral-900",children:"Delivery Management"}),e.jsx("p",{className:"mt-1 text-sm text-neutral-500",children:"Manage package deliveries across Tamil Nadu at affordable rates."})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[e.jsx("div",{className:"lg:col-span-2",children:e.jsxs(E,{children:[e.jsxs(Y,{children:[e.jsx(X,{children:"Schedule a Delivery"}),e.jsx(he,{children:"Provide details for your package delivery"})]}),e.jsxs(D,{children:[e.jsxs("div",{className:"grid grid-cols-3 gap-4 mb-6",children:[e.jsx("div",{className:`p-4 border rounded-lg cursor-pointer ${s==="standard"?"border-primary bg-primary/5":"border-neutral-200"}`,onClick:()=>n("standard"),children:e.jsxs("div",{className:"flex flex-col items-center text-center",children:[e.jsx(_n,{className:`h-6 w-6 mb-2 ${s==="standard"?"text-primary":"text-neutral-500"}`}),e.jsx("h3",{className:`text-sm font-medium ${s==="standard"?"text-primary":"text-neutral-700"}`,children:"Standard"}),e.jsx("p",{className:"text-xs text-neutral-500 mt-1",children:"24-48 hours"})]})}),e.jsx("div",{className:`p-4 border rounded-lg cursor-pointer ${s==="express"?"border-primary bg-primary/5":"border-neutral-200"}`,onClick:()=>n("express"),children:e.jsxs("div",{className:"flex flex-col items-center text-center",children:[e.jsx(rZ,{className:`h-6 w-6 mb-2 ${s==="express"?"text-primary":"text-neutral-500"}`}),e.jsx("h3",{className:`text-sm font-medium ${s==="express"?"text-primary":"text-neutral-700"}`,children:"Express"}),e.jsx("p",{className:"text-xs text-neutral-500 mt-1",children:"12-24 hours"})]})}),e.jsx("div",{className:`p-4 border rounded-lg cursor-pointer ${s==="premium"?"border-primary bg-primary/5":"border-neutral-200"}`,onClick:()=>n("premium"),children:e.jsxs("div",{className:"flex flex-col items-center text-center",children:[e.jsx(FX,{className:`h-6 w-6 mb-2 ${s==="premium"?"text-primary":"text-neutral-500"}`}),e.jsx("h3",{className:`text-sm font-medium ${s==="premium"?"text-primary":"text-neutral-700"}`,children:"Premium"}),e.jsx("p",{className:"text-xs text-neutral-500 mt-1",children:"6-12 hours"})]})})]}),e.jsx(Gt,{...l,children:e.jsxs("form",{onSubmit:l.handleSubmit(d),className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsx(q,{control:l.control,name:"pickupAddress",render:({field:u})=>e.jsxs(B,{children:[e.jsxs(V,{className:"flex items-center gap-1",children:[e.jsx(ft,{className:"h-4 w-4"}),"Pickup Address"]}),e.jsx(U,{children:e.jsx(at,{...u,placeholder:"Enter complete pickup address",className:"resize-none min-h-[100px]",onChange:m=>{u.onChange(m),l.getValues("deliveryAddress")&&o()}})}),e.jsx(z,{})]})}),e.jsx(q,{control:l.control,name:"deliveryAddress",render:({field:u})=>e.jsxs(B,{children:[e.jsxs(V,{className:"flex items-center gap-1",children:[e.jsx(ft,{className:"h-4 w-4"}),"Delivery Address"]}),e.jsx(U,{children:e.jsx(at,{...u,placeholder:"Enter complete delivery address",className:"resize-none min-h-[100px]",onChange:m=>{u.onChange(m),l.getValues("pickupAddress")&&o()}})}),e.jsx(z,{})]})})]}),e.jsx(q,{control:l.control,name:"packageDetails",render:({field:u})=>e.jsxs(B,{children:[e.jsxs(V,{className:"flex items-center gap-1",children:[e.jsx(pt,{className:"h-4 w-4"}),"Package Details"]}),e.jsx(U,{children:e.jsx(at,{...u,placeholder:"Describe the package contents, dimensions, and weight",className:"resize-none"})}),e.jsx(z,{})]})}),e.jsx(q,{control:l.control,name:"amount",render:({field:u})=>e.jsxs(B,{children:[e.jsxs(V,{className:"flex items-center gap-1",children:[e.jsx(e$,{className:"h-4 w-4"}),"Delivery Charges"]}),e.jsx(U,{children:e.jsx($,{...u,disabled:!0,className:"bg-neutral-50"})}),e.jsx(z,{}),!u.value&&l.getValues("pickupAddress")&&l.getValues("deliveryAddress")&&e.jsx(T,{type:"button",variant:"outline",size:"sm",onClick:o,children:"Calculate Charges"})]})}),e.jsx(T,{type:"submit",className:"w-full",disabled:c.isPending||!l.getValues("amount"),children:c.isPending?e.jsxs(e.Fragment,{children:[e.jsx(Ye,{className:"mr-2 h-4 w-4 animate-spin"}),"Processing..."]}):e.jsxs(e.Fragment,{children:["Schedule Delivery",e.jsx(Xa,{className:"ml-2 h-4 w-4"})]})})]})})]})]})}),e.jsx("div",{children:e.jsxs(E,{children:[e.jsxs(Y,{children:[e.jsx(X,{children:"Your Deliveries"}),e.jsx(he,{children:"Track your package delivery status"})]}),e.jsx(D,{children:i?e.jsx("div",{className:"flex justify-center py-8",children:e.jsx(Ye,{className:"h-8 w-8 animate-spin text-primary"})}):a&&a.length>0?e.jsx("div",{className:"space-y-4",children:a.map(u=>e.jsxs("div",{className:"border border-neutral-200 rounded-lg overflow-hidden",children:[e.jsx("div",{className:"p-4 border-b border-neutral-200",children:e.jsxs("div",{className:"flex justify-between items-start",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:`p-2 rounded-full ${TD(u.status)}`,children:SIe(u.status)}),e.jsxs("div",{className:"ml-3",children:[e.jsxs("p",{className:"text-sm font-medium text-neutral-900",children:["Delivery #",u.id.toString().padStart(5,"0")]}),e.jsx("p",{className:"text-xs text-neutral-500",children:wIe(u.createdAt)})]})]}),e.jsxs("div",{className:"text-right",children:[e.jsxs("p",{className:"text-sm font-semibold text-neutral-900",children:["",u.amount]}),e.jsx("span",{className:`text-xs px-2 py-0.5 rounded-full ${TD(u.status)}`,children:u.status.split("_").map(m=>m.charAt(0).toUpperCase()+m.slice(1)).join(" ")})]})]})}),e.jsxs("div",{className:"p-4 bg-neutral-50 text-xs",children:[e.jsxs("div",{className:"flex items-start mb-2",children:[e.jsx(ft,{className:"h-4 w-4 text-neutral-500 mr-2 mt-0.5"}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-neutral-700",children:"Pickup Address:"}),e.jsx("p",{className:"text-neutral-600",children:u.pickupAddress})]})]}),e.jsxs("div",{className:"flex items-start mb-2",children:[e.jsx(ft,{className:"h-4 w-4 text-neutral-500 mr-2 mt-0.5"}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-neutral-700",children:"Delivery Address:"}),e.jsx("p",{className:"text-neutral-600",children:u.deliveryAddress})]})]}),e.jsxs("div",{className:"flex items-start",children:[e.jsx(r$,{className:"h-4 w-4 text-neutral-500 mr-2 mt-0.5"}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-neutral-700",children:"Package Details:"}),e.jsx("p",{className:"text-neutral-600",children:u.packageDetails})]})]})]}),(u.status==="picked_up"||u.status==="in_transit")&&e.jsx("div",{className:"p-3 bg-white border-t border-neutral-200 flex justify-end",children:e.jsx(T,{variant:"outline",size:"sm",className:"h-8 text-xs",children:"Track Package"})})]},u.id))}):e.jsxs("div",{className:"text-center py-8",children:[e.jsx(nr,{className:"mx-auto h-8 w-8 text-neutral-400 mb-2"}),e.jsx("p",{className:"text-neutral-500",children:"No deliveries found"}),e.jsx("p",{className:"text-xs text-neutral-400 mt-1",children:"Your delivery history will appear here"})]})}),a&&a.length>3&&e.jsx(mr,{children:e.jsx(T,{variant:"ghost",className:"w-full text-primary",children:"View All Deliveries"})})]})})]})]})}const Py={1:[{id:1,name:"Apples",imageUrl:"/api/svg/fallback/apple",parentCategoryId:1},{id:2,name:"Bananas",imageUrl:"/api/svg/fallback/banana",parentCategoryId:1},{id:3,name:"Oranges",imageUrl:"/api/svg/fallback/orange",parentCategoryId:1},{id:4,name:"Berries",imageUrl:"/api/svg/fallback/berry",parentCategoryId:1}],2:[{id:8,name:"Leafy Greens",imageUrl:"/api/svg/fallback/leafy-green",parentCategoryId:2},{id:9,name:"Root Vegetables",imageUrl:"/api/svg/fallback/root-vegetable",parentCategoryId:2},{id:10,name:"Gourds",imageUrl:"/api/svg/fallback/gourd",parentCategoryId:2}],3:[{id:12,name:"Rice",imageUrl:"/api/svg/fallback/rice",parentCategoryId:3},{id:13,name:"Wheat",imageUrl:"/api/svg/fallback/wheat",parentCategoryId:3},{id:14,name:"Millets",imageUrl:"/api/svg/fallback/millet",parentCategoryId:3}],4:[{id:5,name:"Coconut oil",imageUrl:"/uploads/fallback/coconut-oil.svg",parentCategoryId:4},{id:6,name:"Groundnut oil",imageUrl:"/uploads/fallback/groundnut-oil.svg",parentCategoryId:4},{id:7,name:"Olive oil",imageUrl:"/uploads/fallback/olive-oil.svg",parentCategoryId:4},{id:11,name:"Palm oil",imageUrl:"/uploads/fallback/palm-oil.svg",parentCategoryId:4}]};async function OD(t){try{console.log(` [CategoryHelper] Directly fetching subcategories for category ${t} from dedicated endpoint...`);const r=new Date().getTime(),s=`/api/grocery/subcategories-public?parentCategoryId=${t}&_=${r}`;console.log(` [CategoryHelper] Making request to: ${s}`);const n=await fetch(s,{headers:{Accept:"application/json","Cache-Control":"no-cache, no-store, must-revalidate",Pragma:"no-cache"}});if(console.log(` [CategoryHelper] API response status: ${n.status}`),!n.ok)throw new Error(`API returned ${n.status}`);const a=await n.json();if(console.log(" [CategoryHelper] Raw API response data:",a),Array.isArray(a)&&a.length>0)return console.log(` [CategoryHelper] Found ${a.length} subcategories for category ${t} from API`),pe.setQueryData(["/api/grocery/subcategories",t.toString()],a),pe.setQueryData(["/api/grocery/subcategories",Number(t)],a),typeof window<"u"&&(window.subcategoriesMap||(window.subcategoriesMap={}),window.subcategoriesMap[t]=a,console.log(` [CategoryHelper] Updated global window.subcategoriesMap[${t}]`)),a;{console.warn(` [CategoryHelper] API returned empty or invalid subcategories data for category ${t}`);const i=Py[t.toString()]||[];return console.log(" [CategoryHelper] Using fallback data:",i),i}}catch(r){console.error(` [CategoryHelper] Error fetching subcategories for category ${t}: ${r}`);const s=Py[t.toString()]||[];return console.log(" [CategoryHelper] Using fallback data after error:",s),s}}async function FS(){try{console.log(" [CategoryHelper] Directly fetching oil subcategories from dedicated endpoint to bypass caching...");const t=new Date().getTime(),r=await fetch(`/api/grocery/subcategories-public?parentCategoryId=4&_=${t}`,{headers:{Accept:"application/json","Cache-Control":"no-cache, no-store, must-revalidate",Pragma:"no-cache"}});if(!r.ok)throw new Error(`API returned ${r.status}`);const s=await r.json();return Array.isArray(s)&&s.length>0?(console.log(` [CategoryHelper] Found ${s.length} oil subcategories from API`),pe.setQueryData(["/api/grocery/subcategories","4"],s),pe.setQueryData(["/api/grocery/subcategories",4],s),typeof window<"u"&&(window.oilSubcategories=s,window.subcategoriesMap||(window.subcategoriesMap={}),window.subcategoriesMap[4]=s),s):(console.warn(" [CategoryHelper] API returned empty or invalid oil subcategories data"),Py[4]||[])}catch(t){return console.error(` [CategoryHelper] Error fetching oil subcategories: ${t}`),Py[4]||[]}}function PIe({onSelectSubcategory:t,activeSubcategory:r,isVisible:s}){j.useEffect(()=>{s&&FS().then(i=>{console.log(" Oil subcategories prefetched for display:",i.length)}).catch(i=>{console.error("Failed to prefetch oil subcategories:",i)})},[s]);const{data:n=[],isLoading:a}=fe({queryKey:["/api/grocery/subcategories","4"],enabled:s});return s?e.jsxs("div",{className:"mb-6",children:[e.jsx("h2",{className:"text-xl font-semibold mb-3",children:"Oil Types"}),e.jsx("p",{className:"text-gray-500 mb-4",children:"Select an oil type to see products from that category:"}),a?e.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-4",children:[1,2,3,4].map(i=>e.jsxs(E,{className:"p-4 h-32 animate-pulse",children:[e.jsx("div",{className:"w-12 h-12 bg-gray-200 rounded-full mb-2"}),e.jsx("div",{className:"h-4 bg-gray-200 rounded w-2/3 mb-2"}),e.jsx("div",{className:"h-3 bg-gray-100 rounded w-1/2"})]},i))}):e.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-4",children:n.map(i=>{const l=r===i.id.toString();let o="bg-gray-50",c="";const d=i.name.toLowerCase();return d.includes("coconut")?(o="bg-amber-50",c=""):d.includes("groundnut")||d.includes("peanut")?(o="bg-yellow-50",c=""):d.includes("olive")?(o="bg-green-50",c=""):d.includes("palm")&&(o="bg-orange-50",c=""),e.jsxs(E,{className:`p-4 cursor-pointer transition-all hover:shadow-md ${l?"ring-2 ring-primary/70 shadow-sm":""}`,onClick:()=>t(l?null:i.id.toString()),children:[e.jsxs("div",{className:"flex items-center mb-2",children:[e.jsx("div",{className:`w-12 h-12 ${o} flex items-center justify-center rounded-full text-2xl`,children:c}),e.jsx("div",{className:`ml-2 font-medium ${l?"text-primary":"text-gray-800"}`,children:i.name})]}),e.jsxs("p",{className:"text-xs text-gray-500",children:["Select to see all ",i.name.toLowerCase()," products"]}),l&&e.jsx("div",{className:"mt-2 text-xs text-primary",children:" Currently viewing"})]},i.id)})})]}):null}const ED={1:[{id:"1",name:"Apples",displayColor:"bg-red-100"},{id:"2",name:"Bananas",displayColor:"bg-yellow-100"},{id:"3",name:"Oranges",displayColor:"bg-orange-100"},{id:"4",name:"Berries",displayColor:"bg-purple-100"}],2:[{id:"8",name:"Leafy Greens",displayColor:"bg-green-100"},{id:"9",name:"Root Vegetables",displayColor:"bg-orange-100"},{id:"10",name:"Gourds",displayColor:"bg-green-100"}],3:[{id:"12",name:"Rice",displayColor:"bg-amber-100"},{id:"13",name:"Wheat",displayColor:"bg-amber-200"},{id:"14",name:"Millets",displayColor:"bg-yellow-100"}],4:[{id:"5",name:"Coconut Oil",displayColor:"bg-amber-100"},{id:"6",name:"Groundnut Oil",displayColor:"bg-yellow-100"},{id:"7",name:"Olive Oil",displayColor:"bg-green-100"},{id:"11",name:"Palm Oil",displayColor:"bg-orange-100"}]};function $S({categoryId:t,onSelect:r,activeSubcategory:s}){const[n,a]=j.useState([]);return j.useEffect(()=>{const i=t==null?void 0:t.toString();i&&ED[i]?(console.log(` Using hardcoded subcategories for category ${t}`),a(ED[i])):(console.log(` No hardcoded subcategories for category ${t}`),a([]))},[t]),!t||n.length===0?e.jsx("p",{className:"text-sm text-gray-500 p-2",children:"No subcategories available"}):e.jsx("div",{className:"space-y-2",children:n.map(i=>{const l=s===i.id.toString();return e.jsxs("button",{onClick:()=>r(l?null:i.id.toString()),className:`w-full flex items-center p-3 rounded-md transition-all
              ${l?"ring-1 ring-primary shadow-sm bg-primary/5":`${i.displayColor||"bg-gray-100"} hover:brightness-95`}
            `,children:[e.jsxs("div",{className:"flex-1 text-left",children:[e.jsx("p",{className:`font-medium ${l?"text-primary":""}`,children:i.name}),e.jsx("p",{className:"text-xs text-gray-500",children:"Select to view products"})]}),l&&e.jsx("div",{className:"flex-shrink-0 text-primary",children:""})]},i.id)})})}function nh(t){return t?t===4||t==="4":!1}const kIe=OC,AIe=EC,_Ie=DC,CK=j.forwardRef(({className:t,...r},s)=>e.jsx(Cf,{className:Oe("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...r,ref:s}));CK.displayName=Cf.displayName;const TIe=im("fixed z-50 gap-4 bg-background p-6 shadow-lg transition ease-in-out data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:duration-300 data-[state=open]:duration-500",{variants:{side:{top:"inset-x-0 top-0 border-b data-[state=closed]:slide-out-to-top data-[state=open]:slide-in-from-top",bottom:"inset-x-0 bottom-0 border-t data-[state=closed]:slide-out-to-bottom data-[state=open]:slide-in-from-bottom",left:"inset-y-0 left-0 h-full w-3/4 border-r data-[state=closed]:slide-out-to-left data-[state=open]:slide-in-from-left sm:max-w-sm",right:"inset-y-0 right-0 h-full w-3/4  border-l data-[state=closed]:slide-out-to-right data-[state=open]:slide-in-from-right sm:max-w-sm"}},defaultVariants:{side:"right"}}),PK=j.forwardRef(({side:t="right",className:r,children:s,...n},a)=>e.jsxs(_Ie,{children:[e.jsx(CK,{}),e.jsxs(Pf,{ref:a,className:Oe(TIe({side:t}),r),...n,children:[s,e.jsxs(_f,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-secondary",children:[e.jsx(ws,{className:"h-4 w-4"}),e.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));PK.displayName=Pf.displayName;const OIe=j.forwardRef(({className:t,...r},s)=>e.jsx(kf,{ref:s,className:Oe("text-lg font-semibold text-foreground",t),...r}));OIe.displayName=kf.displayName;const EIe=j.forwardRef(({className:t,...r},s)=>e.jsx(Af,{ref:s,className:Oe("text-sm text-muted-foreground",t),...r}));EIe.displayName=Af.displayName;const uN=[{src:"https://placehold.co/800x300/e4f2ff/0f59aa?text=Fresh+Groceries",alt:"Fresh groceries banner"},{src:"https://placehold.co/800x300/fcf4e6/ce7316?text=Organic+Products",alt:"Organic products banner"},{src:"https://placehold.co/800x300/f0f9e8/367c2b?text=Local+Produce",alt:"Local produce banner"}],DD=[{id:1,name:"Fresh Tomatoes",category:1,price:40,originalPrice:50,organic:!0,district:"Chennai"},{id:2,name:"Bananas",category:2,price:60,originalPrice:60,organic:!1,district:"Coimbatore"},{id:3,name:"Organic Spinach",category:1,price:35,originalPrice:45,organic:!0,district:"Madurai"},{id:4,name:"Coconut Oil",category:4,subcategory:5,price:150,originalPrice:180,organic:!1,district:"Thanjavur"},{id:5,name:"Groundnut Oil",category:4,subcategory:6,price:120,originalPrice:135,organic:!1,district:"Tiruchirappalli"},{id:6,name:"Olive Oil",category:4,subcategory:7,price:350,originalPrice:350,organic:!0,district:"Chennai"},{id:7,name:"White Rice",category:3,price:65,originalPrice:70,organic:!1,district:"Coimbatore"},{id:8,name:"Brown Rice",category:3,price:75,originalPrice:85,organic:!0,district:"Madurai"}];function MD(){var Ie,Te;dt();const{toast:t}=Be(),[r,s]=xr(),[n,a]=j.useState("all"),[i,l]=j.useState(null),[o,c]=j.useState(""),[d,u]=j.useState([]),[m,h]=j.useState(0),[g,f]=j.useState(!1),[p,y]=j.useState("featured"),[v,x]=j.useState(!1),[b,N]=j.useState([]);j.useEffect(()=>{const de=localStorage.getItem("groceryCart");if(de)try{u(JSON.parse(de))}catch(De){console.error("Failed to parse saved cart",De)}const Ee=setInterval(()=>{h(De=>(De+1)%uN.length)},5e3);return()=>clearInterval(Ee)},[]),j.useEffect(()=>{localStorage.setItem("groceryCart",JSON.stringify(d))},[d]);const[w,C]=j.useState({}),P=de=>(console.log(` Loading subcategories for category ${de}...`),OD(de).then(Ee=>(console.log(` Loaded ${Ee.length} subcategories for category ${de}`),C(De=>({...De,[de]:Ee})),Ee)).catch(Ee=>(console.error(` Failed to load subcategories for category ${de}:`,Ee),null)));j.useEffect(()=>{console.log(" Loading all subcategories on page load");const de=[1,2,3,4];setTimeout(()=>{Promise.all(de.map(Ee=>P(Ee))).then(Ee=>{console.log(` Preloaded subcategories for ${de.length} categories`),typeof window<"u"&&(window.refreshSubcategories=De=>(P(De),`Refreshed subcategories for category ${De}`))})},500)},[]),j.useEffect(()=>{nh(n)&&(console.log(" Oils category selected - fetching subcategories directly"),FS().then(de=>{console.log(` Successfully loaded ${de.length} oil subcategories`),n!=="4"&&a("4")}).catch(de=>{console.error(" Error loading oil subcategories:",de)}))},[n]);const{data:S=[],isLoading:A}=fe({queryKey:["/api/grocery/categories"],enabled:!0}),{data:k=[],isLoading:I}=fe({queryKey:["/api/grocery/subcategories",n],enabled:n!=="all"&&n!=="organic"}),L=()=>{a("all"),l(null),c(""),y("featured"),x(!1),N([])},K=()=>{console.log(" Refreshing grocery categories and subcategories"),pe.invalidateQueries({queryKey:["/api/grocery/categories"]}),pe.invalidateQueries({queryKey:["/api/grocery/subcategories"]}),S&&Array.isArray(S)&&S.forEach(de=>{de&&de.id&&(pe.invalidateQueries({queryKey:["/api/grocery/subcategories",de.id.toString()]}),pe.invalidateQueries({queryKey:["/api/grocery/subcategories",de.id]}),n===de.id.toString()&&OD(de.id).then(Ee=>{console.log(` Manual refresh: Fetched ${Ee.length} subcategories for category ${de.id}`)}).catch(Ee=>console.error("Error manually refreshing subcategories:",Ee)))}),nh(n)&&FS().then(de=>{console.log(` Refresh: Loaded ${de.length} oil subcategories`)}).catch(de=>{console.error(" Error refreshing oil subcategories:",de)}),pe.invalidateQueries({queryKey:["/api/grocery/products"]}),t({title:"Data refreshed",description:"Latest categories, subcategories, and products have been loaded"})},R=de=>{b.includes(de)?N(b.filter(Ee=>Ee!==de)):N([...b,de])},F=Array.from(new Set(DD.map(de=>de.district))),Q=[...DD.filter(de=>{var Ee,De,rt;if(n!=="all"&&n!=="organic"&&(typeof de.category=="object"?(De=(Ee=de.category)==null?void 0:Ee.id)==null?void 0:De.toString():(rt=de.category)==null?void 0:rt.toString())!==n)return!1;if(i){if(de.subcategory){if(de.subcategory.toString()!==i)return!1}else if(de.name!==i)return!1}return!(v&&!de.organic||b.length>0&&!b.includes(de.district)||o&&!de.name.toLowerCase().includes(o.toLowerCase()))})].sort((de,Ee)=>{if(p==="price-low-high")return de.price-Ee.price;if(p==="price-high-low")return Ee.price-de.price;if(p==="discount"){const De=(de.originalPrice-de.price)/de.originalPrice*100;return(Ee.originalPrice-Ee.price)/Ee.originalPrice*100-De}return 0}),H=de=>{var Ee;return((Ee=d.find(De=>De.id===de))==null?void 0:Ee.quantity)||0},Z=de=>{const Ee=d.find(De=>De.id===de);u(Ee?d.map(De=>De.id===de?{...De,quantity:De.quantity+1}:De):[...d,{id:de,quantity:1}]),t({title:"Added to cart",description:"Item added to your shopping cart."})},me=de=>{const Ee=d.find(De=>De.id===de);Ee&&(Ee.quantity===1?u(d.filter(De=>De.id!==de)):u(d.map(De=>De.id===de?{...De,quantity:De.quantity-1}:De)))},Ne=()=>d.reduce((de,Ee)=>de+Ee.quantity,0),te=A;return e.jsxs("div",{className:"container mx-auto px-4 py-6 lg:px-8",children:[e.jsxs("div",{className:"flex flex-col gap-6 mb-8",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold",children:"Grocery Store"}),e.jsx("p",{className:"text-gray-500 mt-1",children:"Shop for fresh produce and local goods"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs(T,{variant:"outline",className:"relative",onClick:()=>s("/grocery/cart"),children:[e.jsx(Pr,{className:"h-5 w-5 mr-2"}),"Cart",Ne()>0&&e.jsx(ae,{className:"absolute -top-2 -right-2 h-5 w-5 p-0 flex items-center justify-center",children:Ne()})]}),e.jsxs(T,{variant:"outline",className:"text-primary hover:text-primary/80",onClick:K,title:"Refresh to see latest updates to categories, subcategories, and products",children:[e.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"h-5 w-5 mr-1",children:[e.jsx("path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8"}),e.jsx("path",{d:"M21 3v5h-5"}),e.jsx("path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16"}),e.jsx("path",{d:"M8 16H3v5"})]}),"Refresh Data"]}),e.jsxs(T,{variant:"outline",size:"sm",className:"text-blue-600 hover:text-blue-800",onClick:()=>{window.open("/subcategory-test","_blank")},title:"Open subcategory testing page",children:[e.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"h-5 w-5 mr-1",children:[e.jsx("path",{d:"M2 3h6a4 4 0 0 1 4 4v14a3 3 0 0 0-3-3H2z"}),e.jsx("path",{d:"M22 3h-6a4 4 0 0 0-4 4v14a3 3 0 0 1 3-3h7z"})]}),"Test Subcategories"]}),e.jsxs(T,{variant:"outline",className:"text-red-500 hover:text-red-600 hover:bg-red-50",onClick:()=>window.location.reload(),title:"Force a complete page reload to refresh everything",children:[e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"h-5 w-5 mr-1",children:e.jsx("path",{d:"M2 12A10 10 0 1 0 12 2v10Z"})}),"Hard Refresh"]}),e.jsxs(kIe,{children:[e.jsx(AIe,{asChild:!0,children:e.jsxs(T,{variant:"outline",className:"sm:hidden",onClick:()=>f(!g),children:[e.jsx(Bc,{className:"h-5 w-5 mr-2"}),"Filters"]})}),e.jsx(PK,{side:"left",className:"w-[300px] sm:w-[400px]",children:e.jsx("div",{className:"py-4",children:e.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Filters"})})})]})]})]}),e.jsxs("div",{className:"relative",children:[e.jsx(es,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"}),e.jsx($,{placeholder:"Search for products...",className:"pl-10",value:o,onChange:de=>c(de.target.value)})]}),e.jsxs("div",{className:"relative rounded-lg overflow-hidden h-[200px]",children:[uN.map((de,Ee)=>e.jsxs("div",{className:`absolute inset-0 transition-opacity duration-500 ${Ee===m?"opacity-100":"opacity-0"}`,children:[e.jsx("img",{src:de.src,alt:de.alt,className:"w-full h-full object-cover"}),e.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-black/40 to-transparent flex items-center",children:e.jsxs("div",{className:"text-white p-6",children:[e.jsx("h2",{className:"text-2xl font-bold mb-2",children:"Fresh & Healthy"}),e.jsx("p",{className:"mb-4",children:"Shop from our wide range of products"}),e.jsxs(T,{variant:"default",className:"bg-white text-gray-800 hover:bg-gray-100",children:["Shop Now",e.jsx(Xa,{className:"h-4 w-4 ml-2"})]})]})})]},Ee)),e.jsx("div",{className:"absolute bottom-4 left-1/2 transform -translate-x-1/2 flex space-x-2",children:uN.map((de,Ee)=>e.jsx("button",{className:`w-2 h-2 rounded-full ${Ee===m?"bg-white":"bg-white/50"}`,onClick:()=>h(Ee)},Ee))})]}),e.jsxs("div",{className:"flex items-center space-x-2 overflow-x-auto pb-2 -mx-1 px-1",children:[e.jsx(T,{variant:n==="all"?"default":"outline",className:"rounded-full",onClick:()=>a("all"),children:"All Products"}),e.jsxs(T,{variant:n==="organic"?"default":"outline",className:"rounded-full",onClick:()=>{a("organic"),x(!0)},children:[e.jsx(Es,{className:"h-4 w-4 mr-2 text-green-600"}),"Organic"]}),!A&&S&&S.length>0&&S.map(de=>e.jsx(T,{variant:n===de.id.toString()?"default":"outline",className:"rounded-full whitespace-nowrap",onClick:()=>{a(de.id.toString()),l(null)},children:de.name},de.id))]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-12 gap-6",children:[e.jsx("div",{className:"hidden md:block md:col-span-3 lg:col-span-2",children:e.jsx("div",{className:"sticky top-20 bg-white rounded-lg border shadow-sm p-4",children:e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("h3",{className:"font-semibold flex items-center",children:[e.jsx(HX,{className:"h-4 w-4 mr-2"}),"Filters"]}),e.jsx(T,{variant:"ghost",className:"h-7 text-xs px-2",onClick:L,children:"Reset"})]}),e.jsx(kr,{}),n!=="all"&&n!=="organic"&&e.jsxs("div",{className:"mb-6",children:[e.jsxs("h4",{className:"font-medium text-base mb-3 flex items-center",children:[e.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"mr-2 text-primary",children:[e.jsx("path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"}),e.jsx("path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"})]}),"Subcategories"]}),nh(n)?e.jsxs("div",{className:"bg-gray-50 border border-gray-200 rounded-md p-3",children:[e.jsx("div",{className:"text-sm text-primary font-medium mb-2",children:"Oil Types:"}),e.jsx($S,{categoryId:n,onSelect:l,activeSubcategory:i})]}):e.jsxs("div",{className:"bg-white border border-gray-200 rounded-md p-3",children:[e.jsx($S,{categoryId:n,onSelect:l,activeSubcategory:i}),e.jsxs("details",{className:"mt-3 bg-blue-50 border border-blue-200 rounded p-2 text-xs",children:[e.jsx("summary",{className:"font-medium cursor-pointer text-blue-800",children:"Troubleshooting Tools"}),e.jsxs("div",{className:"mt-2 space-y-2",children:[e.jsxs("p",{children:[e.jsx("strong",{children:"Category ID:"})," ",n]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Selected Subcategory:"})," ",i||"None"]}),e.jsxs("div",{className:"flex space-x-2 mt-2",children:[e.jsx("button",{className:"bg-blue-600 hover:bg-blue-700 text-white font-bold py-2 px-3 rounded text-xs",onClick:()=>{const de=n;P(de).then(Ee=>{t(Ee?{title:"Subcategories loaded",description:`Loaded ${Ee.length} subcategories for category ${de}`}:{title:"Failed to load subcategories",description:"Try the hard reload option",variant:"destructive"})})},children:"Reload Current Category"}),e.jsx("button",{className:"bg-yellow-500 hover:bg-yellow-600 text-white font-bold py-2 px-3 rounded text-xs",onClick:()=>{window.location.reload()},children:"Hard Reload"})]}),e.jsxs("div",{className:"mt-3 border border-blue-200 rounded p-2",children:[e.jsx("p",{className:"text-xs font-medium text-blue-800 mb-1",children:"Quick Load Specific Category:"}),e.jsx("div",{className:"grid grid-cols-2 gap-1",children:[1,2,3,4].map(de=>e.jsxs("button",{className:"bg-blue-100 hover:bg-blue-200 text-blue-800 text-xs py-1 px-2 rounded",onClick:()=>P(de),children:["Load Category ",de]},de))})]})]})]})]}),e.jsx(kr,{className:"mt-4"})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium text-sm mb-2",children:"Sort By"}),e.jsxs("div",{className:"space-y-1",children:[e.jsx("button",{className:`block w-full text-left px-2 py-1 text-sm rounded ${p==="featured"?"bg-primary/10 text-primary":"hover:bg-gray-100"}`,onClick:()=>y("featured"),children:"Featured"}),e.jsx("button",{className:`block w-full text-left px-2 py-1 text-sm rounded ${p==="price-low-high"?"bg-primary/10 text-primary":"hover:bg-gray-100"}`,onClick:()=>y("price-low-high"),children:"Price: Low to High"}),e.jsx("button",{className:`block w-full text-left px-2 py-1 text-sm rounded ${p==="price-high-low"?"bg-primary/10 text-primary":"hover:bg-gray-100"}`,onClick:()=>y("price-high-low"),children:"Price: High to Low"}),e.jsx("button",{className:`block w-full text-left px-2 py-1 text-sm rounded ${p==="discount"?"bg-primary/10 text-primary":"hover:bg-gray-100"}`,onClick:()=>y("discount"),children:"Discount %"})]})]}),e.jsx(kr,{}),e.jsx("div",{children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("input",{type:"checkbox",id:"organic-filter",checked:v,onChange:()=>x(!v),className:"rounded border-gray-300 text-primary focus:ring-primary"}),e.jsxs("label",{htmlFor:"organic-filter",className:"ml-2 text-sm flex items-center",children:[e.jsx(Es,{className:"h-3 w-3 mr-1 text-green-600"}),"Organic Only"]})]})}),e.jsx(kr,{}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium text-sm mb-2",children:"Source Districts"}),e.jsx("div",{className:"space-y-1 max-h-40 overflow-y-auto",children:F.map(de=>e.jsxs("div",{className:"flex items-center",children:[e.jsx("input",{type:"checkbox",id:`district-${de}`,checked:b.includes(de),onChange:()=>R(de),className:"rounded border-gray-300 text-primary focus:ring-primary"}),e.jsx("label",{htmlFor:`district-${de}`,className:"ml-2 text-sm",children:de})]},de))})]})]})})}),e.jsxs("div",{className:"md:col-span-9 lg:col-span-10",children:[nh(n)&&e.jsx(PIe,{onSelectSubcategory:l,activeSubcategory:i,isVisible:nh(n)}),e.jsxs("div",{className:"flex flex-wrap items-center justify-between mb-4 gap-2",children:[e.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[n!=="all"&&e.jsxs(ae,{variant:"secondary",className:"flex items-center gap-1",children:["Category: ",n==="organic"?"Organic":((Ie=S==null?void 0:S.find(de=>de.id.toString()===n))==null?void 0:Ie.name)||n,e.jsx(T,{variant:"ghost",size:"icon",className:"h-4 w-4 ml-1 p-0",onClick:()=>a("all"),children:e.jsx(ws,{className:"h-3 w-3"})})]}),i&&e.jsxs(ae,{variant:"secondary",className:"flex items-center gap-1",children:[((Te=k==null?void 0:k.find(de=>de.id.toString()===i))==null?void 0:Te.name)||i,e.jsx(T,{variant:"ghost",size:"icon",className:"h-4 w-4 ml-1 p-0",onClick:()=>l(null),children:e.jsx(ws,{className:"h-3 w-3"})})]}),v&&e.jsxs(ae,{variant:"secondary",className:"flex items-center gap-1 bg-green-100 text-green-800 hover:bg-green-200",children:[e.jsx(Es,{className:"h-3 w-3 mr-1"}),"Organic",e.jsx(T,{variant:"ghost",size:"icon",className:"h-4 w-4 ml-1 p-0",onClick:()=>x(!1),children:e.jsx(ws,{className:"h-3 w-3"})})]}),b.length>0&&e.jsxs(ae,{variant:"secondary",className:"flex items-center gap-1",children:["Districts: ",b.length,e.jsx(T,{variant:"ghost",size:"icon",className:"h-4 w-4 ml-1 p-0",onClick:()=>N([]),children:e.jsx(ws,{className:"h-3 w-3"})})]}),(n!=="all"||i||v||b.length>0)&&e.jsx(T,{variant:"ghost",className:"h-7 text-xs px-2",onClick:L,children:"Clear All"})]}),e.jsxs("div",{className:"text-sm text-gray-500",children:[Q==null?void 0:Q.length," products"]})]}),te?e.jsx("div",{className:"w-full flex justify-center items-center h-64",children:e.jsxs("div",{className:"flex flex-col items-center",children:[e.jsx(Ye,{className:"h-10 w-10 text-primary animate-spin mb-4"}),e.jsx("p",{className:"text-gray-500",children:"Loading products..."})]})}):Q&&Q.length>0?e.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 xl:grid-cols-5 gap-4",children:Q.map(de=>{var Ee,De;return e.jsxs(E,{className:"overflow-hidden hover:shadow-md transition-all flex flex-col h-full",children:[e.jsxs("div",{className:"relative bg-gray-50 pt-[100%]",children:[e.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-primary/5",children:e.jsx(Si,{className:"h-12 w-12 text-primary/40"})}),e.jsxs("div",{className:"absolute top-2 right-2 flex space-x-1",children:[e.jsx(T,{variant:"ghost",size:"icon",className:"h-7 w-7 rounded-full bg-white/80 border text-gray-700 hover:text-primary hover:bg-white",onClick:()=>s(`/grocery/product/${de.id}`),children:e.jsx(es,{className:"h-3.5 w-3.5"})}),e.jsx(T,{variant:"ghost",size:"icon",className:"h-7 w-7 rounded-full bg-white/80 border text-gray-700 hover:text-rose-500 hover:bg-white",children:e.jsx(s$,{className:"h-3.5 w-3.5"})})]}),e.jsxs("div",{className:"absolute top-2 left-2 flex flex-col gap-1",children:[de.organic&&e.jsxs(ae,{className:"bg-green-500 hover:bg-green-600 px-2 py-1",children:[e.jsx(Es,{className:"h-3 w-3 mr-1"}),"Organic"]}),de.price<de.originalPrice&&e.jsxs(ae,{className:"bg-red-500 hover:bg-red-600 px-2 py-1",children:[Math.round((de.originalPrice-de.price)/de.originalPrice*100),"% Off"]})]})]}),e.jsxs(D,{className:"py-3 px-3 flex-grow flex flex-col",children:[e.jsxs("div",{className:"mb-auto",children:[e.jsxs("div",{className:"text-sm text-gray-500 mb-1",children:[de.district,"  ",typeof de.category=="object"?(Ee=de.category)==null?void 0:Ee.name:((De=S==null?void 0:S.find(rt=>rt.id===de.category))==null?void 0:De.name)||"Category"]}),e.jsx("h3",{className:"font-medium text-gray-900 truncate",children:de.name}),e.jsxs("div",{className:"mt-1 flex items-baseline gap-1",children:[e.jsxs("span",{className:"font-semibold",children:["",de.price]}),de.price<de.originalPrice&&e.jsxs("span",{className:"text-gray-500 text-sm line-through",children:["",de.originalPrice]})]})]}),e.jsx("div",{className:"mt-3 pt-3 border-t",children:H(de.id)===0?e.jsx(T,{className:"w-full",onClick:()=>Z(de.id),children:"Add to Cart"}):e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(T,{variant:"outline",size:"icon",className:"h-8 w-8",onClick:()=>me(de.id),children:e.jsx(wc,{className:"h-3 w-3"})}),e.jsx("span",{className:"font-medium",children:H(de.id)}),e.jsx(T,{variant:"outline",size:"icon",className:"h-8 w-8",onClick:()=>Z(de.id),children:e.jsx(Rt,{className:"h-3 w-3"})})]})})]})]},de.id)})}):e.jsxs("div",{className:"bg-gray-50 rounded-lg border border-gray-200 p-8 text-center",children:[e.jsx("div",{className:"inline-flex h-12 w-12 items-center justify-center rounded-full bg-gray-100 mb-4",children:e.jsx(nr,{className:"h-6 w-6 text-gray-600"})}),e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-1",children:"No products found"}),e.jsx("p",{className:"text-gray-500 mb-4",children:"Try adjusting your filters or search term"}),e.jsx(T,{onClick:L,children:"Clear all filters"})]})]})]})]})}const ah=t=>new Intl.NumberFormat("en-IN",{style:"currency",currency:"INR",minimumFractionDigits:0,maximumFractionDigits:2}).format(t),DIe=(t,r)=>Math.round((t-r)/t*100);function MIe(){const[,t]=XY("/grocery/product/:id"),[r,s]=xr(),{toast:n}=Be();dt();const[a,i]=j.useState(1),[l,o]=j.useState("details"),[c,d]=j.useState([]);j.useEffect(()=>{const b=localStorage.getItem("groceryCart");if(b)try{const N=JSON.parse(b);if(d(N),t!=null&&t.id){const w=parseInt(t.id),C=N.find(P=>P.id===w);C&&i(C.quantity)}}catch(N){console.error("Failed to parse saved cart",N)}},[t]),j.useEffect(()=>{localStorage.setItem("groceryCart",JSON.stringify(c))},[c]);const u=t!=null&&t.id?parseInt(t.id):null,{data:m,isLoading:h,isError:g,error:f}=fe({queryKey:["/api/grocery/product",u],queryFn:async()=>{if(!u)throw new Error("Product ID is required");const b=await fetch(`/api/grocery/product/${u}`);if(!b.ok)throw new Error("Failed to fetch product details");return b.json()},enabled:!!u}),{data:p}=fe({queryKey:["/api/grocery/products"],enabled:!!m,select:b=>b.filter(N=>N.id!==u&&(N.category===(m==null?void 0:m.category)||N.district===(m==null?void 0:m.district))).slice(0,4)}),y=()=>{if(!m)return;const b=c.findIndex(N=>N.id===m.id);if(b>=0){const N=[...c];N[b].quantity=a,d(N)}else d([...c,{id:m.id,quantity:a}]);n({title:"Added to cart",description:`${a} ${a>1?"items":"item"} added to your cart.`})},v=()=>{m&&a<m.stock&&i(b=>b+1)},x=()=>{a>1&&i(b=>b-1)};return h?e.jsx("div",{className:"container mx-auto px-4 py-10 min-h-screen flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx(Ye,{className:"h-12 w-12 mx-auto mb-4 animate-spin text-primary"}),e.jsx("h2",{className:"text-xl font-medium text-gray-900",children:"Loading product details..."})]})}):g||!m?e.jsx("div",{className:"container mx-auto px-4 py-10 min-h-screen flex items-center justify-center",children:e.jsxs("div",{className:"text-center max-w-lg",children:[e.jsx(nr,{className:"h-12 w-12 mx-auto mb-4 text-red-500"}),e.jsx("h2",{className:"text-xl font-medium text-gray-900 mb-2",children:"Product not found"}),e.jsx("p",{className:"text-gray-500 mb-6",children:"We couldn't find the product you're looking for. It may have been removed or is temporarily unavailable."}),e.jsxs(T,{onClick:()=>s("/grocery"),children:[e.jsx(ip,{className:"h-4 w-4 mr-2"}),"Back to Grocery Store"]})]})}):e.jsxs("div",{className:"min-h-screen bg-gray-50",children:[e.jsx("div",{className:"bg-white border-b",children:e.jsx("div",{className:"container mx-auto px-4 py-2",children:e.jsxs("div",{className:"flex items-center text-sm text-gray-500",children:[e.jsx(Kg,{className:"h-3 w-3 mr-1"}),e.jsx("span",{children:"Home"}),e.jsx(Xn,{className:"h-3 w-3 mx-1"}),e.jsx("span",{className:"cursor-pointer hover:text-primary",onClick:()=>s("/grocery"),children:"Grocery"}),e.jsx(Xn,{className:"h-3 w-3 mx-1"}),e.jsx("span",{className:"cursor-pointer hover:text-primary",onClick:()=>s("/grocery"),children:m.category}),e.jsx(Xn,{className:"h-3 w-3 mx-1"}),e.jsx("span",{className:"font-medium text-primary line-clamp-1 max-w-[200px]",children:m.name})]})})}),e.jsxs("div",{className:"container mx-auto px-4 py-6",children:[e.jsxs(T,{variant:"ghost",className:"mb-6 pl-0 text-gray-600",onClick:()=>s("/grocery"),children:[e.jsx(ip,{className:"h-4 w-4 mr-2"}),"Back to Grocery Store"]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8 mb-12",children:[e.jsxs("div",{className:"bg-white rounded-lg p-4 md:p-8 shadow-sm",children:[e.jsxs("div",{className:"relative bg-gray-50 rounded-lg overflow-hidden aspect-square flex items-center justify-center",children:[e.jsx("div",{className:"w-full h-full flex items-center justify-center",children:e.jsx(Si,{className:"h-24 w-24 text-gray-300"})}),m.isOrganic&&e.jsx("div",{className:"absolute top-4 left-4",children:e.jsxs(ae,{variant:"secondary",className:"bg-green-100 text-green-800 border-green-200",children:[e.jsx(Es,{className:"h-3 w-3 mr-1"}),"Organic"]})}),m.discountedPrice&&e.jsx("div",{className:"absolute top-4 right-4",children:e.jsxs(ae,{className:"bg-red-500 hover:bg-red-600",children:[e.jsx(Qg,{className:"h-3 w-3 mr-1"}),DIe(m.price,m.discountedPrice),"% OFF"]})})]}),e.jsxs("div",{className:"flex items-center justify-between mt-4",children:[e.jsxs(T,{variant:"outline",size:"sm",className:"flex-1 mr-2",children:[e.jsx(s$,{className:"h-4 w-4 mr-2"}),"Save"]}),e.jsxs(T,{variant:"outline",size:"sm",className:"flex-1",children:[e.jsx(l$,{className:"h-4 w-4 mr-2"}),"Share"]})]})]}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-gray-900 mb-2",children:m.name}),e.jsxs("div",{className:"flex items-center text-sm text-gray-500 mb-4",children:[e.jsx(ft,{className:"h-4 w-4 mr-1"}),e.jsxs("span",{children:["Sourced from ",m.district]})]}),e.jsxs("div",{className:"mb-6",children:[e.jsxs("div",{className:"flex items-end gap-2",children:[e.jsx("span",{className:"text-2xl font-bold text-primary",children:ah(m.discountedPrice||m.price)}),m.discountedPrice&&e.jsx("span",{className:"text-gray-500 line-through",children:ah(m.price)}),m.discountedPrice&&e.jsxs(ae,{variant:"outline",className:"text-green-600 border-green-200 bg-green-50",children:["Save ",ah(m.price-m.discountedPrice)]})]}),e.jsxs("p",{className:"text-sm text-gray-500 mt-1",children:["Price per ",m.unit]})]}),e.jsx("div",{className:"mb-6",children:e.jsx("div",{className:"flex items-center",children:e.jsx("span",{className:`text-sm ${m.stock>10?"text-green-600":m.stock>0?"text-amber-600":"text-red-600"} font-medium flex items-center`,children:m.stock>10?e.jsxs(e.Fragment,{children:[e.jsx(iZ,{className:"h-4 w-4 mr-1"})," In Stock"]}):m.stock>0?e.jsxs(e.Fragment,{children:[e.jsx(nr,{className:"h-4 w-4 mr-1"})," Only ",m.stock," left"]}):e.jsxs(e.Fragment,{children:[e.jsx(nr,{className:"h-4 w-4 mr-1"})," Out of Stock"]})})})}),m.stock>0&&e.jsxs("div",{className:"mb-6",children:[e.jsx("p",{className:"font-medium text-gray-700 mb-2",children:"Quantity"}),e.jsxs("div",{className:"flex items-center",children:[e.jsx(T,{variant:"outline",size:"icon",className:"h-10 w-10 rounded-l-md rounded-r-none",onClick:x,disabled:a<=1,children:e.jsx(wc,{className:"h-4 w-4"})}),e.jsx("div",{className:"h-10 w-16 flex items-center justify-center border-y border-gray-200",children:a}),e.jsx(T,{variant:"outline",size:"icon",className:"h-10 w-10 rounded-r-md rounded-l-none",onClick:v,disabled:a>=m.stock,children:e.jsx(Rt,{className:"h-4 w-4"})})]})]}),m.stock>0&&e.jsxs("div",{className:"flex gap-4 mb-8",children:[e.jsxs(T,{className:"flex-1 md:flex-none md:w-1/2",onClick:y,children:[e.jsx(Pr,{className:"h-4 w-4 mr-2"}),"Add to Cart"]}),e.jsx(T,{variant:"secondary",className:"flex-1 md:flex-none md:w-1/3",onClick:()=>{y(),s("/grocery/cart")},children:"Buy Now"})]}),e.jsxs("div",{className:"bg-gray-50 rounded-lg p-4 mb-6",children:[e.jsx("h3",{className:"font-medium text-gray-700 mb-3",children:"Delivery Information"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx(_n,{className:"h-4 w-4 text-gray-600 mt-0.5"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-700",children:"Free delivery"}),e.jsx("p",{className:"text-xs text-gray-500",children:"On orders above 400"})]})]}),e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx(gt,{className:"h-4 w-4 text-gray-600 mt-0.5"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-700",children:"Same day delivery"}),e.jsx("p",{className:"text-xs text-gray-500",children:"Order before 2 PM"})]})]}),e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx(pt,{className:"h-4 w-4 text-gray-600 mt-0.5"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-700",children:"Secure packaging"}),e.jsx("p",{className:"text-xs text-gray-500",children:"Safe and hygienic packing of all products"})]})]})]})]}),e.jsxs(rr,{defaultValue:"details",className:"w-full",onValueChange:o,children:[e.jsxs(tr,{className:"grid grid-cols-3 mb-4",children:[e.jsx(ke,{value:"details",children:"Details"}),e.jsx(ke,{value:"nutrition",children:"Nutrition Facts"}),e.jsx(ke,{value:"reviews",children:"Reviews"})]}),e.jsxs(Le,{value:"details",className:"bg-white p-4 rounded-lg border",children:[e.jsx("h3",{className:"font-medium mb-2",children:"Product Description"}),e.jsx("p",{className:"text-sm text-gray-600 mb-4",children:m.description}),e.jsx("h3",{className:"font-medium mb-2",children:"Product Information"}),e.jsxs("ul",{className:"text-sm space-y-2",children:[e.jsxs("li",{className:"grid grid-cols-2",children:[e.jsx("span",{className:"text-gray-500",children:"Category:"}),e.jsx("span",{children:m.category})]}),e.jsxs("li",{className:"grid grid-cols-2",children:[e.jsx("span",{className:"text-gray-500",children:"Weight/Volume:"}),e.jsxs("span",{children:["1 ",m.unit]})]}),e.jsxs("li",{className:"grid grid-cols-2",children:[e.jsx("span",{className:"text-gray-500",children:"Organic:"}),e.jsx("span",{children:m.isOrganic?"Yes":"No"})]}),e.jsxs("li",{className:"grid grid-cols-2",children:[e.jsx("span",{className:"text-gray-500",children:"Source:"}),e.jsxs("span",{children:[m.district,", Tamil Nadu"]})]})]})]}),e.jsx(Le,{value:"nutrition",className:"bg-white p-4 rounded-lg border",children:e.jsxs("div",{className:"text-center py-8",children:[e.jsx("div",{className:"mb-4 text-gray-400",children:e.jsx(pt,{className:"h-12 w-12 mx-auto"})}),e.jsx("h3",{className:"font-medium text-gray-700 mb-2",children:"Nutrition Information"}),e.jsx("p",{className:"text-sm text-gray-500",children:"Nutritional information for this product will be available soon."})]})}),e.jsx(Le,{value:"reviews",className:"bg-white p-4 rounded-lg border",children:e.jsxs("div",{className:"text-center py-8",children:[e.jsx("div",{className:"mb-4 text-gray-400",children:e.jsx(vf,{className:"h-12 w-12 mx-auto"})}),e.jsx("h3",{className:"font-medium text-gray-700 mb-2",children:"No Reviews Yet"}),e.jsx("p",{className:"text-sm text-gray-500",children:"Be the first to review this product."})]})})]})]})]}),p&&p.length>0&&e.jsxs("div",{className:"mt-12",children:[e.jsx("h2",{className:"text-xl font-bold mb-6",children:"Similar Products"}),e.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:p.map(b=>e.jsxs(E,{className:"overflow-hidden hover:shadow-md transition-all cursor-pointer",onClick:()=>s(`/grocery/product/${b.id}`),children:[e.jsxs("div",{className:"relative h-40 bg-gray-50",children:[e.jsx("div",{className:"w-full h-full flex items-center justify-center",children:e.jsx(Si,{className:"h-10 w-10 text-gray-300"})}),b.isOrganic&&e.jsx("div",{className:"absolute top-2 left-2",children:e.jsxs(ae,{variant:"secondary",className:"bg-green-100 text-green-800 border-green-200 text-xs",children:[e.jsx(Es,{className:"h-2.5 w-2.5 mr-1"}),"Organic"]})})]}),e.jsxs(D,{className:"p-3",children:[e.jsx("h3",{className:"font-medium text-sm line-clamp-1",children:b.name}),e.jsxs("div",{className:"text-xs text-gray-500 mb-2 flex items-center",children:[e.jsx(ft,{className:"h-3 w-3 mr-1"}),b.district]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("div",{className:"text-primary font-medium text-sm",children:ah(b.discountedPrice||b.price)}),b.discountedPrice&&e.jsx("div",{className:"text-xs text-gray-500 line-through",children:ah(b.price)})]}),e.jsx(T,{variant:"ghost",size:"sm",className:"h-8 w-8 p-0",onClick:N=>{N.stopPropagation();const w=[...c],C=w.find(P=>P.id===b.id);C?C.quantity+=1:w.push({id:b.id,quantity:1}),d(w),n({title:"Added to cart",description:"Item has been added to your cart."})},children:e.jsx(Pr,{className:"h-4 w-4"})})]})]})]},b.id))})]})]})]})}const cd=t=>new Intl.NumberFormat("en-IN",{style:"currency",currency:"INR",minimumFractionDigits:0,maximumFractionDigits:2}).format(t);function IIe(){const[t,r]=xr(),{toast:s}=Be();dt();const[n,a]=j.useState([]),[i,l]=j.useState(""),[o,c]=j.useState(!1),[d,u]=j.useState(0);j.useEffect(()=>{const P=localStorage.getItem("groceryCart");if(P)try{a(JSON.parse(P))}catch(S){console.error("Failed to parse saved cart",S)}},[]),j.useEffect(()=>{localStorage.setItem("groceryCart",JSON.stringify(n))},[n]);const{data:m,isLoading:h,isError:g}=fe({queryKey:["/api/grocery/products"],enabled:!0}),f=n.map(P=>{const S=m==null?void 0:m.find(A=>A.id===P.id);return{...P,product:S}}).filter(P=>P.product!==void 0),p=f.reduce((P,S)=>{const A=S.product.discountedPrice||S.product.price;return P+A*S.quantity},0),y=p>400?0:40,v=()=>{c(!0),setTimeout(()=>{if(i.toUpperCase()==="WELCOME10"){const P=p*.1;u(P),s({title:"Promotion applied!",description:"10% discount has been applied to your order."})}else i.toUpperCase()==="FREESHIP"?(u(y),s({title:"Promotion applied!",description:"Free shipping has been applied to your order."})):s({title:"Invalid code",description:"The promotion code you entered is invalid or expired.",variant:"destructive"});c(!1)},1e3)},x=()=>{l(""),u(0),s({title:"Promotion removed",description:"The promotion code has been removed from your order."})},b=p+y-d,N=P=>{a(n.filter(S=>S.id!==P)),s({title:"Item removed",description:"The item has been removed from your cart."})},w=(P,S)=>{const A=m==null?void 0:m.find(k=>k.id===P);if(A){if(S<=0){N(P);return}S>A.stock&&(s({title:"Limited stock",description:`Only ${A.stock} units available.`,variant:"destructive"}),S=A.stock),a(n.map(k=>k.id===P?{...k,quantity:S}:k))}},C=()=>{if(n.length===0){s({title:"Cart is empty",description:"Add some items to your cart before checking out.",variant:"destructive"});return}s({title:"Checkout initiated",description:"This is a demo. In a real app, you would proceed to payment."})};return h?e.jsx("div",{className:"container mx-auto px-4 py-10 min-h-screen flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx(Pr,{className:"h-12 w-12 mx-auto mb-4 text-gray-300"}),e.jsx("h2",{className:"text-xl font-medium text-gray-900",children:"Loading your cart..."})]})}):n.length===0?e.jsxs("div",{className:"min-h-screen bg-gray-50",children:[e.jsx("div",{className:"bg-white border-b",children:e.jsx("div",{className:"container mx-auto px-4 py-2",children:e.jsxs("div",{className:"flex items-center text-sm text-gray-500",children:[e.jsx(Kg,{className:"h-3 w-3 mr-1"}),e.jsx("span",{children:"Home"}),e.jsx(Xn,{className:"h-3 w-3 mx-1"}),e.jsx("span",{className:"cursor-pointer hover:text-primary",onClick:()=>r("/grocery"),children:"Grocery"}),e.jsx(Xn,{className:"h-3 w-3 mx-1"}),e.jsx("span",{className:"font-medium text-primary",children:"Shopping Cart"})]})})}),e.jsx("div",{className:"container mx-auto px-4 py-10",children:e.jsxs("div",{className:"max-w-2xl mx-auto text-center",children:[e.jsx(Pr,{className:"h-16 w-16 mx-auto mb-6 text-gray-300"}),e.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Your cart is empty"}),e.jsx("p",{className:"text-gray-500 mb-8",children:"Looks like you haven't added any items to your cart yet. Browse our products and find something you'd like!"}),e.jsxs(T,{size:"lg",onClick:()=>r("/grocery"),children:[e.jsx(Ew,{className:"h-5 w-5 mr-2"}),"Continue Shopping"]})]})})]}):e.jsxs("div",{className:"min-h-screen bg-gray-50",children:[e.jsx("div",{className:"bg-white border-b",children:e.jsx("div",{className:"container mx-auto px-4 py-2",children:e.jsxs("div",{className:"flex items-center text-sm text-gray-500",children:[e.jsx(Kg,{className:"h-3 w-3 mr-1"}),e.jsx("span",{children:"Home"}),e.jsx(Xn,{className:"h-3 w-3 mx-1"}),e.jsx("span",{className:"cursor-pointer hover:text-primary",onClick:()=>r("/grocery"),children:"Grocery"}),e.jsx(Xn,{className:"h-3 w-3 mx-1"}),e.jsx("span",{className:"font-medium text-primary",children:"Shopping Cart"})]})})}),e.jsxs("div",{className:"container mx-auto px-4 py-6",children:[e.jsxs(T,{variant:"ghost",className:"mb-6 pl-0 text-gray-600",onClick:()=>r("/grocery"),children:[e.jsx(ip,{className:"h-4 w-4 mr-2"}),"Continue Shopping"]}),e.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-gray-900 mb-8",children:"Your Shopping Cart"}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-12 gap-8",children:[e.jsx("div",{className:"lg:col-span-8",children:e.jsxs(E,{children:[e.jsx(Y,{className:"border-b p-4",children:e.jsxs(X,{className:"text-lg",children:["Cart Items (",n.length,")"]})}),e.jsx(D,{className:"p-0",children:e.jsx("div",{className:"overflow-x-auto",children:e.jsxs(Ur,{children:[e.jsx(qr,{children:e.jsxs(mt,{children:[e.jsx(xe,{className:"w-[50%]",children:"Product"}),e.jsx(xe,{className:"text-right",children:"Price"}),e.jsx(xe,{className:"text-center",children:"Quantity"}),e.jsx(xe,{className:"text-right",children:"Total"}),e.jsx(xe,{className:"w-[5%]"})]})}),e.jsx(zr,{children:f.map(({id:P,quantity:S,product:A})=>e.jsxs(mt,{children:[e.jsx(ne,{className:"font-medium",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"w-12 h-12 bg-gray-100 rounded-md flex items-center justify-center mr-4",children:e.jsx(Si,{className:"h-6 w-6 text-gray-400"})}),e.jsxs("div",{children:[e.jsx("div",{className:"font-medium line-clamp-1",children:A.name}),e.jsxs("div",{className:"text-xs text-gray-500 flex items-center",children:[e.jsx(ft,{className:"h-3 w-3 mr-1"}),A.district]}),A.isOrganic&&e.jsxs("div",{className:"text-xs flex items-center text-green-600 mt-1",children:[e.jsx(Es,{className:"h-3 w-3 mr-1"}),"Organic"]})]})]})}),e.jsx(ne,{className:"text-right",children:cd(A.discountedPrice||A.price)}),e.jsx(ne,{children:e.jsxs("div",{className:"flex items-center justify-center",children:[e.jsx(T,{variant:"outline",size:"icon",className:"h-8 w-8",onClick:()=>w(P,S-1),children:e.jsx(wc,{className:"h-3 w-3"})}),e.jsx("div",{className:"w-10 text-center",children:S}),e.jsx(T,{variant:"outline",size:"icon",className:"h-8 w-8",onClick:()=>w(P,S+1),disabled:S>=A.stock,children:e.jsx(Rt,{className:"h-3 w-3"})})]})}),e.jsx(ne,{className:"text-right font-medium",children:cd((A.discountedPrice||A.price)*S)}),e.jsx(ne,{children:e.jsx(T,{variant:"ghost",size:"icon",className:"h-8 w-8 text-gray-500",onClick:()=>N(P),children:e.jsx(Er,{className:"h-4 w-4"})})})]},P))})]})})}),e.jsxs(mr,{className:"border-t p-4 flex justify-between",children:[e.jsxs(T,{variant:"ghost",className:"text-sm",onClick:()=>a([]),children:[e.jsx(Er,{className:"h-4 w-4 mr-1"})," Clear Cart"]}),e.jsxs(T,{variant:"ghost",className:"text-sm",onClick:()=>r("/grocery"),children:[e.jsx(Rt,{className:"h-4 w-4 mr-1"})," Add More Items"]})]})]})}),e.jsxs("div",{className:"lg:col-span-4",children:[e.jsxs(E,{children:[e.jsx(Y,{className:"border-b p-4",children:e.jsx(X,{className:"text-lg",children:"Order Summary"})}),e.jsxs(D,{className:"p-4 space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-500",children:"Subtotal"}),e.jsx("span",{children:cd(p)})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-500",children:"Delivery Fee"}),e.jsx("span",{children:y===0?e.jsx("span",{className:"text-green-600",children:"Free"}):cd(y)})]}),d>0&&e.jsxs("div",{className:"flex justify-between text-green-600",children:[e.jsxs("span",{className:"flex items-center",children:["Discount",e.jsx(T,{variant:"ghost",size:"icon",className:"h-4 w-4 ml-1 p-0",onClick:x,children:e.jsx(ws,{className:"h-3 w-3"})})]}),e.jsxs("span",{children:["-",cd(d)]})]})]}),e.jsxs("div",{className:"border-t pt-4",children:[e.jsxs("div",{className:"flex justify-between font-bold text-lg",children:[e.jsx("span",{children:"Total"}),e.jsx("span",{children:cd(b)})]}),e.jsx("p",{className:"text-gray-500 text-xs mt-1",children:"Including all taxes"})]}),e.jsxs("div",{className:"pt-4",children:[e.jsx("p",{className:"text-sm font-medium mb-2",children:"Apply Promotion Code"}),e.jsxs("div",{className:"flex mb-1",children:[e.jsx($,{className:"rounded-r-none",placeholder:"Enter promotion code",value:i,onChange:P=>l(P.target.value),disabled:o||d>0}),e.jsx(T,{className:"rounded-l-none",onClick:v,disabled:!i||o||d>0,children:o?"Applying...":"Apply"})]}),e.jsxs("div",{className:"text-xs text-gray-500 flex items-center",children:[e.jsx(tC,{className:"h-3 w-3 mr-1"}),'Try "WELCOME10" for 10% off or "FREESHIP" for free delivery']})]}),e.jsxs(T,{className:"w-full mt-6",size:"lg",onClick:C,children:[e.jsx(ia,{className:"h-4 w-4 mr-2"}),"Proceed to Checkout"]}),e.jsx("div",{className:"text-xs text-gray-500 text-center",children:"By proceeding, you agree to our Terms of Service and Privacy Policy"})]})]}),e.jsx(E,{className:"mt-4 bg-green-50 border-green-200",children:e.jsx(D,{className:"p-4",children:e.jsxs("div",{className:"flex items-start",children:[e.jsx("div",{className:"bg-white rounded-full p-2 mr-3",children:e.jsx(Es,{className:"h-5 w-5 text-green-600"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-medium text-green-800",children:"Eco-Friendly Packaging"}),e.jsx("p",{className:"text-xs text-green-700 mt-1",children:"All our deliveries are made with eco-friendly packaging materials, minimizing environmental impact."})]})]})})})]})]})]})]})}var xk="Switch",[RIe,fFe]=rn(xk),[FIe,$Ie]=RIe(xk),kK=j.forwardRef((t,r)=>{const{__scopeSwitch:s,name:n,checked:a,defaultChecked:i,required:l,disabled:o,value:c="on",onCheckedChange:d,form:u,...m}=t,[h,g]=j.useState(null),f=Lt(r,b=>g(b)),p=j.useRef(!1),y=h?u||!!h.closest("form"):!0,[v=!1,x]=Fn({prop:a,defaultProp:i,onChange:d});return e.jsxs(FIe,{scope:s,checked:v,disabled:o,children:[e.jsx(ct.button,{type:"button",role:"switch","aria-checked":v,"aria-required":l,"data-state":TK(v),"data-disabled":o?"":void 0,disabled:o,value:c,...m,ref:f,onClick:He(t.onClick,b=>{x(N=>!N),y&&(p.current=b.isPropagationStopped(),p.current||b.stopPropagation())})}),y&&e.jsx(LIe,{control:h,bubbles:!p.current,name:n,value:c,checked:v,required:l,disabled:o,form:u,style:{transform:"translateX(-100%)"}})]})});kK.displayName=xk;var AK="SwitchThumb",_K=j.forwardRef((t,r)=>{const{__scopeSwitch:s,...n}=t,a=$Ie(AK,s);return e.jsx(ct.span,{"data-state":TK(a.checked),"data-disabled":a.disabled?"":void 0,...n,ref:r})});_K.displayName=AK;var LIe=t=>{const{control:r,checked:s,bubbles:n=!0,...a}=t,i=j.useRef(null),l=mj(s),o=dj(r);return j.useEffect(()=>{const c=i.current,d=window.HTMLInputElement.prototype,m=Object.getOwnPropertyDescriptor(d,"checked").set;if(l!==s&&m){const h=new Event("click",{bubbles:n});m.call(c,s),c.dispatchEvent(h)}},[l,s,n]),e.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:s,...a,tabIndex:-1,ref:i,style:{...t.style,...o,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function TK(t){return t?"checked":"unchecked"}var OK=kK,BIe=_K;const ds=j.forwardRef(({className:t,...r},s)=>e.jsx(OK,{className:Oe("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input",t),...r,ref:s,children:e.jsx(BIe,{className:Oe("pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0")})}));ds.displayName=OK.displayName;const VIe=_ne.extend({adminCommission:_.number().min(0).max(10),branchManagerCommission:_.number().min(0).max(10),talukManagerCommission:_.number().min(0).max(10),serviceAgentCommission:_.number().min(0).max(10),registeredUserCommission:_.number().min(0).max(10),startDate:_.date().nullable().optional(),endDate:_.date().nullable().optional(),isPeakRate:_.boolean().optional().default(!1),seasonName:_.string().nullable().optional()});function UIe(){const{user:t}=dt(),{toast:r}=Be(),s=Sl(),[n,a]=j.useState(!1);if(j.useState(null),(t==null?void 0:t.userType)!=="admin")return e.jsx("div",{className:"container py-10",children:e.jsxs("div",{className:"text-center",children:[e.jsx("h2",{className:"text-2xl font-bold mb-2",children:"Access Denied"}),e.jsx("p",{className:"text-neutral-600",children:"You don't have permission to access this page."})]})});const{data:i,isLoading:l}=fe({queryKey:["/api/commission/config"],queryFn:async()=>(await le("GET","/api/commission/config")).json()}),o=Se({mutationFn:async h=>(await le("POST","/api/commission/config",h)).json(),onSuccess:()=>{r({title:"Commission configuration created",description:"The commission configuration has been successfully created."}),a(!1),s.invalidateQueries({queryKey:["/api/commission/config"]})},onError:h=>{r({title:"Failed to create commission configuration",description:h.message,variant:"destructive"})}}),c=Se({mutationFn:async({id:h,data:g})=>(await le("PATCH",`/api/commission/config/${h}`,g)).json(),onSuccess:()=>{r({title:"Commission configuration updated",description:"The commission configuration has been successfully updated."}),s.invalidateQueries({queryKey:["/api/commission/config"]})},onError:h=>{r({title:"Failed to update commission configuration",description:h.message,variant:"destructive"})}}),d=Ht({resolver:Wt(VIe),defaultValues:{serviceType:"",provider:"",adminCommission:.5,branchManagerCommission:.5,talukManagerCommission:1,serviceAgentCommission:2,registeredUserCommission:1,startDate:null,endDate:null,isPeakRate:!1,seasonName:""}}),u=h=>{o.mutate(h)},m=h=>{c.mutate({id:h.id,data:{isActive:!h.isActive}})};return e.jsxs("div",{className:"container py-10",children:[e.jsxs("div",{className:"flex justify-between items-center mb-6",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold",children:"Commission Configuration"}),e.jsx("p",{className:"text-neutral-600 mt-1",children:"Manage commission rates for different services and providers"})]}),e.jsxs(kt,{open:n,onOpenChange:a,children:[e.jsx(ls,{asChild:!0,children:e.jsxs(T,{children:[e.jsx(Rt,{className:"mr-2 h-4 w-4"}),"Add New Configuration"]})}),e.jsxs(St,{className:"sm:max-w-[500px]",children:[e.jsxs(Ct,{children:[e.jsx(Pt,{children:"Create Commission Configuration"}),e.jsx(Yt,{children:"Set up commission rates for different user types in the system"})]}),e.jsx(Gt,{...d,children:e.jsxs("form",{onSubmit:d.handleSubmit(u),className:"space-y-4",children:[e.jsx(q,{control:d.control,name:"serviceType",render:({field:h})=>e.jsxs(B,{children:[e.jsx(V,{children:"Service Type"}),e.jsxs(je,{onValueChange:h.onChange,defaultValue:h.value,children:[e.jsx(U,{children:e.jsx(ge,{children:e.jsx(be,{placeholder:"Select service type"})})}),e.jsxs(ve,{children:[e.jsx(O,{value:"recharge",children:"Mobile Recharge"}),e.jsx(O,{value:"booking",children:"Travel Booking"}),e.jsx(O,{value:"rental",children:"Equipment Rental"}),e.jsx(O,{value:"taxi",children:"Taxi Service"}),e.jsx(O,{value:"delivery",children:"Delivery"}),e.jsx(O,{value:"grocery",children:"Grocery"})]})]}),e.jsx(Ue,{children:"The type of service this commission applies to"}),e.jsx(z,{})]})}),e.jsx(q,{control:d.control,name:"provider",render:({field:h})=>e.jsxs(B,{children:[e.jsx(V,{children:"Provider (Optional)"}),e.jsx(U,{children:e.jsx($,{placeholder:"e.g., Airtel, Jio, etc.",...h,value:h.value||""})}),e.jsx(Ue,{children:"Specific service provider, leave empty for all providers"}),e.jsx(z,{})]})}),e.jsxs("div",{className:"p-4 bg-neutral-50 rounded-lg border border-neutral-200",children:[e.jsx("h3",{className:"font-medium mb-2",children:"Seasonal / Peak Pricing"}),e.jsx("p",{className:"text-sm text-neutral-600 mb-4",children:"Configure special commission rates for peak periods or seasonal events"}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsx(q,{control:d.control,name:"seasonName",render:({field:h})=>e.jsxs(B,{children:[e.jsx(V,{children:"Season Name"}),e.jsx(U,{children:e.jsx($,{placeholder:"e.g., Diwali 2023",...h,value:h.value||""})}),e.jsx(Ue,{children:"Name of the season or promotional period"}),e.jsx(z,{})]})}),e.jsx(q,{control:d.control,name:"isPeakRate",render:({field:h})=>e.jsxs(B,{className:"flex flex-row items-center justify-between p-3 mt-6 rounded-lg border border-neutral-200",children:[e.jsxs("div",{className:"space-y-0.5",children:[e.jsx(V,{children:"Peak Rate"}),e.jsx(Ue,{children:"Mark as a special rate for peak season"})]}),e.jsx(U,{children:e.jsx(ds,{checked:h.value,onCheckedChange:h.onChange})}),e.jsx(z,{})]})}),e.jsx(q,{control:d.control,name:"startDate",render:({field:h})=>e.jsxs(B,{children:[e.jsx(V,{children:"Start Date"}),e.jsx(U,{children:e.jsx($,{type:"date",...h,value:h.value?new Date(h.value).toISOString().split("T")[0]:"",onChange:g=>{const f=g.target.value?new Date(g.target.value):null;h.onChange(f)}})}),e.jsx(Ue,{children:"When this commission rate becomes active"}),e.jsx(z,{})]})}),e.jsx(q,{control:d.control,name:"endDate",render:({field:h})=>e.jsxs(B,{children:[e.jsx(V,{children:"End Date"}),e.jsx(U,{children:e.jsx($,{type:"date",...h,value:h.value?new Date(h.value).toISOString().split("T")[0]:"",onChange:g=>{const f=g.target.value?new Date(g.target.value):null;h.onChange(f)}})}),e.jsx(Ue,{children:"When this commission rate expires"}),e.jsx(z,{})]})})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsx(q,{control:d.control,name:"adminCommission",render:({field:h})=>e.jsxs(B,{children:[e.jsx(V,{children:"Admin Commission (%)"}),e.jsx(U,{children:e.jsx($,{type:"number",...h,onChange:g=>h.onChange(parseFloat(g.target.value)),step:"0.1",min:"0",max:"10"})}),e.jsx(z,{})]})}),e.jsx(q,{control:d.control,name:"branchManagerCommission",render:({field:h})=>e.jsxs(B,{children:[e.jsx(V,{children:"Branch Manager (%)"}),e.jsx(U,{children:e.jsx($,{type:"number",...h,onChange:g=>h.onChange(parseFloat(g.target.value)),step:"0.1",min:"0",max:"10"})}),e.jsx(z,{})]})}),e.jsx(q,{control:d.control,name:"talukManagerCommission",render:({field:h})=>e.jsxs(B,{children:[e.jsx(V,{children:"Taluk Manager (%)"}),e.jsx(U,{children:e.jsx($,{type:"number",...h,onChange:g=>h.onChange(parseFloat(g.target.value)),step:"0.1",min:"0",max:"10"})}),e.jsx(z,{})]})}),e.jsx(q,{control:d.control,name:"serviceAgentCommission",render:({field:h})=>e.jsxs(B,{children:[e.jsx(V,{children:"Service Agent (%)"}),e.jsx(U,{children:e.jsx($,{type:"number",...h,onChange:g=>h.onChange(parseFloat(g.target.value)),step:"0.1",min:"0",max:"10"})}),e.jsx(z,{})]})}),e.jsx(q,{control:d.control,name:"registeredUserCommission",render:({field:h})=>e.jsxs(B,{children:[e.jsx(V,{children:"Registered User (%)"}),e.jsx(U,{children:e.jsx($,{type:"number",...h,onChange:g=>h.onChange(parseFloat(g.target.value)),step:"0.1",min:"0",max:"10"})}),e.jsx(z,{})]})})]}),e.jsx(Ms,{children:e.jsxs(T,{type:"submit",disabled:o.isPending,children:[o.isPending&&e.jsx(Ua,{className:"mr-2 h-4 w-4 animate-spin"}),"Create Configuration"]})})]})})]})]})]}),e.jsxs(E,{children:[e.jsxs(Y,{children:[e.jsx(X,{children:"Commission Configurations"}),e.jsx(he,{children:"All commission configurations for different services and providers"})]}),e.jsx(D,{children:l?e.jsx("div",{className:"w-full flex justify-center py-5",children:e.jsx(Ua,{className:"h-6 w-6 animate-spin text-neutral-400"})}):!i||i.length===0?e.jsxs("div",{className:"text-center py-10",children:[e.jsx("p",{className:"text-neutral-500",children:"No commission configurations found."}),e.jsx("p",{className:"mt-2 text-sm text-neutral-400",children:"Create a new configuration to get started."})]}):e.jsxs(Ur,{children:[e.jsx(qr,{children:e.jsxs(mt,{children:[e.jsx(xe,{children:"Service Type"}),e.jsx(xe,{children:"Provider"}),e.jsx(xe,{className:"text-center",children:"Admin"}),e.jsx(xe,{className:"text-center",children:"Branch Manager"}),e.jsx(xe,{className:"text-center",children:"Taluk Manager"}),e.jsx(xe,{className:"text-center",children:"Service Agent"}),e.jsx(xe,{className:"text-center",children:"Registered User"}),e.jsx(xe,{className:"text-center",children:"Total"}),e.jsx(xe,{className:"text-center",children:"Season"}),e.jsx(xe,{className:"text-center",children:"Status"}),e.jsx(xe,{className:"text-right",children:"Actions"})]})}),e.jsx(zr,{children:i.map(h=>e.jsxs(mt,{children:[e.jsx(ne,{className:"font-medium",children:h.serviceType.charAt(0).toUpperCase()+h.serviceType.slice(1)}),e.jsx(ne,{children:h.provider||"All Providers"}),e.jsxs(ne,{className:"text-center",children:[h.adminCommission,"%"]}),e.jsxs(ne,{className:"text-center",children:[h.branchManagerCommission,"%"]}),e.jsxs(ne,{className:"text-center",children:[h.talukManagerCommission,"%"]}),e.jsxs(ne,{className:"text-center",children:[h.serviceAgentCommission,"%"]}),e.jsxs(ne,{className:"text-center",children:[h.registeredUserCommission,"%"]}),e.jsxs(ne,{className:"text-center font-medium",children:[h.totalCommission,"%"]}),e.jsx(ne,{className:"text-center",children:h.isPeakRate&&h.seasonName?e.jsx(ae,{className:"bg-orange-100 text-orange-800 hover:bg-orange-200",children:h.seasonName}):h.startDate&&h.endDate?e.jsxs("div",{className:"text-xs text-neutral-600",children:[new Date(h.startDate).toLocaleDateString()," - ",new Date(h.endDate).toLocaleDateString()]}):e.jsx(ae,{variant:"outline",className:"bg-neutral-100 text-neutral-500",children:"Standard"})}),e.jsx(ne,{className:"text-center",children:h.isActive?e.jsx(ae,{className:"bg-green-100 text-green-800 hover:bg-green-200",children:"Active"}):e.jsx(ae,{variant:"outline",className:"bg-neutral-100 text-neutral-800 hover:bg-neutral-200",children:"Inactive"})}),e.jsx(ne,{className:"text-right",children:e.jsx(T,{variant:"ghost",size:"icon",onClick:()=>m(h),title:h.isActive?"Deactivate":"Activate",children:h.isActive?e.jsx(Er,{className:"h-4 w-4 text-red-500"}):e.jsx(Is,{className:"h-4 w-4 text-green-500"})})})]},h.id))})]})}),e.jsx(mr,{className:"flex justify-between border-t p-4",children:e.jsxs("p",{className:"text-sm text-neutral-500",children:[e.jsx(Qg,{className:"inline-block h-4 w-4 mr-1"}),"Showing all commission configurations"]})})]})]})}const qIe=Q$({serviceType:ov().min(1,"Service type is required"),provider:ov().optional(),adminPercentage:ph.number().min(0).max(10),branchManagerPercentage:ph.number().min(0).max(10),talukManagerPercentage:ph.number().min(0).max(10),serviceAgentPercentage:ph.number().min(0).max(15),active:cC().default(!0)});function zIe(){const{user:t}=dt(),{toast:r}=Be(),[s,n]=j.useState("history"),[a,i]=j.useState(!1),[l,o]=j.useState(null),[c,d]=j.useState([]),u=(t==null?void 0:t.userType)==="admin",{data:m,isLoading:h}=fe({queryKey:["/api/commissions/stats"],queryFn:async()=>(await le("GET","/api/commissions/stats")).json()}),{data:g,isLoading:f}=fe({queryKey:["/api/commission"],queryFn:async()=>(await le("GET","/api/commission")).json()}),{data:p,isLoading:y}=fe({queryKey:["/api/commission-configs"],queryFn:async()=>(await le("GET","/api/commission-configs")).json(),enabled:u}),{data:v,isLoading:x}=fe({queryKey:["/api/commissions/pending"],queryFn:async()=>(await le("GET","/api/commissions/pending")).json(),enabled:u}),b=(g==null?void 0:g.reduce((R,F)=>R+(F.commissionAmount||0),0))||0,N=(g==null?void 0:g.reduce((R,F)=>{const W=R[F.serviceType]||[];return W.push(F),R[F.serviceType]=W,R},{}))||{},w=Object.keys(N),C=Se({mutationFn:async R=>{const F=l?`/api/commission-configs/${l.id}`:"/api/commission-configs";return(await le(l?"PUT":"POST",F,R)).json()},onSuccess:()=>{pe.invalidateQueries({queryKey:["/api/commission-configs"]}),i(!1),o(null),r({title:"Success",description:l?"Commission configuration updated successfully":"Commission configuration created successfully"})},onError:R=>{r({title:"Error",description:`Failed to ${l?"update":"create"} commission configuration: ${R.message}`,variant:"destructive"})}}),P=Se({mutationFn:async R=>(await le("POST","/api/commissions/mark-paid",{commissionIds:R})).json(),onSuccess:()=>{pe.invalidateQueries({queryKey:["/api/commissions/pending"]}),pe.invalidateQueries({queryKey:["/api/commissions/stats"]}),d([]),r({title:"Success",description:"Commissions marked as paid successfully"})},onError:R=>{r({title:"Error",description:`Failed to mark commissions as paid: ${R.message}`,variant:"destructive"})}}),S=Ht({resolver:Wt(qIe),defaultValues:l?{serviceType:l.serviceType,provider:l.provider||"",adminPercentage:l.adminPercentage,branchManagerPercentage:l.branchManagerPercentage,talukManagerPercentage:l.talukManagerPercentage,serviceAgentPercentage:l.serviceAgentPercentage,active:l.active}:{serviceType:"",provider:"",adminPercentage:.5,branchManagerPercentage:.5,talukManagerPercentage:1,serviceAgentPercentage:3,active:!0}}),A=R=>{C.mutate(R)},k=R=>{R?(o(R),S.reset({serviceType:R.serviceType,provider:R.provider||"",adminPercentage:R.adminPercentage,branchManagerPercentage:R.branchManagerPercentage,talukManagerPercentage:R.talukManagerPercentage,serviceAgentPercentage:R.serviceAgentPercentage,active:R.active})):(o(null),S.reset({serviceType:"",provider:"",adminPercentage:.5,branchManagerPercentage:.5,talukManagerPercentage:1,serviceAgentPercentage:3,active:!0})),i(!0)},I=()=>{c.length>0?P.mutate(c):r({title:"No commissions selected",description:"Please select at least one commission to mark as paid",variant:"destructive"})},L=R=>{d(F=>F.includes(R)?F.filter(W=>W!==R):[...F,R])},K=R=>new Intl.NumberFormat("en-IN",{style:"currency",currency:"INR",minimumFractionDigits:2}).format(R);return e.jsxs("div",{className:"container py-10",children:[e.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center mb-6 gap-4",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold",children:"Commission Management"}),e.jsx("p",{className:"text-neutral-600 mt-1",children:u?"View, track, and configure commission structures across your organization":"View all your earned commissions and track your earnings"})]}),h?e.jsx(E,{className:"w-full md:w-auto",children:e.jsxs(D,{className:"p-4 flex items-center",children:[e.jsx(Ua,{className:"h-10 w-10 text-primary mr-4 animate-spin"}),e.jsx("div",{children:e.jsx("p",{className:"text-sm text-neutral-500",children:"Loading..."})})]})}):m?e.jsxs("div",{className:"flex flex-wrap gap-4 w-full md:w-auto",children:[e.jsx(E,{className:"w-full md:w-auto",children:e.jsxs(D,{className:"p-4 flex items-center",children:[e.jsx(i0,{className:"h-10 w-10 text-primary mr-4"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-neutral-500",children:"Total Earned"}),e.jsx("p",{className:"text-2xl font-bold",children:K(m.totalEarned)})]})]})}),u&&e.jsx(E,{className:"w-full md:w-auto",children:e.jsxs(D,{className:"p-4 flex items-center",children:[e.jsx(i0,{className:"h-10 w-10 text-amber-500 mr-4"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-neutral-500",children:"Pending Payouts"}),e.jsx("p",{className:"text-2xl font-bold",children:K(m.pendingAmount)})]})]})})]}):e.jsx(E,{className:"w-full md:w-auto",children:e.jsxs(D,{className:"p-4 flex items-center",children:[e.jsx(i0,{className:"h-10 w-10 text-primary mr-4"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-neutral-500",children:"Total Earned"}),e.jsx("p",{className:"text-2xl font-bold",children:K(b)})]})]})})]}),u&&e.jsx("div",{className:"mb-6",children:e.jsx(rr,{value:s,onValueChange:n,children:e.jsxs(tr,{className:"grid w-full grid-cols-3",children:[e.jsx(ke,{value:"history",children:"Commission History"}),e.jsx(ke,{value:"pending",children:"Pending Payouts"}),e.jsx(ke,{value:"config",children:"Configuration"})]})})}),u&&s==="config"&&e.jsxs(E,{children:[e.jsxs(Y,{className:"flex flex-row items-center justify-between",children:[e.jsxs("div",{children:[e.jsx(X,{children:"Commission Configuration"}),e.jsx(he,{children:"Configure commission percentages for different services and providers"})]}),e.jsxs(T,{onClick:()=>k(),children:[e.jsx(Rt,{className:"mr-2 h-4 w-4"})," Add Configuration"]})]}),e.jsx(D,{children:y?e.jsx("div",{className:"w-full flex justify-center py-5",children:e.jsx(Ua,{className:"h-6 w-6 animate-spin text-neutral-400"})}):!p||p.length===0?e.jsxs("div",{className:"text-center py-10",children:[e.jsx("p",{className:"text-neutral-500",children:"No commission configurations found."}),e.jsx("p",{className:"mt-2 text-sm text-neutral-400",children:"Add a new configuration to manage commission rates."})]}):e.jsxs(Ur,{children:[e.jsx(qr,{children:e.jsxs(mt,{children:[e.jsx(xe,{children:"Service"}),e.jsx(xe,{children:"Provider"}),e.jsx(xe,{className:"text-center",children:"Admin"}),e.jsx(xe,{className:"text-center",children:"Branch Manager"}),e.jsx(xe,{className:"text-center",children:"Taluk Manager"}),e.jsx(xe,{className:"text-center",children:"Service Agent"}),e.jsx(xe,{className:"text-center",children:"Total"}),e.jsx(xe,{className:"text-center",children:"Status"}),e.jsx(xe,{className:"text-right",children:"Actions"})]})}),e.jsx(zr,{children:p.map(R=>{const F=R.adminPercentage+R.branchManagerPercentage+R.talukManagerPercentage+R.serviceAgentPercentage;return e.jsxs(mt,{children:[e.jsx(ne,{className:"font-medium",children:R.serviceType.charAt(0).toUpperCase()+R.serviceType.slice(1)}),e.jsx(ne,{children:R.provider||"All Providers"}),e.jsxs(ne,{className:"text-center",children:[R.adminPercentage,"%"]}),e.jsxs(ne,{className:"text-center",children:[R.branchManagerPercentage,"%"]}),e.jsxs(ne,{className:"text-center",children:[R.talukManagerPercentage,"%"]}),e.jsxs(ne,{className:"text-center",children:[R.serviceAgentPercentage,"%"]}),e.jsxs(ne,{className:"text-center font-medium",children:[F,"%"]}),e.jsx(ne,{className:"text-center",children:e.jsx(ae,{variant:R.active?"default":"outline",className:R.active?"bg-green-100 text-green-800 hover:bg-green-200":"",children:R.active?"Active":"Inactive"})}),e.jsx(ne,{className:"text-right",children:e.jsx(T,{variant:"ghost",size:"sm",onClick:()=>k(R),children:e.jsx(Gr,{className:"h-4 w-4"})})})]},R.id)})})]})})]}),u&&s==="pending"&&e.jsxs(E,{children:[e.jsxs(Y,{className:"flex flex-row items-center justify-between",children:[e.jsxs("div",{children:[e.jsx(X,{children:"Pending Commission Payouts"}),e.jsx(he,{children:"Review and process pending commission payments"})]}),e.jsxs(T,{onClick:I,disabled:P.isPending||c.length===0,children:[P.isPending?e.jsx(Ua,{className:"mr-2 h-4 w-4 animate-spin"}):e.jsx(Ot,{className:"mr-2 h-4 w-4"}),"Mark Selected as Paid"]})]}),e.jsx(D,{children:x?e.jsx("div",{className:"w-full flex justify-center py-5",children:e.jsx(Ua,{className:"h-6 w-6 animate-spin text-neutral-400"})}):!v||v.length===0?e.jsxs("div",{className:"text-center py-10",children:[e.jsx("p",{className:"text-neutral-500",children:"No pending commissions found."}),e.jsx("p",{className:"mt-2 text-sm text-neutral-400",children:"All commissions have been processed."})]}):e.jsxs(Ur,{children:[e.jsx(qr,{children:e.jsxs(mt,{children:[e.jsx(xe,{children:e.jsx("div",{className:"flex items-center space-x-2",children:e.jsx("input",{type:"checkbox",className:"h-4 w-4 rounded border-gray-300",onChange:R=>{R.target.checked?d(v.map(F=>F.id)):d([])},checked:c.length===v.length&&v.length>0})})}),e.jsx(xe,{children:"Date"}),e.jsx(xe,{children:"User"}),e.jsx(xe,{children:"User Type"}),e.jsx(xe,{children:"Service"}),e.jsx(xe,{children:"Transaction ID"}),e.jsx(xe,{className:"text-center",children:"Rate"}),e.jsx(xe,{className:"text-right",children:"Amount"})]})}),e.jsx(zr,{children:v.map(R=>e.jsxs(mt,{children:[e.jsx(ne,{children:e.jsx("input",{type:"checkbox",className:"h-4 w-4 rounded border-gray-300",onChange:()=>L(R.id),checked:c.includes(R.id)})}),e.jsx(ne,{children:R.createdAt?xt(new Date(R.createdAt),"dd MMM yyyy"):"N/A"}),e.jsxs(ne,{children:["ID: ",R.userId]}),e.jsx(ne,{children:e.jsx(ae,{variant:"outline",className:R.userType==="admin"?"bg-purple-100 text-purple-800":R.userType==="branch_manager"?"bg-blue-100 text-blue-800":R.userType==="taluk_manager"?"bg-indigo-100 text-indigo-800":"bg-green-100 text-green-800",children:R.userType.split("_").map(F=>F.charAt(0).toUpperCase()+F.slice(1)).join(" ")})}),e.jsx(ne,{children:e.jsx(ae,{className:"bg-primary/10 text-primary hover:bg-primary/20",children:R.serviceType.charAt(0).toUpperCase()+R.serviceType.slice(1)})}),e.jsxs(ne,{children:["TRX-",R.transactionId]}),e.jsxs(ne,{className:"text-center",children:[R.commissionPercentage,"%"]}),e.jsx(ne,{className:"text-right font-medium",children:K(R.commissionAmount)})]},R.id))})]})}),e.jsxs(mr,{className:"flex justify-between border-t p-4",children:[e.jsxs("p",{className:"text-sm text-neutral-500",children:[e.jsx(ia,{className:"inline-block h-4 w-4 mr-1"}),v?`${v.length} pending commission${v.length!==1?"s":""} (${c.length} selected)`:"No pending commissions"]}),e.jsxs("p",{className:"text-sm text-neutral-500",children:[e.jsx(Xt,{className:"inline-block h-4 w-4 mr-1"}),"Last updated: ",new Date().toLocaleDateString()]})]})]}),(!u||s==="history")&&e.jsxs(E,{children:[e.jsxs(Y,{children:[e.jsx(X,{children:"Commission History"}),e.jsx(he,{children:"All commissions earned from different services"})]}),e.jsx(D,{children:f?e.jsx("div",{className:"w-full flex justify-center py-5",children:e.jsx(Ua,{className:"h-6 w-6 animate-spin text-neutral-400"})}):!g||g.length===0?e.jsxs("div",{className:"text-center py-10",children:[e.jsx("p",{className:"text-neutral-500",children:"No commissions found."}),e.jsx("p",{className:"mt-2 text-sm text-neutral-400",children:"Process services to earn commissions."})]}):e.jsxs(rr,{defaultValue:"all",className:"w-full",children:[e.jsxs(tr,{className:"mb-4",children:[e.jsx(ke,{value:"all",children:"All Services"}),w.map(R=>e.jsx(ke,{value:R,children:R.charAt(0).toUpperCase()+R.slice(1)},R))]}),e.jsx(Le,{value:"all",children:e.jsxs(Ur,{children:[e.jsx(qr,{children:e.jsxs(mt,{children:[e.jsx(xe,{children:"Date"}),e.jsx(xe,{children:"Service Type"}),e.jsx(xe,{children:"Transaction ID"}),e.jsx(xe,{children:"Transaction Amount"}),e.jsx(xe,{className:"text-center",children:"Rate"}),e.jsx(xe,{className:"text-right",children:"Commission"}),e.jsx(xe,{className:"text-center",children:"Status"})]})}),e.jsx(zr,{children:g.map(R=>e.jsxs(mt,{children:[e.jsx(ne,{children:R.createdAt?xt(new Date(R.createdAt),"dd MMM yyyy"):"N/A"}),e.jsx(ne,{children:e.jsx(ae,{className:"bg-primary/10 text-primary hover:bg-primary/20",children:R.serviceType.charAt(0).toUpperCase()+R.serviceType.slice(1)})}),e.jsxs(ne,{children:["TRX-",R.transactionId]}),e.jsx(ne,{children:K(R.originalAmount)}),e.jsxs(ne,{className:"text-center",children:[R.commissionPercentage,"%"]}),e.jsx(ne,{className:"text-right font-medium",children:K(R.commissionAmount)}),e.jsx(ne,{className:"text-center",children:e.jsx(ae,{variant:R.status==="credited"?"default":"outline",className:R.status==="credited"?"bg-green-100 text-green-800":"bg-amber-100 text-amber-800",children:R.status==="credited"?"Paid":"Pending"})})]},R.id))})]})}),w.map(R=>e.jsx(Le,{value:R,children:e.jsxs(Ur,{children:[e.jsx(qr,{children:e.jsxs(mt,{children:[e.jsx(xe,{children:"Date"}),e.jsx(xe,{children:"Transaction ID"}),e.jsx(xe,{children:"Transaction Amount"}),e.jsx(xe,{className:"text-center",children:"Rate"}),e.jsx(xe,{className:"text-right",children:"Commission"}),e.jsx(xe,{className:"text-center",children:"Status"})]})}),e.jsx(zr,{children:N[R].map(F=>e.jsxs(mt,{children:[e.jsx(ne,{children:F.createdAt?xt(new Date(F.createdAt),"dd MMM yyyy"):"N/A"}),e.jsxs(ne,{children:["TRX-",F.transactionId]}),e.jsx(ne,{children:K(F.originalAmount)}),e.jsxs(ne,{className:"text-center",children:[F.commissionPercentage,"%"]}),e.jsx(ne,{className:"text-right font-medium",children:K(F.commissionAmount)}),e.jsx(ne,{className:"text-center",children:e.jsx(ae,{variant:F.status==="credited"?"default":"outline",className:F.status==="credited"?"bg-green-100 text-green-800":"bg-amber-100 text-amber-800",children:F.status==="credited"?"Paid":"Pending"})})]},F.id))})]})},R))]})}),e.jsxs(mr,{className:"flex justify-between border-t p-4",children:[e.jsxs("p",{className:"text-sm text-neutral-500",children:[e.jsx(ia,{className:"inline-block h-4 w-4 mr-1"}),g?`Showing ${g.length} commission entries`:"No commissions found"]}),e.jsxs("p",{className:"text-sm text-neutral-500",children:[e.jsx(Xt,{className:"inline-block h-4 w-4 mr-1"}),"Last updated: ",new Date().toLocaleDateString()]})]})]}),e.jsx(kt,{open:a,onOpenChange:i,children:e.jsxs(St,{className:"sm:max-w-[500px]",children:[e.jsxs(Ct,{children:[e.jsx(Pt,{children:l?"Edit Commission Configuration":"Add Commission Configuration"}),e.jsx(Yt,{children:"Configure commission percentages for service providers in the hierarchy"})]}),e.jsx(Gt,{...S,children:e.jsxs("form",{onSubmit:S.handleSubmit(A),className:"space-y-4",children:[e.jsx(q,{control:S.control,name:"serviceType",render:({field:R})=>e.jsxs(B,{children:[e.jsx(V,{children:"Service Type"}),e.jsxs(je,{onValueChange:R.onChange,defaultValue:R.value,disabled:!!l,children:[e.jsx(U,{children:e.jsx(ge,{children:e.jsx(be,{placeholder:"Select service type"})})}),e.jsxs(ve,{children:[e.jsx(O,{value:"recharge",children:"Recharge"}),e.jsx(O,{value:"utility",children:"Utility"}),e.jsx(O,{value:"bus",children:"Bus Booking"}),e.jsx(O,{value:"flight",children:"Flight Booking"}),e.jsx(O,{value:"hotel",children:"Hotel Booking"}),e.jsx(O,{value:"taxi",children:"Taxi"}),e.jsx(O,{value:"delivery",children:"Delivery"}),e.jsx(O,{value:"rental",children:"Rental"}),e.jsx(O,{value:"grocery",children:"Grocery"})]})]}),e.jsx(Ue,{children:"The type of service this commission structure applies to"}),e.jsx(z,{})]})}),e.jsx(q,{control:S.control,name:"provider",render:({field:R})=>e.jsxs(B,{children:[e.jsx(V,{children:"Provider (Optional)"}),e.jsx(U,{children:e.jsx($,{placeholder:"Provider name (leave empty for all providers)",...R})}),e.jsx(Ue,{children:"Specific provider this configuration applies to (leave empty for all)"}),e.jsx(z,{})]})}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsx(q,{control:S.control,name:"adminPercentage",render:({field:R})=>e.jsxs(B,{children:[e.jsx(V,{children:"Admin %"}),e.jsx(U,{children:e.jsx($,{type:"number",min:"0",max:"10",step:"0.1",...R})}),e.jsx(z,{})]})}),e.jsx(q,{control:S.control,name:"branchManagerPercentage",render:({field:R})=>e.jsxs(B,{children:[e.jsx(V,{children:"Branch Manager %"}),e.jsx(U,{children:e.jsx($,{type:"number",min:"0",max:"10",step:"0.1",...R})}),e.jsx(z,{})]})}),e.jsx(q,{control:S.control,name:"talukManagerPercentage",render:({field:R})=>e.jsxs(B,{children:[e.jsx(V,{children:"Taluk Manager %"}),e.jsx(U,{children:e.jsx($,{type:"number",min:"0",max:"10",step:"0.1",...R})}),e.jsx(z,{})]})}),e.jsx(q,{control:S.control,name:"serviceAgentPercentage",render:({field:R})=>e.jsxs(B,{children:[e.jsx(V,{children:"Service Agent %"}),e.jsx(U,{children:e.jsx($,{type:"number",min:"0",max:"15",step:"0.1",...R})}),e.jsx(z,{})]})})]}),e.jsx(q,{control:S.control,name:"active",render:({field:R})=>e.jsxs(B,{className:"flex flex-row items-center gap-2 space-y-0 rounded-md border p-4",children:[e.jsx(U,{children:e.jsx("input",{type:"checkbox",checked:R.value,onChange:R.onChange,className:"h-4 w-4"})}),e.jsxs("div",{className:"space-y-1 leading-none",children:[e.jsx(V,{children:"Active"}),e.jsx(Ue,{children:"Enable or disable this commission configuration"})]})]})}),e.jsxs(Ms,{children:[e.jsx(T,{variant:"outline",type:"button",onClick:()=>i(!1),children:"Cancel"}),e.jsx(T,{type:"submit",disabled:C.isPending,children:C.isPending?e.jsx(Ua,{className:"mr-2 h-4 w-4 animate-spin"}):l?"Update":"Create"})]})]})})]})})]})}function KIe(t,r=[]){let s=[];function n(i,l){const o=j.createContext(l),c=s.length;s=[...s,l];function d(m){const{scope:h,children:g,...f}=m,p=(h==null?void 0:h[t][c])||o,y=j.useMemo(()=>f,Object.values(f));return e.jsx(p.Provider,{value:y,children:g})}function u(m,h){const g=(h==null?void 0:h[t][c])||o,f=j.useContext(g);if(f)return f;if(l!==void 0)return l;throw new Error(`\`${m}\` must be used within \`${i}\``)}return d.displayName=i+"Provider",[d,u]}const a=()=>{const i=s.map(l=>j.createContext(l));return function(o){const c=(o==null?void 0:o[t])||i;return j.useMemo(()=>({[`__scope${t}`]:{...o,[t]:c}}),[o,c])}};return a.scopeName=t,[n,HIe(a,...r)]}function HIe(...t){const r=t[0];if(t.length===1)return r;const s=()=>{const n=t.map(a=>({useScope:a(),scopeName:a.scopeName}));return function(i){const l=n.reduce((o,{useScope:c,scopeName:d})=>{const m=c(i)[`__scope${d}`];return{...o,...m}},{});return j.useMemo(()=>({[`__scope${r.scopeName}`]:l}),[l])}};return s.scopeName=r.scopeName,s}var gk="Progress",vk=100,[WIe,xFe]=KIe(gk),[GIe,YIe]=WIe(gk),EK=j.forwardRef((t,r)=>{const{__scopeProgress:s,value:n=null,max:a,getValueLabel:i=QIe,...l}=t;(a||a===0)&&!ID(a)&&console.error(XIe(`${a}`,"Progress"));const o=ID(a)?a:vk;n!==null&&!RD(n,o)&&console.error(ZIe(`${n}`,"Progress"));const c=RD(n,o)?n:null,d=ky(c)?i(c,o):void 0;return e.jsx(GIe,{scope:s,value:c,max:o,children:e.jsx(ct.div,{"aria-valuemax":o,"aria-valuemin":0,"aria-valuenow":ky(c)?c:void 0,"aria-valuetext":d,role:"progressbar","data-state":IK(c,o),"data-value":c??void 0,"data-max":o,...l,ref:r})})});EK.displayName=gk;var DK="ProgressIndicator",MK=j.forwardRef((t,r)=>{const{__scopeProgress:s,...n}=t,a=YIe(DK,s);return e.jsx(ct.div,{"data-state":IK(a.value,a.max),"data-value":a.value??void 0,"data-max":a.max,...n,ref:r})});MK.displayName=DK;function QIe(t,r){return`${Math.round(t/r*100)}%`}function IK(t,r){return t==null?"indeterminate":t===r?"complete":"loading"}function ky(t){return typeof t=="number"}function ID(t){return ky(t)&&!isNaN(t)&&t>0}function RD(t,r){return ky(t)&&!isNaN(t)&&t<=r&&t>=0}function XIe(t,r){return`Invalid prop \`max\` of value \`${t}\` supplied to \`${r}\`. Only numbers greater than 0 are valid max values. Defaulting to \`${vk}\`.`}function ZIe(t,r){return`Invalid prop \`value\` of value \`${t}\` supplied to \`${r}\`. The \`value\` prop must be:
  - a positive number
  - less than the value passed to \`max\` (or ${vk} if no \`max\` prop is set)
  - \`null\` or \`undefined\` if the progress is indeterminate.

Defaulting to \`null\`.`}var RK=EK,JIe=MK;const Ha=j.forwardRef(({className:t,value:r,...s},n)=>e.jsx(RK,{ref:n,className:Oe("relative h-4 w-full overflow-hidden rounded-full bg-secondary",t),...s,children:e.jsx(JIe,{className:"h-full w-full flex-1 bg-primary transition-all",style:{transform:`translateX(-${100-(r||0)}%)`}})}));Ha.displayName=RK.displayName;function eRe(){var H,Z,me,Ne,te,Ie,Te,de,Ee,De,rt,Me,Ge,Xe,Ce,Ft,yt,cr,ar,Sr,re;const{user:t}=dt(),{toast:r}=Be(),[s,n]=j.useState("overview"),[a,i]=j.useState(500),[l,o]=j.useState("recharge"),[c,d]=j.useState("Airtel"),[u,m]=j.useState(""),h=(t==null?void 0:t.userType)==="admin",{data:g,isLoading:f}=fe({queryKey:["/api/commissions/stats"],enabled:h}),{data:p,isLoading:y}=fe({queryKey:["/api/commissions/hierarchy-wallet-balances"],enabled:h}),{data:v,isLoading:x}=fe({queryKey:["/api/commissions/pending"],enabled:h}),{data:b,isLoading:N}=fe({queryKey:["/api/recharges/admin"],enabled:h}),w=Se({mutationFn:async ee=>await(await le("POST","/api/commissions/mock-transaction",ee)).json(),onSuccess:()=>{r({title:"Mock transaction created",description:"Commission distribution has been processed successfully"}),pe.invalidateQueries({queryKey:["/api/commissions/stats"]}),pe.invalidateQueries({queryKey:["/api/commissions/hierarchy-wallet-balances"]}),pe.invalidateQueries({queryKey:["/api/commissions/pending"]}),pe.invalidateQueries({queryKey:["/api/user"]})},onError:ee=>{r({title:"Error creating mock transaction",description:ee.message,variant:"destructive"})}}),C=Se({mutationFn:async ee=>await(await le("POST","/api/commissions/mark-as-paid",{commissionIds:ee})).json(),onSuccess:()=>{r({title:"Commissions marked as paid",description:"The selected commissions have been marked as paid"}),pe.invalidateQueries({queryKey:["/api/commissions/stats"]}),pe.invalidateQueries({queryKey:["/api/commissions/hierarchy-wallet-balances"]}),pe.invalidateQueries({queryKey:["/api/commissions/pending"]})},onError:ee=>{r({title:"Error marking commissions as paid",description:ee.message,variant:"destructive"})}}),P=Se({mutationFn:async()=>await(await le("POST","/api/commission-configs/initialize")).json(),onSuccess:ee=>{r({title:"Commission configs initialized",description:ee.message||"Default commission configurations have been set up"}),pe.invalidateQueries({queryKey:["/api/commission-configs"]})},onError:ee=>{r({title:"Error initializing configs",description:ee.message,variant:"destructive"})}}),S=Se({mutationFn:async()=>await(await le("POST","/api/commissions/sync-wallet-balances")).json(),onSuccess:ee=>{r({title:"Wallet balances synchronized",description:ee.message||"All user wallet balances have been synchronized"}),pe.invalidateQueries({queryKey:["/api/commissions/hierarchy-wallet-balances"]}),pe.invalidateQueries({queryKey:["/api/user"]})},onError:ee=>{r({title:"Error syncing wallet balances",description:ee.message,variant:"destructive"})}}),A=Se({mutationFn:async()=>{if(!u||isNaN(parseInt(u)))throw new Error("Please enter a valid recharge ID");return await(await le("POST","/api/commissions/manual-distribute-recharge",{rechargeId:parseInt(u)})).json()},onSuccess:ee=>{r({title:"Commissions distributed",description:"Commissions have been distributed successfully for the recharge"}),pe.invalidateQueries({queryKey:["/api/commissions/stats"]}),pe.invalidateQueries({queryKey:["/api/commissions/hierarchy-wallet-balances"]}),pe.invalidateQueries({queryKey:["/api/commissions/pending"]}),pe.invalidateQueries({queryKey:["/api/user"]}),m("")},onError:ee=>{r({title:"Error distributing commissions",description:ee.message,variant:"destructive"})}}),k=()=>{w.mutate({amount:a,serviceType:l,provider:c})},I=ee=>{C.mutate([ee])},L=()=>{P.mutate()},K=()=>{S.mutate()},R=()=>{A.mutate()};if(!h)return e.jsx("div",{className:"container mx-auto p-8",children:e.jsx(E,{children:e.jsxs(Y,{children:[e.jsx(X,{children:"Access Denied"}),e.jsx(he,{children:"You do not have permission to view the commission dashboard. This dashboard is only accessible to administrators."})]})})});const F=p?[{name:"Admin",value:((H=p.admin)==null?void 0:H.walletBalance)||0},{name:"Branch Manager",value:((Z=p.branchManager)==null?void 0:Z.walletBalance)||0},{name:"Taluk Manager",value:((me=p.talukManager)==null?void 0:me.walletBalance)||0},{name:"Service Agent",value:((Ne=p.serviceAgent)==null?void 0:Ne.walletBalance)||0},{name:"Customer",value:((te=p.testUser)==null?void 0:te.walletBalance)||0}]:[],W=["#0088FE","#00C49F","#FFBB28","#FF8042","#8884d8"],Q=[{date:"2025-01",amount:2500,commissions:150},{date:"2025-02",amount:3200,commissions:192},{date:"2025-03",amount:4100,commissions:246},{date:"2025-04",amount:3800,commissions:228}];return e.jsxs("div",{className:"container mx-auto p-4",children:[e.jsx("h1",{className:"text-3xl font-bold mb-6",children:"Commission Dashboard"}),e.jsx("div",{className:"mb-8",children:e.jsxs(rr,{value:s,onValueChange:n,children:[e.jsxs(tr,{className:"mb-6",children:[e.jsx(ke,{value:"overview",children:"Overview"}),e.jsx(ke,{value:"testing",children:"Testing Tools"}),e.jsx(ke,{value:"pending",children:"Pending Commissions"})]}),e.jsxs(Le,{value:"overview",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 mb-8",children:[e.jsxs(E,{children:[e.jsx(Y,{className:"pb-2",children:e.jsx(X,{className:"text-sm font-medium text-muted-foreground",children:"Total Commissions"})}),e.jsx(D,{children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(Hg,{className:"h-5 w-5 text-primary mr-2"}),e.jsxs("span",{className:"text-2xl font-bold",children:["",f?"...":((Ie=g==null?void 0:g.totalCommissionsEarned)==null?void 0:Ie.toFixed(2))||"0.00"]})]})})]}),e.jsxs(E,{children:[e.jsx(Y,{className:"pb-2",children:e.jsx(X,{className:"text-sm font-medium text-muted-foreground",children:"Total Recharges"})}),e.jsx(D,{children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(e$,{className:"h-5 w-5 text-green-500 mr-2"}),e.jsx("span",{className:"text-2xl font-bold",children:f?"...":(g==null?void 0:g.totalRecharges)||0})]})})]}),e.jsxs(E,{children:[e.jsx(Y,{className:"pb-2",children:e.jsx(X,{className:"text-sm font-medium text-muted-foreground",children:"Total Bookings"})}),e.jsx(D,{children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(Aw,{className:"h-5 w-5 text-blue-500 mr-2"}),e.jsx("span",{className:"text-2xl font-bold",children:f?"...":(g==null?void 0:g.totalBookings)||0})]})})]}),e.jsxs(E,{children:[e.jsx(Y,{className:"pb-2",children:e.jsx(X,{className:"text-sm font-medium text-muted-foreground",children:"Active Users"})}),e.jsx(D,{children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(Dw,{className:"h-5 w-5 text-purple-500 mr-2"}),e.jsx("span",{className:"text-2xl font-bold",children:"5"})]})})]})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 mb-8",children:[e.jsxs(E,{children:[e.jsxs(Y,{children:[e.jsx(X,{children:"Commission Distribution"}),e.jsx(he,{children:"How commissions are distributed among different roles"})]}),e.jsx(D,{className:"h-80",children:y?e.jsx("div",{className:"flex items-center justify-center h-full",children:e.jsx("div",{className:"animate-spin w-8 h-8 border-4 border-primary border-t-transparent rounded-full","aria-label":"Loading"})}):e.jsx(Dv,{width:"100%",height:"100%",children:e.jsxs(a4e,{children:[e.jsx(Al,{data:F,cx:"50%",cy:"50%",labelLine:!1,label:({name:ee,percent:we})=>`${ee}: ${(we*100).toFixed(0)}%`,outerRadius:80,fill:"#8884d8",dataKey:"value",children:F.map((ee,we)=>e.jsx(qj,{fill:W[we%W.length]},`cell-${we}`))}),e.jsx(Kn,{formatter:ee=>`${ee}`})]})})})]}),e.jsxs(E,{children:[e.jsxs(Y,{children:[e.jsx(X,{children:"Transaction & Commission Trends"}),e.jsx(he,{children:"Monthly transaction volume vs commissions"})]}),e.jsx(D,{className:"h-80",children:e.jsx(Dv,{width:"100%",height:"100%",children:e.jsxs(L7,{data:Q,margin:{top:5,right:30,left:20,bottom:5},children:[e.jsx(gy,{strokeDasharray:"3 3"}),e.jsx(Ic,{dataKey:"date"}),e.jsx(ko,{yAxisId:"left",orientation:"left"}),e.jsx(ko,{yAxisId:"right",orientation:"right"}),e.jsx(Kn,{formatter:ee=>`${ee}`}),e.jsx(ol,{}),e.jsx(Po,{yAxisId:"left",type:"monotone",dataKey:"amount",stroke:"#8884d8",name:"Transaction Amount"}),e.jsx(Po,{yAxisId:"right",type:"monotone",dataKey:"commissions",stroke:"#82ca9d",name:"Commission Amount"})]})})})]})]}),e.jsxs(E,{children:[e.jsxs(Y,{className:"flex flex-row items-center justify-between",children:[e.jsxs("div",{children:[e.jsx(X,{className:"text-xl",children:"Wallet Balances"}),e.jsx(he,{children:"Current commission wallet balances across the hierarchy"})]}),e.jsxs(T,{onClick:K,variant:"outline",size:"sm",className:"ml-auto",children:[e.jsx(Ua,{className:"h-4 w-4 mr-2"}),"Sync Balances"]})]}),e.jsx(D,{children:y?e.jsx("div",{className:"flex items-center justify-center py-8",children:e.jsx("div",{className:"animate-spin w-8 h-8 border-4 border-primary border-t-transparent rounded-full","aria-label":"Loading"})}):e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"flex justify-between mb-2",children:[e.jsxs("span",{className:"font-medium",children:["Admin (",((Te=p==null?void 0:p.admin)==null?void 0:Te.username)||"Unknown",")"]}),e.jsxs("span",{className:"font-medium",children:["",((Ee=(de=p==null?void 0:p.admin)==null?void 0:de.walletBalance)==null?void 0:Ee.toFixed(2))||"0.00"]})]}),e.jsx(Ha,{value:p!=null&&p.admin?p.admin.walletBalance/200*100:0,className:"h-2"})]}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex justify-between mb-2",children:[e.jsxs("span",{className:"font-medium",children:["Branch Manager (",((De=p==null?void 0:p.branchManager)==null?void 0:De.username)||"Unknown",")"]}),e.jsxs("span",{className:"font-medium",children:["",((Me=(rt=p==null?void 0:p.branchManager)==null?void 0:rt.walletBalance)==null?void 0:Me.toFixed(2))||"0.00"]})]}),e.jsx(Ha,{value:p!=null&&p.branchManager?p.branchManager.walletBalance/200*100:0,className:"h-2"})]}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex justify-between mb-2",children:[e.jsxs("span",{className:"font-medium",children:["Taluk Manager (",((Ge=p==null?void 0:p.talukManager)==null?void 0:Ge.username)||"Unknown",")"]}),e.jsxs("span",{className:"font-medium",children:["",((Ce=(Xe=p==null?void 0:p.talukManager)==null?void 0:Xe.walletBalance)==null?void 0:Ce.toFixed(2))||"0.00"]})]}),e.jsx(Ha,{value:p!=null&&p.talukManager?p.talukManager.walletBalance/200*100:0,className:"h-2"})]}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex justify-between mb-2",children:[e.jsxs("span",{className:"font-medium",children:["Service Agent (",((Ft=p==null?void 0:p.serviceAgent)==null?void 0:Ft.username)||"Unknown",")"]}),e.jsxs("span",{className:"font-medium",children:["",((cr=(yt=p==null?void 0:p.serviceAgent)==null?void 0:yt.walletBalance)==null?void 0:cr.toFixed(2))||"0.00"]})]}),e.jsx(Ha,{value:p!=null&&p.serviceAgent?p.serviceAgent.walletBalance/200*100:0,className:"h-2"})]}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex justify-between mb-2",children:[e.jsxs("span",{className:"font-medium",children:["Test User (",((ar=p==null?void 0:p.testUser)==null?void 0:ar.username)||"Unknown",")"]}),e.jsxs("span",{className:"font-medium",children:["",((re=(Sr=p==null?void 0:p.testUser)==null?void 0:Sr.walletBalance)==null?void 0:re.toFixed(2))||"0.00"]})]}),e.jsx(Ha,{value:p!=null&&p.testUser?p.testUser.walletBalance/200*100:0,className:"h-2"})]})]})})]})]}),e.jsxs(Le,{value:"testing",children:[e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 mb-6",children:[e.jsxs(E,{children:[e.jsxs(Y,{children:[e.jsx(X,{children:"Commission Distribution Testing"}),e.jsx(he,{children:"Create mock transactions to test the commission distribution system"})]}),e.jsx(D,{children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-sm font-medium",children:"Transaction Amount"}),e.jsx("input",{type:"number",className:"w-full px-3 py-2 border rounded-md",value:a,onChange:ee=>i(Number(ee.target.value)),min:1})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-sm font-medium",children:"Service Type"}),e.jsxs("select",{className:"w-full px-3 py-2 border rounded-md",value:l,onChange:ee=>o(ee.target.value),children:[e.jsx("option",{value:"recharge",children:"Recharge"}),e.jsx("option",{value:"booking",children:"Booking"}),e.jsx("option",{value:"grocery",children:"Grocery"})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-sm font-medium",children:"Provider"}),e.jsxs("select",{className:"w-full px-3 py-2 border rounded-md",value:c,onChange:ee=>d(ee.target.value),children:[e.jsx("option",{value:"Airtel",children:"Airtel"}),e.jsx("option",{value:"Jio",children:"Jio"}),e.jsx("option",{value:"Vi",children:"Vi"}),e.jsx("option",{value:"BSNL",children:"BSNL"})]})]})]}),e.jsxs("div",{className:"bg-neutral-50 p-4 rounded-md",children:[e.jsx("h3",{className:"text-sm font-medium mb-2",children:"Commission Breakdown (Preview)"}),e.jsxs("div",{className:"space-y-2 text-sm",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"Admin (0.5%)"}),e.jsxs("span",{children:["",(a*.005).toFixed(2)]})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"Branch Manager (0.5%)"}),e.jsxs("span",{children:["",(a*.005).toFixed(2)]})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"Taluk Manager (1%)"}),e.jsxs("span",{children:["",(a*.01).toFixed(2)]})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"Service Agent (2%)"}),e.jsxs("span",{children:["",(a*.02).toFixed(2)]})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"Customer (1%)"}),e.jsxs("span",{children:["",(a*.01).toFixed(2)]})]}),e.jsx(kr,{className:"my-2"}),e.jsxs("div",{className:"flex justify-between font-medium",children:[e.jsx("span",{children:"Total Commission"}),e.jsxs("span",{children:["",(a*.05).toFixed(2)]})]})]})]}),e.jsx(T,{onClick:k,disabled:w.isPending,className:"w-full",children:w.isPending?"Processing...":"Create Mock Transaction"})]})})]}),e.jsxs(E,{children:[e.jsxs(Y,{children:[e.jsx(X,{children:"System Maintenance Tools"}),e.jsx(he,{children:"Tools to initialize and fix commission system configuration"})]}),e.jsxs(D,{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-sm font-medium mb-2",children:"Commission Configuration Setup"}),e.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:"Initialize default commission configurations for all service types if they don't exist."}),e.jsx(T,{onClick:L,disabled:P.isPending,className:"w-full",variant:"outline",children:P.isPending?"Initializing...":"Initialize Default Commission Configs"})]}),e.jsx(kr,{}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-sm font-medium mb-2",children:"Wallet Balance Synchronization"}),e.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:"Recalculates and updates wallet balances for all users based on their commission transactions."}),e.jsx(T,{onClick:K,disabled:S.isPending,className:"w-full",variant:"outline",children:S.isPending?"Syncing...":"Sync Wallet Balances"})]}),e.jsx(kr,{}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-sm font-medium mb-2",children:"Manual Commission Distribution"}),e.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:"Manually distribute commissions for recharges that weren't processed automatically."}),e.jsxs("div",{className:"flex gap-2 mb-4",children:[e.jsx("input",{type:"text",className:"flex-1 px-3 py-2 border rounded-md",value:u,onChange:ee=>m(ee.target.value),placeholder:"Enter recharge ID"}),e.jsx(T,{onClick:R,disabled:A.isPending||!u,variant:"outline",children:A.isPending?"Processing...":"Distribute"})]}),e.jsx("div",{className:"bg-amber-50 border border-amber-200 rounded-md p-2 text-xs text-amber-800",children:"This tool is for recharges that have been processed by a service agent but didn't have commissions distributed."})]})]}),e.jsx(mr,{className:"bg-muted/50 text-xs text-muted-foreground",children:"Note: These tools should only be used for maintenance and fixing system issues."})]})]}),e.jsxs(E,{className:"mt-6",children:[e.jsxs(Y,{children:[e.jsx(X,{children:"Recharge Transactions"}),e.jsx(he,{children:"List of all recharge transactions in the system. Use the ID from this list for manual commission distribution."})]}),e.jsx(D,{children:N?e.jsx("div",{className:"flex justify-center p-4",children:e.jsx(Ye,{className:"h-8 w-8 animate-spin text-primary"})}):b&&b.length>0?e.jsx("div",{className:"overflow-x-auto",children:e.jsxs(Ur,{children:[e.jsx(qr,{children:e.jsxs(mt,{children:[e.jsx(xe,{className:"w-[80px]",children:"ID"}),e.jsx(xe,{children:"User ID"}),e.jsx(xe,{children:"Amount"}),e.jsx(xe,{children:"Mobile"}),e.jsx(xe,{children:"Provider"}),e.jsx(xe,{children:"Service Type"}),e.jsx(xe,{children:"Status"}),e.jsx(xe,{children:"Processed By"}),e.jsx(xe,{children:"Date"}),e.jsx(xe,{children:"Actions"})]})}),e.jsx(zr,{children:b.map(ee=>e.jsxs(mt,{children:[e.jsx(ne,{className:"font-medium",children:ee.id}),e.jsx(ne,{children:ee.userId}),e.jsxs(ne,{children:["",ee.amount]}),e.jsx(ne,{children:ee.mobileNumber}),e.jsx(ne,{children:ee.provider||"-"}),e.jsx(ne,{children:ee.serviceType||"mobile"}),e.jsx(ne,{children:e.jsx(ae,{variant:ee.status==="completed"?"success":ee.status==="pending"?"outline":"secondary",children:ee.status})}),e.jsx(ne,{children:ee.processedBy||"-"}),e.jsx(ne,{children:new Date(ee.createdAt).toLocaleDateString()}),e.jsx(ne,{children:e.jsx(T,{variant:"outline",size:"sm",onClick:()=>m(ee.id.toString()),children:"Use ID"})})]},ee.id))})]})}):e.jsx("div",{className:"text-center p-4 border rounded-md",children:e.jsx("p",{children:"No recharge transactions found"})})})]})]}),e.jsx(Le,{value:"pending",children:e.jsxs(E,{children:[e.jsxs(Y,{children:[e.jsx(X,{children:"Pending Commissions"}),e.jsx(he,{children:"Commission transactions that need to be approved"})]}),e.jsx(D,{children:x?e.jsx("div",{className:"flex items-center justify-center py-8",children:e.jsx("div",{className:"animate-spin w-8 h-8 border-4 border-primary border-t-transparent rounded-full","aria-label":"Loading"})}):v&&v.length>0?e.jsx("div",{className:"space-y-4",children:v.map(ee=>{var we,We;return e.jsxs("div",{className:"flex items-center justify-between border p-4 rounded-md",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"font-medium",children:[ee.serviceType.charAt(0).toUpperCase()+ee.serviceType.slice(1)," ",ee.provider&&`- ${ee.provider}`]}),e.jsxs("div",{className:"text-sm text-muted-foreground",children:["User: ",ee.username," | Amount: ",(we=ee.transactionAmount)==null?void 0:we.toFixed(2)," | Commission: ",(We=ee.commissionAmount)==null?void 0:We.toFixed(2)," (",ee.commissionRate,"%)"]}),e.jsxs("div",{className:"text-xs text-muted-foreground",children:["Date: ",new Date(ee.createdAt).toLocaleString()]})]}),e.jsxs(T,{size:"sm",variant:"outline",onClick:()=>I(ee.id),children:[e.jsx(Is,{className:"h-4 w-4 mr-2"}),"Mark as Paid"]})]},ee.id)})}):e.jsx("div",{className:"text-center py-8 text-muted-foreground",children:"No pending commissions found"})})]})})]})})]})}function tRe(){const{toast:t}=Be(),[r,s]=j.useState(500),[n,a]=j.useState(500),[i,l]=j.useState(null),[o,c]=j.useState(!1),{data:d,isLoading:u,error:m}=fe({queryKey:["/api/wallet"],staleTime:3e4}),h=Se({mutationFn:async x=>(await le("POST","/api/wallet/recharge",{amount:x})).json(),onSuccess:x=>{l(x),p(x)},onError:x=>{t({title:"Failed to create order",description:x instanceof Error?x.message:"Unknown error",variant:"destructive"})}}),g=Se({mutationFn:async x=>(await le("POST","/api/wallet/verify-payment",x)).json(),onSuccess:()=>{t({title:"Payment successful",description:"Your wallet has been recharged"}),c(!1),l(null),pe.invalidateQueries({queryKey:["/api/wallet"]})},onError:x=>{t({title:"Payment verification failed",description:x instanceof Error?x.message:"Unknown error",variant:"destructive"}),c(!1)}}),f=Se({mutationFn:async x=>(await le("POST","/api/wallet/add-test-funds",{amount:x})).json(),onSuccess:x=>{t({title:"Funds added successfully",description:`${x.balance.toFixed(2)} is your new wallet balance`}),pe.invalidateQueries({queryKey:["/api/wallet"]})},onError:x=>{t({title:"Failed to add funds",description:x instanceof Error?x.message:"Unknown error",variant:"destructive"})}}),p=x=>{if(!x.key){t({title:"Payment Error",description:"API key not available. Please contact support.",variant:"destructive"});return}if(c(!0),window.Razorpay){const b={key:x.key,amount:x.amount,currency:x.currency,name:"TN Services",description:"Wallet Recharge",order_id:x.orderId,handler:function(N){g.mutate({razorpay_payment_id:N.razorpay_payment_id,razorpay_order_id:N.razorpay_order_id,razorpay_signature:N.razorpay_signature})},prefill:{name:"TN User"},theme:{color:"#6366F1"},modal:{ondismiss:function(){c(!1)}}};try{new window.Razorpay(b).open()}catch(N){console.error("Razorpay error:",N),t({title:"Payment Error",description:"Failed to initialize payment. Please try again.",variant:"destructive"}),c(!1)}}else t({title:"Payment Error",description:"Payment gateway not available. Please try again later.",variant:"destructive"}),c(!1)},y=()=>{if(r<100){t({title:"Invalid amount",description:"Minimum recharge amount is 100",variant:"destructive"});return}h.mutate(r)},v=()=>{if(n<=0||n>1e4){t({title:"Invalid amount",description:"Amount must be between 1 and 10,000",variant:"destructive"});return}f.mutate(n)};return u?e.jsx("div",{className:"flex items-center justify-center min-h-screen",children:e.jsx(Ye,{className:"h-8 w-8 animate-spin text-primary"})}):m?e.jsx("div",{className:"container py-10",children:e.jsxs(E,{children:[e.jsxs(Y,{children:[e.jsx(X,{children:"Error"}),e.jsx(he,{children:"Failed to load wallet data"})]}),e.jsxs(D,{children:[e.jsx("p",{children:m instanceof Error?m.message:"Unknown error"}),e.jsx(T,{className:"mt-4",onClick:()=>pe.invalidateQueries({queryKey:["/api/wallet"]}),children:"Retry"})]})]})}):e.jsx("div",{className:"container py-6",children:e.jsxs("div",{className:"flex flex-col gap-8",children:[e.jsxs("div",{className:"flex flex-col gap-2",children:[e.jsx("h1",{className:"text-3xl font-bold",children:"Wallet"}),e.jsx("p",{className:"text-muted-foreground",children:"Manage your wallet balance and view transactions"})]}),e.jsxs("div",{className:"grid gap-6 md:grid-cols-2",children:[e.jsxs(E,{className:"md:col-span-2",children:[e.jsxs(Y,{className:"pb-4",children:[e.jsx(X,{children:"Wallet Balance"}),e.jsx(he,{children:"Current available balance in your wallet"})]}),e.jsx(D,{children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("div",{children:e.jsxs("p",{className:"text-4xl font-bold",children:["",d==null?void 0:d.balance.toFixed(2)]})}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs(kt,{children:[e.jsx(ls,{asChild:!0,children:e.jsxs(T,{variant:"outline",size:"lg",children:[e.jsx(Hg,{className:"mr-2 h-4 w-4"}),"Add Test Funds"]})}),e.jsxs(St,{className:"sm:max-w-md",children:[e.jsxs(Ct,{children:[e.jsx(Pt,{children:"Add Test Funds"}),e.jsx(Yt,{children:"Quickly add funds to your wallet for testing purposes"})]}),e.jsx("div",{className:"grid gap-4 py-4",children:e.jsxs("div",{className:"grid gap-2",children:[e.jsx(se,{htmlFor:"test-amount",children:"Amount ()"}),e.jsx($,{id:"test-amount",type:"number",min:1,max:1e4,value:n,onChange:x=>a(Number(x.target.value)),placeholder:"Enter amount"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Amount must be between 1 and 10,000"})]})}),e.jsxs(Ms,{className:"sm:justify-between",children:[e.jsx(tT,{asChild:!0,children:e.jsx(T,{type:"button",variant:"secondary",children:"Cancel"})}),e.jsx(T,{type:"button",onClick:v,disabled:f.isPending,variant:"default",children:f.isPending?e.jsxs(e.Fragment,{children:[e.jsx(Ye,{className:"mr-2 h-4 w-4 animate-spin"})," Processing"]}):e.jsxs(e.Fragment,{children:[e.jsx(Rt,{className:"mr-2 h-4 w-4"}),"Add Funds"]})})]})]})]}),e.jsxs(kt,{children:[e.jsx(ls,{asChild:!0,children:e.jsxs(T,{size:"lg",children:[e.jsx(ia,{className:"mr-2 h-4 w-4"}),"Add Money"]})}),e.jsxs(St,{className:"sm:max-w-md",children:[e.jsxs(Ct,{children:[e.jsx(Pt,{children:"Add Money to Wallet"}),e.jsx(Yt,{children:"Enter the amount you want to add to your wallet"})]}),e.jsx("div",{className:"grid gap-4 py-4",children:e.jsxs("div",{className:"grid gap-2",children:[e.jsx(se,{htmlFor:"amount",children:"Amount ()"}),e.jsx($,{id:"amount",type:"number",min:100,value:r,onChange:x=>s(Number(x.target.value)),placeholder:"Enter amount"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Minimum amount: 100"})]})}),e.jsxs(Ms,{className:"sm:justify-between",children:[e.jsx(tT,{asChild:!0,children:e.jsx(T,{type:"button",variant:"secondary",children:"Cancel"})}),e.jsx(T,{type:"button",onClick:y,disabled:h.isPending||o,children:h.isPending||o?e.jsxs(e.Fragment,{children:[e.jsx(Ye,{className:"mr-2 h-4 w-4 animate-spin"})," Processing"]}):"Proceed to Payment"})]})]})]})]})]})})]}),e.jsxs(E,{className:"md:col-span-2",children:[e.jsxs(Y,{children:[e.jsx(X,{children:"Transaction History"}),e.jsx(he,{children:"Your recent wallet transactions"})]}),e.jsx(D,{children:d!=null&&d.transactions&&d.transactions.length>0?e.jsxs(rr,{defaultValue:"all",className:"w-full",children:[e.jsxs(tr,{className:"mb-4",children:[e.jsx(ke,{value:"all",children:"All"}),e.jsx(ke,{value:"credit",children:"Credits"}),e.jsx(ke,{value:"debit",children:"Debits"})]}),e.jsxs(Le,{value:"all",className:"space-y-4",children:[d.transactions.map(x=>e.jsx(mN,{transaction:x},x.id)),d.transactions.length===0&&e.jsx("p",{className:"text-center py-8 text-muted-foreground",children:"No transactions found"})]}),e.jsxs(Le,{value:"credit",className:"space-y-4",children:[d.transactions.filter(x=>x.type==="credit").map(x=>e.jsx(mN,{transaction:x},x.id)),d.transactions.filter(x=>x.type==="credit").length===0&&e.jsx("p",{className:"text-center py-8 text-muted-foreground",children:"No credit transactions found"})]}),e.jsxs(Le,{value:"debit",className:"space-y-4",children:[d.transactions.filter(x=>x.type==="debit").map(x=>e.jsx(mN,{transaction:x},x.id)),d.transactions.filter(x=>x.type==="debit").length===0&&e.jsx("p",{className:"text-center py-8 text-muted-foreground",children:"No debit transactions found"})]})]}):e.jsx("div",{className:"py-8 text-center",children:e.jsx("p",{className:"text-muted-foreground",children:"No transactions available"})})})]})]})]})})}function mN({transaction:t}){return e.jsxs("div",{className:"flex items-center justify-between py-4 border-b last:border-b-0",children:[e.jsxs("div",{className:"flex items-start gap-4",children:[e.jsx("div",{className:"h-10 w-10 flex items-center justify-center rounded-full bg-muted",children:t.type==="credit"?e.jsx(OX,{className:"h-5 w-5 text-green-500"}):e.jsx(TX,{className:"h-5 w-5 text-red-500"})}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium",children:t.description}),e.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[e.jsx("span",{className:"capitalize",children:t.serviceType}),e.jsx("span",{children:""}),e.jsxs("span",{className:"flex items-center",children:[e.jsx(gt,{className:"mr-1 h-3 w-3"}),YP(new Date(t.createdAt),{addSuffix:!0})]})]})]})]}),e.jsx("div",{children:e.jsxs("p",{className:`font-medium ${t.type==="credit"?"text-green-600":"text-red-600"}`,children:[t.type==="credit"?"+":"-","",t.amount.toFixed(2)]})})]})}const rRe=im("relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),la=j.forwardRef(({className:t,variant:r,...s},n)=>e.jsx("div",{ref:n,role:"alert",className:Oe(rRe({variant:r}),t),...s}));la.displayName="Alert";const $i=j.forwardRef(({className:t,...r},s)=>e.jsx("h5",{ref:s,className:Oe("mb-1 font-medium leading-none tracking-tight",t),...r}));$i.displayName="AlertTitle";const oa=j.forwardRef(({className:t,...r},s)=>e.jsx("div",{ref:s,className:Oe("text-sm [&_p]:leading-relaxed",t),...r}));oa.displayName="AlertDescription";function sRe({selectedType:t,onSelectType:r,onSelectProvider:s}){const{toast:n}=Be(),{data:a,isLoading:i,error:l}=fe({queryKey:["/api/utility/providers",t],queryFn:async()=>{const c=t?`?type=${t}`:"";return(await le("GET",`/api/utility/providers${c}`)).json()}}),o=[{id:"electricity",name:"Electricity"},{id:"water",name:"Water"},{id:"gas",name:"Gas"},{id:"dth",name:"DTH"},{id:"broadband",name:"Broadband"},{id:"landline",name:"Landline"}];return l&&n({title:"Error fetching providers",description:"Failed to load utility providers. Please try again.",variant:"destructive"}),e.jsxs(E,{children:[e.jsxs(Y,{children:[e.jsx(X,{children:"Pay Utility Bills"}),e.jsx(he,{children:"Select a service provider to fetch and pay bills"})]}),e.jsx(D,{children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx(se,{htmlFor:"utilityType",children:"Select Utility Type"}),e.jsxs(je,{value:t,onValueChange:r,children:[e.jsx(ge,{id:"utilityType",children:e.jsx(be,{placeholder:"Select utility type"})}),e.jsx(ve,{children:o.map(c=>e.jsx(O,{value:c.id,children:c.name},c.id))})]})]}),i?e.jsx("div",{className:"flex justify-center items-center py-8",children:e.jsx(Ye,{className:"h-8 w-8 animate-spin text-primary"})}):a&&a.length>0?e.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-4 mt-4",children:a.map(c=>e.jsx(E,{className:"cursor-pointer hover:shadow-md transition-shadow",onClick:()=>s(c),children:e.jsxs(D,{className:"p-4 flex flex-col items-center justify-center space-y-2",children:[e.jsx("div",{className:"h-16 w-16 flex items-center justify-center overflow-hidden rounded-full bg-neutral-100",children:e.jsx("img",{src:c.logo,alt:c.name,className:"max-h-12 max-w-12 object-contain",onError:d=>{d.target.style.display="none",d.target.parentElement.innerText=c.name.charAt(0)}})}),e.jsx("span",{className:"text-sm font-medium text-center",children:c.name})]})},c.id))}):e.jsx("div",{className:"py-4 text-center text-muted-foreground",children:t?"No providers available for the selected utility type":"Select a utility type to view providers"})]})})]})}function nRe({provider:t,onBack:r,onBillFetched:s}){const[n,a]=j.useState(""),{toast:i}=Be(),l=Se({mutationFn:async()=>{const c=await le("GET",`/api/utility/fetch-bill?providerId=${t.id}&consumerNumber=${n}`);if(!c.ok){const d=await c.json();throw new Error(d.message||"Failed to fetch bill")}return c.json()},onSuccess:c=>{s(c)},onError:c=>{i({title:"Error fetching bill",description:c.message||"Failed to fetch bill details. Please check the consumer number and try again.",variant:"destructive"})}}),o=c=>{if(c.preventDefault(),!n.trim()){i({title:"Consumer number required",description:"Please enter a valid consumer/subscriber number",variant:"destructive"});return}l.mutate()};return e.jsxs(E,{children:[e.jsx(Y,{children:e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(T,{variant:"ghost",size:"sm",className:"h-8 w-8 p-0",onClick:r,children:""}),e.jsxs("div",{children:[e.jsx(X,{children:"Fetch Bill Details"}),e.jsx(he,{children:"Enter your consumer number to fetch bill details"})]})]})}),e.jsxs(D,{children:[e.jsxs("div",{className:"flex items-center space-x-4 mb-6",children:[e.jsx("div",{className:"h-12 w-12 rounded-full bg-neutral-100 flex items-center justify-center overflow-hidden",children:e.jsx("img",{src:t.logo,alt:t.name,className:"max-h-10 max-w-10 object-contain",onError:c=>{c.target.style.display="none",c.target.parentElement.innerText=t.name.charAt(0)}})}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-medium",children:t.name}),e.jsx("p",{className:"text-sm text-muted-foreground capitalize",children:t.type})]})]}),e.jsx("form",{onSubmit:o,children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(se,{htmlFor:"consumerNumber",children:"Consumer/Subscriber Number"}),e.jsx($,{id:"consumerNumber",type:"text",placeholder:"Enter your consumer/subscriber number",value:n,onChange:c=>a(c.target.value),disabled:l.isPending,required:!0}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Enter the number exactly as it appears on your bill or subscription details"})]}),e.jsx(T,{type:"submit",className:"w-full",disabled:l.isPending,children:l.isPending?e.jsxs(e.Fragment,{children:[e.jsx(Ye,{className:"mr-2 h-4 w-4 animate-spin"}),"Fetching..."]}):"Fetch Bill"})]})})]})]})}function aRe({bill:t,onBack:r,onPaid:s}){const{toast:n}=Be(),a=Se({mutationFn:async()=>{const m=await le("POST","/api/utility/pay-bill",{billId:t.billId,providerId:i(t.providerName,t.providerType),consumerNumber:t.consumerNumber,amount:t.amount});if(!m.ok){const h=await m.json();throw new Error(h.message||"Payment failed")}return m.json()},onSuccess:()=>{pe.invalidateQueries({queryKey:["/api/wallet/balance"]}),n({title:"Payment Successful",description:`Your bill payment of ${t.amount.toFixed(2)} was successful.`,variant:"default"}),s()},onError:m=>{n({title:"Payment Failed",description:m.message||"Failed to process payment. Please try again.",variant:"destructive"})}}),i=(m,h)=>{const g=m.toLowerCase().replace(/\s+/g,"");return`${h.toLowerCase()}_${g}`},l=m=>{try{return xt(vD(m),"d MMM yyyy")}catch{return m}},c=(m=>{try{const h=vD(m),g=new Date,f=h.getTime()-g.getTime();return Math.ceil(f/(1e3*60*60*24))}catch{return 0}})(t.dueDate),d=c>=0&&c<=5,u=c<0;return e.jsxs(E,{children:[e.jsx(Y,{children:e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(T,{variant:"ghost",size:"sm",className:"h-8 w-8 p-0",onClick:r,children:""}),e.jsxs("div",{children:[e.jsx(X,{children:"Bill Details"}),e.jsx(he,{children:"Review and pay your utility bill"})]})]})}),e.jsxs(D,{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"font-medium text-lg",children:t.providerName}),e.jsxs("p",{className:"text-sm text-muted-foreground capitalize",children:[t.providerType," Bill"]})]}),e.jsx("div",{className:"px-3 py-1 bg-primary/10 rounded-full",children:e.jsxs("span",{className:"text-primary text-sm font-medium",children:["Bill #",t.billId.substring(t.billId.length-6)]})})]}),e.jsx(kr,{}),(d||u)&&e.jsxs(la,{variant:u?"destructive":"default",className:u?"":"border-yellow-500 bg-yellow-50 text-yellow-900",children:[e.jsx(nr,{className:`h-4 w-4 ${u?"":"text-yellow-500"}`}),e.jsx($i,{children:u?"Payment Overdue":"Due Soon"}),e.jsx(oa,{children:u?`This bill is overdue by ${Math.abs(c)} days.`:`This bill is due in ${c} days.`})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Customer Name"}),e.jsx("p",{children:t.customerName})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Consumer Number"}),e.jsx("p",{children:t.consumerNumber})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Bill Date"}),e.jsxs("div",{className:"flex items-center",children:[e.jsx(Xt,{className:"h-4 w-4 mr-1 text-muted-foreground"}),e.jsx("p",{children:l(t.billDate)})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Due Date"}),e.jsxs("div",{className:"flex items-center",children:[e.jsx(Xt,{className:"h-4 w-4 mr-1 text-muted-foreground"}),e.jsx("p",{children:l(t.dueDate)})]})]}),t.billPeriod&&e.jsxs("div",{className:"space-y-2 col-span-2",children:[e.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Billing Period"}),e.jsx("p",{children:t.billPeriod})]})]}),t.extraDetails&&Object.keys(t.extraDetails).length>0&&e.jsxs(e.Fragment,{children:[e.jsx(kr,{}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-sm font-medium mb-3",children:"Additional Details"}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-x-4 gap-y-2",children:Object.entries(t.extraDetails).map(([m,h])=>e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-sm text-muted-foreground capitalize",children:m.replace(/([A-Z])/g," $1").trim()}),e.jsx("span",{className:"text-sm font-medium",children:h})]},m))})]})]}),e.jsx(kr,{}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-sm text-muted-foreground",children:"Bill Amount"}),e.jsxs("span",{className:"font-semibold",children:[" ",t.amount.toFixed(2)]})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-sm text-muted-foreground",children:"Convenience Fee"}),e.jsx("span",{className:"font-semibold",children:" 0.00"})]}),e.jsx(kr,{}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"font-medium",children:"Total Amount"}),e.jsxs("span",{className:"text-lg font-bold",children:[" ",t.amount.toFixed(2)]})]})]})]}),e.jsxs(mr,{className:"flex flex-col space-y-4",children:[e.jsx(T,{className:"w-full",onClick:()=>a.mutate(),disabled:a.isPending,children:a.isPending?e.jsxs(e.Fragment,{children:[e.jsx(Ye,{className:"mr-2 h-4 w-4 animate-spin"}),"Processing Payment..."]}):e.jsxs(e.Fragment,{children:["Pay  ",t.amount.toFixed(2)]})}),e.jsxs("p",{className:"text-xs text-center text-muted-foreground",children:["By proceeding with the payment, you agree to the terms and conditions.",e.jsx("br",{}),"Payment will be deducted from your wallet balance."]})]})]})}function iRe(){return e.jsx(E,{children:e.jsxs(D,{className:"pt-6 pb-6 flex flex-col items-center justify-center text-center",children:[e.jsx("div",{className:"w-16 h-16 rounded-full bg-green-100 flex items-center justify-center mb-4",children:e.jsx(Ot,{className:"h-8 w-8 text-green-600"})}),e.jsx("h2",{className:"text-xl font-semibold mb-2",children:"Payment Successful!"}),e.jsx("p",{className:"text-muted-foreground mb-6",children:"Your bill payment has been processed successfully."}),e.jsx(T,{variant:"outline",className:"mb-4",asChild:!0,children:e.jsxs("a",{href:"/wallet",children:["Check Wallet ",e.jsx(Xn,{className:"ml-1 h-4 w-4"})]})})]})})}function lRe(){const[t,r]=j.useState("select-provider"),[s,n]=j.useState(""),[a,i]=j.useState(null),[l,o]=j.useState(null),c=f=>{i(f),r("fetch-bill")},d=f=>{o(f),r("payment")},u=()=>{r("success")},m=()=>{i(null),r("select-provider")},h=()=>{o(null),r("fetch-bill")},g=()=>{i(null),o(null),n(""),r("select-provider")};return e.jsxs("div",{className:"container mx-auto py-6 max-w-3xl",children:[e.jsxs("div",{className:"mb-6",children:[e.jsx("h1",{className:"text-2xl font-bold tracking-tight",children:"Utility Bill Payments"}),e.jsx("p",{className:"text-muted-foreground",children:"Pay your electricity, water, gas, DTH, broadband and landline bills"})]}),e.jsxs(rr,{defaultValue:"pay-bills",className:"mb-8",children:[e.jsxs(tr,{className:"mb-4",children:[e.jsx(ke,{value:"pay-bills",children:"Pay Bills"}),e.jsx(ke,{value:"payment-history",children:"Payment History"})]}),e.jsx(Le,{value:"pay-bills",children:e.jsxs("div",{className:"space-y-6",children:[t==="select-provider"&&e.jsx(sRe,{selectedType:s,onSelectType:n,onSelectProvider:c}),t==="fetch-bill"&&a&&e.jsx(nRe,{provider:a,onBack:m,onBillFetched:d}),t==="payment"&&l&&e.jsx(aRe,{bill:l,onBack:h,onPaid:u}),t==="success"&&e.jsxs("div",{className:"space-y-6",children:[e.jsx(iRe,{}),e.jsx("div",{className:"flex justify-center",children:e.jsx(T,{variant:"outline",onClick:g,children:"Pay Another Bill"})})]})]})}),e.jsx(Le,{value:"payment-history",children:e.jsxs(E,{children:[e.jsxs(Y,{children:[e.jsx(X,{children:"Payment History"}),e.jsx(he,{children:"View your past utility bill payments"})]}),e.jsx(D,{children:e.jsx("div",{className:"text-center py-10",children:e.jsx("p",{className:"text-muted-foreground",children:"Your payment history will appear here"})})})]})})]})]})}function oRe(){const{toast:t}=Be(),{user:r,isLoading:s}=dt(),[,n]=xr(),[a,i]=j.useState("bus"),[l,o]=j.useState(""),[c,d]=j.useState(""),[u,m]=j.useState(""),[h,g]=j.useState(!1),[f,p]=j.useState(""),[y,v]=j.useState(""),[x,b]=j.useState(""),[N,w]=j.useState(!1),[C,P]=j.useState(""),[S,A]=j.useState(""),[k,I]=j.useState(""),[L,K]=j.useState("1"),[R,F]=j.useState(!1),[W,Q]=j.useState(null),[H,Z]=j.useState(null),[me,Ne]=j.useState(null),[te,Ie]=j.useState(""),[Te,de]=j.useState("1"),[Ee,De]=j.useState("1"),[rt,Me]=j.useState([]),[Ge,Xe]=j.useState([]),[Ce,Ft]=j.useState("RedBus"),[yt,cr]=j.useState("MakeMyTrip"),[ar,Sr]=j.useState("MakeMyTrip"),{data:re=[]}=fe({queryKey:["/api/travel/cities"],enabled:!0}),{data:ee=[],refetch:we,isLoading:We}=fe({queryKey:["/api/travel/bus/search",l,c,u,Ce],enabled:h,initialData:h?[{id:"bus1",busOperator:"Tamil Nadu Express",busType:"AC Sleeper",origin:l||"Chennai",destination:c||"Coimbatore",departureTime:"21:30",arrivalTime:"05:45",duration:"8h 15m",fare:850,availableSeats:32,amenities:["Charging Point","Blanket","Water Bottle","CCTV"],busNumber:"TN01X6789",logo:"https://picsum.photos/200"},{id:"bus2",busOperator:"KPN Travels",busType:"Non-AC Seater",origin:l||"Chennai",destination:c||"Coimbatore",departureTime:"22:00",arrivalTime:"06:30",duration:"8h 30m",fare:650,availableSeats:28,amenities:["Charging Point","TV"],busNumber:"TN02Y1234",logo:"https://picsum.photos/200"}]:[]}),{data:qe=[],refetch:J,isLoading:Ve}=fe({queryKey:["/api/travel/flight/search",f,y,x,yt],enabled:N,initialData:N?[{id:"flight1",airline:"IndiGo",flightNumber:"6E-7652",origin:f||"Chennai",destination:y||"Delhi",departureTime:"06:15",arrivalTime:"09:00",duration:"2h 45m",fare:3450,cabinClass:"Economy",availableSeats:43,stops:0,logo:"https://picsum.photos/200"},{id:"flight2",airline:"Air India",flightNumber:"AI-802",origin:f||"Chennai",destination:y||"Delhi",departureTime:"09:30",arrivalTime:"12:35",duration:"3h 05m",fare:4100,cabinClass:"Economy",availableSeats:21,stops:0,logo:"https://picsum.photos/200"}]:[]}),{data:nt=[],refetch:Jt,isLoading:pr}=fe({queryKey:["/api/travel/hotel/search",C,S,k,L,ar],enabled:R,initialData:R?[{id:"hotel1",name:"The Park Chennai",location:C||"Chennai",address:"601 Anna Salai, Chennai 600006",rating:4.2,price:5200,amenities:["Free Wi-Fi","Swimming Pool","Restaurant","Gym","Spa","Room Service"],roomTypes:[{id:"room1",name:"Deluxe Room",capacity:2,price:5200,amenities:["King Bed","Free Wi-Fi","Mini Bar"],available:12},{id:"room2",name:"Executive Suite",capacity:2,price:7500,amenities:["King Bed","Free Wi-Fi","Mini Bar","Bathtub","City View"],available:5}],images:["https://picsum.photos/800/600","https://picsum.photos/800/600"],description:"A luxury hotel located in the heart of Chennai, offering world-class amenities and services."},{id:"hotel2",name:"ITC Grand Chola",location:C||"Chennai",address:"63 Mount Road, Chennai 600032",rating:4.8,price:8500,amenities:["Free Wi-Fi","Swimming Pool","Multiple Restaurants","Gym","Spa","Room Service","Airport Shuttle"],roomTypes:[{id:"room3",name:"Executive Club Room",capacity:2,price:8500,amenities:["King Bed","Free Wi-Fi","Mini Bar","Club Access"],available:8},{id:"room4",name:"Luxury Suite",capacity:3,price:12500,amenities:["King Bed","Free Wi-Fi","Mini Bar","Bathtub","City View","Butler Service"],available:3}],images:["https://picsum.photos/800/600","https://picsum.photos/800/600"],description:"A palatial luxury hotel with exquisite architecture and world-class dining options."}]:[]}),{data:ua=[],refetch:Qc}=fe({queryKey:["/api/travel/bookings"],enabled:!!r});j.useEffect(()=>{Q(null),Z(null),Ne(null),Ie("")},[a]);const _m=()=>{if(!l||!c||!u){t({title:"Missing information",description:"Please select origin, destination and travel date",variant:"destructive"});return}Q(null),Me([]),g(!0),setTimeout(()=>{we(),ee.length===0&&t({title:"Search completed",description:"Available buses loaded for your route"})},500)},Tm=()=>{if(!f||!y||!x){t({title:"Missing information",description:"Please select origin, destination and travel date",variant:"destructive"});return}Z(null),Xe([]),w(!0),setTimeout(()=>{J(),qe.length===0&&t({title:"Search completed",description:"Available flights loaded for your route"})},500)},Sb=()=>{if(!C||!S||!k){t({title:"Missing information",description:"Please select location, check-in and check-out dates",variant:"destructive"});return}Ne(null),Ie(""),K("1"),De("1"),F(!0),setTimeout(()=>{Jt(),nt.length===0&&t({title:"Search completed",description:"Available hotels loaded for your location"})},500)},Wf=async()=>{if(!W||!Te||rt.length===0){t({title:"Missing information",description:"Please select a bus, number of passengers, and seat numbers",variant:"destructive"});return}const ue=parseInt(Te);if(rt.length!==ue){t({title:"Seat selection mismatch",description:`Please select exactly ${ue} seats`,variant:"destructive"});return}try{const bt=await fetch("/api/travel/bus/book",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({busId:W.id,passengers:ue,seatNumbers:rt})}),jr=await bt.json();if(!bt.ok)throw new Error(jr.message||"Failed to book bus");t({title:"Booking Successful",description:`Your booking is confirmed with PNR: ${jr.pnr}`}),Q(null),de("1"),Me([]),g(!1),Qc()}catch(bt){t({title:"Booking Failed",description:bt instanceof Error?bt.message:"An error occurred during booking",variant:"destructive"})}},Cb=async()=>{if(!H||!Te||Ge.length===0){t({title:"Missing information",description:"Please select a flight, number of passengers, and provide passenger details",variant:"destructive"});return}const ue=parseInt(Te);if(Ge.length!==ue){t({title:"Passenger details mismatch",description:`Please provide details for all ${ue} passengers`,variant:"destructive"});return}try{const bt=await fetch("/api/travel/flight/book",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({flightId:H.id,passengers:ue,passengerDetails:Ge})}),jr=await bt.json();if(!bt.ok)throw new Error(jr.message||"Failed to book flight");t({title:"Booking Successful",description:`Your booking is confirmed with PNR: ${jr.pnr}`}),Z(null),de("1"),Xe([]),w(!1),Qc()}catch(bt){t({title:"Booking Failed",description:bt instanceof Error?bt.message:"An error occurred during booking",variant:"destructive"})}},Gf=async()=>{if(!me||!te||!L||!Ee||!S||!k){t({title:"Missing information",description:"Please select a hotel, room type, and provide all booking details",variant:"destructive"});return}try{const ue=await fetch("/api/travel/hotel/book",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({hotelId:me.id,roomTypeId:te,checkIn:S,checkOut:k,guests:parseInt(L),rooms:parseInt(Ee)})}),bt=await ue.json();if(!ue.ok)throw new Error(bt.message||"Failed to book hotel");t({title:"Booking Successful",description:`Your booking is confirmed with reference: ${bt.pnr}`}),Ne(null),Ie(""),K("1"),De("1"),F(!1),Qc()}catch(ue){t({title:"Booking Failed",description:ue instanceof Error?ue.message:"An error occurred during booking",variant:"destructive"})}},GH=ue=>{if(rt.includes(ue)){Me(rt.filter(jr=>jr!==ue)),parseInt(Te)>0&&t({title:"Seat unselected",description:`Please select ${parseInt(Te)-rt.length+1} more seat(s) to continue`});return}if(!Te||Te==="0"){t({title:"Select passenger count first",description:"Please select the number of passengers before choosing seats",variant:"destructive"});return}const bt=parseInt(Te);if(rt.length>=bt){t({title:"Maximum seats already selected",description:`You've already selected ${bt} seats. Unselect a seat first if you want to change your selection.`,variant:"destructive"});return}else{Me([...rt,ue]);const jr=bt-rt.length-1;jr>0?t({title:"Seat selected",description:`Please select ${jr} more seat(s) to continue`}):t({title:"All seats selected",description:"You're ready to book your tickets"})}},YH=async ue=>{try{const bt=await fetch(`/api/travel/booking/${ue}/cancel`,{method:"POST"}),jr=await bt.json();if(!bt.ok)throw new Error(jr.message||"Failed to cancel booking");t({title:"Booking Cancelled",description:`Your booking has been cancelled and ${jr.amount} has been refunded to your wallet`}),Qc()}catch(bt){t({title:"Cancellation Failed",description:bt instanceof Error?bt.message:"An error occurred during cancellation",variant:"destructive"})}},Om=ue=>{const bt=new Date(ue);return new Intl.DateTimeFormat("en-IN",{day:"numeric",month:"short",year:"numeric"}).format(bt)};return e.jsxs("div",{className:"container mx-auto p-4",children:[e.jsx("h1",{className:"text-3xl font-bold mb-6",children:"Travel Bookings"}),e.jsxs(rr,{defaultValue:"bus",value:a,onValueChange:i,children:[e.jsxs(tr,{className:"grid grid-cols-4 mb-8",children:[e.jsxs(ke,{value:"bus",className:"flex items-center gap-2",children:[e.jsx(wi,{size:16}),"Bus"]}),e.jsxs(ke,{value:"flight",className:"flex items-center gap-2",children:[e.jsx(gi,{size:16}),"Flight"]}),e.jsxs(ke,{value:"hotel",className:"flex items-center gap-2",children:[e.jsx(Tw,{size:16}),"Hotel"]}),e.jsxs(ke,{value:"bookings",className:"flex items-center gap-2",children:[e.jsx(x_,{size:16}),"My Bookings"]})]}),e.jsx(Le,{value:"bus",children:e.jsxs(E,{children:[e.jsxs(Y,{children:[e.jsx(X,{children:"Book Bus Tickets"}),e.jsx(he,{children:"Search and book bus tickets to any destination in Tamil Nadu"})]}),e.jsx(D,{children:W?e.jsxs("div",{children:[e.jsxs("div",{className:"flex justify-between items-center mb-6",children:[e.jsx("h3",{className:"text-xl font-bold",children:"Booking Details"}),e.jsx(T,{variant:"outline",onClick:()=>Q(null),children:"Back to Search"})]}),e.jsxs(E,{className:"mb-6",children:[e.jsxs(Y,{className:"pb-2",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[W.logo&&e.jsx("img",{src:W.logo,alt:W.busOperator,className:"h-8 w-8 object-contain"}),e.jsx(X,{children:W.busOperator})]}),e.jsxs("div",{className:"text-xl font-bold",children:["",W.fare]})]}),e.jsxs(he,{children:[W.busType," | ",W.busNumber]})]}),e.jsx(D,{children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-2",children:[e.jsxs("div",{className:"flex flex-col",children:[e.jsx("span",{className:"text-lg font-medium",children:W.departureTime}),e.jsx("span",{className:"text-muted-foreground text-sm",children:W.origin})]}),e.jsxs("div",{className:"flex flex-col items-center",children:[e.jsx("span",{className:"text-sm text-muted-foreground",children:W.duration}),e.jsxs("div",{className:"w-full flex items-center",children:[e.jsx("div",{className:"h-0.5 flex-1 bg-border"}),e.jsx(gt,{size:16,className:"mx-2 text-muted-foreground"}),e.jsx("div",{className:"h-0.5 flex-1 bg-border"})]}),e.jsx("span",{className:"text-sm text-muted-foreground",children:u})]}),e.jsxs("div",{className:"flex flex-col text-right",children:[e.jsx("span",{className:"text-lg font-medium",children:W.arrivalTime}),e.jsx("span",{className:"text-muted-foreground text-sm",children:W.destination})]})]})})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"text-lg font-medium mb-4",children:"Passenger Information"}),e.jsx("div",{className:"space-y-4",children:e.jsxs("div",{children:[e.jsx(se,{htmlFor:"passenger-count",children:"Number of Passengers"}),e.jsxs(je,{value:Te,onValueChange:ue=>{de(ue),Me([])},children:[e.jsx(ge,{id:"passenger-count",children:e.jsx(be,{placeholder:"Select passengers"})}),e.jsx(ve,{children:[1,2,3,4,5,6].map(ue=>e.jsxs(O,{value:ue.toString(),children:[ue," ",ue===1?"passenger":"passengers"]},ue))})]})]})})]}),e.jsxs("div",{children:[e.jsxs("h4",{className:"text-lg font-medium mb-4",children:["Seat Selection (",rt.length,"/",Te,")"]}),e.jsx("div",{className:"grid grid-cols-5 gap-2",children:Array.from({length:40},(ue,bt)=>{const jr=`A${bt+1}`,Ks=rt.includes(jr);return e.jsx(T,{variant:Ks?"default":"outline",size:"sm",onClick:()=>GH(jr),className:"h-10",children:jr},bt)})})]})]}),e.jsx("div",{className:"mt-8",children:e.jsxs(E,{children:[e.jsx(Y,{children:e.jsx(X,{children:"Fare Summary"})}),e.jsx(D,{children:e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsxs("span",{children:["Base Fare (",Te," x ",W.fare,")"]}),e.jsxs("span",{children:["",parseInt(Te)*W.fare]})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"Service Fee"}),e.jsx("span",{children:"50"})]}),e.jsxs("div",{className:"flex justify-between text-sm text-muted-foreground",children:[e.jsxs("span",{children:["Provider: ",Ce]}),e.jsx("span",{children:"Commission: 8-10%"})]}),e.jsx(kr,{className:"my-2"}),e.jsxs("div",{className:"flex justify-between font-bold",children:[e.jsx("span",{children:"Total Amount"}),e.jsxs("span",{children:["",parseInt(Te)*W.fare+50]})]}),e.jsx("div",{className:"mt-1 text-sm text-blue-500",children:rt.length<parseInt(Te)?`Please select ${parseInt(Te)-rt.length} more seat(s) to continue`:"All seats selected! You can now book."})]})}),e.jsx(mr,{children:e.jsxs("div",{className:"space-y-3",children:[Te&&parseInt(Te)!==rt.length&&e.jsxs(la,{variant:"destructive",children:[e.jsx(nr,{className:"h-4 w-4"}),e.jsx($i,{children:"Seat selection mismatch"}),e.jsxs(oa,{children:["You've selected ",Te," passengers but only ",rt.length," seats. Please select ",parseInt(Te)-rt.length," more seat(s)."]})]}),e.jsxs(T,{onClick:Wf,className:"w-full",disabled:!Te||parseInt(Te)!==rt.length,children:["Pay using Wallet & Confirm Booking (",parseInt(Te||"0")*W.fare+50,")"]}),!Te&&e.jsx("p",{className:"text-sm text-muted-foreground text-center",children:"Please select the number of passengers"}),Te&&rt.length===0&&e.jsxs("p",{className:"text-sm text-muted-foreground text-center",children:["Please select ",Te," seat(s)"]})]})})]})})]}):e.jsxs("div",{children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-6",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(se,{htmlFor:"bus-origin",children:"Origin"}),e.jsxs(je,{value:l,onValueChange:o,children:[e.jsx(ge,{id:"bus-origin",children:e.jsx(be,{placeholder:"Select origin"})}),e.jsx(ve,{children:re.map(ue=>e.jsx(O,{value:ue,children:ue},ue))})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(se,{htmlFor:"bus-destination",children:"Destination"}),e.jsxs(je,{value:c,onValueChange:d,children:[e.jsx(ge,{id:"bus-destination",children:e.jsx(be,{placeholder:"Select destination"})}),e.jsx(ve,{children:re.map(ue=>e.jsx(O,{value:ue,children:ue},ue))})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(se,{htmlFor:"bus-date",children:"Date of Journey"}),e.jsx($,{id:"bus-date",type:"date",value:u,onChange:ue=>m(ue.target.value),min:new Date().toISOString().split("T")[0]})]})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx(se,{htmlFor:"bus-provider",children:"Provider"}),e.jsxs(je,{value:Ce,onValueChange:Ft,children:[e.jsx(ge,{id:"bus-provider",children:e.jsx(be,{placeholder:"Select provider"})}),e.jsxs(ve,{children:[e.jsx(O,{value:"RedBus",children:"RedBus (8-10% commission)"}),e.jsx(O,{value:"AbhiBus",children:"AbhiBus (7-9% commission)"}),e.jsx(O,{value:"PayTM",children:"PayTM (6-8% commission)"})]})]}),e.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"Select provider to view their inventory and prices"})]}),e.jsx(T,{onClick:_m,className:"w-full",children:"Search Buses"}),We&&e.jsx("div",{className:"flex justify-center my-8",children:e.jsx("div",{className:"animate-spin h-8 w-8 border-4 border-primary border-t-transparent rounded-full"})}),h&&!We&&ee.length===0&&e.jsx("div",{className:"text-center my-8 text-muted-foreground",children:"No buses found for the selected route and date"}),h&&!We&&ee.length>0&&e.jsxs("div",{className:"mt-8 space-y-4",children:[e.jsxs("h3",{className:"text-lg font-medium",children:["Available Buses (",ee.length,")"]}),ee.map(ue=>e.jsxs(E,{className:"hover:shadow-md transition-shadow",children:[e.jsx(Y,{className:"pb-2",children:e.jsxs("div",{className:"flex justify-between items-start",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[ue.logo&&e.jsx("img",{src:ue.logo,alt:ue.busOperator,className:"h-8 w-8 object-contain"}),e.jsxs("div",{children:[e.jsx(X,{className:"text-lg",children:ue.busOperator}),e.jsx(he,{children:ue.busType})]})]}),e.jsxs("div",{className:"text-right",children:[e.jsxs("div",{className:"text-xl font-bold",children:["",ue.fare]}),e.jsx(he,{children:"per seat"})]})]})}),e.jsxs(D,{className:"pb-2",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-2",children:[e.jsxs("div",{className:"flex flex-col",children:[e.jsx("span",{className:"text-lg font-medium",children:ue.departureTime}),e.jsx("span",{className:"text-muted-foreground text-sm",children:ue.origin})]}),e.jsxs("div",{className:"flex flex-col items-center",children:[e.jsx("span",{className:"text-sm text-muted-foreground",children:ue.duration}),e.jsxs("div",{className:"w-full flex items-center",children:[e.jsx("div",{className:"h-0.5 flex-1 bg-border"}),e.jsx(gt,{size:16,className:"mx-2 text-muted-foreground"}),e.jsx("div",{className:"h-0.5 flex-1 bg-border"})]}),e.jsxs("span",{className:"text-sm text-muted-foreground",children:["Bus No: ",ue.busNumber]})]}),e.jsxs("div",{className:"flex flex-col text-right",children:[e.jsx("span",{className:"text-lg font-medium",children:ue.arrivalTime}),e.jsx("span",{className:"text-muted-foreground text-sm",children:ue.destination})]})]}),e.jsx("div",{className:"flex flex-wrap gap-1 mt-4",children:ue.amenities.map((bt,jr)=>e.jsx(ae,{variant:"outline",children:bt},jr))}),e.jsxs("div",{className:"mt-4 flex justify-between items-center",children:[e.jsxs("span",{className:"text-sm text-muted-foreground",children:[ue.availableSeats," seats available"]}),e.jsx(T,{onClick:()=>Q(ue),children:"Select Bus"})]})]})]},ue.id))]})]})})]})}),e.jsx(Le,{value:"flight",children:e.jsxs(E,{children:[e.jsxs(Y,{children:[e.jsx(X,{children:"Book Flight Tickets"}),e.jsx(he,{children:"Search and book flight tickets for domestic travel"})]}),e.jsx(D,{children:H?e.jsxs("div",{children:[e.jsxs("div",{className:"flex justify-between items-center mb-6",children:[e.jsx("h3",{className:"text-xl font-bold",children:"Booking Details"}),e.jsx(T,{variant:"outline",onClick:()=>Z(null),children:"Back to Search"})]}),e.jsxs(E,{className:"mb-6",children:[e.jsxs(Y,{className:"pb-2",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[H.logo&&e.jsx("img",{src:H.logo,alt:H.airline,className:"h-8 w-8 object-contain"}),e.jsx(X,{children:H.airline})]}),e.jsxs("div",{className:"text-xl font-bold",children:["",H.fare]})]}),e.jsxs(he,{children:[H.flightNumber,"  ",H.cabinClass]})]}),e.jsx(D,{children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-2",children:[e.jsxs("div",{className:"flex flex-col",children:[e.jsx("span",{className:"text-lg font-medium",children:H.departureTime}),e.jsx("span",{className:"text-muted-foreground text-sm",children:H.origin})]}),e.jsxs("div",{className:"flex flex-col items-center",children:[e.jsx("span",{className:"text-sm text-muted-foreground",children:H.duration}),e.jsxs("div",{className:"w-full flex items-center",children:[e.jsx("div",{className:"h-0.5 flex-1 bg-border"}),e.jsx(gi,{size:16,className:"mx-2 text-muted-foreground"}),e.jsx("div",{className:"h-0.5 flex-1 bg-border"})]}),e.jsx("span",{className:"text-sm text-muted-foreground",children:x})]}),e.jsxs("div",{className:"flex flex-col text-right",children:[e.jsx("span",{className:"text-lg font-medium",children:H.arrivalTime}),e.jsx("span",{className:"text-muted-foreground text-sm",children:H.destination})]})]})})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-lg font-medium mb-4",children:"Passenger Information"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx(se,{htmlFor:"passenger-count-flight",children:"Number of Passengers"}),e.jsxs(je,{value:Te,onValueChange:ue=>{de(ue),Xe(Array(parseInt(ue)).fill({name:"",age:"",gender:""}))},children:[e.jsx(ge,{id:"passenger-count-flight",children:e.jsx(be,{placeholder:"Select passengers"})}),e.jsx(ve,{children:[1,2,3,4,5,6].map(ue=>e.jsxs(O,{value:ue.toString(),children:[ue," ",ue===1?"passenger":"passengers"]},ue))})]})]}),parseInt(Te)>0&&e.jsx("div",{className:"space-y-4",children:Array.from({length:parseInt(Te)}).map((ue,bt)=>e.jsxs(E,{children:[e.jsx(Y,{children:e.jsxs(X,{className:"text-base",children:["Passenger ",bt+1]})}),e.jsxs(D,{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx(se,{htmlFor:`passenger-name-${bt}`,children:"Full Name"}),e.jsx($,{id:`passenger-name-${bt}`,placeholder:"Enter full name as per ID",onChange:jr=>{const Ks=[...Ge];Ks[bt]={...Ks[bt],name:jr.target.value},Xe(Ks)}})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(se,{htmlFor:`passenger-age-${bt}`,children:"Age"}),e.jsx($,{id:`passenger-age-${bt}`,placeholder:"Age",type:"number",onChange:jr=>{const Ks=[...Ge];Ks[bt]={...Ks[bt],age:jr.target.value},Xe(Ks)}})]}),e.jsxs("div",{children:[e.jsx(se,{htmlFor:`passenger-gender-${bt}`,children:"Gender"}),e.jsxs(je,{onValueChange:jr=>{const Ks=[...Ge];Ks[bt]={...Ks[bt],gender:jr},Xe(Ks)},children:[e.jsx(ge,{id:`passenger-gender-${bt}`,children:e.jsx(be,{placeholder:"Select gender"})}),e.jsxs(ve,{children:[e.jsx(O,{value:"male",children:"Male"}),e.jsx(O,{value:"female",children:"Female"}),e.jsx(O,{value:"other",children:"Other"})]})]})]})]})]})]},bt))})]})]}),e.jsx("div",{className:"mt-8",children:e.jsxs(E,{children:[e.jsx(Y,{children:e.jsx(X,{children:"Fare Summary"})}),e.jsx(D,{children:e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsxs("span",{children:["Base Fare (",Te," x ",H.fare,")"]}),e.jsxs("span",{children:["",parseInt(Te)*H.fare]})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"Taxes & Fees"}),e.jsxs("span",{children:["",parseInt(Te)*500]})]}),e.jsxs("div",{className:"flex justify-between text-sm text-muted-foreground",children:[e.jsxs("span",{children:["Provider: ",yt]}),e.jsx("span",{children:"Commission: 6-8%"})]}),e.jsx(kr,{className:"my-2"}),e.jsxs("div",{className:"flex justify-between font-bold",children:[e.jsx("span",{children:"Total Amount"}),e.jsxs("span",{children:["",parseInt(Te)*(H.fare+500)]})]}),e.jsx("div",{className:"mt-1 text-sm text-blue-500",children:Ge.filter(ue=>ue.name&&ue.age&&ue.gender).length<parseInt(Te)?`Please complete details for all ${Te} passenger(s) to continue`:"All passenger details complete! You can now book."})]})}),e.jsx(mr,{children:e.jsxs(T,{onClick:Cb,className:"w-full",disabled:Ge.filter(ue=>ue.name&&ue.age&&ue.gender).length<parseInt(Te),children:["Pay using Wallet & Confirm Booking (",parseInt(Te)*(H.fare+500),")"]})})]})})]}):e.jsxs("div",{children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-6",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(se,{htmlFor:"flight-origin",children:"Origin"}),e.jsxs(je,{value:f,onValueChange:p,children:[e.jsx(ge,{id:"flight-origin",children:e.jsx(be,{placeholder:"Select origin"})}),e.jsx(ve,{children:re.map(ue=>e.jsx(O,{value:ue,children:ue},ue))})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(se,{htmlFor:"flight-destination",children:"Destination"}),e.jsxs(je,{value:y,onValueChange:v,children:[e.jsx(ge,{id:"flight-destination",children:e.jsx(be,{placeholder:"Select destination"})}),e.jsx(ve,{children:re.map(ue=>e.jsx(O,{value:ue,children:ue},ue))})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(se,{htmlFor:"flight-date",children:"Date of Journey"}),e.jsx($,{id:"flight-date",type:"date",value:x,onChange:ue=>b(ue.target.value),min:new Date().toISOString().split("T")[0]})]})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx(se,{htmlFor:"flight-provider",children:"Provider"}),e.jsxs(je,{value:yt,onValueChange:cr,children:[e.jsx(ge,{id:"flight-provider",children:e.jsx(be,{placeholder:"Select provider"})}),e.jsxs(ve,{children:[e.jsx(O,{value:"MakeMyTrip",children:"MakeMyTrip (6-8% commission)"}),e.jsx(O,{value:"Cleartrip",children:"Cleartrip (5-7% commission)"}),e.jsx(O,{value:"EaseMyTrip",children:"EaseMyTrip (7-9% commission)"}),e.jsx(O,{value:"Goibibo",children:"Goibibo (5-8% commission)"})]})]}),e.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"Select provider to view their inventory and prices"})]}),e.jsx(T,{onClick:Tm,className:"w-full",children:"Search Flights"}),Ve&&e.jsx("div",{className:"flex justify-center my-8",children:e.jsx("div",{className:"animate-spin h-8 w-8 border-4 border-primary border-t-transparent rounded-full"})}),N&&!Ve&&qe.length===0&&e.jsx("div",{className:"text-center my-8 text-muted-foreground",children:"No flights found for the selected route and date"}),N&&!Ve&&qe.length>0&&e.jsxs("div",{className:"mt-8 space-y-4",children:[e.jsxs("h3",{className:"text-lg font-medium",children:["Available Flights (",qe.length,")"]}),qe.map(ue=>e.jsxs(E,{className:"hover:shadow-md transition-shadow",children:[e.jsx(Y,{className:"pb-2",children:e.jsxs("div",{className:"flex justify-between items-start",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[ue.logo&&e.jsx("img",{src:ue.logo,alt:ue.airline,className:"h-8 w-8 object-contain"}),e.jsxs("div",{children:[e.jsx(X,{className:"text-lg",children:ue.airline}),e.jsxs(he,{children:[ue.flightNumber,"  ",ue.cabinClass]})]})]}),e.jsxs("div",{className:"text-right",children:[e.jsxs("div",{className:"text-xl font-bold",children:["",ue.fare]}),e.jsx(he,{children:"per passenger"})]})]})}),e.jsxs(D,{className:"pb-2",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-2",children:[e.jsxs("div",{className:"flex flex-col",children:[e.jsx("span",{className:"text-lg font-medium",children:ue.departureTime}),e.jsx("span",{className:"text-muted-foreground text-sm",children:ue.origin})]}),e.jsxs("div",{className:"flex flex-col items-center",children:[e.jsx("span",{className:"text-sm text-muted-foreground",children:ue.duration}),e.jsxs("div",{className:"w-full flex items-center",children:[e.jsx("div",{className:"h-0.5 flex-1 bg-border"}),e.jsx(gi,{size:16,className:"mx-2 text-muted-foreground"}),e.jsx("div",{className:"h-0.5 flex-1 bg-border"})]}),e.jsx("span",{className:"text-sm text-muted-foreground",children:ue.stops===0?"Non-stop":`${ue.stops} stop${ue.stops>1?"s":""}`})]}),e.jsxs("div",{className:"flex flex-col text-right",children:[e.jsx("span",{className:"text-lg font-medium",children:ue.arrivalTime}),e.jsx("span",{className:"text-muted-foreground text-sm",children:ue.destination})]})]}),e.jsxs("div",{className:"mt-4 flex justify-between items-center",children:[e.jsxs("span",{className:"text-sm text-muted-foreground",children:[ue.availableSeats," seats available"]}),e.jsx(T,{onClick:()=>Z(ue),children:"Select Flight"})]})]})]},ue.id))]})]})})]})}),e.jsx(Le,{value:"hotel",children:e.jsxs(E,{children:[e.jsxs(Y,{children:[e.jsx(X,{children:"Book Hotels"}),e.jsx(he,{children:"Search and book hotels for your stay"})]}),e.jsx(D,{children:me?e.jsxs("div",{children:[e.jsxs("div",{className:"flex justify-between items-center mb-6",children:[e.jsx("h3",{className:"text-xl font-bold",children:"Booking Details"}),e.jsx(T,{variant:"outline",onClick:()=>Ne(null),children:"Back to Search"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-6",children:[e.jsx("div",{className:"md:col-span-2",children:e.jsxs(E,{children:[e.jsxs(Y,{children:[e.jsx(X,{children:me.name}),e.jsx(he,{children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(ft,{size:14,className:"text-muted-foreground mr-1"}),me.address]})})]}),e.jsxs(D,{children:[e.jsx("div",{className:"grid grid-cols-2 gap-4 mb-4",children:me.images.map((ue,bt)=>e.jsx("img",{src:ue,alt:`${me.name} image ${bt+1}`,className:"rounded-md aspect-video object-cover w-full"},bt))}),e.jsx("p",{className:"text-sm mb-4",children:me.description}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium mb-2",children:"Amenities"}),e.jsx("div",{className:"flex flex-wrap gap-1",children:me.amenities.map((ue,bt)=>e.jsx(ae,{variant:"outline",children:ue},bt))})]})]})]})}),e.jsxs("div",{children:[e.jsxs(E,{children:[e.jsx(Y,{children:e.jsx(X,{children:"Booking Summary"})}),e.jsxs(D,{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{children:"Check-in"}),e.jsx("span",{className:"font-medium",children:Om(S)})]}),e.jsxs("div",{className:"flex justify-between text-sm mt-1",children:[e.jsx("span",{children:"Check-out"}),e.jsx("span",{className:"font-medium",children:Om(k)})]})]}),e.jsxs("div",{children:[e.jsx(se,{htmlFor:"room-type",children:"Room Type"}),e.jsxs(je,{value:te,onValueChange:Ie,children:[e.jsx(ge,{id:"room-type",children:e.jsx(be,{placeholder:"Select room type"})}),e.jsx(ve,{children:me.roomTypes.map(ue=>e.jsxs(O,{value:ue.id,children:[ue.name," - ",ue.price,"/night"]},ue.id))})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(se,{htmlFor:"room-count",children:"Rooms"}),e.jsxs(je,{value:Ee,onValueChange:De,children:[e.jsx(ge,{id:"room-count",children:e.jsx(be,{placeholder:"Select rooms"})}),e.jsx(ve,{children:[1,2,3,4,5].map(ue=>e.jsxs(O,{value:ue.toString(),children:[ue," ",ue===1?"room":"rooms"]},ue))})]})]}),e.jsxs("div",{children:[e.jsx(se,{htmlFor:"hotel-guests",children:"Guests"}),e.jsxs(je,{value:L,onValueChange:K,children:[e.jsx(ge,{id:"hotel-guests",children:e.jsx(be,{placeholder:"Select guests"})}),e.jsx(ve,{children:[1,2,3,4,5,6].map(ue=>e.jsxs(O,{value:ue.toString(),children:[ue," ",ue===1?"guest":"guests"]},ue))})]})]})]})]})]}),te&&e.jsxs(E,{className:"mt-4",children:[e.jsx(Y,{children:e.jsx(X,{children:"Price Details"})}),e.jsx(D,{children:(()=>{const ue=me.roomTypes.find(QH=>QH.id===te);if(!ue)return null;const bt=new Date(S),jr=new Date(k),Ks=Math.ceil((jr.getTime()-bt.getTime())/(1e3*60*60*24)),Pb=ue.price*parseInt(Ee)*Ks,Ik=Math.round(Pb*.12),Rk=Pb+Ik;return e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsxs("span",{children:[ue.name," x ",Ee," x ",Ks," nights"]}),e.jsxs("span",{children:["",Pb]})]}),e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{children:"Taxes & Fees"}),e.jsxs("span",{children:["",Ik]})]}),e.jsxs("div",{className:"flex justify-between text-sm text-muted-foreground",children:[e.jsxs("span",{children:["Provider: ",ar]}),e.jsx("span",{children:"Commission: 10-12%"})]}),e.jsx(kr,{className:"my-2"}),e.jsxs("div",{className:"flex justify-between font-bold",children:[e.jsx("span",{children:"Total Amount"}),e.jsxs("span",{children:["",Rk]})]}),e.jsx("div",{className:"mt-1 text-sm text-blue-500",children:!te||!Ee||!L?"Please select all options to continue":"All set! You can now book."}),e.jsxs(T,{onClick:Gf,className:"w-full mt-4",disabled:!te||!Ee||!L,children:["Pay using Wallet & Confirm Booking (",Rk,")"]})]})})()})]})]})]})]}):e.jsxs("div",{children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 mb-6",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(se,{htmlFor:"hotel-location",children:"Location"}),e.jsxs(je,{value:C,onValueChange:P,children:[e.jsx(ge,{id:"hotel-location",children:e.jsx(be,{placeholder:"Select location"})}),e.jsx(ve,{children:re.map(ue=>e.jsx(O,{value:ue,children:ue},ue))})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(se,{htmlFor:"check-in",children:"Check-in Date"}),e.jsx($,{id:"check-in",type:"date",value:S,onChange:ue=>A(ue.target.value),min:new Date().toISOString().split("T")[0]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(se,{htmlFor:"check-out",children:"Check-out Date"}),e.jsx($,{id:"check-out",type:"date",value:k,onChange:ue=>I(ue.target.value),min:S||new Date().toISOString().split("T")[0]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(se,{htmlFor:"guests",children:"Guests"}),e.jsxs(je,{value:L,onValueChange:K,children:[e.jsx(ge,{id:"guests",children:e.jsx(be,{placeholder:"Select guests"})}),e.jsx(ve,{children:[1,2,3,4,5,6].map(ue=>e.jsxs(O,{value:ue.toString(),children:[ue," ",ue===1?"guest":"guests"]},ue))})]})]})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx(se,{htmlFor:"hotel-provider",children:"Provider"}),e.jsxs(je,{value:ar,onValueChange:Sr,children:[e.jsx(ge,{id:"hotel-provider",children:e.jsx(be,{placeholder:"Select provider"})}),e.jsxs(ve,{children:[e.jsx(O,{value:"MakeMyTrip",children:"MakeMyTrip (10-12% commission)"}),e.jsx(O,{value:"Cleartrip",children:"Cleartrip (8-10% commission)"}),e.jsx(O,{value:"Goibibo",children:"Goibibo (9-11% commission)"})]})]}),e.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"Select provider to view their inventory and prices"})]}),e.jsx(T,{onClick:Sb,className:"w-full",children:"Search Hotels"}),pr&&e.jsx("div",{className:"flex justify-center my-8",children:e.jsx("div",{className:"animate-spin h-8 w-8 border-4 border-primary border-t-transparent rounded-full"})}),R&&!pr&&nt.length===0&&e.jsx("div",{className:"text-center my-8 text-muted-foreground",children:"No hotels found for the selected location and dates"}),R&&!pr&&nt.length>0&&e.jsxs("div",{className:"mt-8 space-y-6",children:[e.jsxs("h3",{className:"text-lg font-medium",children:["Available Hotels (",nt.length,")"]}),nt.map(ue=>e.jsx(E,{className:"overflow-hidden hover:shadow-md transition-shadow",children:e.jsxs("div",{className:"md:flex",children:[e.jsx("div",{className:"md:w-1/3",children:ue.images&&ue.images.length>0&&e.jsx("img",{src:ue.images[0],alt:ue.name,className:"h-full w-full object-cover aspect-video md:aspect-square"})}),e.jsxs("div",{className:"md:w-2/3",children:[e.jsx(Y,{children:e.jsxs("div",{className:"flex justify-between items-start",children:[e.jsxs("div",{children:[e.jsx(X,{className:"text-xl",children:ue.name}),e.jsxs("div",{className:"flex items-center mt-1",children:[e.jsx(ft,{size:14,className:"text-muted-foreground mr-1"}),e.jsx(he,{className:"text-sm",children:ue.address})]})]}),e.jsx("div",{className:"flex items-center gap-1",children:e.jsxs(ae,{children:[ue.rating," "]})})]})}),e.jsxs(D,{className:"pb-2",children:[e.jsx("p",{className:"text-sm mb-4 line-clamp-2",children:ue.description}),e.jsxs("div",{className:"flex flex-wrap gap-1 mb-4",children:[ue.amenities.slice(0,5).map((bt,jr)=>e.jsx(ae,{variant:"outline",children:bt},jr)),ue.amenities.length>5&&e.jsxs(ae,{variant:"outline",children:["+",ue.amenities.length-5," more"]})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("div",{children:[e.jsxs("span",{className:"text-xl font-bold",children:["",ue.price]}),e.jsx("span",{className:"text-sm text-muted-foreground",children:" / night"})]}),e.jsx(T,{onClick:()=>Ne(ue),children:"Select Hotel"})]})]})]})]})},ue.id))]})]})})]})}),e.jsx(Le,{value:"bookings",children:e.jsxs(E,{children:[e.jsxs(Y,{children:[e.jsx(X,{children:"My Bookings"}),e.jsx(he,{children:"View and manage all your travel bookings"})]}),e.jsx(D,{children:ua.length===0?e.jsxs("div",{className:"text-center py-8",children:[e.jsx(x_,{size:48,className:"mx-auto text-muted-foreground mb-4"}),e.jsx("h3",{className:"text-lg font-medium",children:"No bookings found"}),e.jsx("p",{className:"text-muted-foreground",children:"You haven't made any travel bookings yet"})]}):e.jsx("div",{className:"space-y-6",children:ua.map(ue=>e.jsxs(E,{className:"group",children:[e.jsx(Y,{className:"pb-2",children:e.jsxs("div",{className:"flex justify-between items-start",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center gap-2",children:[ue.bookingType==="bus"&&e.jsx(wi,{size:16}),ue.bookingType==="flight"&&e.jsx(gi,{size:16}),ue.bookingType==="hotel"&&e.jsx(Tw,{size:16}),e.jsxs(X,{className:"capitalize",children:[ue.bookingType," Booking"]})]}),e.jsx(he,{children:Om(ue.createdAt)})]}),e.jsx(ae,{className:ue.status==="confirmed"?"bg-green-500":ue.status==="cancelled"?"bg-red-500":"bg-yellow-500",children:ue.status})]})}),e.jsxs(D,{children:[e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-y-2",children:[ue.origin&&e.jsxs("div",{children:[e.jsx("span",{className:"text-sm text-muted-foreground",children:"From"}),e.jsx("p",{className:"font-medium",children:ue.origin})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-sm text-muted-foreground",children:ue.bookingType==="hotel"?"Location":"To"}),e.jsx("p",{className:"font-medium",children:ue.destination})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-sm text-muted-foreground",children:ue.bookingType==="hotel"?"Check-in":"Date"}),e.jsx("p",{className:"font-medium",children:Om(ue.checkIn)})]}),ue.checkOut&&e.jsxs("div",{children:[e.jsx("span",{className:"text-sm text-muted-foreground",children:"Check-out"}),e.jsx("p",{className:"font-medium",children:Om(ue.checkOut)})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-sm text-muted-foreground",children:"Amount"}),e.jsxs("p",{className:"font-medium",children:["",ue.amount]})]})]}),e.jsxs("div",{className:"mt-4 flex justify-between items-center",children:[e.jsxs(T,{variant:"ghost",size:"sm",className:"flex items-center gap-1",onClick:()=>n(`/booking/${ue.id}`),children:[e.jsx(lg,{size:14})," View Details"]}),ue.status==="confirmed"&&e.jsx(T,{variant:"outline",size:"sm",onClick:()=>YH(ue.id),children:"Cancel Booking"})]})]})]},ue.id))})})]})})]})]})}function cRe(){dt();const{toast:t}=Be(),[r,s]=j.useState([]),[n,a]=j.useState({source_city:"",source_code:"",destination_city:"",destination_code:"",depart_date:null}),[i,l]=j.useState(null),[o,c]=j.useState(!1),[d,u]=j.useState(null),[m,h]=j.useState(null),[g,f]=j.useState(!1);j.useEffect(()=>{(async()=>{try{const C=await(await le("GET","/api/bus/popular-routes")).json();s(C)}catch(w){console.error("Error fetching popular routes:",w)}})()},[]);const p=N=>{a({...n,source_city:N.source,source_code:N.sourceCode,destination_city:N.destination,destination_code:N.destinationCode})},y=async()=>{var N,w;if(!n.source_city||!n.destination_city||!n.depart_date){t({title:"Missing Information",description:"Please select source, destination, and travel date",variant:"destructive"});return}c(!0);try{const P=await(await le("POST","/api/bus/search",{...n,depart_date:xt(n.depart_date,"yyyy-MM-dd")})).json();l(P),P.buses.length===0&&t({title:"No buses found",description:"No buses available for the selected route and date"})}catch(C){(await((w=(N=C.response)==null?void 0:N.json)==null?void 0:w.call(N))||{}).error==="service_unavailable"?t({title:"Service Configuration Pending",description:"RedBus API integration is being set up. Please check back soon for live bus booking.",variant:"destructive"}):t({title:"Search Failed",description:"Unable to search buses. Please try again.",variant:"destructive"})}finally{c(!1)}},v=async N=>{if(i){u(N),f(!0);try{const C=await(await le("POST","/api/bus/seat-layout",{traceId:i.traceId,resultIndex:N.resultIndex})).json();h(C)}catch{t({title:"Error",description:"Unable to load seat layout",variant:"destructive"})}finally{f(!1)}}},x=N=>new Date(N).toLocaleTimeString("en-IN",{hour:"2-digit",minute:"2-digit"}),b=N=>new Date(N).toLocaleDateString("en-IN",{day:"numeric",month:"short"});return e.jsxs("div",{className:"container mx-auto px-4 py-6",children:[e.jsxs("div",{className:"mb-6",children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Bus Booking"}),e.jsx("p",{className:"text-gray-600",children:"Book bus tickets across Tamil Nadu and beyond"})]}),e.jsxs(E,{className:"mb-6",children:[e.jsx(Y,{children:e.jsxs(X,{className:"flex items-center gap-2",children:[e.jsx(aZ,{className:"h-5 w-5"}),"Search Buses"]})}),e.jsxs(D,{children:[e.jsxs("div",{className:"mb-6",children:[e.jsx(se,{className:"text-sm font-medium mb-3 block",children:"Popular Routes"}),e.jsx("div",{className:"flex flex-wrap gap-2",children:r.map((N,w)=>e.jsxs(T,{variant:"outline",size:"sm",onClick:()=>p(N),className:"text-xs",children:[N.source,"  ",N.destination]},w))})]}),e.jsxs("div",{className:"grid md:grid-cols-2 lg:grid-cols-5 gap-4",children:[e.jsxs("div",{children:[e.jsx(se,{htmlFor:"source",children:"From"}),e.jsx($,{id:"source",placeholder:"Source city",value:n.source_city,onChange:N=>a({...n,source_city:N.target.value})})]}),e.jsxs("div",{children:[e.jsx(se,{htmlFor:"destination",children:"To"}),e.jsx($,{id:"destination",placeholder:"Destination city",value:n.destination_city,onChange:N=>a({...n,destination_city:N.target.value})})]}),e.jsxs("div",{children:[e.jsx(se,{children:"Travel Date"}),e.jsxs(hn,{children:[e.jsx(pn,{asChild:!0,children:e.jsxs(T,{variant:"outline",className:`w-full justify-start text-left font-normal ${!n.depart_date&&"text-muted-foreground"}`,children:[e.jsx(Xt,{className:"mr-2 h-4 w-4"}),n.depart_date?xt(n.depart_date,"PPP"):"Pick a date"]})}),e.jsx(Zs,{className:"w-auto p-0",children:e.jsx(Js,{mode:"single",selected:n.depart_date,onSelect:N=>a({...n,depart_date:N}),disabled:N=>N<new Date,initialFocus:!0})})]})]}),e.jsxs("div",{className:"lg:col-span-2",children:[e.jsx(se,{children:""}),e.jsx(T,{onClick:y,disabled:o,className:"w-full bg-primary hover:bg-primary/90",children:o?"Searching...":"Search Buses"})]})]})]})]}),i&&e.jsxs("div",{className:"grid lg:grid-cols-3 gap-6",children:[e.jsxs("div",{className:"lg:col-span-2",children:[e.jsxs("h2",{className:"text-xl font-semibold mb-4",children:["Available Buses (",i.buses.length,")"]}),e.jsx("div",{className:"space-y-4",children:i.buses.map(N=>e.jsx(E,{className:`cursor-pointer transition-all hover:shadow-md ${(d==null?void 0:d.resultIndex)===N.resultIndex?"ring-2 ring-primary":""}`,onClick:()=>v(N),children:e.jsxs(D,{className:"p-4",children:[e.jsxs("div",{className:"flex justify-between items-start mb-3",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold text-lg",children:N.travelName}),e.jsx("p",{className:"text-sm text-gray-600",children:N.busType})]}),e.jsxs("div",{className:"text-right",children:[e.jsxs("div",{className:"text-2xl font-bold text-primary",children:["",N.price.offeredPrice]}),N.price.basePrice>N.price.offeredPrice&&e.jsxs("div",{className:"text-sm text-gray-500 line-through",children:["",N.price.basePrice]})]})]}),e.jsx("div",{className:"flex items-center justify-between mb-3",children:e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"font-semibold",children:x(N.departureTime)}),e.jsx("div",{className:"text-xs text-gray-500",children:b(N.departureTime)})]}),e.jsxs("div",{className:"flex-1 text-center",children:[e.jsx("div",{className:"text-sm text-gray-500",children:N.duration}),e.jsx("div",{className:"h-px bg-gray-300 relative",children:e.jsx(wi,{className:"h-4 w-4 absolute left-1/2 top-1/2 transform -translate-x-1/2 -translate-y-1/2 bg-white text-primary"})})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"font-semibold",children:x(N.arrivalTime)}),e.jsx("div",{className:"text-xs text-gray-500",children:b(N.arrivalTime)})]})]})}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-4 text-sm text-gray-600",children:[e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(er,{className:"h-4 w-4"}),N.availableSeats," seats"]}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(ft,{className:"h-4 w-4"}),N.boardingPoints," boarding points"]})]}),e.jsxs("div",{className:"flex gap-2",children:[N.features.liveTracking&&e.jsxs(ae,{variant:"secondary",className:"text-xs",children:[e.jsx(ft,{className:"h-3 w-3 mr-1"}),"Live Tracking"]}),N.features.mTicket&&e.jsx(ae,{variant:"secondary",className:"text-xs",children:"M-Ticket"})]})]})]})},N.resultIndex))})]}),e.jsx("div",{children:d?e.jsxs(E,{children:[e.jsxs(Y,{children:[e.jsx(X,{className:"text-lg",children:"Select Seats"}),e.jsx("p",{className:"text-sm text-gray-600",children:d.travelName})]}),e.jsx(D,{children:g?e.jsxs("div",{className:"text-center py-8",children:[e.jsx("div",{className:"animate-spin w-8 h-8 border-4 border-primary border-t-transparent rounded-full mx-auto mb-2"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Loading seat layout..."})]}):m?e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"text-sm",children:[e.jsx("span",{className:"font-medium",children:"Available Seats:"})," ",m.availableSeats]}),e.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg text-center",children:[e.jsx("p",{className:"text-sm text-gray-600 mb-2",children:"Seat Layout"}),e.jsx("div",{className:"text-xs text-gray-500",children:"Interactive seat selection coming soon"})]}),e.jsx(T,{className:"w-full bg-primary hover:bg-primary/90",children:"Proceed to Book"})]}):e.jsx("div",{className:"text-center py-8 text-gray-500",children:"Select a bus to view seat layout"})})]}):e.jsx(E,{children:e.jsxs(D,{className:"text-center py-8",children:[e.jsx(wi,{className:"h-12 w-12 mx-auto mb-4 text-gray-400"}),e.jsx("p",{className:"text-gray-600",children:"Select a bus to proceed with booking"})]})})})]}),!i&&!o&&e.jsx(E,{children:e.jsxs(D,{className:"text-center py-12",children:[e.jsx(wi,{className:"h-16 w-16 mx-auto mb-4 text-gray-400"}),e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Search for Bus Tickets"}),e.jsx("p",{className:"text-gray-600",children:"Enter your travel details to find available buses"})]})})]})}function dRe(){const{toast:t}=Be(),[r,s]=j.useState([{source:"Chennai",sourceCode:"CHN",destination:"Bangalore",destinationCode:"BLR"},{source:"Mumbai",sourceCode:"MUM",destination:"Delhi",destinationCode:"DEL"},{source:"Hyderabad",sourceCode:"HYD",destination:"Chennai",destinationCode:"CHN"},{source:"Pune",sourceCode:"PUN",destination:"Mumbai",destinationCode:"MUM"},{source:"Kochi",sourceCode:"COK",destination:"Bangalore",destinationCode:"BLR"},{source:"Coimbatore",sourceCode:"CBE",destination:"Chennai",destinationCode:"CHN"}]),[n]=j.useState([{code:"MAA",city:"Chennai",name:"Chennai International Airport"},{code:"BLR",city:"Bangalore",name:"Kempegowda International Airport"},{code:"BOM",city:"Mumbai",name:"Chhatrapati Shivaji International Airport"},{code:"DEL",city:"Delhi",name:"Indira Gandhi International Airport"},{code:"HYD",city:"Hyderabad",name:"Rajiv Gandhi International Airport"},{code:"COK",city:"Kochi",name:"Cochin International Airport"}]),[a]=j.useState([{code:"MAA",name:"Chennai",state:"Tamil Nadu"},{code:"BLR",name:"Bangalore",state:"Karnataka"},{code:"BOM",name:"Mumbai",state:"Maharashtra"},{code:"DEL",name:"Delhi",state:"Delhi"},{code:"HYD",name:"Hyderabad",state:"Telangana"},{code:"COK",name:"Kochi",state:"Kerala"}]),[i,l]=j.useState({source_city:"",destination_city:"",travel_date:new Date,passengers:1}),[o,c]=j.useState({originCode:"",destinationCode:"",departureDate:new Date,adults:1,travelClass:"ECONOMY"}),[d,u]=j.useState({cityCode:"",checkInDate:new Date,checkOutDate:new Date(Date.now()+24*60*60*1e3),adults:2}),[m,h]=j.useState(!1),[g,f]=j.useState([]),[p,y]=j.useState(!1),v=async()=>{var N,w;if(!i.source_city||!i.destination_city){t({title:"Missing Information",description:"Please select both origin and destination cities",variant:"destructive"});return}h(!0);try{const P=await(await le("POST","/api/bus/search",{sourceCity:i.source_city,destinationCity:i.destination_city,travelDate:xt(i.travel_date,"yyyy-MM-dd"),passengers:i.passengers})).json();P.buses&&P.buses.length>0?(f(P.buses),y(!0),t({title:"Search Complete",description:`Found ${P.buses.length} buses for your route`})):(f([]),y(!1),t({title:"No buses found",description:"No buses available for the selected route and date"}))}catch(C){try{const P=await((w=(N=C.response)==null?void 0:N.json)==null?void 0:w.call(N));P!=null&&P.buses&&P.buses.length>0?(f(P.buses),y(!0),t({title:"Search Complete",description:`Found ${P.buses.length} buses for your route`})):(f([]),y(!1),t({title:"Search Complete",description:"Travelomatix API connected successfully. Showing available buses for your route."}))}catch{f([]),y(!1),t({title:"Search Error",description:"Unable to search buses. Please try again.",variant:"destructive"})}}finally{h(!1)}},x=async()=>{if(!o.originCode||!o.destinationCode){t({title:"Missing Information",description:"Please select both origin and destination airports",variant:"destructive"});return}h(!0);try{const w=await(await le("POST","/api/flight/search",{originCode:o.originCode,destinationCode:o.destinationCode,departureDate:xt(o.departureDate,"yyyy-MM-dd"),adults:o.adults,travelClass:o.travelClass})).json();!w.flights||w.flights.length===0?t({title:"No flights found",description:"No flights available for the selected route and date"}):t({title:"Search Complete",description:`Found ${w.flights.length} flights for your route`})}catch{t({title:"Service Configuration Pending",description:"Flight API integration is being set up with Amadeus. Please check back soon.",variant:"destructive"})}finally{h(!1)}},b=async()=>{if(!d.cityCode){t({title:"Missing Information",description:"Please select a city for hotel search",variant:"destructive"});return}h(!0);try{const w=await(await le("POST","/api/hotel/search",{cityCode:d.cityCode,checkInDate:xt(d.checkInDate,"yyyy-MM-dd"),checkOutDate:xt(d.checkOutDate,"yyyy-MM-dd"),adults:d.adults})).json();!w.hotels||w.hotels.length===0?t({title:"No hotels found",description:"No hotels available for the selected city and dates"}):t({title:"Search Complete",description:`Found ${w.hotels.length} hotels for your dates`})}catch{t({title:"Service Configuration Pending",description:"Hotel API integration is being set up with Amadeus. Please check back soon.",variant:"destructive"})}finally{h(!1)}};return e.jsxs("div",{className:"container mx-auto px-4 py-6 space-y-8",children:[e.jsxs("div",{className:"mb-6",children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Travel Services"}),e.jsx("p",{className:"text-gray-600",children:"Book buses, flights, and hotels across India"})]}),e.jsxs(E,{className:"w-full",children:[e.jsx(Y,{children:e.jsxs(X,{className:"flex items-center gap-2",children:[e.jsx(wi,{className:"h-5 w-5 text-blue-600"}),"Bus Booking"]})}),e.jsxs(D,{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx(se,{className:"text-sm font-medium mb-2 block",children:"Popular Routes"}),e.jsx("div",{className:"flex flex-wrap gap-2",children:r.slice(0,6).map((N,w)=>e.jsxs(ae,{variant:"outline",className:"cursor-pointer hover:bg-blue-50 hover:border-blue-300",onClick:()=>l({...i,source_city:N.source,destination_city:N.destination}),children:[N.source,"  ",N.destination]},w))})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[e.jsxs("div",{children:[e.jsx(se,{htmlFor:"bus-from",children:"From"}),e.jsx($,{id:"bus-from",value:i.source_city,onChange:N=>l({...i,source_city:N.target.value}),placeholder:"Origin city"})]}),e.jsxs("div",{children:[e.jsx(se,{htmlFor:"bus-to",children:"To"}),e.jsx($,{id:"bus-to",value:i.destination_city,onChange:N=>l({...i,destination_city:N.target.value}),placeholder:"Destination city"})]}),e.jsxs("div",{children:[e.jsx(se,{children:"Travel Date"}),e.jsxs(hn,{children:[e.jsx(pn,{asChild:!0,children:e.jsxs(T,{variant:"outline",className:"w-full justify-start text-left font-normal",children:[e.jsx(Xt,{className:"mr-2 h-4 w-4"}),xt(i.travel_date,"PPP")]})}),e.jsx(Zs,{className:"w-auto p-0",children:e.jsx(Js,{mode:"single",selected:i.travel_date,onSelect:N=>N&&l({...i,travel_date:N}),disabled:N=>N<new Date,initialFocus:!0})})]})]}),e.jsxs("div",{children:[e.jsx(se,{children:"Passengers"}),e.jsxs(je,{value:i.passengers.toString(),onValueChange:N=>l({...i,passengers:parseInt(N)}),children:[e.jsx(ge,{children:e.jsx(be,{placeholder:"Passengers"})}),e.jsx(ve,{children:[1,2,3,4,5,6].map(N=>e.jsx(O,{value:N.toString(),children:N},N))})]})]})]}),e.jsx(T,{onClick:v,disabled:m,className:"w-full md:w-auto",children:m?"Searching...":"Search Buses"})]})]}),p&&g.length>0&&e.jsxs(E,{className:"w-full",children:[e.jsx(Y,{children:e.jsxs(X,{className:"flex items-center gap-2",children:[e.jsx(wi,{className:"h-5 w-5 text-green-600"}),"Available Buses (",g.length," found)"]})}),e.jsx(D,{children:e.jsx("div",{className:"space-y-4",children:g.map((N,w)=>{var C;return e.jsxs("div",{className:"border rounded-lg p-4 hover:shadow-md transition-shadow",children:[e.jsxs("div",{className:"flex justify-between items-start mb-3",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold text-lg",children:N.operator}),e.jsx("p",{className:"text-sm text-gray-600",children:N.busType})]}),e.jsxs("div",{className:"text-right",children:[e.jsxs("p",{className:"text-xl font-bold text-green-600",children:["",N.fare]}),e.jsxs("p",{className:"text-sm text-gray-600",children:[N.availableSeats," seats left"]})]})]}),e.jsxs("div",{className:"grid grid-cols-3 gap-4 mb-3",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-500",children:"Departure"}),e.jsx("p",{className:"font-medium",children:N.departureTime})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-500",children:"Duration"}),e.jsx("p",{className:"font-medium",children:N.duration})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-500",children:"Arrival"}),e.jsx("p",{className:"font-medium",children:N.arrivalTime})]})]}),N.amenities&&N.amenities.length>0&&e.jsxs("div",{className:"mb-3",children:[e.jsx("p",{className:"text-sm text-gray-500 mb-1",children:"Amenities"}),e.jsx("div",{className:"flex flex-wrap gap-1",children:N.amenities.map((P,S)=>e.jsx(ae,{variant:"outline",className:"text-xs",children:P},S))})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("div",{className:"text-sm text-gray-600",children:((C=N.boardingPoints)==null?void 0:C.length)>0&&e.jsxs("span",{children:["Boarding: ",N.boardingPoints[0].name]})}),e.jsx(T,{size:"sm",className:"bg-green-600 hover:bg-green-700",children:"Select Seats"})]})]},N.id||w)})})})]}),e.jsxs(E,{className:"w-full",children:[e.jsx(Y,{children:e.jsxs(X,{className:"flex items-center gap-2",children:[e.jsx(gi,{className:"h-5 w-5 text-green-600"}),"Flight Booking"]})}),e.jsxs(D,{className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[e.jsxs("div",{children:[e.jsx(se,{children:"From"}),e.jsxs(je,{value:o.originCode,onValueChange:N=>c({...o,originCode:N}),children:[e.jsx(ge,{children:e.jsx(be,{placeholder:"Origin airport"})}),e.jsx(ve,{children:n.map(N=>e.jsxs(O,{value:N.code,children:[N.city," (",N.code,")"]},N.code))})]})]}),e.jsxs("div",{children:[e.jsx(se,{children:"To"}),e.jsxs(je,{value:o.destinationCode,onValueChange:N=>c({...o,destinationCode:N}),children:[e.jsx(ge,{children:e.jsx(be,{placeholder:"Destination airport"})}),e.jsx(ve,{children:n.map(N=>e.jsxs(O,{value:N.code,children:[N.city," (",N.code,")"]},N.code))})]})]}),e.jsxs("div",{children:[e.jsx(se,{children:"Departure Date"}),e.jsxs(hn,{children:[e.jsx(pn,{asChild:!0,children:e.jsxs(T,{variant:"outline",className:"w-full justify-start text-left font-normal",children:[e.jsx(Xt,{className:"mr-2 h-4 w-4"}),xt(o.departureDate,"PPP")]})}),e.jsx(Zs,{className:"w-auto p-0",children:e.jsx(Js,{mode:"single",selected:o.departureDate,onSelect:N=>N&&c({...o,departureDate:N}),disabled:N=>N<new Date,initialFocus:!0})})]})]}),e.jsxs("div",{children:[e.jsx(se,{children:"Passengers"}),e.jsxs(je,{value:o.adults.toString(),onValueChange:N=>c({...o,adults:parseInt(N)}),children:[e.jsx(ge,{children:e.jsx(be,{})}),e.jsx(ve,{children:[1,2,3,4,5,6].map(N=>e.jsxs(O,{value:N.toString(),children:[N," Adult",N>1?"s":""]},N))})]})]})]}),e.jsx(T,{onClick:x,disabled:m,className:"w-full md:w-auto",children:m?"Searching...":"Search Flights"})]})]}),e.jsxs(E,{className:"w-full",children:[e.jsx(Y,{children:e.jsxs(X,{className:"flex items-center gap-2",children:[e.jsx(vn,{className:"h-5 w-5 text-purple-600"}),"Hotel Booking"]})}),e.jsxs(D,{className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[e.jsxs("div",{children:[e.jsx(se,{children:"City"}),e.jsxs(je,{value:d.cityCode,onValueChange:N=>u({...d,cityCode:N}),children:[e.jsx(ge,{children:e.jsx(be,{placeholder:"Select city"})}),e.jsx(ve,{children:a.map(N=>e.jsxs(O,{value:N.code,children:[N.name,", ",N.state]},N.code))})]})]}),e.jsxs("div",{children:[e.jsx(se,{children:"Check-in Date"}),e.jsxs(hn,{children:[e.jsx(pn,{asChild:!0,children:e.jsxs(T,{variant:"outline",className:"w-full justify-start text-left font-normal",children:[e.jsx(Xt,{className:"mr-2 h-4 w-4"}),xt(d.checkInDate,"PPP")]})}),e.jsx(Zs,{className:"w-auto p-0",children:e.jsx(Js,{mode:"single",selected:d.checkInDate,onSelect:N=>N&&u({...d,checkInDate:N}),disabled:N=>N<new Date,initialFocus:!0})})]})]}),e.jsxs("div",{children:[e.jsx(se,{children:"Check-out Date"}),e.jsxs(hn,{children:[e.jsx(pn,{asChild:!0,children:e.jsxs(T,{variant:"outline",className:"w-full justify-start text-left font-normal",children:[e.jsx(Xt,{className:"mr-2 h-4 w-4"}),xt(d.checkOutDate,"PPP")]})}),e.jsx(Zs,{className:"w-auto p-0",children:e.jsx(Js,{mode:"single",selected:d.checkOutDate,onSelect:N=>N&&u({...d,checkOutDate:N}),disabled:N=>N<=d.checkInDate,initialFocus:!0})})]})]}),e.jsxs("div",{children:[e.jsx(se,{children:"Guests"}),e.jsxs(je,{value:d.adults.toString(),onValueChange:N=>u({...d,adults:parseInt(N)}),children:[e.jsx(ge,{children:e.jsx(be,{})}),e.jsx(ve,{children:[1,2,3,4,5,6].map(N=>e.jsxs(O,{value:N.toString(),children:[N," Guest",N>1?"s":""]},N))})]})]})]}),e.jsx(T,{onClick:b,disabled:m,className:"w-full md:w-auto",children:m?"Searching...":"Search Hotels"})]})]})]})}function uRe(){const{toast:t}=Be(),[,r]=xr(),n=Gy().id,{data:a,isLoading:i,error:l}=fe({queryKey:[`/api/travel/booking/${n}`],enabled:!!n}),o=async()=>{try{const h=await fetch(`/api/travel/booking/${n}/cancel`,{method:"POST"}),g=await h.json();if(!h.ok)throw new Error(g.message||"Failed to cancel booking");t({title:"Booking Cancelled",description:`Your booking has been cancelled and ${g.amount} has been refunded to your wallet`}),r("/travel")}catch(h){t({title:"Cancellation Failed",description:h instanceof Error?h.message:"An error occurred during cancellation",variant:"destructive"})}},c=h=>{if(!h)return"N/A";const g=new Date(h);return new Intl.DateTimeFormat("en-IN",{day:"numeric",month:"short",year:"numeric"}).format(g)};if(i)return e.jsx("div",{className:"container mx-auto p-4 flex items-center justify-center min-h-[70vh]",children:e.jsxs("div",{className:"flex flex-col items-center gap-4",children:[e.jsx(GX,{className:"h-12 w-12 animate-spin text-primary"}),e.jsx("p",{className:"text-lg",children:"Loading booking details..."})]})});if(l||!a)return e.jsx("div",{className:"container mx-auto p-4",children:e.jsxs(E,{children:[e.jsxs(Y,{children:[e.jsx(X,{className:"text-2xl",children:"Error"}),e.jsx(he,{children:"Could not load booking details"})]}),e.jsxs(D,{children:[e.jsx("p",{className:"mb-4",children:l instanceof Error?l.message:"An error occurred while loading booking details"}),e.jsxs(T,{onClick:()=>r("/travel"),children:[e.jsx(is,{className:"mr-2 h-4 w-4"}),"Back to Travel"]})]})]})});const d=()=>{switch(a.bookingType){case"bus":return e.jsx(wi,{className:"h-8 w-8 text-primary"});case"flight":return e.jsx(gi,{className:"h-8 w-8 text-primary"});case"hotel":return e.jsx(Tw,{className:"h-8 w-8 text-primary"});default:return null}},u=()=>{switch(a.bookingType){case"bus":return"Bus Ticket";case"flight":return"Flight Ticket";case"hotel":return"Hotel Reservation";default:return"Booking"}},m=()=>{switch(a.status.toLowerCase()){case"confirmed":return"default";case"cancelled":return"destructive";case"completed":return"outline";default:return"secondary"}};return e.jsxs("div",{className:"container mx-auto p-4",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsx("h1",{className:"text-3xl font-bold",children:"Booking Details"}),e.jsxs(T,{variant:"outline",onClick:()=>r("/travel"),children:[e.jsx(is,{className:"mr-2 h-4 w-4"}),"Back to Travel"]})]}),e.jsxs(E,{className:"mb-8",children:[e.jsxs(Y,{className:"flex flex-row items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[d(),e.jsxs("div",{children:[e.jsx(X,{className:"text-2xl",children:u()}),e.jsxs(he,{children:["Booking ID: ",a.id]})]})]}),e.jsx(ae,{variant:m(),children:a.status})]}),e.jsxs(D,{children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-sm font-medium text-muted-foreground",children:"Booking Date"}),e.jsxs("p",{className:"text-lg font-medium flex items-center mt-1",children:[e.jsx(Xt,{className:"mr-2 h-4 w-4 text-primary"}),c(a.createdAt)]})]}),a.bookingType!=="hotel"&&a.origin&&e.jsxs("div",{children:[e.jsx("h3",{className:"text-sm font-medium text-muted-foreground",children:"Origin"}),e.jsxs("p",{className:"text-lg font-medium flex items-center mt-1",children:[e.jsx(ft,{className:"mr-2 h-4 w-4 text-primary"}),a.origin]})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-sm font-medium text-muted-foreground",children:a.bookingType==="hotel"?"Location":"Destination"}),e.jsxs("p",{className:"text-lg font-medium flex items-center mt-1",children:[e.jsx(ft,{className:"mr-2 h-4 w-4 text-primary"}),a.destination||"N/A"]})]}),a.checkIn&&e.jsxs("div",{children:[e.jsx("h3",{className:"text-sm font-medium text-muted-foreground",children:a.bookingType==="hotel"?"Check-in Date":"Travel Date"}),e.jsxs("p",{className:"text-lg font-medium flex items-center mt-1",children:[e.jsx(Xt,{className:"mr-2 h-4 w-4 text-primary"}),c(a.checkIn)]})]}),a.bookingType==="hotel"&&a.checkOut&&e.jsxs("div",{children:[e.jsx("h3",{className:"text-sm font-medium text-muted-foreground",children:"Check-out Date"}),e.jsxs("p",{className:"text-lg font-medium flex items-center mt-1",children:[e.jsx(Xt,{className:"mr-2 h-4 w-4 text-primary"}),c(a.checkOut)]})]})]}),e.jsxs("div",{className:"space-y-4",children:[a.passengers&&e.jsxs("div",{children:[e.jsx("h3",{className:"text-sm font-medium text-muted-foreground",children:a.bookingType==="hotel"?"Guests":"Passengers"}),e.jsxs("p",{className:"text-lg font-medium flex items-center mt-1",children:[e.jsx(er,{className:"mr-2 h-4 w-4 text-primary"}),a.passengers]})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-sm font-medium text-muted-foreground",children:"Amount Paid"}),e.jsxs("p",{className:"text-2xl font-bold mt-1 text-primary",children:["",a.amount.toLocaleString("en-IN")]})]}),a.provider&&e.jsxs("div",{children:[e.jsx("h3",{className:"text-sm font-medium text-muted-foreground",children:"Booking Provider"}),e.jsx("p",{className:"text-lg font-medium flex items-center mt-1",children:a.provider})]}),a.commission!==null&&e.jsxs("div",{children:[e.jsx("h3",{className:"text-sm font-medium text-muted-foreground",children:"Commission Applied"}),e.jsxs("p",{className:"text-lg font-medium flex items-center mt-1",children:[a.commission,"%"]})]}),e.jsx("div",{className:"pt-4",children:a.status.toLowerCase()==="confirmed"&&e.jsx(T,{variant:"destructive",onClick:o,className:"w-full md:w-auto",children:"Cancel Booking"})})]})]}),e.jsx(kr,{className:"my-6"}),e.jsxs("div",{className:"bg-muted p-4 rounded-lg",children:[e.jsx("h3",{className:"font-medium mb-2",children:"Important Information"}),e.jsxs("ul",{className:"space-y-2 text-sm",children:[e.jsx("li",{children:" Please arrive at least 30 minutes before departure time for bus/flight bookings."}),e.jsx("li",{children:" Carry a valid ID proof for verification at the time of boarding/check-in."}),e.jsx("li",{children:" Cancellation charges may apply as per policy."}),e.jsx("li",{children:" For any assistance, please contact our customer support."})]})]})]})]})]})}const Wc=_.object({businessName:_.string().min(3,{message:"Business name must be at least 3 characters"}),address:_.string().min(5,{message:"Address is required"}),district:_.string().min(2,{message:"District is required"}),taluk:_.string().min(2,{message:"Taluk is required"}),pincode:_.string().min(6,{message:"Valid pincode is required"}),phone:_.string().min(10,{message:"Valid phone number is required"}),email:_.string().email({message:"Valid email is required"}).optional(),description:_.string().min(10,{message:"Please provide a brief description"}),providerType:_.string()}),mRe=Wc.extend({farmSize:_.string().optional(),farmType:_.string().optional(),primaryProducts:_.string(),cultivationSeason:_.string().optional(),supportsDelivery:_.boolean().default(!1)}),hRe=Wc.extend({productCategories:_.string(),businessType:_.string(),establishmentYear:_.string().optional(),supportsDelivery:_.boolean().default(!1)}),pRe=Wc.extend({serviceTypes:_.string(),operatingHours:_.string().optional(),yearsOfExperience:_.string().optional(),preferredProviders:_.string().optional()}),fRe=Wc.extend({vehicleTypes:_.string(),operatingHours:_.string().optional(),fleetSize:_.string().optional(),driversCount:_.string().optional()}),xRe=Wc.extend({vehicleTypes:_.string(),operatingHours:_.string().optional(),servicesOffered:_.string(),coverageAreas:_.string(),maxCapacity:_.string().optional()}),gRe=Wc.extend({itemCategories:_.string(),operatingHours:_.string().optional(),rentalTerms:_.string(),securityDepositTerms:_.string().optional()}),vRe=Wc.extend({materialTypes:_.string(),operatingHours:_.string().optional(),pricingPolicy:_.string(),processingCapacity:_.string().optional()}),yRe=["Chennai","Coimbatore","Madurai","Tiruchirappalli","Salem","Tirunelveli","Tiruppur","Vellore","Erode","Thoothukkudi","Dindigul","Thanjavur","Ranipet","Sivakasi","Karur","Udhagamandalam","Hosur","Nagercoil","Kancheepuram","Kumarapalayam"],jRe=["Organic","Conventional","Mixed Farming","Hydroponics","Permaculture","Terrace Farming","Agroforestry","Other"];function bRe(){const{user:t}=dt(),{toast:r}=Be(),[s,n]=j.useState("form"),[a]=xr(),l=new URLSearchParams(a.split("?")[1]||"").get("type"),[o,c]=j.useState(l||"farmer");j.useEffect(()=>{console.log("ATTEMPTING REDIRECTION - Current Provider Type:",o);const y={farmer:"/provider-registration/farmer",manufacturer:"/provider-registration/manufacturer",taxi_provider:"/provider-registration/taxi-provider",booking_agent:"/provider-registration/booking-agent",transportation_agent:"/provider-registration/transportation-agent",rental_provider:"/provider-registration/rental-provider",recycling_agent:"/provider-registration/recycling-agent"}[o];console.log("Target route for redirection:",y),y&&(console.log("REDIRECTING to:",y),setTimeout(()=>{window.location.href=y},100))},[o]),j.useEffect(()=>{const y=new URLSearchParams(a.split("?")[1]||"").get("type");y&&c(y)},[a]);const d=(t==null?void 0:t.userType)==="customer"||(t==null?void 0:t.userType)==="provider",u=Ht({resolver:Wt(o==="farmer"?mRe:o==="manufacturer"?hRe:o==="booking_agent"?pRe:o==="taxi_provider"?fRe:o==="transportation_agent"?xRe:o==="rental_provider"?gRe:vRe),defaultValues:{providerType:o,businessName:"",address:"",district:"",taluk:"",pincode:"",phone:"",email:"",description:"",supportsDelivery:!1}});j.useEffect(()=>{u.reset({providerType:o,businessName:"",address:"",district:"",taluk:"",pincode:"",phone:"",email:"",description:"",supportsDelivery:!1})},[o,u]);const m=Se({mutationFn:async p=>{const y=await le("POST","/api/service-providers",{...p,userId:t==null?void 0:t.id,status:"pending"});if(!y.ok)throw new Error("Failed to register service provider");const v=await y.json(),x={};if(o==="farmer"){if(x.farmSize=p.farmSize,x.farmType=p.farmType,x.primaryProducts=p.primaryProducts,x.cultivationSeason=p.cultivationSeason,x.supportsDelivery=p.supportsDelivery,!(await le("POST","/api/farmer-details",{...x,serviceProviderId:v.id})).ok)throw new Error("Failed to register farmer details")}else if(o==="manufacturer"){if(x.productCategories=p.productCategories,x.businessType=p.businessType,x.establishmentYear=p.establishmentYear,x.supportsDelivery=p.supportsDelivery,!(await le("POST","/api/manufacturer-details",{...x,serviceProviderId:v.id})).ok)throw new Error("Failed to register manufacturer details")}else if(o==="booking_agent"){if(x.serviceTypes=p.serviceTypes,x.operatingHours=p.operatingHours,x.yearsOfExperience=p.yearsOfExperience,x.preferredProviders=p.preferredProviders,!(await le("POST","/api/booking-agent-details",{...x,serviceProviderId:v.id})).ok)throw new Error("Failed to register booking agent details")}else if(o==="taxi_provider"){if(x.vehicleTypes=p.vehicleTypes,x.operatingHours=p.operatingHours,x.fleetSize=p.fleetSize,x.driversCount=p.driversCount,!(await le("POST","/api/taxi-provider-details",{...x,serviceProviderId:v.id})).ok)throw new Error("Failed to register taxi provider details")}else if(o==="transportation_agent"){if(x.vehicleTypes=p.vehicleTypes,x.operatingHours=p.operatingHours,x.servicesOffered=p.servicesOffered,x.coverageAreas=p.coverageAreas,x.maxCapacity=p.maxCapacity,!(await le("POST","/api/transportation-agent-details",{...x,serviceProviderId:v.id})).ok)throw new Error("Failed to register transportation agent details")}else if(o==="rental_provider"){if(x.itemCategories=p.itemCategories,x.operatingHours=p.operatingHours,x.rentalTerms=p.rentalTerms,x.securityDepositTerms=p.securityDepositTerms,!(await le("POST","/api/rental-provider-details",{...x,serviceProviderId:v.id})).ok)throw new Error("Failed to register rental provider details")}else if(o==="recycling_agent"&&(x.materialTypes=p.materialTypes,x.operatingHours=p.operatingHours,x.pricingPolicy=p.pricingPolicy,x.processingCapacity=p.processingCapacity,!(await le("POST","/api/recycling-agent-details",{...x,serviceProviderId:v.id})).ok))throw new Error("Failed to register recycling agent details");return v},onSuccess:()=>{n("success"),pe.invalidateQueries({queryKey:["/api/service-providers"]})},onError:p=>{n("error"),r({title:"Registration Failed",description:p.message,variant:"destructive"})}}),h=p=>{m.mutate(p)};if(s==="success")return e.jsx("div",{className:"container py-10",children:e.jsx(E,{className:"w-full max-w-4xl mx-auto",children:e.jsxs(D,{className:"pt-10 pb-10 flex flex-col items-center",children:[e.jsx(Ot,{className:"w-16 h-16 text-green-500 mb-4"}),e.jsx("h2",{className:"text-2xl font-bold mb-2",children:"Registration Successful!"}),e.jsx("p",{className:"text-center text-gray-600 mb-6 max-w-lg",children:"Your service provider registration has been submitted successfully. Our team will review your application and get back to you soon."}),e.jsxs("div",{className:"flex gap-4",children:[e.jsx(T,{onClick:()=>n("form"),children:"Register Another Provider"}),e.jsx(T,{variant:"outline",onClick:()=>window.location.href="/",children:"Return to Dashboard"})]})]})})});if(s==="error")return e.jsx("div",{className:"container py-10",children:e.jsx(E,{className:"w-full max-w-4xl mx-auto",children:e.jsxs(D,{className:"pt-10 pb-10 flex flex-col items-center",children:[e.jsx(ti,{className:"w-16 h-16 text-red-500 mb-4"}),e.jsx("h2",{className:"text-2xl font-bold mb-2",children:"Registration Failed"}),e.jsx("p",{className:"text-center text-gray-600 mb-6 max-w-lg",children:"There was an error processing your registration. Please try again or contact support if the issue persists."}),e.jsxs("div",{className:"flex gap-4",children:[e.jsx(T,{onClick:()=>n("form"),children:"Try Again"}),e.jsx(T,{variant:"outline",onClick:()=>window.location.href="/",children:"Return to Dashboard"})]})]})})});if(t&&!d)return e.jsx("div",{className:"container py-10 px-4",children:e.jsx("div",{className:"max-w-4xl mx-auto",children:e.jsxs(E,{className:"shadow-md",children:[e.jsxs(Y,{className:"bg-amber-50",children:[e.jsxs(X,{className:"text-amber-700 flex items-center",children:[e.jsx(nr,{className:"mr-2 h-5 w-5"}),"Access Restricted"]}),e.jsx(he,{className:"text-amber-700",children:"This area is only available for regular users or service providers."})]}),e.jsx(D,{className:"pt-6",children:e.jsxs("div",{className:"mb-6",children:[e.jsxs("p",{className:"text-gray-700",children:["Your account type (",t.userType,") cannot register as a service provider. This functionality is reserved for customer or provider accounts."]}),e.jsxs("div",{className:"mt-4 p-4 bg-gray-50 rounded-lg border",children:[e.jsx("h3",{className:"font-medium mb-2",children:"Account Types Explained:"}),e.jsxs("ul",{className:"list-disc pl-5 space-y-1 text-sm text-gray-700",children:[e.jsxs("li",{children:[e.jsx("strong",{children:"Admin, Branch Managers, Taluk Managers:"})," Managerial roles that handle oversight and approvals"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Service Agents:"})," Representatives assigned to specific areas"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Customers/Providers:"})," Regular users who can register as service providers"]})]})]})]})}),e.jsx(mr,{className:"justify-center border-t py-4 bg-gray-50",children:e.jsx(At,{href:"/",children:e.jsx(T,{variant:"default",className:"w-full md:w-auto",children:"Back to Dashboard"})})})]})})});const g=()=>{switch(o){case"farmer":return"Farmer Registration";case"manufacturer":return"Manufacturer Registration";case"booking_agent":return"Booking Agent Registration";case"taxi_provider":return"Taxi Provider Registration";case"transportation_agent":return"Transportation Agent Registration";case"rental_provider":return"Rental Provider Registration";case"recycling_agent":return"Recycling Agent Registration";default:return"Service Provider Registration"}},f=()=>{switch(o){case"farmer":return"Register as a farmer to sell your farm produce directly to consumers";case"manufacturer":return"Join as a manufacturer to reach more customers for your products";case"booking_agent":return"Register as a booking agent for travel, accommodation, and more";case"taxi_provider":return"Join our network of taxi providers to grow your business";case"transportation_agent":return"Register as a transportation service for logistics and delivery";case"rental_provider":return"Join as a rental provider for equipment, vehicles, and more";case"recycling_agent":return"Register as a recycling agent to help promote sustainability";default:return"Register as a service provider to join our platform and reach more customers"}};return e.jsx("div",{className:"container py-10",children:e.jsxs(E,{className:"w-full max-w-4xl mx-auto",children:[e.jsxs(Y,{children:[e.jsx(X,{className:"text-2xl",children:g()}),e.jsx(he,{children:f()})]}),e.jsx(D,{children:e.jsx(Gt,{...u,children:e.jsxs("form",{onSubmit:u.handleSubmit(h),className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsx(q,{control:u.control,name:"businessName",render:({field:p})=>e.jsxs(B,{children:[e.jsx(V,{children:"Business Name"}),e.jsx(U,{children:e.jsx($,{...p})}),e.jsx(z,{})]})}),e.jsx(q,{control:u.control,name:"phone",render:({field:p})=>e.jsxs(B,{children:[e.jsx(V,{children:"Phone Number"}),e.jsx(U,{children:e.jsx($,{...p})}),e.jsx(z,{})]})}),e.jsx(q,{control:u.control,name:"email",render:({field:p})=>e.jsxs(B,{children:[e.jsx(V,{children:"Email (Optional)"}),e.jsx(U,{children:e.jsx($,{...p})}),e.jsx(z,{})]})}),e.jsx(q,{control:u.control,name:"address",render:({field:p})=>e.jsxs(B,{children:[e.jsx(V,{children:"Address"}),e.jsx(U,{children:e.jsx($,{...p})}),e.jsx(z,{})]})}),e.jsx(q,{control:u.control,name:"district",render:({field:p})=>e.jsxs(B,{children:[e.jsx(V,{children:"District"}),e.jsxs(je,{onValueChange:p.onChange,defaultValue:p.value,children:[e.jsx(U,{children:e.jsx(ge,{children:e.jsx(be,{placeholder:"Select district"})})}),e.jsx(ve,{children:yRe.map(y=>e.jsx(O,{value:y,children:y},y))})]}),e.jsx(z,{})]})}),e.jsx(q,{control:u.control,name:"taluk",render:({field:p})=>e.jsxs(B,{children:[e.jsx(V,{children:"Taluk"}),e.jsx(U,{children:e.jsx($,{...p})}),e.jsx(z,{})]})}),e.jsx(q,{control:u.control,name:"pincode",render:({field:p})=>e.jsxs(B,{children:[e.jsx(V,{children:"Pincode"}),e.jsx(U,{children:e.jsx($,{...p})}),e.jsx(z,{})]})})]}),e.jsx(q,{control:u.control,name:"description",render:({field:p})=>e.jsxs(B,{children:[e.jsx(V,{children:"Business Description"}),e.jsx(U,{children:e.jsx(at,{...p,placeholder:"Describe your business, services offered, and key information",className:"min-h-[120px]"})}),e.jsx(z,{})]})}),o==="farmer"&&e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsx(q,{control:u.control,name:"farmType",render:({field:p})=>e.jsxs(B,{children:[e.jsx(V,{children:"Farm Type"}),e.jsxs(je,{onValueChange:p.onChange,defaultValue:p.value,children:[e.jsx(U,{children:e.jsx(ge,{children:e.jsx(be,{placeholder:"Select farm type"})})}),e.jsx(ve,{children:jRe.map(y=>e.jsx(O,{value:y,children:y},y))})]}),e.jsx(z,{})]})}),e.jsx(q,{control:u.control,name:"farmSize",render:({field:p})=>e.jsxs(B,{children:[e.jsx(V,{children:"Farm Size (in acres)"}),e.jsx(U,{children:e.jsx($,{...p,type:"number"})}),e.jsx(z,{})]})}),e.jsx(q,{control:u.control,name:"primaryProducts",render:({field:p})=>e.jsxs(B,{children:[e.jsx(V,{children:"Primary Products"}),e.jsx(U,{children:e.jsx($,{...p,placeholder:"e.g., Vegetables, Fruits, Rice, Wheat"})}),e.jsx(Ue,{children:"List the main products you grow, separated by commas"}),e.jsx(z,{})]})}),e.jsx(q,{control:u.control,name:"cultivationSeason",render:({field:p})=>e.jsxs(B,{children:[e.jsx(V,{children:"Cultivation Season"}),e.jsx(U,{children:e.jsx($,{...p,placeholder:"e.g., Year-round, Summer, Monsoon"})}),e.jsx(z,{})]})})]}),e.jsx(q,{control:u.control,name:"supportsDelivery",render:({field:p})=>e.jsxs(B,{className:"flex flex-row items-start space-x-3 space-y-0 rounded-md border p-4",children:[e.jsx(U,{children:e.jsx(xn,{checked:p.value,onCheckedChange:p.onChange})}),e.jsxs("div",{className:"space-y-1 leading-none",children:[e.jsx(V,{children:"Support Delivery"}),e.jsx(Ue,{children:"Check this if you can deliver products to customers"})]})]})})]}),o==="manufacturer"&&e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsx(q,{control:u.control,name:"businessType",render:({field:p})=>e.jsxs(B,{children:[e.jsx(V,{children:"Business Type"}),e.jsx(U,{children:e.jsx($,{...p,placeholder:"e.g., Small Scale, Cottage Industry"})}),e.jsx(z,{})]})}),e.jsx(q,{control:u.control,name:"establishmentYear",render:({field:p})=>e.jsxs(B,{children:[e.jsx(V,{children:"Year of Establishment"}),e.jsx(U,{children:e.jsx($,{...p,type:"number"})}),e.jsx(z,{})]})}),e.jsx(q,{control:u.control,name:"productCategories",render:({field:p})=>e.jsxs(B,{children:[e.jsx(V,{children:"Product Categories"}),e.jsx(U,{children:e.jsx($,{...p,placeholder:"e.g., Textiles, Handicrafts, Food Products"})}),e.jsx(Ue,{children:"List your main product categories, separated by commas"}),e.jsx(z,{})]})})]}),e.jsx(q,{control:u.control,name:"supportsDelivery",render:({field:p})=>e.jsxs(B,{className:"flex flex-row items-start space-x-3 space-y-0 rounded-md border p-4",children:[e.jsx(U,{children:e.jsx(xn,{checked:p.value,onCheckedChange:p.onChange})}),e.jsxs("div",{className:"space-y-1 leading-none",children:[e.jsx(V,{children:"Support Delivery"}),e.jsx(Ue,{children:"Check this if you can deliver products to customers"})]})]})})]}),o==="booking_agent"&&e.jsx("div",{className:"space-y-6",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsx(q,{control:u.control,name:"serviceTypes",render:({field:p})=>e.jsxs(B,{children:[e.jsx(V,{children:"Service Types"}),e.jsx(U,{children:e.jsx($,{...p,placeholder:"e.g., Bus, Flight, Hotel, Train"})}),e.jsx(Ue,{children:"List the booking services you offer, separated by commas"}),e.jsx(z,{})]})}),e.jsx(q,{control:u.control,name:"operatingHours",render:({field:p})=>e.jsxs(B,{children:[e.jsx(V,{children:"Operating Hours"}),e.jsx(U,{children:e.jsx($,{...p,placeholder:"e.g., 9 AM - 6 PM, Monday to Friday"})}),e.jsx(z,{})]})}),e.jsx(q,{control:u.control,name:"yearsOfExperience",render:({field:p})=>e.jsxs(B,{children:[e.jsx(V,{children:"Years of Experience"}),e.jsx(U,{children:e.jsx($,{...p,type:"number"})}),e.jsx(z,{})]})}),e.jsx(q,{control:u.control,name:"preferredProviders",render:({field:p})=>e.jsxs(B,{children:[e.jsx(V,{children:"Preferred Providers"}),e.jsx(U,{children:e.jsx($,{...p,placeholder:"e.g., MakeMyTrip, Cleartrip, RedBus"})}),e.jsx(Ue,{children:"List your preferred service providers, separated by commas"}),e.jsx(z,{})]})})]})}),o==="taxi_provider"&&e.jsx("div",{className:"space-y-6",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsx(q,{control:u.control,name:"vehicleTypes",render:({field:p})=>e.jsxs(B,{children:[e.jsx(V,{children:"Vehicle Types"}),e.jsx(U,{children:e.jsx($,{...p,placeholder:"e.g., Sedan, SUV, Hatchback"})}),e.jsx(Ue,{children:"List the types of vehicles you offer, separated by commas"}),e.jsx(z,{})]})}),e.jsx(q,{control:u.control,name:"operatingHours",render:({field:p})=>e.jsxs(B,{children:[e.jsx(V,{children:"Operating Hours"}),e.jsx(U,{children:e.jsx($,{...p,placeholder:"e.g., 24x7, 6 AM - 10 PM"})}),e.jsx(z,{})]})}),e.jsx(q,{control:u.control,name:"fleetSize",render:({field:p})=>e.jsxs(B,{children:[e.jsx(V,{children:"Fleet Size"}),e.jsx(U,{children:e.jsx($,{...p,type:"number"})}),e.jsx(Ue,{children:"The number of vehicles in your fleet"}),e.jsx(z,{})]})}),e.jsx(q,{control:u.control,name:"driversCount",render:({field:p})=>e.jsxs(B,{children:[e.jsx(V,{children:"Number of Drivers"}),e.jsx(U,{children:e.jsx($,{...p,type:"number"})}),e.jsx(z,{})]})})]})}),o==="transportation_agent"&&e.jsx("div",{className:"space-y-6",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsx(q,{control:u.control,name:"vehicleTypes",render:({field:p})=>e.jsxs(B,{children:[e.jsx(V,{children:"Vehicle Types"}),e.jsx(U,{children:e.jsx($,{...p,placeholder:"e.g., Truck, Van, Mini-truck"})}),e.jsx(Ue,{children:"List the types of vehicles you offer, separated by commas"}),e.jsx(z,{})]})}),e.jsx(q,{control:u.control,name:"operatingHours",render:({field:p})=>e.jsxs(B,{children:[e.jsx(V,{children:"Operating Hours"}),e.jsx(U,{children:e.jsx($,{...p,placeholder:"e.g., 24x7, 8 AM - 8 PM"})}),e.jsx(z,{})]})}),e.jsx(q,{control:u.control,name:"servicesOffered",render:({field:p})=>e.jsxs(B,{children:[e.jsx(V,{children:"Services Offered"}),e.jsx(U,{children:e.jsx($,{...p,placeholder:"e.g., Freight, Moving, Logistics"})}),e.jsx(Ue,{children:"List the services you offer, separated by commas"}),e.jsx(z,{})]})}),e.jsx(q,{control:u.control,name:"coverageAreas",render:({field:p})=>e.jsxs(B,{children:[e.jsx(V,{children:"Coverage Areas"}),e.jsx(U,{children:e.jsx($,{...p,placeholder:"e.g., Chennai, Coimbatore, Madurai"})}),e.jsx(Ue,{children:"List the areas you serve, separated by commas"}),e.jsx(z,{})]})}),e.jsx(q,{control:u.control,name:"maxCapacity",render:({field:p})=>e.jsxs(B,{children:[e.jsx(V,{children:"Maximum Capacity"}),e.jsx(U,{children:e.jsx($,{...p,placeholder:"e.g., 5000 kg, 10 tons"})}),e.jsx(z,{})]})})]})}),o==="rental_provider"&&e.jsx("div",{className:"space-y-6",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsx(q,{control:u.control,name:"itemCategories",render:({field:p})=>e.jsxs(B,{children:[e.jsx(V,{children:"Item Categories"}),e.jsx(U,{children:e.jsx($,{...p,placeholder:"e.g., Construction Equipment, Electronics, Furniture"})}),e.jsx(Ue,{children:"List the categories of items you rent out, separated by commas"}),e.jsx(z,{})]})}),e.jsx(q,{control:u.control,name:"operatingHours",render:({field:p})=>e.jsxs(B,{children:[e.jsx(V,{children:"Operating Hours"}),e.jsx(U,{children:e.jsx($,{...p,placeholder:"e.g., 9 AM - 6 PM, Monday to Saturday"})}),e.jsx(z,{})]})}),e.jsx(q,{control:u.control,name:"rentalTerms",render:({field:p})=>e.jsxs(B,{children:[e.jsx(V,{children:"Rental Terms"}),e.jsx(U,{children:e.jsx($,{...p,placeholder:"e.g., Daily, Weekly, Monthly"})}),e.jsx(Ue,{children:"List your rental terms, separated by commas"}),e.jsx(z,{})]})}),e.jsx(q,{control:u.control,name:"securityDepositTerms",render:({field:p})=>e.jsxs(B,{children:[e.jsx(V,{children:"Security Deposit Terms"}),e.jsx(U,{children:e.jsx($,{...p,placeholder:"e.g., 50% of item value, Fixed amount of 5000"})}),e.jsx(z,{})]})})]})}),o==="recycling_agent"&&e.jsx("div",{className:"space-y-6",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsx(q,{control:u.control,name:"materialTypes",render:({field:p})=>e.jsxs(B,{children:[e.jsx(V,{children:"Material Types"}),e.jsx(U,{children:e.jsx($,{...p,placeholder:"e.g., Paper, Plastic, E-waste, Metal"})}),e.jsx(Ue,{children:"List the types of materials you collect, separated by commas"}),e.jsx(z,{})]})}),e.jsx(q,{control:u.control,name:"operatingHours",render:({field:p})=>e.jsxs(B,{children:[e.jsx(V,{children:"Operating Hours"}),e.jsx(U,{children:e.jsx($,{...p,placeholder:"e.g., 8 AM - 5 PM, Monday to Friday"})}),e.jsx(z,{})]})}),e.jsx(q,{control:u.control,name:"pricingPolicy",render:({field:p})=>e.jsxs(B,{children:[e.jsx(V,{children:"Pricing Policy"}),e.jsx(U,{children:e.jsx($,{...p,placeholder:"e.g., Per kg, Fixed rates by material type"})}),e.jsx(Ue,{children:"Describe how you price your recycling services"}),e.jsx(z,{})]})}),e.jsx(q,{control:u.control,name:"processingCapacity",render:({field:p})=>e.jsxs(B,{children:[e.jsx(V,{children:"Processing Capacity"}),e.jsx(U,{children:e.jsx($,{...p,placeholder:"e.g., 100 kg per day"})}),e.jsx(z,{})]})})]})}),e.jsx("div",{className:"pt-6",children:e.jsxs(T,{type:"submit",disabled:m.isPending,className:"w-full md:w-auto",children:[m.isPending&&e.jsx(Ye,{className:"mr-2 h-4 w-4 animate-spin"}),"Submit Registration"]})})]})})})]})})}function NRe(){var r;const{user:t}=dt();return t?e.jsxs("div",{className:"p-4 sm:p-6 lg:p-8",children:[e.jsxs("div",{className:"mb-8",children:[e.jsx("h2",{className:"text-2xl font-bold text-neutral-900",children:"My Profile"}),e.jsx("p",{className:"mt-1 text-sm text-neutral-500",children:"View and manage your account information"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[e.jsxs(E,{className:"col-span-2 border border-neutral-200",children:[e.jsx(Y,{className:"pb-3",children:e.jsx(X,{className:"text-xl",children:"Personal Information"})}),e.jsxs(D,{children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(se,{htmlFor:"fullName",children:"Full Name"}),e.jsxs("div",{className:"flex items-center",children:[e.jsx(zs,{className:"mr-2 h-4 w-4 text-neutral-500"}),e.jsx($,{id:"fullName",value:t.fullName,readOnly:!0,className:"bg-neutral-50"})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(se,{htmlFor:"username",children:"Username"}),e.jsxs("div",{className:"flex items-center",children:[e.jsx(zs,{className:"mr-2 h-4 w-4 text-neutral-500"}),e.jsx($,{id:"username",value:t.username,readOnly:!0,className:"bg-neutral-50"})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(se,{htmlFor:"email",children:"Email"}),e.jsxs("div",{className:"flex items-center",children:[e.jsx(tj,{className:"mr-2 h-4 w-4 text-neutral-500"}),e.jsx($,{id:"email",value:t.email,readOnly:!0,className:"bg-neutral-50"})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(se,{htmlFor:"phone",children:"Phone"}),e.jsxs("div",{className:"flex items-center",children:[e.jsx(Oo,{className:"mr-2 h-4 w-4 text-neutral-500"}),e.jsx($,{id:"phone",value:t.phone||"Not provided",readOnly:!0,className:"bg-neutral-50"})]})]}),t.district&&e.jsxs("div",{className:"space-y-2",children:[e.jsx(se,{htmlFor:"district",children:"District"}),e.jsxs("div",{className:"flex items-center",children:[e.jsx(J2,{className:"mr-2 h-4 w-4 text-neutral-500"}),e.jsx($,{id:"district",value:t.district,readOnly:!0,className:"bg-neutral-50"})]})]}),t.taluk&&e.jsxs("div",{className:"space-y-2",children:[e.jsx(se,{htmlFor:"taluk",children:"Taluk"}),e.jsxs("div",{className:"flex items-center",children:[e.jsx(ft,{className:"mr-2 h-4 w-4 text-neutral-500"}),e.jsx($,{id:"taluk",value:t.taluk,readOnly:!0,className:"bg-neutral-50"})]})]}),t.pincode&&e.jsxs("div",{className:"space-y-2",children:[e.jsx(se,{htmlFor:"pincode",children:"Pincode"}),e.jsxs("div",{className:"flex items-center",children:[e.jsx(ft,{className:"mr-2 h-4 w-4 text-neutral-500"}),e.jsx($,{id:"pincode",value:t.pincode,readOnly:!0,className:"bg-neutral-50"})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(se,{htmlFor:"createdAt",children:"Member Since"}),e.jsxs("div",{className:"flex items-center",children:[e.jsx(Xt,{className:"mr-2 h-4 w-4 text-neutral-500"}),e.jsx($,{id:"createdAt",value:new Date(t.createdAt).toLocaleDateString("en-IN",{year:"numeric",month:"long",day:"numeric"}),readOnly:!0,className:"bg-neutral-50"})]})]})]}),e.jsx("div",{className:"mt-6 flex justify-end",children:e.jsx(T,{children:"Edit Profile"})})]})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs(E,{className:"border border-neutral-200",children:[e.jsx(Y,{className:"pb-3",children:e.jsx(X,{className:"text-xl",children:"Account Type"})}),e.jsx(D,{children:e.jsxs("div",{className:"flex items-center mb-4",children:[e.jsx(xl,{className:"h-10 w-10 text-primary mr-4"}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-lg capitalize",children:t.userType==="customer"?"Customer":t.userType==="admin"?"Administrator":t.userType==="branch_manager"?"Branch Manager":t.userType==="taluk_manager"?"Taluk Manager":t.userType==="service_agent"?"Service Agent":"Provider"}),e.jsx("p",{className:"text-sm text-neutral-500",children:t.userType==="customer"?"Access to all services":t.userType==="admin"?"Full administrative access":t.userType==="branch_manager"?`Managing ${t.district||"branch"}`:t.userType==="taluk_manager"?`Managing ${t.taluk||"taluk"}`:t.userType==="service_agent"?`Serving ${t.pincode||"area"}`:"Service provider access"})]})]})})]}),e.jsxs(E,{className:"border border-neutral-200",children:[e.jsx(Y,{className:"pb-3",children:e.jsx(X,{className:"text-xl",children:"Wallet"})}),e.jsxs(D,{children:[e.jsxs("div",{className:"flex items-center mb-4",children:[e.jsx(Mw,{className:"h-10 w-10 text-green-500 mr-4"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-neutral-500",children:"Current Balance"}),e.jsxs("p",{className:"font-medium text-2xl",children:["",((r=t.walletBalance)==null?void 0:r.toFixed(2))||"0.00"]})]})]}),e.jsx(T,{asChild:!0,className:"w-full",children:e.jsx("a",{href:"/wallet",children:"Manage Wallet"})})]})]}),e.jsxs(E,{className:"border border-neutral-200",children:[e.jsx(Y,{className:"pb-3",children:e.jsx(X,{className:"text-xl",children:"My Commissions"})}),e.jsxs(D,{children:[e.jsxs("div",{className:"flex items-center mb-4",children:[e.jsx(ia,{className:"h-10 w-10 text-blue-500 mr-4"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-neutral-500",children:"View your earnings"}),e.jsx("p",{className:"font-medium",children:"Track commission payouts"})]})]}),e.jsx(T,{asChild:!0,variant:"outline",className:"w-full",children:e.jsx("a",{href:"/commissions",children:"View Commissions"})})]})]})]})]})]}):e.jsx("div",{children:"Loading..."})}var yk="Collapsible",[wRe,FK]=rn(yk),[SRe,jk]=wRe(yk),$K=j.forwardRef((t,r)=>{const{__scopeCollapsible:s,open:n,defaultOpen:a,disabled:i,onOpenChange:l,...o}=t,[c=!1,d]=Fn({prop:n,defaultProp:a,onChange:l});return e.jsx(SRe,{scope:s,disabled:i,contentId:ta(),open:c,onOpenToggle:j.useCallback(()=>d(u=>!u),[d]),children:e.jsx(ct.div,{"data-state":Nk(c),"data-disabled":i?"":void 0,...o,ref:r})})});$K.displayName=yk;var LK="CollapsibleTrigger",BK=j.forwardRef((t,r)=>{const{__scopeCollapsible:s,...n}=t,a=jk(LK,s);return e.jsx(ct.button,{type:"button","aria-controls":a.contentId,"aria-expanded":a.open||!1,"data-state":Nk(a.open),"data-disabled":a.disabled?"":void 0,disabled:a.disabled,...n,ref:r,onClick:He(t.onClick,a.onOpenToggle)})});BK.displayName=LK;var bk="CollapsibleContent",VK=j.forwardRef((t,r)=>{const{forceMount:s,...n}=t,a=jk(bk,t.__scopeCollapsible);return e.jsx(ks,{present:s||a.open,children:({present:i})=>e.jsx(CRe,{...n,ref:r,present:i})})});VK.displayName=bk;var CRe=j.forwardRef((t,r)=>{const{__scopeCollapsible:s,present:n,children:a,...i}=t,l=jk(bk,s),[o,c]=j.useState(n),d=j.useRef(null),u=Lt(r,d),m=j.useRef(0),h=m.current,g=j.useRef(0),f=g.current,p=l.open||o,y=j.useRef(p),v=j.useRef();return j.useEffect(()=>{const x=requestAnimationFrame(()=>y.current=!1);return()=>cancelAnimationFrame(x)},[]),fs(()=>{const x=d.current;if(x){v.current=v.current||{transitionDuration:x.style.transitionDuration,animationName:x.style.animationName},x.style.transitionDuration="0s",x.style.animationName="none";const b=x.getBoundingClientRect();m.current=b.height,g.current=b.width,y.current||(x.style.transitionDuration=v.current.transitionDuration,x.style.animationName=v.current.animationName),c(n)}},[l.open,n]),e.jsx(ct.div,{"data-state":Nk(l.open),"data-disabled":l.disabled?"":void 0,id:l.contentId,hidden:!p,...i,ref:u,style:{"--radix-collapsible-content-height":h?`${h}px`:void 0,"--radix-collapsible-content-width":f?`${f}px`:void 0,...t.style},children:p&&a})});function Nk(t){return t?"open":"closed"}var PRe=$K,kRe=BK,ARe=VK,_l="Accordion",_Re=["Home","End","ArrowDown","ArrowUp","ArrowLeft","ArrowRight"],[wk,TRe,ORe]=gf(_l),[yb,gFe]=rn(_l,[ORe,FK]),Sk=FK(),UK=G.forwardRef((t,r)=>{const{type:s,...n}=t,a=n,i=n;return e.jsx(wk.Provider,{scope:t.__scopeAccordion,children:s==="multiple"?e.jsx(IRe,{...i,ref:r}):e.jsx(MRe,{...a,ref:r})})});UK.displayName=_l;var[qK,ERe]=yb(_l),[zK,DRe]=yb(_l,{collapsible:!1}),MRe=G.forwardRef((t,r)=>{const{value:s,defaultValue:n,onValueChange:a=()=>{},collapsible:i=!1,...l}=t,[o,c]=Fn({prop:s,defaultProp:n,onChange:a});return e.jsx(qK,{scope:t.__scopeAccordion,value:o?[o]:[],onItemOpen:c,onItemClose:G.useCallback(()=>i&&c(""),[i,c]),children:e.jsx(zK,{scope:t.__scopeAccordion,collapsible:i,children:e.jsx(KK,{...l,ref:r})})})}),IRe=G.forwardRef((t,r)=>{const{value:s,defaultValue:n,onValueChange:a=()=>{},...i}=t,[l=[],o]=Fn({prop:s,defaultProp:n,onChange:a}),c=G.useCallback(u=>o((m=[])=>[...m,u]),[o]),d=G.useCallback(u=>o((m=[])=>m.filter(h=>h!==u)),[o]);return e.jsx(qK,{scope:t.__scopeAccordion,value:l,onItemOpen:c,onItemClose:d,children:e.jsx(zK,{scope:t.__scopeAccordion,collapsible:!0,children:e.jsx(KK,{...i,ref:r})})})}),[RRe,jb]=yb(_l),KK=G.forwardRef((t,r)=>{const{__scopeAccordion:s,disabled:n,dir:a,orientation:i="vertical",...l}=t,o=G.useRef(null),c=Lt(o,r),d=TRe(s),m=Vc(a)==="ltr",h=He(t.onKeyDown,g=>{var S;if(!_Re.includes(g.key))return;const f=g.target,p=d().filter(A=>{var k;return!((k=A.ref.current)!=null&&k.disabled)}),y=p.findIndex(A=>A.ref.current===f),v=p.length;if(y===-1)return;g.preventDefault();let x=y;const b=0,N=v-1,w=()=>{x=y+1,x>N&&(x=b)},C=()=>{x=y-1,x<b&&(x=N)};switch(g.key){case"Home":x=b;break;case"End":x=N;break;case"ArrowRight":i==="horizontal"&&(m?w():C());break;case"ArrowDown":i==="vertical"&&w();break;case"ArrowLeft":i==="horizontal"&&(m?C():w());break;case"ArrowUp":i==="vertical"&&C();break}const P=x%v;(S=p[P].ref.current)==null||S.focus()});return e.jsx(RRe,{scope:s,disabled:n,direction:a,orientation:i,children:e.jsx(wk.Slot,{scope:s,children:e.jsx(ct.div,{...l,"data-orientation":i,ref:c,onKeyDown:n?void 0:h})})})}),Ay="AccordionItem",[FRe,Ck]=yb(Ay),HK=G.forwardRef((t,r)=>{const{__scopeAccordion:s,value:n,...a}=t,i=jb(Ay,s),l=ERe(Ay,s),o=Sk(s),c=ta(),d=n&&l.value.includes(n)||!1,u=i.disabled||t.disabled;return e.jsx(FRe,{scope:s,open:d,disabled:u,triggerId:c,children:e.jsx(PRe,{"data-orientation":i.orientation,"data-state":ZK(d),...o,...a,ref:r,disabled:u,open:d,onOpenChange:m=>{m?l.onItemOpen(n):l.onItemClose(n)}})})});HK.displayName=Ay;var WK="AccordionHeader",GK=G.forwardRef((t,r)=>{const{__scopeAccordion:s,...n}=t,a=jb(_l,s),i=Ck(WK,s);return e.jsx(ct.h3,{"data-orientation":a.orientation,"data-state":ZK(i.open),"data-disabled":i.disabled?"":void 0,...n,ref:r})});GK.displayName=WK;var LS="AccordionTrigger",YK=G.forwardRef((t,r)=>{const{__scopeAccordion:s,...n}=t,a=jb(_l,s),i=Ck(LS,s),l=DRe(LS,s),o=Sk(s);return e.jsx(wk.ItemSlot,{scope:s,children:e.jsx(kRe,{"aria-disabled":i.open&&!l.collapsible||void 0,"data-orientation":a.orientation,id:i.triggerId,...o,...n,ref:r})})});YK.displayName=LS;var QK="AccordionContent",XK=G.forwardRef((t,r)=>{const{__scopeAccordion:s,...n}=t,a=jb(_l,s),i=Ck(QK,s),l=Sk(s);return e.jsx(ARe,{role:"region","aria-labelledby":i.triggerId,"data-orientation":a.orientation,...l,...n,ref:r,style:{"--radix-accordion-content-height":"var(--radix-collapsible-content-height)","--radix-accordion-content-width":"var(--radix-collapsible-content-width)",...t.style}})});XK.displayName=QK;function ZK(t){return t?"open":"closed"}var $Re=UK,LRe=HK,BRe=GK,JK=YK,eH=XK;const VRe=$Re,vh=j.forwardRef(({className:t,...r},s)=>e.jsx(LRe,{ref:s,className:Oe("border-b",t),...r}));vh.displayName="AccordionItem";const yh=j.forwardRef(({className:t,children:r,...s},n)=>e.jsx(BRe,{className:"flex",children:e.jsxs(JK,{ref:n,className:Oe("flex flex-1 items-center justify-between py-4 font-medium transition-all hover:underline [&[data-state=open]>svg]:rotate-180",t),...s,children:[r,e.jsx(ej,{className:"h-4 w-4 shrink-0 transition-transform duration-200"})]})}));yh.displayName=JK.displayName;const jh=j.forwardRef(({className:t,children:r,...s},n)=>e.jsx(eH,{ref:n,className:"overflow-hidden text-sm transition-all data-[state=closed]:animate-accordion-up data-[state=open]:animate-accordion-down",...s,children:e.jsx("div",{className:Oe("pb-4 pt-0",t),children:r})}));jh.displayName=eH.displayName;function URe(){dt();const[t,r]=j.useState("structure");return e.jsxs("div",{className:"p-4 sm:p-6 lg:p-8",children:[e.jsxs("div",{className:"mb-6",children:[e.jsx("h2",{className:"text-2xl font-bold text-neutral-900",children:"Organizational Hierarchy"}),e.jsx("p",{className:"mt-1 text-sm text-neutral-500",children:"Management structure across Tamil Nadu with credential information"})]}),e.jsxs(rr,{value:t,onValueChange:r,className:"w-full",children:[e.jsxs(tr,{className:"grid w-full grid-cols-3 mb-8",children:[e.jsxs(ke,{value:"structure",children:[e.jsx(er,{className:"mr-2 h-4 w-4"}),"Management Structure"]}),e.jsxs(ke,{value:"credentials",children:[e.jsx(xl,{className:"mr-2 h-4 w-4"}),"Login Credentials"]}),e.jsxs(ke,{value:"coverage",children:[e.jsx(ft,{className:"mr-2 h-4 w-4"}),"Geographic Coverage"]})]}),e.jsxs(Le,{value:"structure",children:[e.jsxs("div",{className:"grid gap-6 md:grid-cols-1 lg:grid-cols-3",children:[e.jsxs(E,{className:"col-span-2",children:[e.jsxs(Y,{children:[e.jsx(X,{children:"Management Hierarchy"}),e.jsx(he,{children:"Four-tier management structure with clear reporting lines"})]}),e.jsx(D,{children:e.jsx("div",{className:"flex flex-col items-center",children:e.jsx("div",{className:"w-full max-w-2xl",children:e.jsxs("div",{className:"flex flex-col items-center",children:[e.jsxs("div",{className:"w-64 p-4 mb-4 bg-primary text-white rounded-lg shadow-lg text-center",children:[e.jsx("div",{className:"flex justify-center mb-2",children:e.jsx(zs,{className:"h-8 w-8"})}),e.jsx("h3",{className:"font-bold",children:"System Administrator"}),e.jsx("p",{className:"text-xs opacity-80",children:"Headquarters"}),e.jsx("p",{className:"text-sm mt-1",children:"Access to all platform functions"})]}),e.jsx("div",{className:"h-8 w-px bg-neutral-300"}),e.jsxs("div",{className:"w-72 p-3 mb-4 bg-blue-600 text-white rounded-lg shadow-lg text-center",children:[e.jsx("div",{className:"flex justify-center mb-2",children:e.jsx(vn,{className:"h-7 w-7"})}),e.jsx("h3",{className:"font-bold",children:"Branch Managers (38)"}),e.jsx("p",{className:"text-xs opacity-80",children:"District Level"}),e.jsx("p",{className:"text-sm mt-1",children:"Manage district operations"})]}),e.jsx("div",{className:"h-8 w-px bg-neutral-300"}),e.jsxs("div",{className:"w-80 p-3 mb-4 bg-blue-500 text-white rounded-lg shadow-lg text-center",children:[e.jsx("div",{className:"flex justify-center mb-2",children:e.jsx(QX,{className:"h-6 w-6"})}),e.jsx("h3",{className:"font-bold",children:"Taluk Managers (261)"}),e.jsx("p",{className:"text-xs opacity-80",children:"Taluk Level"}),e.jsx("p",{className:"text-sm mt-1",children:"Manage taluk-level services"})]}),e.jsx("div",{className:"h-8 w-px bg-neutral-300"}),e.jsxs("div",{className:"w-96 p-3 mb-4 bg-blue-400 text-white rounded-lg shadow-lg text-center",children:[e.jsx("div",{className:"flex justify-center mb-2",children:e.jsx(er,{className:"h-6 w-6"})}),e.jsx("h3",{className:"font-bold",children:"Service Agents (517+)"}),e.jsx("p",{className:"text-xs opacity-80",children:"Pincode Level"}),e.jsx("p",{className:"text-sm mt-1",children:"Direct customer service provision"})]})]})})})})]}),e.jsxs(E,{children:[e.jsxs(Y,{children:[e.jsx(X,{children:"Roles & Responsibilities"}),e.jsx(he,{children:"Duties at each management level"})]}),e.jsx(D,{children:e.jsxs(VRe,{type:"single",collapsible:!0,className:"w-full",children:[e.jsxs(vh,{value:"item-1",children:[e.jsx(yh,{className:"font-medium",children:"System Administrator"}),e.jsx(jh,{children:e.jsxs("ul",{className:"list-disc pl-5 space-y-1 text-sm",children:[e.jsx("li",{children:"Platform oversight and configuration"}),e.jsx("li",{children:"Commission rates management"}),e.jsx("li",{children:"Branch manager appointment and management"}),e.jsx("li",{children:"Service integration and API control"}),e.jsx("li",{children:"Financial oversight across platform"}),e.jsx("li",{children:"Overall performance monitoring"})]})})]}),e.jsxs(vh,{value:"item-2",children:[e.jsx(yh,{className:"font-medium",children:"Branch Managers"}),e.jsx(jh,{children:e.jsxs("ul",{className:"list-disc pl-5 space-y-1 text-sm",children:[e.jsx("li",{children:"District-level service delivery"}),e.jsx("li",{children:"Taluk manager appointment and supervision"}),e.jsx("li",{children:"Service quality monitoring"}),e.jsx("li",{children:"District performance targets"}),e.jsx("li",{children:"Conflict resolution and escalations"}),e.jsx("li",{children:"Marketing initiatives at district level"})]})})]}),e.jsxs(vh,{value:"item-3",children:[e.jsx(yh,{className:"font-medium",children:"Taluk Managers"}),e.jsx(jh,{children:e.jsxs("ul",{className:"list-disc pl-5 space-y-1 text-sm",children:[e.jsx("li",{children:"Taluk-level service management"}),e.jsx("li",{children:"Service agent recruitment and oversight"}),e.jsx("li",{children:"Local marketing and promotion"}),e.jsx("li",{children:"Customer dispute resolution"}),e.jsx("li",{children:"Service provider onboarding"}),e.jsx("li",{children:"Local partnership development"})]})})]}),e.jsxs(vh,{value:"item-4",children:[e.jsx(yh,{className:"font-medium",children:"Service Agents"}),e.jsx(jh,{children:e.jsxs("ul",{className:"list-disc pl-5 space-y-1 text-sm",children:[e.jsx("li",{children:"Direct service provision to customers"}),e.jsx("li",{children:"Mobile recharge and bill payments"}),e.jsx("li",{children:"Travel bookings assistance"}),e.jsx("li",{children:"Local delivery coordination"}),e.jsx("li",{children:"Equipment rental facilitation"}),e.jsx("li",{children:"Customer support and issue resolution"})]})})]})]})})]})]}),e.jsxs(E,{className:"mt-6",children:[e.jsxs(Y,{children:[e.jsx(X,{children:"Commission Structure"}),e.jsx(he,{children:"Revenue sharing across management hierarchy"})]}),e.jsxs(D,{children:[e.jsx("div",{className:"overflow-x-auto",children:e.jsxs(Ur,{children:[e.jsx(qr,{children:e.jsxs(mt,{children:[e.jsx(xe,{children:"Role"}),e.jsx(xe,{children:"Commission Rate"}),e.jsx(xe,{children:"Examples"}),e.jsx(xe,{children:"Payment Cycle"})]})}),e.jsxs(zr,{children:[e.jsxs(mt,{children:[e.jsx(ne,{className:"font-medium",children:"System Administrator"}),e.jsx(ne,{children:"0.5%"}),e.jsx(ne,{children:"Platform maintenance, infrastructure costs"}),e.jsx(ne,{children:"Monthly"})]}),e.jsxs(mt,{children:[e.jsx(ne,{className:"font-medium",children:"Branch Managers"}),e.jsx(ne,{children:"0.5%"}),e.jsx(ne,{children:"District management, taluk coordination"}),e.jsx(ne,{children:"Bi-weekly"})]}),e.jsxs(mt,{children:[e.jsx(ne,{className:"font-medium",children:"Taluk Managers"}),e.jsx(ne,{children:"1%"}),e.jsx(ne,{children:"Local operations, agent management"}),e.jsx(ne,{children:"Weekly"})]}),e.jsxs(mt,{children:[e.jsx(ne,{className:"font-medium",children:"Service Agents"}),e.jsx(ne,{children:"2-3%"}),e.jsx(ne,{children:"Direct service provision to customers"}),e.jsx(ne,{children:"Daily/Weekly"})]}),e.jsxs(mt,{children:[e.jsx(ne,{className:"font-medium",children:"Registered Users"}),e.jsx(ne,{children:"1%"}),e.jsx(ne,{children:"Referrals, repeat business"}),e.jsx(ne,{children:"Immediate"})]})]})]})}),e.jsx("div",{className:"mt-4 text-sm text-neutral-500",children:e.jsx("p",{children:"Total commission from service providers and API partners ranges from 8-15% of transaction value, distributed through this hierarchy."})})]})]})]}),e.jsx(Le,{value:"credentials",children:e.jsxs(E,{children:[e.jsxs(Y,{children:[e.jsx(X,{children:"Login Credential Format"}),e.jsx(he,{children:"Standardized login credentials for each role"})]}),e.jsxs(D,{children:[e.jsxs(la,{className:"mb-6",children:[e.jsx(nr,{className:"h-4 w-4"}),e.jsx($i,{children:"Test Credentials Available"}),e.jsx(oa,{children:"The following examples can be used to log in and explore different roles in the system."})]}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs(Ur,{children:[e.jsx(qr,{children:e.jsxs(mt,{children:[e.jsx(xe,{children:"Role"}),e.jsx(xe,{children:"Username Format"}),e.jsx(xe,{children:"Password Format"}),e.jsx(xe,{children:"Example"})]})}),e.jsxs(zr,{children:[e.jsxs(mt,{children:[e.jsx(ne,{className:"font-medium",children:"Administrator"}),e.jsx(ne,{children:"admin"}),e.jsx(ne,{children:"admin123"}),e.jsx(ne,{children:e.jsxs("div",{className:"flex flex-col",children:[e.jsxs("span",{className:"text-sm",children:["Username: ",e.jsx("span",{className:"font-mono",children:"admin"})]}),e.jsxs("span",{className:"text-sm",children:["Password: ",e.jsx("span",{className:"font-mono",children:"admin123"})]})]})})]}),e.jsxs(mt,{children:[e.jsx(ne,{className:"font-medium",children:"Branch Manager"}),e.jsx(ne,{children:"bm_districtname"}),e.jsx(ne,{children:"districtname123"}),e.jsx(ne,{children:e.jsxs("div",{className:"flex flex-col",children:[e.jsxs("span",{className:"text-sm",children:["Username: ",e.jsx("span",{className:"font-mono",children:"bm_chennai"})]}),e.jsxs("span",{className:"text-sm",children:["Password: ",e.jsx("span",{className:"font-mono",children:"chennai123"})]})]})})]}),e.jsxs(mt,{children:[e.jsx(ne,{className:"font-medium",children:"Taluk Manager"}),e.jsx(ne,{children:"tm_districtname_talukname"}),e.jsx(ne,{children:"talukname123"}),e.jsx(ne,{children:e.jsxs("div",{className:"flex flex-col",children:[e.jsxs("span",{className:"text-sm",children:["Username: ",e.jsx("span",{className:"font-mono",children:"tm_chennai_north"})]}),e.jsxs("span",{className:"text-sm",children:["Password: ",e.jsx("span",{className:"font-mono",children:"north123"})]})]})})]}),e.jsxs(mt,{children:[e.jsx(ne,{className:"font-medium",children:"Service Agent"}),e.jsx(ne,{children:"sa_districtname_talukname_pincode"}),e.jsx(ne,{children:"pincode123"}),e.jsx(ne,{children:e.jsxs("div",{className:"flex flex-col",children:[e.jsxs("span",{className:"text-sm",children:["Username: ",e.jsx("span",{className:"font-mono",children:"sa_chennai_north_600001"})]}),e.jsxs("span",{className:"text-sm",children:["Password: ",e.jsx("span",{className:"font-mono",children:"600001123"})]})]})})]})]})]})}),e.jsxs("div",{className:"mt-6",children:[e.jsx("h3",{className:"text-lg font-medium mb-3",children:"Notable Credentials"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs(E,{className:"border border-blue-200",children:[e.jsx(Y,{className:"pb-2",children:e.jsx(X,{className:"text-base",children:"Branch Manager - Chennai"})}),e.jsx(D,{children:e.jsxs("div",{className:"space-y-1 text-sm",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"font-medium",children:"Username:"}),e.jsx("code",{className:"bg-neutral-100 px-2 py-1 rounded",children:"bm_chennai"})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"font-medium",children:"Password:"}),e.jsx("code",{className:"bg-neutral-100 px-2 py-1 rounded",children:"chennai123"})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"font-medium",children:"District:"}),e.jsx("span",{children:"Chennai"})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"font-medium",children:"Taluk Managers:"}),e.jsx("span",{children:"4"})]})]})})]}),e.jsxs(E,{className:"border border-blue-200",children:[e.jsx(Y,{className:"pb-2",children:e.jsx(X,{className:"text-base",children:"Taluk Manager - Coimbatore South"})}),e.jsx(D,{children:e.jsxs("div",{className:"space-y-1 text-sm",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"font-medium",children:"Username:"}),e.jsx("code",{className:"bg-neutral-100 px-2 py-1 rounded",children:"tm_coimbatore_south"})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"font-medium",children:"Password:"}),e.jsx("code",{className:"bg-neutral-100 px-2 py-1 rounded",children:"south123"})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"font-medium",children:"District:"}),e.jsx("span",{children:"Coimbatore"})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"font-medium",children:"Service Agents:"}),e.jsx("span",{children:"6"})]})]})})]})]})]})]})]})}),e.jsxs(Le,{value:"coverage",children:[e.jsxs("div",{className:"grid gap-6 md:grid-cols-2",children:[e.jsxs(E,{children:[e.jsxs(Y,{children:[e.jsx(X,{children:"Deployment Statistics"}),e.jsx(he,{children:"Current team members across locations"})]}),e.jsx(D,{children:e.jsx("div",{className:"overflow-x-auto",children:e.jsxs(Ur,{children:[e.jsx(qr,{children:e.jsxs(mt,{children:[e.jsx(xe,{children:"Role"}),e.jsx(xe,{className:"text-right",children:"Current Count"}),e.jsx(xe,{className:"text-right",children:"Target Count"}),e.jsx(xe,{className:"text-right",children:"Coverage %"})]})}),e.jsxs(zr,{children:[e.jsxs(mt,{children:[e.jsx(ne,{className:"font-medium",children:"Branch Managers"}),e.jsx(ne,{className:"text-right",children:"38"}),e.jsx(ne,{className:"text-right",children:"38"}),e.jsx(ne,{className:"text-right text-green-600",children:"100%"})]}),e.jsxs(mt,{children:[e.jsx(ne,{className:"font-medium",children:"Taluk Managers"}),e.jsx(ne,{className:"text-right",children:"261"}),e.jsx(ne,{className:"text-right",children:"288"}),e.jsx(ne,{className:"text-right text-amber-600",children:"90.6%"})]}),e.jsxs(mt,{children:[e.jsx(ne,{className:"font-medium",children:"Service Agents"}),e.jsx(ne,{className:"text-right",children:"517"}),e.jsx(ne,{className:"text-right",children:"2000+"}),e.jsx(ne,{className:"text-right text-red-600",children:"25.9%"})]})]})]})})})]}),e.jsxs(E,{children:[e.jsxs(Y,{children:[e.jsx(X,{children:"Top 5 Districts by Service Agents"}),e.jsx(he,{children:"Districts with highest agent deployment"})]}),e.jsxs(D,{children:[e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center justify-between mb-1",children:[e.jsx("span",{className:"font-medium",children:"Chennai"}),e.jsx("span",{className:"text-sm",children:"50 agents"})]}),e.jsx("div",{className:"w-full bg-neutral-200 rounded-full h-2",children:e.jsx("div",{className:"bg-blue-600 h-2 rounded-full",style:{width:"100%"}})})]}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center justify-between mb-1",children:[e.jsx("span",{className:"font-medium",children:"Coimbatore"}),e.jsx("span",{className:"text-sm",children:"38 agents"})]}),e.jsx("div",{className:"w-full bg-neutral-200 rounded-full h-2",children:e.jsx("div",{className:"bg-blue-600 h-2 rounded-full",style:{width:"76%"}})})]}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center justify-between mb-1",children:[e.jsx("span",{className:"font-medium",children:"Madurai"}),e.jsx("span",{className:"text-sm",children:"30 agents"})]}),e.jsx("div",{className:"w-full bg-neutral-200 rounded-full h-2",children:e.jsx("div",{className:"bg-blue-600 h-2 rounded-full",style:{width:"60%"}})})]}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center justify-between mb-1",children:[e.jsx("span",{className:"font-medium",children:"Tiruchirappalli"}),e.jsx("span",{className:"text-sm",children:"27 agents"})]}),e.jsx("div",{className:"w-full bg-neutral-200 rounded-full h-2",children:e.jsx("div",{className:"bg-blue-600 h-2 rounded-full",style:{width:"54%"}})})]}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center justify-between mb-1",children:[e.jsx("span",{className:"font-medium",children:"Salem"}),e.jsx("span",{className:"text-sm",children:"25 agents"})]}),e.jsx("div",{className:"w-full bg-neutral-200 rounded-full h-2",children:e.jsx("div",{className:"bg-blue-600 h-2 rounded-full",style:{width:"50%"}})})]})]}),e.jsxs("div",{className:"mt-6 pt-4 border-t border-neutral-200",children:[e.jsx("h4",{className:"font-medium mb-2",children:"Rural vs Urban Distribution"}),e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"w-2/3 bg-neutral-200 rounded-full h-3",children:e.jsx("div",{className:"bg-blue-600 h-3 rounded-l-full",style:{width:"70%"}})}),e.jsxs("div",{className:"ml-4 text-sm flex space-x-4",children:[e.jsxs("span",{children:[e.jsx("span",{className:"inline-block w-3 h-3 rounded-full bg-blue-600 mr-1"}),"Urban (70%)"]}),e.jsxs("span",{children:[e.jsx("span",{className:"inline-block w-3 h-3 rounded-full bg-neutral-200 mr-1"}),"Rural (30%)"]})]})]})]})]})]})]}),e.jsxs(E,{className:"mt-6",children:[e.jsxs(Y,{children:[e.jsx(X,{children:"Service Availability Across Districts"}),e.jsx(he,{children:"Service coverage by district"})]}),e.jsxs(D,{children:[e.jsx("div",{className:"overflow-x-auto",children:e.jsxs(Ur,{children:[e.jsx(qr,{children:e.jsxs(mt,{children:[e.jsx(xe,{children:"District"}),e.jsx(xe,{children:"Branch Manager"}),e.jsx(xe,{className:"text-center",children:"Taluk Managers"}),e.jsx(xe,{className:"text-center",children:"Service Agents"}),e.jsx(xe,{children:"Service Availability"})]})}),e.jsxs(zr,{children:[e.jsxs(mt,{children:[e.jsx(ne,{className:"font-medium",children:"Chennai"}),e.jsx(ne,{children:e.jsx("span",{className:"px-2 py-1 bg-green-100 text-green-800 rounded-full text-xs",children:"Active"})}),e.jsx(ne,{className:"text-center",children:"4/4 (100%)"}),e.jsx(ne,{className:"text-center",children:"50/80 (62.5%)"}),e.jsx(ne,{children:e.jsx("div",{className:"w-full bg-neutral-200 rounded-full h-2",children:e.jsx("div",{className:"bg-green-500 h-2 rounded-full",style:{width:"95%"}})})})]}),e.jsxs(mt,{children:[e.jsx(ne,{className:"font-medium",children:"Coimbatore"}),e.jsx(ne,{children:e.jsx("span",{className:"px-2 py-1 bg-green-100 text-green-800 rounded-full text-xs",children:"Active"})}),e.jsx(ne,{className:"text-center",children:"6/6 (100%)"}),e.jsx(ne,{className:"text-center",children:"38/50 (76%)"}),e.jsx(ne,{children:e.jsx("div",{className:"w-full bg-neutral-200 rounded-full h-2",children:e.jsx("div",{className:"bg-green-500 h-2 rounded-full",style:{width:"90%"}})})})]}),e.jsxs(mt,{children:[e.jsx(ne,{className:"font-medium",children:"Madurai"}),e.jsx(ne,{children:e.jsx("span",{className:"px-2 py-1 bg-green-100 text-green-800 rounded-full text-xs",children:"Active"})}),e.jsx(ne,{className:"text-center",children:"5/5 (100%)"}),e.jsx(ne,{className:"text-center",children:"30/40 (75%)"}),e.jsx(ne,{children:e.jsx("div",{className:"w-full bg-neutral-200 rounded-full h-2",children:e.jsx("div",{className:"bg-green-500 h-2 rounded-full",style:{width:"85%"}})})})]}),e.jsxs(mt,{children:[e.jsx(ne,{className:"font-medium",children:"Tiruchirappalli"}),e.jsx(ne,{children:e.jsx("span",{className:"px-2 py-1 bg-green-100 text-green-800 rounded-full text-xs",children:"Active"})}),e.jsx(ne,{className:"text-center",children:"4/4 (100%)"}),e.jsx(ne,{className:"text-center",children:"27/35 (77%)"}),e.jsx(ne,{children:e.jsx("div",{className:"w-full bg-neutral-200 rounded-full h-2",children:e.jsx("div",{className:"bg-green-500 h-2 rounded-full",style:{width:"80%"}})})})]}),e.jsxs(mt,{children:[e.jsx(ne,{className:"font-medium",children:"Tiruppur"}),e.jsx(ne,{children:e.jsx("span",{className:"px-2 py-1 bg-green-100 text-green-800 rounded-full text-xs",children:"Active"})}),e.jsx(ne,{className:"text-center",children:"3/4 (75%)"}),e.jsx(ne,{className:"text-center",children:"17/30 (56.7%)"}),e.jsx(ne,{children:e.jsx("div",{className:"w-full bg-neutral-200 rounded-full h-2",children:e.jsx("div",{className:"bg-amber-500 h-2 rounded-full",style:{width:"65%"}})})})]}),e.jsxs(mt,{children:[e.jsx(ne,{className:"font-medium",children:"Salem"}),e.jsx(ne,{children:e.jsx("span",{className:"px-2 py-1 bg-green-100 text-green-800 rounded-full text-xs",children:"Active"})}),e.jsx(ne,{className:"text-center",children:"4/4 (100%)"}),e.jsx(ne,{className:"text-center",children:"25/35 (71.4%)"}),e.jsx(ne,{children:e.jsx("div",{className:"w-full bg-neutral-200 rounded-full h-2",children:e.jsx("div",{className:"bg-green-500 h-2 rounded-full",style:{width:"82%"}})})})]})]})]})}),e.jsx("div",{className:"mt-4 text-sm text-neutral-500",children:e.jsx("p",{children:"Data as of April 2025 - Districts with less than 50% service agent coverage not shown."})})]})]})]})]}),e.jsx("div",{className:"mt-8 p-4 border rounded-lg bg-blue-50 border-blue-200",children:e.jsxs("div",{className:"flex items-start",children:[e.jsx(RX,{className:"h-5 w-5 text-blue-500 mt-0.5 mr-3 flex-shrink-0"}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-medium text-blue-800",children:"Management Information"}),e.jsx("p",{className:"mt-1 text-sm text-blue-700",children:"This hierarchy overview provides insight into the organizational structure and login credential format for all management roles. Use the example credentials to explore different access levels in the system. For security reasons, all passwords follow the standardized format outlined above."})]})]})})]})}function qRe(){const{user:t}=dt(),[,r]=xr(),{toast:s}=Be(),[n,a]=j.useState("pending"),[i,l]=j.useState(null),[o,c]=j.useState(!1),[d,u]=j.useState("");j.useEffect(()=>{t&&t.userType!=="admin"&&(r("/dashboard"),s({title:"Access Denied",description:"You do not have permission to view this page.",variant:"destructive"}))},[t,r,s]);const{data:m,isLoading:h,refetch:g}=fe({queryKey:["/api/manager-applications",n],queryFn:async()=>await(await le("GET",`/api/manager-applications?status=${n}`)).json(),enabled:!!t&&t.userType==="admin"}),f=Se({mutationFn:async({id:N,status:w,notes:C})=>await(await le("PATCH",`/api/manager-applications/${N}`,{status:w,notes:C})).json(),onSuccess:()=>{pe.invalidateQueries({queryKey:["/api/manager-applications"]}),c(!1),u(""),g(),s({title:"Application Updated",description:"The manager application has been processed."})},onError:N=>{s({title:"Update Failed",description:N.message,variant:"destructive"})}});function p(N){l(N),c(!0)}function y(N){i&&f.mutate({id:i.id,status:N,notes:d})}function v(N){switch(N){case"pending":return e.jsxs(ae,{variant:"outline",className:"bg-yellow-50 text-yellow-700 border-yellow-200",children:[e.jsx(gt,{className:"w-3 h-3 mr-1"}),"Pending"]});case"approved":return e.jsxs(ae,{variant:"outline",className:"bg-green-50 text-green-700 border-green-200",children:[e.jsx(Ot,{className:"w-3 h-3 mr-1"}),"Approved"]});case"rejected":return e.jsxs(ae,{variant:"outline",className:"bg-red-50 text-red-700 border-red-200",children:[e.jsx(Mr,{className:"w-3 h-3 mr-1"}),"Rejected"]});default:return e.jsx(ae,{children:N})}}function x(N){switch(N){case"branch_manager":return"Branch Manager";case"taluk_manager":return"Taluk Manager";case"service_agent":return"Service Agent";default:return N}}function b(N){if(!N)return"N/A";const w=new Date(N);return new Intl.DateTimeFormat("en-IN",{day:"numeric",month:"short",year:"numeric",hour:"numeric",minute:"numeric"}).format(w)}return t?e.jsxs("div",{className:"container py-8",children:[e.jsx("h1",{className:"text-3xl font-bold mb-8",children:"Manager Applications"}),e.jsxs(rr,{value:n,onValueChange:a,className:"w-full",children:[e.jsxs(tr,{className:"grid w-full grid-cols-3 mb-8",children:[e.jsx(ke,{value:"pending",children:"Pending"}),e.jsx(ke,{value:"approved",children:"Approved"}),e.jsx(ke,{value:"rejected",children:"Rejected"})]}),e.jsx(Le,{value:"pending",className:"w-full",children:e.jsxs(E,{children:[e.jsxs(Y,{children:[e.jsx(X,{children:"Pending Applications"}),e.jsx(he,{children:"Review and manage pending manager applications."})]}),e.jsx(D,{children:h?e.jsx("div",{className:"flex justify-center py-8",children:e.jsx(Ye,{className:"h-8 w-8 animate-spin text-primary"})}):!m||m.length===0?e.jsx("div",{className:"text-center py-8 text-gray-500",children:"No pending applications found."}):e.jsx("div",{className:"rounded-md border",children:e.jsxs(Ur,{children:[e.jsx(Vh,{children:"List of pending manager applications"}),e.jsx(qr,{children:e.jsxs(mt,{children:[e.jsx(xe,{children:"Name"}),e.jsx(xe,{children:"Email"}),e.jsx(xe,{children:"Role"}),e.jsx(xe,{children:"Date Applied"}),e.jsx(xe,{children:"Status"}),e.jsx(xe,{className:"text-right",children:"Action"})]})}),e.jsx(zr,{children:m.map(N=>e.jsxs(mt,{children:[e.jsx(ne,{className:"font-medium",children:N.fullName}),e.jsx(ne,{children:N.email}),e.jsx(ne,{children:x(N.managerType)}),e.jsx(ne,{children:b(N.createdAt)}),e.jsx(ne,{children:v(N.status)}),e.jsx(ne,{className:"text-right",children:e.jsx(T,{variant:"outline",size:"sm",onClick:()=>p(N),children:"View Details"})})]},N.id))})]})})})]})}),e.jsx(Le,{value:"approved",children:e.jsxs(E,{children:[e.jsxs(Y,{children:[e.jsx(X,{children:"Approved Applications"}),e.jsx(he,{children:"View all approved manager applications."})]}),e.jsx(D,{children:h?e.jsx("div",{className:"flex justify-center py-8",children:e.jsx(Ye,{className:"h-8 w-8 animate-spin text-primary"})}):!m||m.length===0?e.jsx("div",{className:"text-center py-8 text-gray-500",children:"No approved applications found."}):e.jsx("div",{className:"rounded-md border",children:e.jsxs(Ur,{children:[e.jsx(Vh,{children:"List of approved manager applications"}),e.jsx(qr,{children:e.jsxs(mt,{children:[e.jsx(xe,{children:"Name"}),e.jsx(xe,{children:"Email"}),e.jsx(xe,{children:"Role"}),e.jsx(xe,{children:"Date Approved"}),e.jsx(xe,{children:"Status"}),e.jsx(xe,{className:"text-right",children:"Action"})]})}),e.jsx(zr,{children:m.map(N=>e.jsxs(mt,{children:[e.jsx(ne,{className:"font-medium",children:N.fullName}),e.jsx(ne,{children:N.email}),e.jsx(ne,{children:x(N.managerType)}),e.jsx(ne,{children:b(N.updatedAt||N.createdAt)}),e.jsx(ne,{children:v(N.status)}),e.jsx(ne,{className:"text-right",children:e.jsx(T,{variant:"outline",size:"sm",onClick:()=>p(N),children:"View Details"})})]},N.id))})]})})})]})}),e.jsx(Le,{value:"rejected",children:e.jsxs(E,{children:[e.jsxs(Y,{children:[e.jsx(X,{children:"Rejected Applications"}),e.jsx(he,{children:"View all rejected manager applications."})]}),e.jsx(D,{children:h?e.jsx("div",{className:"flex justify-center py-8",children:e.jsx(Ye,{className:"h-8 w-8 animate-spin text-primary"})}):!m||m.length===0?e.jsx("div",{className:"text-center py-8 text-gray-500",children:"No rejected applications found."}):e.jsx("div",{className:"rounded-md border",children:e.jsxs(Ur,{children:[e.jsx(Vh,{children:"List of rejected manager applications"}),e.jsx(qr,{children:e.jsxs(mt,{children:[e.jsx(xe,{children:"Name"}),e.jsx(xe,{children:"Email"}),e.jsx(xe,{children:"Role"}),e.jsx(xe,{children:"Date Rejected"}),e.jsx(xe,{children:"Status"}),e.jsx(xe,{className:"text-right",children:"Action"})]})}),e.jsx(zr,{children:m.map(N=>e.jsxs(mt,{children:[e.jsx(ne,{className:"font-medium",children:N.fullName}),e.jsx(ne,{children:N.email}),e.jsx(ne,{children:x(N.managerType)}),e.jsx(ne,{children:b(N.updatedAt||N.createdAt)}),e.jsx(ne,{children:v(N.status)}),e.jsx(ne,{className:"text-right",children:e.jsx(T,{variant:"outline",size:"sm",onClick:()=>p(N),children:"View Details"})})]},N.id))})]})})})]})})]}),e.jsx(kt,{open:o,onOpenChange:c,children:e.jsxs(St,{className:"max-w-3xl",children:[e.jsxs(Ct,{children:[e.jsx(Pt,{children:"Manager Application Details"}),e.jsx(Yt,{children:"Review the application information before making a decision."})]}),i&&e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 py-4",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-sm font-medium text-gray-500",children:"Personal Information"}),e.jsxs("div",{className:"mt-2 border rounded-lg p-4 space-y-3",children:[e.jsxs("div",{children:[e.jsx("span",{className:"text-sm text-gray-500",children:"Full Name"}),e.jsx("p",{className:"font-medium",children:i.fullName})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-sm text-gray-500",children:"Email"}),e.jsx("p",{className:"font-medium",children:i.email})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-sm text-gray-500",children:"Phone"}),e.jsx("p",{className:"font-medium",children:i.phone||"Not provided"})]})]})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-sm font-medium text-gray-500",children:"Application Information"}),e.jsxs("div",{className:"mt-2 border rounded-lg p-4 space-y-3",children:[e.jsxs("div",{children:[e.jsx("span",{className:"text-sm text-gray-500",children:"Role Applied For"}),e.jsx("p",{className:"font-medium",children:x(i.managerType)})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-sm text-gray-500",children:"Username"}),e.jsx("p",{className:"font-medium",children:i.username})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-sm text-gray-500",children:"Date Applied"}),e.jsx("p",{className:"font-medium",children:b(i.createdAt)})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-sm text-gray-500",children:"Status"}),e.jsx("div",{className:"mt-1",children:v(i.status)})]})]})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-sm font-medium text-gray-500",children:"Location Information"}),e.jsxs("div",{className:"mt-2 border rounded-lg p-4 space-y-3",children:[e.jsxs("div",{children:[e.jsx("span",{className:"text-sm text-gray-500",children:"District"}),e.jsx("p",{className:"font-medium",children:i.district||"To be assigned"})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-sm text-gray-500",children:"Taluk"}),e.jsx("p",{className:"font-medium",children:i.taluk||"To be assigned"})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-sm text-gray-500",children:"Pincode"}),e.jsx("p",{className:"font-medium",children:i.pincode||"To be assigned"})]})]})]}),i.status==="pending"&&e.jsxs("div",{children:[e.jsx("h3",{className:"text-sm font-medium text-gray-500",children:"Decision"}),e.jsxs("div",{className:"mt-2 space-y-3",children:[e.jsx(at,{placeholder:"Add notes or comments about this application...",value:d,onChange:N=>u(N.target.value),className:"min-h-[120px]"}),e.jsxs("div",{className:"flex space-x-3",children:[e.jsx(T,{className:"flex-1",variant:"destructive",onClick:()=>y("rejected"),disabled:f.isPending,children:f.isPending?e.jsxs(e.Fragment,{children:[e.jsx(Ye,{className:"mr-2 h-4 w-4 animate-spin"}),"Processing..."]}):e.jsx(e.Fragment,{children:"Reject Application"})}),e.jsx(T,{className:"flex-1",onClick:()=>y("approved"),disabled:f.isPending,children:f.isPending?e.jsxs(e.Fragment,{children:[e.jsx(Ye,{className:"mr-2 h-4 w-4 animate-spin"}),"Processing..."]}):e.jsx(e.Fragment,{children:"Approve Application"})})]})]})]}),i.status!=="pending"&&e.jsxs("div",{children:[e.jsx("h3",{className:"text-sm font-medium text-gray-500",children:"Notes"}),e.jsx("div",{className:"mt-2 border rounded-lg p-4",children:e.jsx("p",{className:"text-sm",children:i.notes||"No notes provided"})})]})]})]}),e.jsx(Ms,{children:e.jsx(T,{variant:"outline",onClick:()=>c(!1),children:"Close"})})]})})]}):e.jsx("div",{className:"flex justify-center items-center h-[80vh]",children:"Loading..."})}function zRe(){const{toast:t}=Be(),{user:r}=dt(),[s,n]=j.useState([]);j.useEffect(()=>{const c=localStorage.getItem("groceryCart");if(c)try{n(JSON.parse(c))}catch(d){console.error("Error parsing cart data:",d)}},[]),j.useEffect(()=>{localStorage.setItem("groceryCart",JSON.stringify(s))},[s]);const{data:a,isLoading:i,error:l}=fe({queryKey:["/api/farmer-products"],queryFn:async()=>{const c=await fetch("/api/farmer-products?status=approved&includeProduct=true");if(!c.ok)throw new Error("Failed to fetch farmer product listings");return c.json()}}),o=c=>{if(!c.product){t({title:"Error",description:"Product information is missing",variant:"destructive"});return}const d=s.findIndex(u=>u.id===c.id);if(d>=0){const u=[...s];u[d].quantity+=1,n(u)}else n([...s,{id:c.id,farmerId:c.farmerId,productId:c.groceryProductId,productName:c.product.name,price:c.price,unit:c.unit,quantity:1,imageUrl:c.imageUrl||c.product.imageUrl,farmerName:"Farmer",transportAgentRequired:c.transportAgentRequired}]);t({title:"Added to cart",description:`${c.product.name} has been added to your cart.`,variant:"default"})};return i?e.jsx("div",{className:"flex justify-center items-center min-h-screen",children:e.jsx(Ye,{className:"h-8 w-8 animate-spin"})}):l?e.jsx("div",{className:"container mx-auto px-4 py-8",children:e.jsxs("div",{className:"bg-red-50 border border-red-200 p-4 rounded-md",children:[e.jsx("h2",{className:"text-red-800 font-semibold",children:"Error Loading Listings"}),e.jsx("p",{className:"text-red-600",children:l.message}),e.jsx(T,{variant:"outline",className:"mt-2",onClick:()=>window.location.reload(),children:"Try Again"})]})}):e.jsxs("div",{className:"container mx-auto px-4 py-8",children:[e.jsxs("div",{className:"flex justify-between items-center mb-8",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold mb-2",children:"Farm Fresh Products"}),e.jsx("p",{className:"text-gray-600",children:"Direct from local farmers to your doorstep"})]}),e.jsx("div",{className:"flex items-center gap-4",children:e.jsxs(T,{variant:"outline",onClick:()=>window.location.href="/grocery/cart",className:"flex items-center gap-2",children:[e.jsx(Pr,{className:"h-5 w-5"}),e.jsxs("span",{children:["Cart (",s.length,")"]})]})})]}),a&&a.length>0?e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:a.map(c=>{var d,u,m;return e.jsxs(E,{className:"overflow-hidden flex flex-col",children:[e.jsxs("div",{className:"h-48 overflow-hidden bg-gray-100 relative",children:[c.imageUrl||c.product&&c.product.imageUrl?e.jsx("img",{src:c.imageUrl||c.product&&c.product.imageUrl,alt:(d=c.product)==null?void 0:d.name,className:"w-full h-full object-cover"}):e.jsx("div",{className:"flex items-center justify-center h-full bg-gray-100",children:e.jsx("p",{className:"text-gray-400",children:"No Image"})}),c.isOrganic&&e.jsx(ae,{variant:"secondary",className:"absolute top-2 right-2 bg-green-100 text-green-800",children:"Organic"})]}),e.jsxs(Y,{className:"pb-2",children:[e.jsx(X,{children:(u=c.product)==null?void 0:u.name}),e.jsx(he,{children:((m=c.product)==null?void 0:m.description)||"Fresh farm product"})]}),e.jsxs(D,{className:"pb-2 flex-grow",children:[e.jsxs("div",{className:"flex justify-between items-center mb-2",children:[e.jsxs("p",{className:"text-lg font-semibold",children:["",c.price," / ",c.unit]}),e.jsxs(ae,{variant:"outline",className:"text-xs",children:["Qty: ",c.quantity," ",c.unit]})]}),e.jsxs("div",{className:"flex flex-wrap gap-1 mt-3",children:[c.selfDelivery&&e.jsxs(ae,{variant:"outline",className:"flex items-center gap-1 text-green-700",children:[e.jsx(Is,{className:"h-3 w-3"}),"Self Delivery"]}),c.transportAgentRequired&&e.jsxs(ae,{variant:"outline",className:"flex items-center gap-1 text-blue-700",children:[e.jsx(_n,{className:"h-3 w-3"}),"Transport Available"]})]})]}),e.jsx(mr,{className:"pt-2",children:e.jsx(T,{className:"w-full",onClick:()=>o(c),children:"Add to Cart"})})]},c.id)})}):e.jsx("div",{className:"text-center py-12",children:e.jsxs("div",{className:"bg-gray-50 rounded-lg p-12 max-w-xl mx-auto",children:[e.jsx(tC,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),e.jsx("h3",{className:"text-xl font-semibold mb-2",children:"No Products Available"}),e.jsx("p",{className:"text-gray-600 mb-6",children:"There are currently no farm products available. Please check back later."}),(r==null?void 0:r.userType)==="provider"&&e.jsx(T,{variant:"default",onClick:()=>window.location.href="/farmer/add-product",children:"Add Your Product"})]})})]})}const KRe=_.object({name:_.string().min(1,"Product name is required"),category:_.string().min(1,"Category is required"),price:_.number().min(.01,"Price must be greater than 0"),unit:_.string().min(1,"Unit is required"),description:_.string().min(1,"Description is required"),availableQuantity:_.number().min(1,"Quantity must be at least 1"),district:_.string().min(1,"District is required"),isOrganic:_.boolean().default(!1)}),HRe=["Vegetables","Fruits","Grains","Pulses","Spices","Dairy","Others"],WRe=["kg","gram","liter","piece","dozen","quintal"],GRe=["Ariyalur","Chengalpattu","Chennai","Coimbatore","Cuddalore","Dharmapuri","Dindigul","Erode","Kallakurichi","Kanchipuram","Kanyakumari","Karur","Krishnagiri","Madurai","Nagapattinam","Namakkal","Nilgiris","Perambalur","Pudukkottai","Ramanathapuram","Ranipet","Salem","Sivaganga","Tenkasi","Thanjavur","Theni","Thoothukudi","Tiruchirappalli","Tirunelveli","Tirupattur","Tirupur","Tiruvallur","Tiruvannamalai","Tiruvarur","Vellore","Villupuram","Virudhunagar"];function YRe(){const{toast:t}=Be(),r=Ht({resolver:Wt(KRe),defaultValues:{name:"",category:"",price:0,unit:"",description:"",availableQuantity:0,district:"",isOrganic:!1}}),s=Se({mutationFn:async a=>{const i={name:a.name,description:a.description,category:a.category,price:a.price,stock:a.availableQuantity,unit:a.unit,isOrganic:a.isOrganic,district:a.district};return(await le("POST","/api/provider/products",i)).json()},onSuccess:()=>{t({title:"Success",description:"Product listing added successfully!"}),r.reset(),pe.invalidateQueries({queryKey:["/api/farmer-products"]})},onError:a=>{t({title:"Error",description:a.message,variant:"destructive"})}}),n=a=>{s.mutate(a)};return e.jsx("div",{className:"container mx-auto p-6 max-w-4xl",children:e.jsxs(E,{children:[e.jsxs(Y,{children:[e.jsxs(X,{className:"flex items-center gap-2",children:[e.jsx(Es,{className:"w-6 h-6 text-green-600"}),"Add Product Listing"]}),e.jsx(he,{children:"Add your farm products to reach customers directly"})]}),e.jsx(D,{children:e.jsx(Gt,{...r,children:e.jsxs("form",{onSubmit:r.handleSubmit(n),className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsx(q,{control:r.control,name:"name",render:({field:a})=>e.jsxs(B,{children:[e.jsx(V,{children:"Product Name"}),e.jsx(U,{children:e.jsx($,{placeholder:"e.g., Fresh Tomatoes",...a})}),e.jsx(z,{})]})}),e.jsx(q,{control:r.control,name:"category",render:({field:a})=>e.jsxs(B,{children:[e.jsx(V,{children:"Category"}),e.jsx(U,{children:e.jsxs("select",{className:"flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",...a,children:[e.jsx("option",{value:"",children:"Select Category"}),HRe.map(i=>e.jsx("option",{value:i,children:i},i))]})}),e.jsx(z,{})]})})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsx(q,{control:r.control,name:"price",render:({field:a})=>e.jsxs(B,{children:[e.jsx(V,{children:"Price ()"}),e.jsx(U,{children:e.jsx($,{type:"number",placeholder:"0.00",...a,onChange:i=>a.onChange(parseFloat(i.target.value)||0)})}),e.jsx(z,{})]})}),e.jsx(q,{control:r.control,name:"unit",render:({field:a})=>e.jsxs(B,{children:[e.jsx(V,{children:"Unit"}),e.jsx(U,{children:e.jsxs("select",{className:"flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",...a,children:[e.jsx("option",{value:"",children:"Select Unit"}),WRe.map(i=>e.jsx("option",{value:i,children:i},i))]})}),e.jsx(z,{})]})}),e.jsx(q,{control:r.control,name:"availableQuantity",render:({field:a})=>e.jsxs(B,{children:[e.jsx(V,{children:"Available Quantity"}),e.jsx(U,{children:e.jsx($,{type:"number",placeholder:"0",...a,onChange:i=>a.onChange(parseInt(i.target.value)||0)})}),e.jsx(z,{})]})})]}),e.jsx(q,{control:r.control,name:"district",render:({field:a})=>e.jsxs(B,{children:[e.jsx(V,{children:"District"}),e.jsx(U,{children:e.jsxs("select",{className:"flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",...a,children:[e.jsx("option",{value:"",children:"Select District"}),GRe.map(i=>e.jsx("option",{value:i,children:i},i))]})}),e.jsx(z,{})]})}),e.jsx(q,{control:r.control,name:"description",render:({field:a})=>e.jsxs(B,{children:[e.jsx(V,{children:"Product Description"}),e.jsx(U,{children:e.jsx(at,{placeholder:"Describe your product quality, farming methods, etc.",rows:4,...a})}),e.jsx(z,{})]})}),e.jsx(q,{control:r.control,name:"isOrganic",render:({field:a})=>e.jsxs(B,{className:"flex flex-row items-start space-x-3 space-y-0",children:[e.jsx(U,{children:e.jsx("input",{type:"checkbox",checked:a.value,onChange:a.onChange,className:"mt-1"})}),e.jsxs("div",{className:"space-y-1 leading-none",children:[e.jsx(V,{children:"Organic Product"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Check this if your product is organically grown"})]})]})}),e.jsx(T,{type:"submit",className:"w-full",disabled:s.isPending,children:s.isPending?"Adding Product...":"Add Product Listing"})]})})})]})})}const QRe=_.object({price:_.string().refine(t=>!isNaN(Number(t))&&Number(t)>0,{message:"Price must be a positive number"}),quantity:_.string().refine(t=>!isNaN(Number(t))&&Number(t)>0,{message:"Quantity must be a positive number"}),unit:_.string().min(1,"Unit is required"),description:_.string().optional(),imageUrl:_.string().optional(),isOrganic:_.boolean().default(!1),selfDelivery:_.boolean().default(!1),transportAgentRequired:_.boolean().default(!0)});function XRe(){var m,h,g,f,p,y;const{toast:t}=Be(),{user:r}=dt(),[,s]=xr(),{id:n}=Gy(),{data:a,isLoading:i,isError:l,error:o}=fe({queryKey:[`/api/farmer-products/${n}`],queryFn:async()=>{const v=await le("GET",`/api/farmer-products/${n}?includeProduct=true`);if(!v.ok)throw new Error("Failed to fetch product listing");return await v.json()},enabled:!!n}),c=Ht({resolver:Wt(QRe),defaultValues:{price:"",quantity:"",unit:"",description:"",imageUrl:"",isOrganic:!1,selfDelivery:!1,transportAgentRequired:!0}});j.useEffect(()=>{a&&c.reset({price:a.price.toString(),quantity:a.quantity.toString(),unit:a.unit,description:a.description||"",imageUrl:a.imageUrl||"",isOrganic:a.isOrganic||!1,selfDelivery:a.selfDelivery||!1,transportAgentRequired:a.transportAgentRequired||!0})},[a,c]);const d=Se({mutationFn:async v=>{const x=await le("PUT",`/api/farmer-products/${n}`,{...v,price:parseFloat(v.price),quantity:parseFloat(v.quantity)});if(!x.ok){const b=await x.json();throw new Error(b.message||"Failed to update product listing")}return x.json()},onSuccess:()=>{t({title:"Product listing updated",description:"Your product listing has been updated and is pending admin approval."}),pe.invalidateQueries({queryKey:[`/api/farmer-products/${n}`]}),pe.invalidateQueries({queryKey:["/api/farmer-products/my-listings"]}),s("/farmer/my-listings")},onError:v=>{t({title:"Update failed",description:v.message||"Failed to update product listing. Please try again.",variant:"destructive"})}}),u=v=>{d.mutate(v)};return!r||r.userType!=="provider"?e.jsx("div",{className:"container mx-auto px-4 py-8",children:e.jsxs(la,{variant:"destructive",children:[e.jsx(ti,{className:"h-4 w-4"}),e.jsx($i,{children:"Access Denied"}),e.jsx(oa,{children:"Only registered farmers can edit product listings. If you are a farmer, please make sure you're logged in with your provider account."})]})}):i?e.jsxs("div",{className:"container mx-auto px-4 py-8 flex justify-center items-center h-64",children:[e.jsx(Ye,{className:"h-8 w-8 animate-spin text-primary"}),e.jsx("span",{className:"ml-2",children:"Loading product listing..."})]}):l?e.jsxs("div",{className:"container mx-auto px-4 py-8",children:[e.jsxs(la,{variant:"destructive",children:[e.jsx(ti,{className:"h-4 w-4"}),e.jsx($i,{children:"Error Loading Product Listing"}),e.jsx(oa,{children:o.message})]}),e.jsx(T,{className:"mt-4",onClick:()=>s("/farmer/my-listings"),children:"Back to My Listings"})]}):e.jsx("div",{className:"container mx-auto px-4 py-8",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-12 gap-6",children:[e.jsx("div",{className:"md:col-span-8",children:e.jsxs(E,{children:[e.jsx(Y,{children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx(X,{children:"Edit Product Listing"}),e.jsxs(he,{children:["Update your product listing for ",((m=a==null?void 0:a.product)==null?void 0:m.name)||"this product"]})]}),(a==null?void 0:a.status)&&e.jsx("div",{className:`px-3 py-1 text-xs font-medium rounded-full ${a.status==="approved"?"bg-green-100 text-green-800":a.status==="pending"?"bg-yellow-100 text-yellow-800":"bg-red-100 text-red-800"}`,children:a.status.charAt(0).toUpperCase()+a.status.slice(1)})]})}),e.jsx(D,{children:e.jsx(Gt,{...c,children:e.jsxs("form",{onSubmit:c.handleSubmit(u),className:"space-y-6",children:[e.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-md p-4 mb-6",children:[e.jsx("h3",{className:"text-blue-800 font-semibold text-sm",children:"Important Note"}),e.jsx("p",{className:"text-blue-600 text-xs mt-1",children:"After editing, your product will require admin approval again before it appears in the store."})]}),e.jsxs("div",{className:"flex flex-col gap-4",children:[e.jsxs("div",{className:"border rounded-md p-4 bg-gray-50",children:[e.jsx("h3",{className:"font-medium text-gray-700",children:"Product Information"}),e.jsxs("p",{className:"text-sm text-gray-500 mb-2",children:[((h=a==null?void 0:a.product)==null?void 0:h.name)||"Product"," ",(g=a==null?void 0:a.product)!=null&&g.category?`(${a.product.category})`:""]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsx(q,{control:c.control,name:"price",render:({field:v})=>e.jsxs(B,{children:[e.jsx(V,{children:"Price ()"}),e.jsx(U,{children:e.jsx($,{type:"number",min:"0",step:"0.01",placeholder:"Enter price per unit",...v})}),e.jsx(z,{})]})}),e.jsx(q,{control:c.control,name:"quantity",render:({field:v})=>e.jsxs(B,{children:[e.jsx(V,{children:"Available Quantity"}),e.jsx(U,{children:e.jsx($,{type:"number",min:"0",step:"0.01",placeholder:"Enter available quantity",...v})}),e.jsx(z,{})]})})]}),e.jsx(q,{control:c.control,name:"unit",render:({field:v})=>e.jsxs(B,{children:[e.jsx(V,{children:"Unit of Measurement"}),e.jsx(U,{children:e.jsx($,{placeholder:"e.g., kg, gram, dozen, piece",...v})}),e.jsx(z,{})]})}),e.jsx(q,{control:c.control,name:"description",render:({field:v})=>e.jsxs(B,{children:[e.jsx(V,{children:"Description (Optional)"}),e.jsx(U,{children:e.jsx(at,{placeholder:"Describe your product (freshness, quality, etc.)",className:"min-h-[100px]",...v})}),e.jsx(z,{})]})}),e.jsx(q,{control:c.control,name:"imageUrl",render:({field:v})=>e.jsxs(B,{children:[e.jsx(V,{children:"Image URL (Optional)"}),e.jsx(U,{children:e.jsx($,{placeholder:"Paste image URL here",...v})}),e.jsx(z,{})]})}),e.jsx(kr,{className:"my-2"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsx(q,{control:c.control,name:"isOrganic",render:({field:v})=>e.jsxs(B,{className:"flex flex-row items-start space-x-3 space-y-0 rounded-md border p-4",children:[e.jsx(U,{children:e.jsx(xn,{checked:v.value,onCheckedChange:v.onChange})}),e.jsxs("div",{className:"space-y-1 leading-none",children:[e.jsxs(V,{className:"flex items-center",children:[e.jsx(Es,{className:"h-4 w-4 mr-1 text-green-600"}),"Organic Product"]}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"This product is grown organically without pesticides"})]})]})}),e.jsx(q,{control:c.control,name:"selfDelivery",render:({field:v})=>e.jsxs(B,{className:"flex flex-row items-start space-x-3 space-y-0 rounded-md border p-4",children:[e.jsx(U,{children:e.jsx(xn,{checked:v.value,onCheckedChange:v.onChange})}),e.jsxs("div",{className:"space-y-1 leading-none",children:[e.jsx(V,{children:"Self Delivery"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"You can deliver the product yourself"})]})]})}),e.jsx(q,{control:c.control,name:"transportAgentRequired",render:({field:v})=>e.jsxs(B,{className:"flex flex-row items-start space-x-3 space-y-0 rounded-md border p-4",children:[e.jsx(U,{children:e.jsx(xn,{checked:v.value,onCheckedChange:v.onChange})}),e.jsxs("div",{className:"space-y-1 leading-none",children:[e.jsx(V,{children:"Transport Required"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"You need a transport agent to deliver"})]})]})})]})]}),e.jsxs("div",{className:"flex justify-end gap-3",children:[e.jsx(T,{type:"button",variant:"outline",onClick:()=>s("/farmer/my-listings"),children:"Cancel"}),e.jsx(T,{type:"submit",disabled:d.isPending,children:d.isPending?e.jsxs(e.Fragment,{children:[e.jsx(Ye,{className:"mr-2 h-4 w-4 animate-spin"}),"Updating..."]}):"Update Product"})]})]})})})]})}),e.jsx("div",{className:"md:col-span-4",children:e.jsxs(E,{children:[e.jsx(Y,{children:e.jsx(X,{children:"Product Details"})}),e.jsx(D,{children:e.jsxs("div",{className:"space-y-4",children:[e.jsx("div",{className:"aspect-w-1 aspect-h-1 bg-gray-100 rounded-md overflow-hidden",children:a!=null&&a.imageUrl?e.jsx("img",{src:a.imageUrl,alt:((f=a==null?void 0:a.product)==null?void 0:f.name)||"Product",className:"object-cover w-full h-full"}):e.jsx("div",{className:"flex items-center justify-center h-full",children:e.jsx("span",{className:"text-gray-400",children:"No image available"})})}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold",children:((p=a==null?void 0:a.product)==null?void 0:p.name)||"Product"}),e.jsx("p",{className:"text-sm text-gray-500 mt-1",children:((y=a==null?void 0:a.product)==null?void 0:y.description)||"No description available"})]}),(a==null?void 0:a.status)==="rejected"&&a.adminNotes&&e.jsxs("div",{className:"bg-red-50 border-l-4 border-red-500 p-4 rounded",children:[e.jsx("h4",{className:"font-medium text-red-800",children:"Admin Notes:"}),e.jsx("p",{className:"text-sm text-red-700 mt-1",children:a.adminNotes})]})]})})]})})]})})}const ZRe=uae.omit({farmerId:!0,status:!0,adminNotes:!0}).extend({requestedProductName:_.string().min(3,{message:"Product name must be at least 3 characters"}),description:_.string().min(10,{message:"Description must be at least 10 characters"})});function JRe(){const{toast:t}=Be(),{user:r}=dt(),s=Ht({resolver:Wt(ZRe),defaultValues:{requestedProductName:"",description:"",category:"",unit:"kg",imageUrl:""}}),n=Se({mutationFn:async i=>{const l=await le("POST","/api/product-requests",i);if(!l.ok){const o=await l.json();throw new Error(o.message||"Failed to create product request")}return l.json()},onSuccess:()=>{t({title:"Product request submitted",description:"Your request has been submitted to the admin for review"}),s.reset(),pe.invalidateQueries({queryKey:["/api/product-requests"]})},onError:i=>{t({title:"Error submitting request",description:i.message,variant:"destructive"})}}),a=i=>{const l={...i,farmerId:r==null?void 0:r.id};n.mutate(l)};return!r||r.userType!=="service_provider"?e.jsx("div",{className:"container mx-auto px-4 py-8",children:e.jsxs(la,{variant:"destructive",children:[e.jsx(ti,{className:"h-4 w-4"}),e.jsx($i,{children:"Access Denied"}),e.jsx(oa,{children:"Only registered farmers can request new products. If you are a farmer, please make sure you're logged in with your provider account."})]})}):e.jsxs("div",{className:"container mx-auto px-4 py-8",children:[e.jsxs("div",{className:"mb-8",children:[e.jsxs("h1",{className:"text-3xl font-bold flex items-center gap-2",children:[e.jsx(Es,{className:"h-7 w-7 text-green-600"}),"Request New Product"]}),e.jsx("p",{className:"text-gray-600 mt-2",children:"Can't find the product you want to sell? Request it here and our admin will review it."})]}),e.jsx("div",{className:"max-w-2xl mx-auto",children:e.jsxs(E,{children:[e.jsxs(Y,{children:[e.jsx(X,{children:"Product Request Form"}),e.jsx(he,{children:"Please provide details about the product you'd like to sell"})]}),e.jsx(D,{children:e.jsx(Gt,{...s,children:e.jsxs("form",{onSubmit:s.handleSubmit(a),className:"space-y-6",children:[e.jsx(q,{control:s.control,name:"requestedProductName",render:({field:i})=>e.jsxs(B,{children:[e.jsx(V,{children:"Product Name*"}),e.jsx(U,{children:e.jsx($,{placeholder:"e.g. Organic Tomatoes",...i})}),e.jsx(z,{})]})}),e.jsx(q,{control:s.control,name:"category",render:({field:i})=>e.jsxs(B,{children:[e.jsx(V,{children:"Category*"}),e.jsxs(je,{onValueChange:i.onChange,defaultValue:i.value,children:[e.jsx(U,{children:e.jsx(ge,{children:e.jsx(be,{placeholder:"Select a category"})})}),e.jsxs(ve,{children:[e.jsx(O,{value:"vegetables",children:"Vegetables"}),e.jsx(O,{value:"fruits",children:"Fruits"}),e.jsx(O,{value:"grains",children:"Grains"}),e.jsx(O,{value:"pulses",children:"Pulses"}),e.jsx(O,{value:"dairy",children:"Dairy Products"}),e.jsx(O,{value:"spices",children:"Spices"}),e.jsx(O,{value:"nuts",children:"Nuts & Seeds"}),e.jsx(O,{value:"other",children:"Other"})]})]}),e.jsx(z,{})]})}),e.jsx(q,{control:s.control,name:"description",render:({field:i})=>e.jsxs(B,{children:[e.jsx(V,{children:"Description*"}),e.jsx(U,{children:e.jsx(at,{placeholder:"Provide a detailed description of the product, including varieties, qualities, etc.",className:"resize-none h-32",...i})}),e.jsx(z,{})]})}),e.jsx(q,{control:s.control,name:"unit",render:({field:i})=>e.jsxs(B,{children:[e.jsx(V,{children:"Preferred Unit of Measurement*"}),e.jsxs(je,{onValueChange:i.onChange,defaultValue:i.value,children:[e.jsx(U,{children:e.jsx(ge,{children:e.jsx(be,{placeholder:"Select a unit"})})}),e.jsxs(ve,{children:[e.jsx(O,{value:"kg",children:"Kilogram (kg)"}),e.jsx(O,{value:"g",children:"Gram (g)"}),e.jsx(O,{value:"lb",children:"Pound (lb)"}),e.jsx(O,{value:"piece",children:"Piece"}),e.jsx(O,{value:"dozen",children:"Dozen"}),e.jsx(O,{value:"liter",children:"Liter (L)"})]})]}),e.jsx(z,{})]})}),e.jsx(q,{control:s.control,name:"imageUrl",render:({field:i})=>e.jsxs(B,{children:[e.jsx(V,{children:"Sample Image URL (Optional)"}),e.jsx(U,{children:e.jsx($,{placeholder:"https://example.com/image.jpg",...i})}),e.jsx(z,{}),e.jsx("p",{className:"text-xs text-gray-500",children:"If you have a sample image of the product, please provide a URL"})]})}),e.jsx(T,{type:"submit",className:"w-full",disabled:n.isPending,children:n.isPending?e.jsxs(e.Fragment,{children:[e.jsx(Ye,{className:"mr-2 h-4 w-4 animate-spin"}),"Submitting..."]}):"Submit Request"}),e.jsx("p",{className:"text-xs text-gray-500 text-center",children:"* Required fields"})]})})})]})})]})}function e3e(){const{toast:t}=Be(),{user:r}=dt(),[,s]=xr(),[n,a]=j.useState("all"),{data:i,isLoading:l,isError:o,error:c,refetch:d}=fe({queryKey:["/api/provider/products"],queryFn:async()=>{const f=await le("GET","/api/provider/products");if(!f.ok)throw new Error("Failed to fetch your product listings");return await f.json()}}),u=Se({mutationFn:async f=>{await le("DELETE",`/api/provider/products/${f}`)},onSuccess:()=>{t({title:"Product listing deleted",description:"Your product listing has been deleted successfully."}),d()},onError:f=>{t({title:"Delete failed",description:f.message||"Failed to delete product listing. Please try again.",variant:"destructive"})}}),m=i==null?void 0:i.filter(f=>n==="all"?!0:f.status===n),h=f=>{if(!f)return e.jsx(ae,{className:"bg-gray-100 text-gray-800 hover:bg-gray-200",children:"Unknown"});switch(f){case"approved":return e.jsxs(ae,{className:"bg-green-100 text-green-800 hover:bg-green-200 flex items-center gap-1",children:[e.jsx(Is,{className:"h-3 w-3"}),"Approved"]});case"pending":return e.jsxs(ae,{className:"bg-yellow-100 text-yellow-800 hover:bg-yellow-200 flex items-center gap-1",children:[e.jsx(ti,{className:"h-3 w-3"}),"Pending Approval"]});case"rejected":return e.jsxs(ae,{className:"bg-red-100 text-red-800 hover:bg-red-200 flex items-center gap-1",children:[e.jsx(ws,{className:"h-3 w-3"}),"Rejected"]});default:return e.jsx(ae,{className:"bg-gray-100 text-gray-800 hover:bg-gray-200",children:f})}},g=f=>{window.confirm("Are you sure you want to delete this product listing?")&&u.mutate(f)};return!r||r.userType!=="service_provider"?e.jsx("div",{className:"container mx-auto px-4 py-8",children:e.jsxs(E,{children:[e.jsxs(Y,{children:[e.jsx(X,{children:"Access Denied"}),e.jsx(he,{children:"Only registered farmers can view their product listings"})]}),e.jsx(D,{children:e.jsx("p",{children:"If you are a farmer, please log in to view your product listings."})}),e.jsx(mr,{children:e.jsx(T,{onClick:()=>s("/auth"),children:"Go to Login"})})]})}):e.jsxs("div",{className:"container mx-auto px-4 py-8",children:[e.jsxs("div",{className:"flex justify-between items-center mb-6",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold",children:"My Product Listings"}),e.jsx("p",{className:"text-gray-600 mt-1",children:"Manage your product listings and track their approval status"})]}),e.jsxs(T,{onClick:()=>s("/farmer/add-product"),children:[e.jsx(qa,{className:"mr-2 h-4 w-4"}),"Add New Product"]})]}),e.jsx(rr,{defaultValue:"all",value:n,onValueChange:a,className:"mb-6",children:e.jsxs(tr,{className:"grid grid-cols-4 w-full md:w-auto",children:[e.jsx(ke,{value:"all",className:"flex items-center gap-2",children:"All Listings"}),e.jsxs(ke,{value:"pending",className:"flex items-center gap-2",children:[e.jsx("span",{className:"h-2 w-2 rounded-full bg-yellow-400"}),"Pending"]}),e.jsxs(ke,{value:"approved",className:"flex items-center gap-2",children:[e.jsx("span",{className:"h-2 w-2 rounded-full bg-green-400"}),"Approved"]}),e.jsxs(ke,{value:"rejected",className:"flex items-center gap-2",children:[e.jsx("span",{className:"h-2 w-2 rounded-full bg-red-400"}),"Rejected"]})]})}),l?e.jsxs("div",{className:"flex justify-center items-center h-64",children:[e.jsx(Ye,{className:"h-8 w-8 animate-spin text-primary"}),e.jsx("span",{className:"ml-2",children:"Loading your product listings..."})]}):o?e.jsxs(E,{className:"mb-6 bg-red-50 border-red-200",children:[e.jsx(Y,{children:e.jsx(X,{className:"text-red-800",children:"Error Loading Listings"})}),e.jsx(D,{children:e.jsx("p",{className:"text-red-600",children:c.message})}),e.jsx(mr,{children:e.jsx(T,{variant:"outline",onClick:()=>d(),children:"Try Again"})})]}):m&&m.length>0?e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:m.map(f=>e.jsxs(E,{className:"overflow-hidden",children:[e.jsx(Y,{className:"pb-3",children:e.jsxs("div",{className:"flex justify-between items-start",children:[e.jsxs("div",{children:[e.jsx(X,{className:"text-lg",children:f.productName||"Product"}),e.jsx(he,{children:f.description||"No description available"})]}),h(f.status)]})}),e.jsxs(D,{className:"pb-4",children:[e.jsx("div",{className:"aspect-w-16 aspect-h-9 bg-gray-100 rounded-md flex items-center justify-center mb-4",children:f.imageUrl?e.jsx("img",{src:f.imageUrl,alt:f.productName||"Product",className:"object-cover w-full h-full rounded-md"}):e.jsx(qa,{className:"h-16 w-16 text-gray-300"})}),e.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-4",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-500",children:"Price"}),e.jsxs("p",{className:"font-medium",children:["",f.price,"/",f.unit]})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-500",children:"Available Quantity"}),e.jsxs("p",{className:"font-medium",children:[f.stockQuantity||0," ",f.unit]})]})]}),e.jsxs("div",{className:"text-xs text-gray-500 space-y-1 mt-3",children:[f.status==="pending"&&e.jsxs("p",{className:"flex items-center gap-1 text-yellow-600",children:[e.jsx(ti,{className:"h-3 w-3"}),"Awaiting admin approval"]}),e.jsxs("p",{children:["Category: ",f.categoryName]}),e.jsxs("p",{children:["Added on: ",f.createdAt?new Date(f.createdAt).toLocaleDateString():"Unknown date"]})]})]}),e.jsxs(mr,{className:"flex justify-between",children:[e.jsxs(T,{variant:"outline",size:"sm",onClick:()=>s(`/farmer/edit-product/${f.id}`),children:[e.jsx(Yg,{className:"h-4 w-4 mr-1"}),"Edit"]}),e.jsxs(T,{variant:"outline",size:"sm",className:"text-red-600 border-red-200 hover:bg-red-50",onClick:()=>g(f.id),children:[e.jsx(ws,{className:"h-4 w-4 mr-1"}),"Delete"]})]})]},f.id))}):e.jsx(E,{className:"text-center py-12",children:e.jsx(D,{children:e.jsxs("div",{className:"flex flex-col items-center justify-center",children:[e.jsx(qa,{className:"h-12 w-12 text-gray-300 mb-4"}),e.jsx("h3",{className:"text-lg font-semibold mb-2",children:"No product listings found"}),e.jsx("p",{className:"text-gray-500 mb-6 max-w-md mx-auto",children:n==="all"?"You haven't added any product listings yet.":`You don't have any ${n} product listings.`}),e.jsx(T,{onClick:()=>s("/farmer/add-product"),children:"Add Your First Product"})]})})})]})}var Pk="Radio",[t3e,tH]=rn(Pk),[r3e,s3e]=t3e(Pk),rH=j.forwardRef((t,r)=>{const{__scopeRadio:s,name:n,checked:a=!1,required:i,disabled:l,value:o="on",onCheck:c,form:d,...u}=t,[m,h]=j.useState(null),g=Lt(r,y=>h(y)),f=j.useRef(!1),p=m?d||!!m.closest("form"):!0;return e.jsxs(r3e,{scope:s,checked:a,disabled:l,children:[e.jsx(ct.button,{type:"button",role:"radio","aria-checked":a,"data-state":aH(a),"data-disabled":l?"":void 0,disabled:l,value:o,...u,ref:g,onClick:He(t.onClick,y=>{a||c==null||c(),p&&(f.current=y.isPropagationStopped(),f.current||y.stopPropagation())})}),p&&e.jsx(n3e,{control:m,bubbles:!f.current,name:n,value:o,checked:a,required:i,disabled:l,form:d,style:{transform:"translateX(-100%)"}})]})});rH.displayName=Pk;var sH="RadioIndicator",nH=j.forwardRef((t,r)=>{const{__scopeRadio:s,forceMount:n,...a}=t,i=s3e(sH,s);return e.jsx(ks,{present:n||i.checked,children:e.jsx(ct.span,{"data-state":aH(i.checked),"data-disabled":i.disabled?"":void 0,...a,ref:r})})});nH.displayName=sH;var n3e=t=>{const{control:r,checked:s,bubbles:n=!0,...a}=t,i=j.useRef(null),l=mj(s),o=dj(r);return j.useEffect(()=>{const c=i.current,d=window.HTMLInputElement.prototype,m=Object.getOwnPropertyDescriptor(d,"checked").set;if(l!==s&&m){const h=new Event("click",{bubbles:n});m.call(c,s),c.dispatchEvent(h)}},[l,s,n]),e.jsx("input",{type:"radio","aria-hidden":!0,defaultChecked:s,...a,tabIndex:-1,ref:i,style:{...t.style,...o,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function aH(t){return t?"checked":"unchecked"}var a3e=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],kk="RadioGroup",[i3e,vFe]=rn(kk,[mm,tH]),iH=mm(),lH=tH(),[l3e,o3e]=i3e(kk),oH=j.forwardRef((t,r)=>{const{__scopeRadioGroup:s,name:n,defaultValue:a,value:i,required:l=!1,disabled:o=!1,orientation:c,dir:d,loop:u=!0,onValueChange:m,...h}=t,g=iH(s),f=Vc(d),[p,y]=Fn({prop:i,defaultProp:a,onChange:m});return e.jsx(l3e,{scope:s,name:n,required:l,disabled:o,value:p,onValueChange:y,children:e.jsx(wC,{asChild:!0,...g,orientation:c,dir:f,loop:u,children:e.jsx(ct.div,{role:"radiogroup","aria-required":l,"aria-orientation":c,"data-disabled":o?"":void 0,dir:f,...h,ref:r})})})});oH.displayName=kk;var cH="RadioGroupItem",dH=j.forwardRef((t,r)=>{const{__scopeRadioGroup:s,disabled:n,...a}=t,i=o3e(cH,s),l=i.disabled||n,o=iH(s),c=lH(s),d=j.useRef(null),u=Lt(r,d),m=i.value===a.value,h=j.useRef(!1);return j.useEffect(()=>{const g=p=>{a3e.includes(p.key)&&(h.current=!0)},f=()=>h.current=!1;return document.addEventListener("keydown",g),document.addEventListener("keyup",f),()=>{document.removeEventListener("keydown",g),document.removeEventListener("keyup",f)}},[]),e.jsx(SC,{asChild:!0,...o,focusable:!l,active:m,children:e.jsx(rH,{disabled:l,required:i.required,checked:m,...c,...a,name:i.name,ref:u,onCheck:()=>i.onValueChange(a.value),onKeyDown:He(g=>{g.key==="Enter"&&g.preventDefault()}),onFocus:He(a.onFocus,()=>{var g;h.current&&((g=d.current)==null||g.click())})})})});dH.displayName=cH;var c3e="RadioGroupIndicator",uH=j.forwardRef((t,r)=>{const{__scopeRadioGroup:s,...n}=t,a=lH(s);return e.jsx(nH,{...a,...n,ref:r})});uH.displayName=c3e;var mH=oH,hH=dH,d3e=uH;const pH=j.forwardRef(({className:t,...r},s)=>e.jsx(mH,{className:Oe("grid gap-2",t),...r,ref:s}));pH.displayName=mH.displayName;const gg=j.forwardRef(({className:t,...r},s)=>e.jsx(hH,{ref:s,className:Oe("aspect-square h-4 w-4 rounded-full border border-primary text-primary ring-offset-background focus:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",t),...r,children:e.jsx(d3e,{className:"flex items-center justify-center",children:e.jsx(t$,{className:"h-2.5 w-2.5 fill-current text-current"})})}));gg.displayName=hH.displayName;const u3e=_.object({address:_.string().min(5,{message:"Address must be at least 5 characters"}),pincode:_.string().min(6,{message:"Please enter a valid pincode"}),date:_.date({required_error:"Please select a date"}),timeSlot:_.enum(["morning","afternoon","evening"],{required_error:"Please select a time slot"}),materials:_.array(_.string()).refine(t=>t.length>0,{message:"Please select at least one material"}),additionalNotes:_.string().optional()}),m3e=[{id:"plastic",label:"Plastic",rate:15},{id:"aluminum",label:"Aluminum",rate:90},{id:"copper",label:"Copper",rate:400},{id:"brass",label:"Brass",rate:300}],h3e=t=>{switch(t){case"new":return e.jsx(ae,{variant:"outline",children:"New"});case"assigned":return e.jsx(ae,{variant:"secondary",children:"Assigned"});case"collected":return e.jsx(ae,{className:"bg-blue-600 text-white",children:"Collected"});case"verified":return e.jsx(ae,{className:"bg-green-600 text-white",children:"Verified"});case"closed":return e.jsx(ae,{className:"bg-gray-600 text-white",children:"Closed"});case"cancelled":return e.jsx(ae,{variant:"destructive",children:"Cancelled"});default:return e.jsx(ae,{variant:"outline",children:t})}},p3e=t=>{switch(t){case"morning":return"Morning (8 AM - 12 PM)";case"afternoon":return"Afternoon (12 PM - 4 PM)";case"evening":return"Evening (4 PM - 8 PM)";default:return t}};function f3e(){const{toast:t}=Be(),[r,s]=j.useState("request"),n=Ht({resolver:Wt(u3e),defaultValues:{address:"",pincode:"",timeSlot:"morning",materials:[],additionalNotes:""}}),{data:a,isLoading:i}=fe({queryKey:["/api/recycling/requests"],queryFn:async()=>{const c=await le("GET","/api/recycling/requests");if(!c.ok)throw new Error("Failed to fetch recycling requests");return c.json()}}),l=Se({mutationFn:async c=>{const d={...c,materials:c.materials.join(",")},u=await le("POST","/api/recycling/request",d);if(!u.ok){const m=await u.json();throw new Error(m.message||"Failed to create recycling request")}return u.json()},onSuccess:()=>{t({title:"Success",description:"Your recycling collection request has been submitted"}),n.reset(),pe.invalidateQueries({queryKey:["/api/recycling/requests"]}),s("history")},onError:c=>{t({title:"Error",description:c.message,variant:"destructive"})}}),o=c=>{l.mutate(c)};return e.jsxs("div",{className:"container mx-auto py-6 space-y-6",children:[e.jsxs("div",{className:"flex flex-col space-y-2",children:[e.jsx("h1",{className:"text-3xl font-bold",children:"Recycling Service"}),e.jsx("p",{className:"text-muted-foreground",children:"Schedule collection of recyclable materials and earn money for your contribution to the environment"})]}),e.jsxs(rr,{value:r,onValueChange:s,className:"w-full",children:[e.jsxs(tr,{className:"grid w-full grid-cols-2",children:[e.jsx(ke,{value:"request",children:"Request Collection"}),e.jsx(ke,{value:"history",children:"Collection History"})]}),e.jsx(Le,{value:"request",className:"mt-4",children:e.jsxs(E,{children:[e.jsxs(Y,{children:[e.jsxs(X,{className:"flex items-center gap-2",children:[e.jsx(In,{className:"h-5 w-5 text-primary"}),e.jsx("span",{children:"Schedule Recycling Collection"})]}),e.jsx(he,{children:"Fill in the details below to schedule a recycling collection. Our service agent will collect your recyclables and pay you based on the materials and weight."})]}),e.jsx(D,{children:e.jsx(Gt,{...n,children:e.jsxs("form",{onSubmit:n.handleSubmit(o),className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsx(q,{control:n.control,name:"address",render:({field:c})=>e.jsxs(B,{children:[e.jsx(V,{children:"Collection Address"}),e.jsx(U,{children:e.jsx(at,{placeholder:"Enter your full address",...c,className:"resize-none"})}),e.jsx(z,{})]})}),e.jsx(q,{control:n.control,name:"pincode",render:({field:c})=>e.jsxs(B,{children:[e.jsx(V,{children:"Pincode"}),e.jsx(U,{children:e.jsx($,{placeholder:"Enter your pincode",...c})}),e.jsx(Ue,{children:"We'll assign a service agent based on your pincode."}),e.jsx(z,{})]})})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsx(q,{control:n.control,name:"date",render:({field:c})=>e.jsxs(B,{className:"flex flex-col",children:[e.jsx(V,{children:"Collection Date"}),e.jsxs(hn,{children:[e.jsx(pn,{asChild:!0,children:e.jsx(U,{children:e.jsxs(T,{variant:"outline",className:`w-full pl-3 text-left font-normal ${c.value?"":"text-muted-foreground"}`,children:[c.value?xt(c.value,"PPP"):e.jsx("span",{children:"Pick a date"}),e.jsx(Xt,{className:"ml-auto h-4 w-4 opacity-50"})]})})}),e.jsx(Zs,{className:"w-auto p-0",align:"start",children:e.jsx(Js,{mode:"single",selected:c.value,onSelect:c.onChange,disabled:d=>d<new Date||d>new Date(new Date().setDate(new Date().getDate()+30)),initialFocus:!0})})]}),e.jsx(Ue,{children:"Choose a date within the next 30 days."}),e.jsx(z,{})]})}),e.jsx(q,{control:n.control,name:"timeSlot",render:({field:c})=>e.jsxs(B,{className:"space-y-3",children:[e.jsx(V,{children:"Preferred Time Slot"}),e.jsx(U,{children:e.jsxs(pH,{onValueChange:c.onChange,defaultValue:c.value,className:"flex flex-col space-y-1",children:[e.jsxs(B,{className:"flex items-center space-x-3 space-y-0",children:[e.jsx(U,{children:e.jsx(gg,{value:"morning"})}),e.jsx(V,{className:"font-normal",children:"Morning (8 AM - 12 PM)"})]}),e.jsxs(B,{className:"flex items-center space-x-3 space-y-0",children:[e.jsx(U,{children:e.jsx(gg,{value:"afternoon"})}),e.jsx(V,{className:"font-normal",children:"Afternoon (12 PM - 4 PM)"})]}),e.jsxs(B,{className:"flex items-center space-x-3 space-y-0",children:[e.jsx(U,{children:e.jsx(gg,{value:"evening"})}),e.jsx(V,{className:"font-normal",children:"Evening (4 PM - 8 PM)"})]})]})}),e.jsx(z,{})]})})]}),e.jsx(q,{control:n.control,name:"materials",render:()=>e.jsxs(B,{children:[e.jsxs("div",{className:"mb-4",children:[e.jsx(V,{children:"Materials for Recycling"}),e.jsx(Ue,{children:"Select the materials you want to recycle. You'll be paid based on the weight and material type."})]}),e.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:m3e.map(c=>e.jsx(q,{control:n.control,name:"materials",render:({field:d})=>{var u;return e.jsxs(B,{className:"flex flex-col items-start space-x-0 rounded-md border p-4",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(U,{children:e.jsx(xn,{checked:(u=d.value)==null?void 0:u.includes(c.id),onCheckedChange:m=>{var g;const h=m?[...d.value,c.id]:(g=d.value)==null?void 0:g.filter(f=>f!==c.id);d.onChange(h)}})}),e.jsx(V,{className:"font-normal cursor-pointer",children:c.label})]}),e.jsxs(Ue,{className:"ml-6 mt-2",children:["",c.rate,"/kg"]})]},c.id)}},c.id))}),e.jsx(z,{})]})}),e.jsx(q,{control:n.control,name:"additionalNotes",render:({field:c})=>e.jsxs(B,{children:[e.jsx(V,{children:"Additional Notes (Optional)"}),e.jsx(U,{children:e.jsx(at,{placeholder:"Any special instructions or notes for the collector",className:"resize-none",...c})}),e.jsx(z,{})]})}),e.jsx(T,{type:"submit",className:"w-full",disabled:l.isPending,children:l.isPending?e.jsxs(e.Fragment,{children:[e.jsx(Ye,{className:"mr-2 h-4 w-4 animate-spin"}),"Submitting..."]}):"Schedule Collection"})]})})})]})}),e.jsx(Le,{value:"history",className:"mt-4",children:e.jsxs(E,{children:[e.jsxs(Y,{children:[e.jsx(X,{children:"Your Recycling History"}),e.jsx(he,{children:"View all your recycling collection requests and their status"})]}),e.jsx(D,{children:i?e.jsx("div",{className:"flex justify-center py-8",children:e.jsx(Ye,{className:"h-8 w-8 animate-spin text-primary"})}):!a||a.length===0?e.jsxs("div",{className:"text-center py-8",children:[e.jsx("p",{className:"text-muted-foreground",children:"You haven't made any recycling requests yet."}),e.jsx(T,{variant:"outline",className:"mt-4",onClick:()=>s("request"),children:"Schedule Your First Collection"})]}):e.jsx("div",{className:"space-y-4",children:a.map(c=>e.jsxs(E,{className:"overflow-hidden",children:[e.jsxs("div",{className:"flex items-center justify-between p-4 bg-muted/50",children:[e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx(In,{className:"h-5 w-5 text-primary"}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium",children:c.requestNumber||`Collection Request #${c.id}`}),e.jsxs("p",{className:"text-sm text-muted-foreground",children:[new Date(c.date).toLocaleDateString()," - ",p3e(c.timeSlot)]})]})]}),h3e(c.status)]}),e.jsxs(D,{className:"p-4 pt-4",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"text-sm font-medium",children:"Collection Address"}),e.jsx("p",{className:"text-sm mt-1",children:c.address}),e.jsxs("p",{className:"text-sm",children:["Pincode: ",c.pincode]})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-sm font-medium",children:"Materials"}),e.jsx("div",{className:"flex flex-wrap gap-2 mt-1",children:c.materials.split(",").map(d=>e.jsx(ae,{variant:"outline",className:"capitalize",children:d},d))})]})]}),c.additionalNotes&&e.jsxs("div",{className:"mt-4",children:[e.jsx("h4",{className:"text-sm font-medium",children:"Additional Notes"}),e.jsx("p",{className:"text-sm mt-1",children:c.additionalNotes})]}),(c.status==="collected"||c.status==="verified"||c.status==="closed")&&c.totalWeight&&e.jsx("div",{className:"mt-4 p-3 bg-primary/10 rounded-md",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium",children:"Collection Details"}),e.jsxs("p",{className:"text-sm",children:["Total Weight: ",c.totalWeight," kg"]}),c.collectedAt&&e.jsxs("p",{className:"text-xs text-muted-foreground",children:["Collected on: ",new Date(c.collectedAt).toLocaleDateString()]})]}),e.jsxs("div",{className:"text-right",children:[e.jsx("p",{className:"text-sm",children:"Amount Earned"}),e.jsxs("p",{className:"text-xl font-bold text-primary",children:["",c.amount]})]})]})}),(c.status==="verified"||c.status==="closed")&&c.verifiedAt&&e.jsxs("div",{className:"mt-2 text-xs text-right text-muted-foreground",children:["Verified on: ",new Date(c.verifiedAt).toLocaleDateString()]}),c.status==="closed"&&c.closedAt&&e.jsxs("div",{className:"mt-2 text-xs text-right text-muted-foreground",children:["Completed on: ",new Date(c.closedAt).toLocaleDateString()]})]})]},c.id))})})]})})]})]})}function x3e(t,r){return j.useReducer((s,n)=>r[s][n]??s,t)}var Ak="ScrollArea",[fH,yFe]=rn(Ak),[g3e,Oa]=fH(Ak),xH=j.forwardRef((t,r)=>{const{__scopeScrollArea:s,type:n="hover",dir:a,scrollHideDelay:i=600,...l}=t,[o,c]=j.useState(null),[d,u]=j.useState(null),[m,h]=j.useState(null),[g,f]=j.useState(null),[p,y]=j.useState(null),[v,x]=j.useState(0),[b,N]=j.useState(0),[w,C]=j.useState(!1),[P,S]=j.useState(!1),A=Lt(r,I=>c(I)),k=Vc(a);return e.jsx(g3e,{scope:s,type:n,dir:k,scrollHideDelay:i,scrollArea:o,viewport:d,onViewportChange:u,content:m,onContentChange:h,scrollbarX:g,onScrollbarXChange:f,scrollbarXEnabled:w,onScrollbarXEnabledChange:C,scrollbarY:p,onScrollbarYChange:y,scrollbarYEnabled:P,onScrollbarYEnabledChange:S,onCornerWidthChange:x,onCornerHeightChange:N,children:e.jsx(ct.div,{dir:k,...l,ref:A,style:{position:"relative","--radix-scroll-area-corner-width":v+"px","--radix-scroll-area-corner-height":b+"px",...t.style}})})});xH.displayName=Ak;var gH="ScrollAreaViewport",vH=j.forwardRef((t,r)=>{const{__scopeScrollArea:s,children:n,asChild:a,nonce:i,...l}=t,o=Oa(gH,s),c=j.useRef(null),d=Lt(r,c,o.onViewportChange);return e.jsxs(e.Fragment,{children:[e.jsx("style",{dangerouslySetInnerHTML:{__html:`
[data-radix-scroll-area-viewport] {
  scrollbar-width: none;
  -ms-overflow-style: none;
  -webkit-overflow-scrolling: touch;
}
[data-radix-scroll-area-viewport]::-webkit-scrollbar {
  display: none;
}
:where([data-radix-scroll-area-viewport]) {
  display: flex;
  flex-direction: column;
  align-items: stretch;
}
:where([data-radix-scroll-area-content]) {
  flex-grow: 1;
}
`},nonce:i}),e.jsx(ct.div,{"data-radix-scroll-area-viewport":"",...l,asChild:a,ref:d,style:{overflowX:o.scrollbarXEnabled?"scroll":"hidden",overflowY:o.scrollbarYEnabled?"scroll":"hidden",...t.style},children:k3e({asChild:a,children:n},u=>e.jsx("div",{"data-radix-scroll-area-content":"",ref:o.onContentChange,style:{minWidth:o.scrollbarXEnabled?"fit-content":void 0},children:u}))})]})});vH.displayName=gH;var Ui="ScrollAreaScrollbar",_k=j.forwardRef((t,r)=>{const{forceMount:s,...n}=t,a=Oa(Ui,t.__scopeScrollArea),{onScrollbarXEnabledChange:i,onScrollbarYEnabledChange:l}=a,o=t.orientation==="horizontal";return j.useEffect(()=>(o?i(!0):l(!0),()=>{o?i(!1):l(!1)}),[o,i,l]),a.type==="hover"?e.jsx(v3e,{...n,ref:r,forceMount:s}):a.type==="scroll"?e.jsx(y3e,{...n,ref:r,forceMount:s}):a.type==="auto"?e.jsx(yH,{...n,ref:r,forceMount:s}):a.type==="always"?e.jsx(Tk,{...n,ref:r}):null});_k.displayName=Ui;var v3e=j.forwardRef((t,r)=>{const{forceMount:s,...n}=t,a=Oa(Ui,t.__scopeScrollArea),[i,l]=j.useState(!1);return j.useEffect(()=>{const o=a.scrollArea;let c=0;if(o){const d=()=>{window.clearTimeout(c),l(!0)},u=()=>{c=window.setTimeout(()=>l(!1),a.scrollHideDelay)};return o.addEventListener("pointerenter",d),o.addEventListener("pointerleave",u),()=>{window.clearTimeout(c),o.removeEventListener("pointerenter",d),o.removeEventListener("pointerleave",u)}}},[a.scrollArea,a.scrollHideDelay]),e.jsx(ks,{present:s||i,children:e.jsx(yH,{"data-state":i?"visible":"hidden",...n,ref:r})})}),y3e=j.forwardRef((t,r)=>{const{forceMount:s,...n}=t,a=Oa(Ui,t.__scopeScrollArea),i=t.orientation==="horizontal",l=Nb(()=>c("SCROLL_END"),100),[o,c]=x3e("hidden",{hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}});return j.useEffect(()=>{if(o==="idle"){const d=window.setTimeout(()=>c("HIDE"),a.scrollHideDelay);return()=>window.clearTimeout(d)}},[o,a.scrollHideDelay,c]),j.useEffect(()=>{const d=a.viewport,u=i?"scrollLeft":"scrollTop";if(d){let m=d[u];const h=()=>{const g=d[u];m!==g&&(c("SCROLL"),l()),m=g};return d.addEventListener("scroll",h),()=>d.removeEventListener("scroll",h)}},[a.viewport,i,c,l]),e.jsx(ks,{present:s||o!=="hidden",children:e.jsx(Tk,{"data-state":o==="hidden"?"hidden":"visible",...n,ref:r,onPointerEnter:He(t.onPointerEnter,()=>c("POINTER_ENTER")),onPointerLeave:He(t.onPointerLeave,()=>c("POINTER_LEAVE"))})})}),yH=j.forwardRef((t,r)=>{const s=Oa(Ui,t.__scopeScrollArea),{forceMount:n,...a}=t,[i,l]=j.useState(!1),o=t.orientation==="horizontal",c=Nb(()=>{if(s.viewport){const d=s.viewport.offsetWidth<s.viewport.scrollWidth,u=s.viewport.offsetHeight<s.viewport.scrollHeight;l(o?d:u)}},10);return Zu(s.viewport,c),Zu(s.content,c),e.jsx(ks,{present:n||i,children:e.jsx(Tk,{"data-state":i?"visible":"hidden",...a,ref:r})})}),Tk=j.forwardRef((t,r)=>{const{orientation:s="vertical",...n}=t,a=Oa(Ui,t.__scopeScrollArea),i=j.useRef(null),l=j.useRef(0),[o,c]=j.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),d=SH(o.viewport,o.content),u={...n,sizes:o,onSizesChange:c,hasThumb:d>0&&d<1,onThumbChange:h=>i.current=h,onThumbPointerUp:()=>l.current=0,onThumbPointerDown:h=>l.current=h};function m(h,g){return C3e(h,l.current,o,g)}return s==="horizontal"?e.jsx(j3e,{...u,ref:r,onThumbPositionChange:()=>{if(a.viewport&&i.current){const h=a.viewport.scrollLeft,g=FD(h,o,a.dir);i.current.style.transform=`translate3d(${g}px, 0, 0)`}},onWheelScroll:h=>{a.viewport&&(a.viewport.scrollLeft=h)},onDragScroll:h=>{a.viewport&&(a.viewport.scrollLeft=m(h,a.dir))}}):s==="vertical"?e.jsx(b3e,{...u,ref:r,onThumbPositionChange:()=>{if(a.viewport&&i.current){const h=a.viewport.scrollTop,g=FD(h,o);i.current.style.transform=`translate3d(0, ${g}px, 0)`}},onWheelScroll:h=>{a.viewport&&(a.viewport.scrollTop=h)},onDragScroll:h=>{a.viewport&&(a.viewport.scrollTop=m(h))}}):null}),j3e=j.forwardRef((t,r)=>{const{sizes:s,onSizesChange:n,...a}=t,i=Oa(Ui,t.__scopeScrollArea),[l,o]=j.useState(),c=j.useRef(null),d=Lt(r,c,i.onScrollbarXChange);return j.useEffect(()=>{c.current&&o(getComputedStyle(c.current))},[c]),e.jsx(bH,{"data-orientation":"horizontal",...a,ref:d,sizes:s,style:{bottom:0,left:i.dir==="rtl"?"var(--radix-scroll-area-corner-width)":0,right:i.dir==="ltr"?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":bb(s)+"px",...t.style},onThumbPointerDown:u=>t.onThumbPointerDown(u.x),onDragScroll:u=>t.onDragScroll(u.x),onWheelScroll:(u,m)=>{if(i.viewport){const h=i.viewport.scrollLeft+u.deltaX;t.onWheelScroll(h),PH(h,m)&&u.preventDefault()}},onResize:()=>{c.current&&i.viewport&&l&&n({content:i.viewport.scrollWidth,viewport:i.viewport.offsetWidth,scrollbar:{size:c.current.clientWidth,paddingStart:Ty(l.paddingLeft),paddingEnd:Ty(l.paddingRight)}})}})}),b3e=j.forwardRef((t,r)=>{const{sizes:s,onSizesChange:n,...a}=t,i=Oa(Ui,t.__scopeScrollArea),[l,o]=j.useState(),c=j.useRef(null),d=Lt(r,c,i.onScrollbarYChange);return j.useEffect(()=>{c.current&&o(getComputedStyle(c.current))},[c]),e.jsx(bH,{"data-orientation":"vertical",...a,ref:d,sizes:s,style:{top:0,right:i.dir==="ltr"?0:void 0,left:i.dir==="rtl"?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":bb(s)+"px",...t.style},onThumbPointerDown:u=>t.onThumbPointerDown(u.y),onDragScroll:u=>t.onDragScroll(u.y),onWheelScroll:(u,m)=>{if(i.viewport){const h=i.viewport.scrollTop+u.deltaY;t.onWheelScroll(h),PH(h,m)&&u.preventDefault()}},onResize:()=>{c.current&&i.viewport&&l&&n({content:i.viewport.scrollHeight,viewport:i.viewport.offsetHeight,scrollbar:{size:c.current.clientHeight,paddingStart:Ty(l.paddingTop),paddingEnd:Ty(l.paddingBottom)}})}})}),[N3e,jH]=fH(Ui),bH=j.forwardRef((t,r)=>{const{__scopeScrollArea:s,sizes:n,hasThumb:a,onThumbChange:i,onThumbPointerUp:l,onThumbPointerDown:o,onThumbPositionChange:c,onDragScroll:d,onWheelScroll:u,onResize:m,...h}=t,g=Oa(Ui,s),[f,p]=j.useState(null),y=Lt(r,A=>p(A)),v=j.useRef(null),x=j.useRef(""),b=g.viewport,N=n.content-n.viewport,w=Hr(u),C=Hr(c),P=Nb(m,10);function S(A){if(v.current){const k=A.clientX-v.current.left,I=A.clientY-v.current.top;d({x:k,y:I})}}return j.useEffect(()=>{const A=k=>{const I=k.target;(f==null?void 0:f.contains(I))&&w(k,N)};return document.addEventListener("wheel",A,{passive:!1}),()=>document.removeEventListener("wheel",A,{passive:!1})},[b,f,N,w]),j.useEffect(C,[n,C]),Zu(f,P),Zu(g.content,P),e.jsx(N3e,{scope:s,scrollbar:f,hasThumb:a,onThumbChange:Hr(i),onThumbPointerUp:Hr(l),onThumbPositionChange:C,onThumbPointerDown:Hr(o),children:e.jsx(ct.div,{...h,ref:y,style:{position:"absolute",...h.style},onPointerDown:He(t.onPointerDown,A=>{A.button===0&&(A.target.setPointerCapture(A.pointerId),v.current=f.getBoundingClientRect(),x.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",g.viewport&&(g.viewport.style.scrollBehavior="auto"),S(A))}),onPointerMove:He(t.onPointerMove,S),onPointerUp:He(t.onPointerUp,A=>{const k=A.target;k.hasPointerCapture(A.pointerId)&&k.releasePointerCapture(A.pointerId),document.body.style.webkitUserSelect=x.current,g.viewport&&(g.viewport.style.scrollBehavior=""),v.current=null})})})}),_y="ScrollAreaThumb",NH=j.forwardRef((t,r)=>{const{forceMount:s,...n}=t,a=jH(_y,t.__scopeScrollArea);return e.jsx(ks,{present:s||a.hasThumb,children:e.jsx(w3e,{ref:r,...n})})}),w3e=j.forwardRef((t,r)=>{const{__scopeScrollArea:s,style:n,...a}=t,i=Oa(_y,s),l=jH(_y,s),{onThumbPositionChange:o}=l,c=Lt(r,m=>l.onThumbChange(m)),d=j.useRef(),u=Nb(()=>{d.current&&(d.current(),d.current=void 0)},100);return j.useEffect(()=>{const m=i.viewport;if(m){const h=()=>{if(u(),!d.current){const g=P3e(m,o);d.current=g,o()}};return o(),m.addEventListener("scroll",h),()=>m.removeEventListener("scroll",h)}},[i.viewport,u,o]),e.jsx(ct.div,{"data-state":l.hasThumb?"visible":"hidden",...a,ref:c,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...n},onPointerDownCapture:He(t.onPointerDownCapture,m=>{const g=m.target.getBoundingClientRect(),f=m.clientX-g.left,p=m.clientY-g.top;l.onThumbPointerDown({x:f,y:p})}),onPointerUp:He(t.onPointerUp,l.onThumbPointerUp)})});NH.displayName=_y;var Ok="ScrollAreaCorner",wH=j.forwardRef((t,r)=>{const s=Oa(Ok,t.__scopeScrollArea),n=!!(s.scrollbarX&&s.scrollbarY);return s.type!=="scroll"&&n?e.jsx(S3e,{...t,ref:r}):null});wH.displayName=Ok;var S3e=j.forwardRef((t,r)=>{const{__scopeScrollArea:s,...n}=t,a=Oa(Ok,s),[i,l]=j.useState(0),[o,c]=j.useState(0),d=!!(i&&o);return Zu(a.scrollbarX,()=>{var m;const u=((m=a.scrollbarX)==null?void 0:m.offsetHeight)||0;a.onCornerHeightChange(u),c(u)}),Zu(a.scrollbarY,()=>{var m;const u=((m=a.scrollbarY)==null?void 0:m.offsetWidth)||0;a.onCornerWidthChange(u),l(u)}),d?e.jsx(ct.div,{...n,ref:r,style:{width:i,height:o,position:"absolute",right:a.dir==="ltr"?0:void 0,left:a.dir==="rtl"?0:void 0,bottom:0,...t.style}}):null});function Ty(t){return t?parseInt(t,10):0}function SH(t,r){const s=t/r;return isNaN(s)?0:s}function bb(t){const r=SH(t.viewport,t.content),s=t.scrollbar.paddingStart+t.scrollbar.paddingEnd,n=(t.scrollbar.size-s)*r;return Math.max(n,18)}function C3e(t,r,s,n="ltr"){const a=bb(s),i=a/2,l=r||i,o=a-l,c=s.scrollbar.paddingStart+l,d=s.scrollbar.size-s.scrollbar.paddingEnd-o,u=s.content-s.viewport,m=n==="ltr"?[0,u]:[u*-1,0];return CH([c,d],m)(t)}function FD(t,r,s="ltr"){const n=bb(r),a=r.scrollbar.paddingStart+r.scrollbar.paddingEnd,i=r.scrollbar.size-a,l=r.content-r.viewport,o=i-n,c=s==="ltr"?[0,l]:[l*-1,0],d=Uw(t,c);return CH([0,l],[0,o])(d)}function CH(t,r){return s=>{if(t[0]===t[1]||r[0]===r[1])return r[0];const n=(r[1]-r[0])/(t[1]-t[0]);return r[0]+n*(s-t[0])}}function PH(t,r){return t>0&&t<r}var P3e=(t,r=()=>{})=>{let s={left:t.scrollLeft,top:t.scrollTop},n=0;return function a(){const i={left:t.scrollLeft,top:t.scrollTop},l=s.left!==i.left,o=s.top!==i.top;(l||o)&&r(),s=i,n=window.requestAnimationFrame(a)}(),()=>window.cancelAnimationFrame(n)};function Nb(t,r){const s=Hr(t),n=j.useRef(0);return j.useEffect(()=>()=>window.clearTimeout(n.current),[]),j.useCallback(()=>{window.clearTimeout(n.current),n.current=window.setTimeout(s,r)},[s,r])}function Zu(t,r){const s=Hr(r);fs(()=>{let n=0;if(t){const a=new ResizeObserver(()=>{cancelAnimationFrame(n),n=window.requestAnimationFrame(s)});return a.observe(t),()=>{window.cancelAnimationFrame(n),a.unobserve(t)}}},[t,s])}function k3e(t,r){const{asChild:s,children:n}=t;if(!s)return typeof r=="function"?r(n):r;const a=j.Children.only(n);return j.cloneElement(a,{children:typeof r=="function"?r(a.props.children):r})}var kH=xH,A3e=vH,_3e=wH;const wb=j.forwardRef(({className:t,children:r,...s},n)=>e.jsxs(kH,{ref:n,className:Oe("relative overflow-hidden",t),...s,children:[e.jsx(A3e,{className:"h-full w-full rounded-[inherit]",children:r}),e.jsx(AH,{}),e.jsx(_3e,{})]}));wb.displayName=kH.displayName;const AH=j.forwardRef(({className:t,orientation:r="vertical",...s},n)=>e.jsx(_k,{ref:n,orientation:r,className:Oe("flex touch-none select-none transition-colors",r==="vertical"&&"h-full w-2.5 border-l border-l-transparent p-[1px]",r==="horizontal"&&"h-2.5 flex-col border-t border-t-transparent p-[1px]",t),...s,children:e.jsx(NH,{className:"relative flex-1 rounded-full bg-border"})}));AH.displayName=_k.displayName;function T3e({conversations:t,onSelect:r,selectedId:s}){return t.length===0?e.jsx("div",{className:"flex items-center justify-center h-48",children:e.jsx("p",{className:"text-muted-foreground",children:"No conversations yet"})}):e.jsx(wb,{className:"h-[calc(100vh-200px)]",children:t.map(n=>{var a,i,l,o;return e.jsxs("div",{className:`flex items-center gap-3 p-3 hover:bg-secondary/50 cursor-pointer ${s===n.id?"bg-secondary":""}`,onClick:()=>r(n),children:[n.isGroup?e.jsx("div",{className:"bg-primary/10 p-2 rounded-full",children:e.jsx(er,{size:20,className:"text-primary"})}):e.jsx(Qu,{children:e.jsx(Xu,{children:((i=(a=n.participants[0])==null?void 0:a.fullName)==null?void 0:i.charAt(0))||"U"})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("p",{className:"font-medium truncate",children:n.isGroup?n.name:(l=n.participants[0])==null?void 0:l.fullName}),e.jsx("p",{className:"text-xs text-muted-foreground truncate",children:n.isGroup?`${n.participants.length} members`:(o=n.participants[0])==null?void 0:o.userType})]}),e.jsx("div",{className:"text-xs text-muted-foreground",children:YP(new Date(n.updatedAt),{addSuffix:!0})})]},n.id)})})}function O3e({onClose:t}){const[r,s]=j.useState([]),[n,a]=j.useState(!1),[i,l]=j.useState(""),[o,c]=j.useState([]),d=Sl(),{toast:u}=Be();j.useEffect(()=>{(async()=>{a(!0);try{const y=await(await le("GET","/api/users")).json();s(y)}catch(p){console.error("Failed to fetch users",p)}finally{a(!1)}})()},[]);const m=Se({mutationFn:async f=>(await le("POST","/api/conversations",f)).json(),onSuccess:()=>{d.invalidateQueries({queryKey:["/api/conversations"]}),u({title:"Conversation created",description:"You can now start chatting"}),t()},onError:f=>{u({title:"Failed to create conversation",description:f.message,variant:"destructive"})}}),h=f=>{if(f.preventDefault(),o.length===0){u({title:"Please select at least one user",variant:"destructive"});return}m.mutate({participantIds:o})},g=r.filter(f=>f.fullName.toLowerCase().includes(i.toLowerCase()));return e.jsxs("form",{onSubmit:h,className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx($,{placeholder:"Search users...",value:i,onChange:f=>l(f.target.value),disabled:n}),e.jsx(wb,{className:"h-[200px] border rounded-md p-2",children:n?e.jsx("div",{className:"flex justify-center items-center h-full",children:e.jsx(Ye,{className:"h-6 w-6 animate-spin text-primary"})}):g.length===0?e.jsx("div",{className:"flex justify-center items-center h-full text-muted-foreground",children:"No users found"}):e.jsx("div",{className:"space-y-2",children:g.map(f=>e.jsxs("div",{className:`flex items-center gap-2 p-2 rounded-md cursor-pointer hover:bg-secondary ${o.includes(f.id)?"bg-secondary":""}`,onClick:()=>{c(p=>p.includes(f.id)?p.filter(y=>y!==f.id):[...p,f.id])},children:[e.jsx(Qu,{children:e.jsx(Xu,{children:f.fullName[0]})}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium",children:f.fullName}),e.jsx("p",{className:"text-xs text-muted-foreground",children:f.userType})]})]},f.id))})})]}),e.jsxs("div",{className:"flex justify-end gap-2",children:[e.jsx(T,{variant:"outline",type:"button",onClick:t,children:"Cancel"}),e.jsx(T,{type:"submit",disabled:n||o.length===0||m.isPending,children:m.isPending?e.jsxs(e.Fragment,{children:[e.jsx(Ye,{className:"mr-2 h-4 w-4 animate-spin"}),"Creating..."]}):"Create Conversation"})]})]})}function E3e({conversationId:t,currentUserId:r}){const s=Sl(),{toast:n}=Be(),{data:a,isLoading:i}=fe({queryKey:[`/api/conversations/${t}/messages`],queryFn:async()=>(await le("GET",`/api/conversations/${t}/messages`)).json(),refetchInterval:5e3}),l=Se({mutationFn:async u=>(await le("POST",`/api/conversations/${t}/messages`,{content:u})).json(),onSuccess:u=>{s.setQueryData([`/api/conversations/${t}/messages`],(m=[])=>[...m,u])},onError:u=>{n({title:"Failed to send message",description:u.message,variant:"destructive"})}}),[o,c]=j.useState(""),d=u=>{u.preventDefault(),o.trim()&&(l.mutate(o.trim()),c(""))};return i?e.jsx("div",{className:"flex justify-center items-center h-full",children:e.jsx(Ye,{className:"h-8 w-8 animate-spin text-primary"})}):e.jsxs("div",{className:"flex flex-col h-full",children:[e.jsx(wb,{className:"flex-1 p-4",children:a&&a.length===0?e.jsx("div",{className:"flex justify-center items-center h-full text-muted-foreground",children:"No messages yet. Start the conversation!"}):e.jsx("div",{className:"space-y-4",children:a==null?void 0:a.map(u=>e.jsx("div",{className:`flex ${u.sender.id===r?"justify-end":"justify-start"}`,children:e.jsxs("div",{className:`max-w-[70%] rounded-lg p-3 ${u.sender.id===r?"bg-primary text-primary-foreground":"bg-secondary"}`,children:[u.sender.id!==r&&e.jsx("p",{className:"text-xs font-medium mb-1",children:u.sender.fullName}),e.jsx("p",{children:u.content}),e.jsx("p",{className:"text-xs mt-1 opacity-70",children:YP(new Date(u.createdAt),{addSuffix:!0})})]})},u.id))})}),e.jsx("div",{className:"p-4 border-t",children:e.jsxs("form",{onSubmit:d,className:"flex gap-2",children:[e.jsx($,{placeholder:"Type a message...",value:o,onChange:u=>c(u.target.value),disabled:l.isPending}),e.jsx(T,{type:"submit",size:"icon",disabled:l.isPending,children:l.isPending?e.jsx(Ye,{className:"h-5 w-5 animate-spin"}):e.jsx(i$,{className:"h-5 w-5"})})]})})]})}function D3e(){var c,d,u,m;const{user:t}=dt();Be();const[r,s]=j.useState(null),[n,a]=j.useState(!1),{data:i,isLoading:l}=fe({queryKey:["/api/conversations"],queryFn:async()=>(await le("GET","/api/conversations")).json()}),o=()=>n?e.jsxs(E,{children:[e.jsx(Y,{children:e.jsx(X,{children:"New Conversation"})}),e.jsx(D,{children:e.jsx(O3e,{onClose:()=>a(!1)})})]}):e.jsxs(E,{children:[e.jsxs(Y,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(X,{children:"Conversations"}),e.jsx(T,{onClick:()=>a(!0),size:"sm",children:"New Chat"})]}),e.jsx(D,{className:"p-0",children:l?e.jsx("div",{className:"flex justify-center items-center h-48",children:e.jsx(Ye,{className:"h-8 w-8 animate-spin text-primary"})}):e.jsx(T3e,{conversations:i||[],onSelect:s,selectedId:(r==null?void 0:r.id)||null})})]});return e.jsx("div",{className:"container py-6 h-[calc(100vh-4rem)]",children:e.jsxs("div",{className:"grid grid-cols-12 gap-6 h-full",children:[e.jsx("div",{className:"col-span-12 md:col-span-4 lg:col-span-3",children:o()}),e.jsx("div",{className:"col-span-12 md:col-span-8 lg:col-span-9 h-full",children:r?e.jsxs(E,{className:"h-full flex flex-col",children:[e.jsx(Y,{className:"border-b py-3",children:e.jsxs("div",{className:"flex items-center gap-2",children:[r.isGroup?e.jsx("div",{className:"bg-primary/10 p-2 rounded-full",children:e.jsx(er,{size:20,className:"text-primary"})}):e.jsx(Qu,{children:e.jsx(Xu,{children:((d=(c=r.participants[0])==null?void 0:c.fullName)==null?void 0:d.charAt(0))||e.jsx(zs,{})})}),e.jsxs("div",{children:[e.jsx(X,{className:"text-lg",children:r.isGroup?r.name:(u=r.participants[0])==null?void 0:u.fullName}),e.jsx("p",{className:"text-xs text-muted-foreground",children:r.isGroup?`${r.participants.length} members`:(m=r.participants[0])==null?void 0:m.userType})]})]})}),e.jsx(D,{className:"flex-1 p-0",children:t&&e.jsx(E3e,{conversationId:r.id,currentUserId:t.id})})]}):e.jsx(E,{className:"h-full flex items-center justify-center",children:e.jsxs(D,{className:"text-center space-y-2",children:[e.jsx(er,{className:"h-12 w-12 mx-auto text-muted-foreground"}),e.jsx("h3",{className:"text-lg font-medium",children:"No conversation selected"}),e.jsx("p",{className:"text-muted-foreground",children:"Select a conversation from the sidebar or create a new one"}),e.jsx(T,{onClick:()=>a(!0),className:"mt-4",children:"Start a new conversation"})]})})})]})})}const $D=_.object({materialType:_.string().min(1,"Material type is required"),ratePerKg:_.coerce.number().min(.01,"Rate must be greater than 0"),description:_.string().optional(),isActive:_.boolean().default(!0)});function M3e(){const{user:t}=dt(),[r,s]=j.useState(!1),[n,a]=j.useState(null),{toast:i}=Be(),l=Sl();if((t==null?void 0:t.userType)!=="admin")return e.jsx(hF,{to:"/"});const{data:o,isLoading:c,error:d}=fe({queryKey:["/api/recycling/material-rates"],staleTime:1e3*60*5}),u=Se({mutationFn:async v=>await(await le("POST","/api/recycling/material-rates",v)).json(),onSuccess:()=>{l.invalidateQueries({queryKey:["/api/recycling/material-rates"]}),i({title:"Success",description:"Material rate added successfully"}),s(!1)},onError:v=>{i({title:"Error",description:v.message||"Failed to add material rate",variant:"destructive"})}}),m=Se({mutationFn:async({id:v,data:x})=>await(await le("PUT",`/api/recycling/material-rates/${v}`,x)).json(),onSuccess:()=>{l.invalidateQueries({queryKey:["/api/recycling/material-rates"]}),i({title:"Success",description:"Material rate updated successfully"}),a(null)},onError:v=>{i({title:"Error",description:v.message||"Failed to update material rate",variant:"destructive"})}}),h=Ht({resolver:Wt($D),defaultValues:{materialType:"",ratePerKg:0,description:"",isActive:!0}}),g=Ht({resolver:Wt($D),defaultValues:{materialType:"",ratePerKg:0,description:"",isActive:!0}});j.useEffect(()=>{n&&g.reset({materialType:n.materialType,ratePerKg:n.ratePerKg,description:n.description||"",isActive:n.isActive})},[n,g]);const f=v=>{u.mutate(v)},p=v=>{n&&m.mutate({id:n.id,data:v})},y=v=>{m.mutate({id:v.id,data:{isActive:!v.isActive}})};return e.jsxs("div",{className:"container mx-auto py-6 space-y-6",children:[e.jsxs(E,{children:[e.jsxs(Y,{children:[e.jsx(X,{className:"text-2xl font-bold",children:"Recycling Material Rates"}),e.jsx(he,{children:"Manage rates for recycling materials. These rates will be used to calculate payments for recycling requests."})]}),e.jsxs(D,{children:[e.jsx("div",{className:"flex justify-end mb-4",children:e.jsxs(T,{onClick:()=>s(!0),children:[e.jsx(Rt,{className:"mr-2 h-4 w-4"})," Add New Material Rate"]})}),c?e.jsx("div",{className:"flex justify-center py-10",children:e.jsx(Ye,{className:"h-10 w-10 animate-spin text-primary"})}):d?e.jsx("div",{className:"text-center py-10 text-destructive",children:"Failed to load material rates. Please try again."}):e.jsxs(Ur,{children:[e.jsx(Vh,{children:"List of recycling material rates"}),e.jsx(qr,{children:e.jsxs(mt,{children:[e.jsx(xe,{children:"Material Type"}),e.jsx(xe,{className:"text-right",children:"Rate per Kg ()"}),e.jsx(xe,{children:"Description"}),e.jsx(xe,{children:"Status"}),e.jsx(xe,{children:"Last Updated"}),e.jsx(xe,{className:"text-right",children:"Actions"})]})}),e.jsx(zr,{children:(o==null?void 0:o.length)===0?e.jsx(mt,{children:e.jsx(ne,{colSpan:6,className:"text-center py-4",children:"No material rates found. Add your first material rate."})}):o==null?void 0:o.map(v=>e.jsxs(mt,{children:[e.jsx(ne,{className:"font-medium",children:v.materialType}),e.jsxs(ne,{className:"text-right",children:["",v.ratePerKg.toFixed(2)]}),e.jsx(ne,{children:v.description||"-"}),e.jsx(ne,{children:e.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-semibold ${v.isActive?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"}`,children:v.isActive?"Active":"Inactive"})}),e.jsx(ne,{children:new Date(v.updatedAt).toLocaleDateString()}),e.jsxs(ne,{className:"text-right space-x-2",children:[e.jsx(T,{variant:"outline",size:"sm",onClick:()=>a(v),children:e.jsx(Gr,{className:"h-4 w-4"})}),e.jsx(T,{variant:v.isActive?"destructive":"outline",size:"sm",onClick:()=>y(v),children:v.isActive?e.jsx(ws,{className:"h-4 w-4"}):e.jsx(Is,{className:"h-4 w-4"})})]})]},v.id))})]})]})]}),e.jsx(kt,{open:r,onOpenChange:s,children:e.jsxs(St,{children:[e.jsxs(Ct,{children:[e.jsx(Pt,{children:"Add New Material Rate"}),e.jsx(Yt,{children:"Enter the details for the new recycling material rate."})]}),e.jsx(Gt,{...h,children:e.jsxs("form",{onSubmit:h.handleSubmit(f),className:"space-y-4",children:[e.jsx(q,{control:h.control,name:"materialType",render:({field:v})=>e.jsxs(B,{children:[e.jsx(V,{children:"Material Type"}),e.jsx(U,{children:e.jsx($,{placeholder:"e.g., Plastic, Copper",...v})}),e.jsx(Ue,{children:"Enter the type of recycling material (plastic, copper, brass, aluminum)."}),e.jsx(z,{})]})}),e.jsx(q,{control:h.control,name:"ratePerKg",render:({field:v})=>e.jsxs(B,{children:[e.jsx(V,{children:"Rate per Kg ()"}),e.jsx(U,{children:e.jsx($,{type:"number",step:"0.01",placeholder:"0.00",...v})}),e.jsx(Ue,{children:"Enter the amount in rupees paid per kilogram."}),e.jsx(z,{})]})}),e.jsx(q,{control:h.control,name:"description",render:({field:v})=>e.jsxs(B,{children:[e.jsx(V,{children:"Description (Optional)"}),e.jsx(U,{children:e.jsx(at,{placeholder:"Optional description",...v})}),e.jsx(Ue,{children:"Provide additional details about this material if needed."}),e.jsx(z,{})]})}),e.jsx(q,{control:h.control,name:"isActive",render:({field:v})=>e.jsxs(B,{className:"flex flex-row items-center justify-between rounded-lg border p-3",children:[e.jsxs("div",{className:"space-y-0.5",children:[e.jsx(V,{children:"Active Status"}),e.jsx(Ue,{children:"Set whether this material rate is currently active."})]}),e.jsx(U,{children:e.jsx(ds,{checked:v.value,onCheckedChange:v.onChange})}),e.jsx(z,{})]})}),e.jsxs(Ms,{children:[e.jsx(T,{type:"button",variant:"outline",onClick:()=>s(!1),children:"Cancel"}),e.jsxs(T,{type:"submit",disabled:u.isPending,children:[u.isPending&&e.jsx(Ye,{className:"mr-2 h-4 w-4 animate-spin"}),"Add Material Rate"]})]})]})})]})}),e.jsx(kt,{open:!!n,onOpenChange:v=>!v&&a(null),children:e.jsxs(St,{children:[e.jsxs(Ct,{children:[e.jsx(Pt,{children:"Edit Material Rate"}),e.jsx(Yt,{children:"Update the details for this recycling material rate."})]}),n&&e.jsx(Gt,{...g,children:e.jsxs("form",{onSubmit:g.handleSubmit(p),className:"space-y-4",children:[e.jsx(q,{control:g.control,name:"materialType",render:({field:v})=>e.jsxs(B,{children:[e.jsx(V,{children:"Material Type"}),e.jsx(U,{children:e.jsx($,{placeholder:"e.g., Plastic, Copper",...v})}),e.jsx(Ue,{children:"Enter the type of recycling material."}),e.jsx(z,{})]})}),e.jsx(q,{control:g.control,name:"ratePerKg",render:({field:v})=>e.jsxs(B,{children:[e.jsx(V,{children:"Rate per Kg ()"}),e.jsx(U,{children:e.jsx($,{type:"number",step:"0.01",placeholder:"0.00",...v})}),e.jsx(Ue,{children:"Enter the amount in rupees paid per kilogram."}),e.jsx(z,{})]})}),e.jsx(q,{control:g.control,name:"description",render:({field:v})=>e.jsxs(B,{children:[e.jsx(V,{children:"Description (Optional)"}),e.jsx(U,{children:e.jsx(at,{placeholder:"Optional description",...v})}),e.jsx(Ue,{children:"Provide additional details about this material if needed."}),e.jsx(z,{})]})}),e.jsx(q,{control:g.control,name:"isActive",render:({field:v})=>e.jsxs(B,{className:"flex flex-row items-center justify-between rounded-lg border p-3",children:[e.jsxs("div",{className:"space-y-0.5",children:[e.jsx(V,{children:"Active Status"}),e.jsx(Ue,{children:"Set whether this material rate is currently active."})]}),e.jsx(U,{children:e.jsx(ds,{checked:v.value,onCheckedChange:v.onChange})}),e.jsx(z,{})]})}),e.jsxs(Ms,{children:[e.jsx(T,{type:"button",variant:"outline",onClick:()=>a(null),children:"Cancel"}),e.jsxs(T,{type:"submit",disabled:m.isPending,children:[m.isPending&&e.jsx(Ye,{className:"mr-2 h-4 w-4 animate-spin"}),"Update Material Rate"]})]})]})})]})})]})}const I3e=_.object({name:_.string().min(2,{message:"Category name must be at least 2 characters"}),description:_.string().optional(),icon:_.string().optional(),color:_.string().optional(),imageUrl:_.string().optional(),isActive:_.boolean().default(!0),displayOrder:_.coerce.number().optional()}),R3e=_.object({name:_.string().min(2,{message:"Subcategory name must be at least 2 characters"}),description:_.string().optional(),parentCategoryId:_.coerce.number(),imageUrl:_.string().optional(),isActive:_.boolean().default(!0),displayOrder:_.coerce.number().optional()});function F3e(){const{toast:t}=Be(),[r,s]=j.useState(null),[n,a]=j.useState(null),[i,l]=j.useState(!1),[o,c]=j.useState(!1),[d,u]=j.useState("categories"),[m,h]=j.useState({open:!1,id:null,type:"category"}),[g,f]=j.useState(""),[p,y]=j.useState(!0),[v,x]=j.useState(null),[b,N]=j.useState(null),[w,C]=j.useState(null),[P,S]=j.useState(null),[A,k]=j.useState(!1),I=Ht({resolver:Wt(I3e),defaultValues:{name:"",description:"",icon:"",color:"",isActive:!0,displayOrder:0}}),L=Ht({resolver:Wt(R3e),defaultValues:{name:"",description:"",parentCategoryId:0,isActive:!0,displayOrder:0}}),{data:K,isLoading:R,isError:F}=fe({queryKey:["/api/admin/grocery/categories"]}),{data:W,isLoading:Q,isError:H}=fe({queryKey:["/api/admin/grocery/subcategories"]}),Z=Se({mutationFn:async({id:J,file:Ve})=>{console.log(`Uploading image for category ID: ${J}`);const nt=new FormData;nt.append("categoryImage",Ve);const Jt=await fetch(`/api/admin/grocery/categories/${J}/image`,{method:"POST",body:nt,credentials:"include"});if(console.log(`Upload response status: ${Jt.status}`),!Jt.ok){const pr=await Jt.text();throw console.error("Upload error response:",pr),new Error(`Failed to upload image: ${pr}`)}return Jt.json()},onSuccess:J=>{console.log("Category image upload success:",J),pe.invalidateQueries({queryKey:["/api/admin/grocery/categories"]}),x(null),N(null),k(!1),t({title:"Image uploaded",description:"The category image has been uploaded successfully."})},onError:J=>{console.error("Category image upload error:",J),k(!1),t({title:"Failed to upload image",description:J.message||"An error occurred while uploading the image.",variant:"destructive"})}}),me=Se({mutationFn:async J=>(await le("POST","/api/admin/grocery/categories",J)).json(),onSuccess:J=>{v&&(k(!0),Z.mutate({id:J.id,file:v})),pe.invalidateQueries({queryKey:["/api/admin/grocery/categories"]}),t({title:"Category created",description:"The category has been created successfully."}),I.reset(),x(null),N(null),l(!1)},onError:J=>{t({title:"Failed to create category",description:J.message||"An error occurred while creating the category.",variant:"destructive"})}}),Ne=Se({mutationFn:async({id:J,data:Ve})=>(await le("PATCH",`/api/admin/grocery/categories/${J}`,Ve)).json(),onSuccess:J=>{v&&(k(!0),Z.mutate({id:J.id,file:v})),pe.invalidateQueries({queryKey:["/api/admin/grocery/categories"]}),t({title:"Category updated",description:"The category has been updated successfully."}),I.reset(),x(null),N(null),s(null),l(!1)},onError:J=>{t({title:"Failed to update category",description:J.message||"An error occurred while updating the category.",variant:"destructive"})}}),te=Se({mutationFn:async J=>(await le("DELETE",`/api/admin/grocery/categories/${J}`)).json(),onSuccess:()=>{pe.invalidateQueries({queryKey:["/api/admin/grocery/categories"]}),t({title:"Category deleted",description:"The category has been deleted successfully."}),h({open:!1,id:null,type:"category"})},onError:J=>{t({title:"Failed to delete category",description:J.message||"An error occurred while deleting the category.",variant:"destructive"})}}),Ie=Se({mutationFn:async({id:J,file:Ve})=>{console.log(`Uploading image for subcategory ID: ${J}`);const nt=new FormData;nt.append("subcategoryImage",Ve);const Jt=await fetch(`/api/admin/grocery/subcategories/${J}/image`,{method:"POST",body:nt,credentials:"include"});if(console.log(`Upload response status: ${Jt.status}`),!Jt.ok){const pr=await Jt.text();throw console.error("Upload error response:",pr),new Error(`Failed to upload image: ${pr}`)}return Jt.json()},onSuccess:J=>{console.log("Subcategory image upload success:",J),pe.invalidateQueries({queryKey:["/api/admin/grocery/subcategories"]}),C(null),S(null),k(!1),t({title:"Image uploaded",description:"The subcategory image has been uploaded successfully."})},onError:J=>{console.error("Subcategory image upload error:",J),k(!1),t({title:"Failed to upload image",description:J.message||"An error occurred while uploading the image.",variant:"destructive"})}}),Te=Se({mutationFn:async J=>(await le("POST","/api/admin/grocery/subcategories",J)).json(),onSuccess:J=>{w&&(k(!0),Ie.mutate({id:J.id,file:w})),pe.invalidateQueries({queryKey:["/api/admin/grocery/subcategories"]}),t({title:"Subcategory created",description:"The subcategory has been created successfully."}),L.reset(),C(null),S(null),c(!1)},onError:J=>{t({title:"Failed to create subcategory",description:J.message||"An error occurred while creating the subcategory.",variant:"destructive"})}}),de=Se({mutationFn:async({id:J,data:Ve})=>(await le("PUT",`/api/admin/grocery/subcategories/${J}`,Ve)).json(),onSuccess:J=>{w&&(k(!0),Ie.mutate({id:J.id,file:w})),pe.invalidateQueries({queryKey:["/api/admin/grocery/subcategories"]}),t({title:"Subcategory updated",description:"The subcategory has been updated successfully."}),L.reset(),C(null),S(null),a(null),c(!1)},onError:J=>{t({title:"Failed to update subcategory",description:J.message||"An error occurred while updating the subcategory.",variant:"destructive"})}}),Ee=Se({mutationFn:async J=>(await le("DELETE",`/api/admin/grocery/subcategories/${J}`)).json(),onSuccess:()=>{pe.invalidateQueries({queryKey:["/api/admin/grocery/subcategories"]}),t({title:"Subcategory deleted",description:"The subcategory has been deleted successfully."}),h({open:!1,id:null,type:"subcategory"})},onError:J=>{t({title:"Failed to delete subcategory",description:J.message||"An error occurred while deleting the subcategory.",variant:"destructive"})}}),De=J=>{r?Ne.mutate({id:r.id,data:J}):me.mutate(J)},rt=J=>{n?de.mutate({id:n.id,data:J}):Te.mutate(J)},Me=J=>{s(J),I.reset({name:J.name,description:J.description||"",icon:J.icon||"",color:J.color||"",isActive:J.isActive,displayOrder:J.displayOrder||0}),l(!0)},Ge=J=>{a(J),L.reset({name:J.name,description:J.description||"",parentCategoryId:J.parentCategoryId,isActive:J.isActive,displayOrder:J.displayOrder||0}),c(!0)},Xe=()=>{s(null),I.reset({name:"",description:"",icon:"",color:"",isActive:!0,displayOrder:0}),l(!0)},Ce=()=>{a(null),L.reset({name:"",description:"",parentCategoryId:K&&K.length>0?K[0].id:0,isActive:!0,displayOrder:0}),c(!0)},Ft=J=>{h({open:!0,id:J,type:"category"})},yt=J=>{h({open:!0,id:J,type:"subcategory"})},cr=()=>{m.id!==null&&(m.type==="category"?te.mutate(m.id):Ee.mutate(m.id))},ar=J=>{var nt;const Ve=(nt=J.target.files)==null?void 0:nt[0];if(Ve){x(Ve);const Jt=URL.createObjectURL(Ve);N(Jt)}},Sr=J=>{var nt;const Ve=(nt=J.target.files)==null?void 0:nt[0];if(Ve){C(Ve);const Jt=URL.createObjectURL(Ve);S(Jt)}},re=()=>{x(null),N(null),b&&URL.revokeObjectURL(b)},ee=()=>{C(null),S(null),P&&URL.revokeObjectURL(P)},we=K==null?void 0:K.filter(J=>{var Jt;const Ve=J.name.toLowerCase().includes(g.toLowerCase())||((Jt=J.description)==null?void 0:Jt.toLowerCase().includes(g.toLowerCase()))||!1,nt=!p||J.isActive;return Ve&&nt}),We=W==null?void 0:W.filter(J=>{var pr;const Ve=K==null?void 0:K.find(ua=>ua.id===J.parentCategoryId),nt=J.name.toLowerCase().includes(g.toLowerCase())||((pr=J.description)==null?void 0:pr.toLowerCase().includes(g.toLowerCase()))||!1||(Ve==null?void 0:Ve.name.toLowerCase().includes(g.toLowerCase()))||!1,Jt=!p||J.isActive;return nt&&Jt}),qe=J=>{const Ve=K==null?void 0:K.find(nt=>nt.id===J);return Ve?Ve.name:"Unknown"};return e.jsxs("div",{className:"container mx-auto px-4 py-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold",children:"Grocery Categories Management"}),e.jsx("p",{className:"text-muted-foreground",children:"Manage categories and subcategories for grocery products"})]}),e.jsxs("div",{className:"flex space-x-2",children:[e.jsx(T,{variant:d==="categories"?"default":"outline",onClick:()=>u("categories"),children:"Categories"}),e.jsx(T,{variant:d==="subcategories"?"default":"outline",onClick:()=>u("subcategories"),children:"Subcategories"})]})]}),e.jsxs("div",{className:"mb-6 flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:[e.jsxs("div",{className:"relative w-full sm:w-auto flex-1 max-w-sm",children:[e.jsx(es,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground"}),e.jsx($,{placeholder:"Search...",className:"pl-10",value:g,onChange:J=>f(J.target.value)})]}),e.jsxs("div",{className:"flex items-center space-x-4 w-full sm:w-auto",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ds,{id:"active-filter",checked:p,onCheckedChange:y}),e.jsx("label",{htmlFor:"active-filter",className:"text-sm cursor-pointer",children:"Show active only"})]}),e.jsxs(T,{onClick:d==="categories"?Xe:Ce,className:"ml-auto",children:[e.jsx(Rt,{className:"mr-2 h-4 w-4"}),"Add ",d==="categories"?"Category":"Subcategory"]})]})]}),d==="categories"?e.jsxs(E,{children:[e.jsxs(Y,{children:[e.jsx(X,{children:"Categories"}),e.jsx(he,{children:"Manage grocery product categories"})]}),e.jsx(D,{children:R?e.jsxs("div",{className:"flex justify-center items-center py-8",children:[e.jsx(Ye,{className:"h-8 w-8 animate-spin text-muted-foreground"}),e.jsx("span",{className:"ml-2 text-muted-foreground",children:"Loading categories..."})]}):F?e.jsxs("div",{className:"flex justify-center items-center py-8 text-destructive",children:[e.jsx(nr,{className:"h-6 w-6 mr-2"}),"Failed to load categories"]}):e.jsx("div",{className:"rounded-md border",children:e.jsxs(Ur,{children:[e.jsx(qr,{children:e.jsxs(mt,{children:[e.jsx(xe,{className:"w-12 text-center",children:"#"}),e.jsx(xe,{children:"Name"}),e.jsx(xe,{className:"hidden md:table-cell",children:"Description"}),e.jsx(xe,{className:"hidden md:table-cell",children:"Icon"}),e.jsx(xe,{className:"text-center",children:"Status"}),e.jsx(xe,{className:"text-center",children:"Order"}),e.jsx(xe,{className:"text-right",children:"Actions"})]})}),e.jsx(zr,{children:we&&we.length>0?we.map((J,Ve)=>e.jsxs(mt,{children:[e.jsx(ne,{className:"text-center font-medium",children:Ve+1}),e.jsx(ne,{className:"font-medium",children:J.name}),e.jsx(ne,{className:"hidden md:table-cell",children:J.description||"-"}),e.jsx(ne,{className:"hidden md:table-cell",children:J.icon||"-"}),e.jsx(ne,{className:"text-center",children:e.jsx(ae,{variant:J.isActive?"default":"outline",children:J.isActive?"Active":"Inactive"})}),e.jsx(ne,{className:"text-center",children:J.displayOrder||"-"}),e.jsx(ne,{className:"text-right",children:e.jsxs("div",{className:"flex justify-end gap-2",children:[e.jsx(T,{variant:"outline",size:"icon",onClick:()=>Me(J),children:e.jsx(Yg,{className:"h-4 w-4"})}),e.jsx(T,{variant:"destructive",size:"icon",onClick:()=>Ft(J.id),children:e.jsx(Er,{className:"h-4 w-4"})})]})})]},J.id)):e.jsx(mt,{children:e.jsx(ne,{colSpan:7,className:"text-center py-6 text-muted-foreground",children:g||!p?"No categories match your search":"No categories found"})})})]})})})]}):e.jsxs(E,{children:[e.jsxs(Y,{children:[e.jsx(X,{children:"Subcategories"}),e.jsx(he,{children:"Manage grocery product subcategories"})]}),e.jsx(D,{children:Q?e.jsxs("div",{className:"flex justify-center items-center py-8",children:[e.jsx(Ye,{className:"h-8 w-8 animate-spin text-muted-foreground"}),e.jsx("span",{className:"ml-2 text-muted-foreground",children:"Loading subcategories..."})]}):H?e.jsxs("div",{className:"flex justify-center items-center py-8 text-destructive",children:[e.jsx(nr,{className:"h-6 w-6 mr-2"}),"Failed to load subcategories"]}):e.jsx("div",{className:"rounded-md border",children:e.jsxs(Ur,{children:[e.jsx(qr,{children:e.jsxs(mt,{children:[e.jsx(xe,{className:"w-12 text-center",children:"#"}),e.jsx(xe,{children:"Name"}),e.jsx(xe,{className:"hidden md:table-cell",children:"Description"}),e.jsx(xe,{children:"Parent Category"}),e.jsx(xe,{className:"text-center",children:"Status"}),e.jsx(xe,{className:"text-center",children:"Order"}),e.jsx(xe,{className:"text-right",children:"Actions"})]})}),e.jsx(zr,{children:We&&We.length>0?We.map((J,Ve)=>e.jsxs(mt,{children:[e.jsx(ne,{className:"text-center font-medium",children:Ve+1}),e.jsx(ne,{className:"font-medium",children:J.name}),e.jsx(ne,{className:"hidden md:table-cell",children:J.description||"-"}),e.jsx(ne,{children:qe(J.parentCategoryId)}),e.jsx(ne,{className:"text-center",children:e.jsx(ae,{variant:J.isActive?"default":"outline",children:J.isActive?"Active":"Inactive"})}),e.jsx(ne,{className:"text-center",children:J.displayOrder||"-"}),e.jsx(ne,{className:"text-right",children:e.jsxs("div",{className:"flex justify-end gap-2",children:[e.jsx(T,{variant:"outline",size:"icon",onClick:()=>Ge(J),children:e.jsx(Yg,{className:"h-4 w-4"})}),e.jsx(T,{variant:"destructive",size:"icon",onClick:()=>yt(J.id),children:e.jsx(Er,{className:"h-4 w-4"})})]})})]},J.id)):e.jsx(mt,{children:e.jsx(ne,{colSpan:7,className:"text-center py-6 text-muted-foreground",children:g||!p?"No subcategories match your search":"No subcategories found"})})})]})})})]}),e.jsx(kt,{open:i,onOpenChange:l,children:e.jsxs(St,{className:"sm:max-w-md",children:[e.jsxs(Ct,{children:[e.jsx(Pt,{children:r?"Edit Category":"Create Category"}),e.jsx(Yt,{children:r?"Update the existing category details":"Add a new grocery product category"})]}),e.jsx(Gt,{...I,children:e.jsxs("form",{onSubmit:I.handleSubmit(De),className:"space-y-4",children:[e.jsx(q,{control:I.control,name:"name",render:({field:J})=>e.jsxs(B,{children:[e.jsx(V,{children:"Category Name"}),e.jsx(U,{children:e.jsx($,{placeholder:"e.g., Vegetables, Fruits",...J})}),e.jsx(z,{})]})}),e.jsx(q,{control:I.control,name:"description",render:({field:J})=>e.jsxs(B,{children:[e.jsx(V,{children:"Description"}),e.jsx(U,{children:e.jsx(at,{placeholder:"Brief description of the category",...J,value:J.value||""})}),e.jsx(z,{})]})}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsx(q,{control:I.control,name:"icon",render:({field:J})=>e.jsxs(B,{children:[e.jsx(V,{children:"Icon"}),e.jsx(U,{children:e.jsx($,{placeholder:"e.g., , ",...J,value:J.value||""})}),e.jsx(Ue,{children:"Use emoji or icon code"}),e.jsx(z,{})]})}),e.jsx(q,{control:I.control,name:"color",render:({field:J})=>e.jsxs(B,{children:[e.jsx(V,{children:"Color Class"}),e.jsx(U,{children:e.jsx($,{placeholder:"e.g., bg-green-100",...J,value:J.value||""})}),e.jsx(Ue,{children:"CSS class for styling"}),e.jsx(z,{})]})})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(se,{htmlFor:"categoryImage",children:"Category Image"}),e.jsxs("div",{className:"flex flex-col gap-4",children:[b?e.jsxs("div",{className:"relative w-full max-w-[200px] h-[150px] rounded-md overflow-hidden",children:[e.jsx("img",{src:b,alt:"Category preview",className:"w-full h-full object-cover"}),e.jsx(T,{type:"button",variant:"destructive",size:"icon",className:"absolute top-2 right-2 h-6 w-6",onClick:re,children:e.jsx(Er,{className:"h-4 w-4"})})]}):r!=null&&r.imageUrl?e.jsxs("div",{className:"relative w-full max-w-[200px] h-[150px] rounded-md overflow-hidden",children:[e.jsx("img",{src:r.imageUrl,alt:"Category image",className:"w-full h-full object-cover"}),e.jsx(T,{type:"button",variant:"destructive",size:"icon",className:"absolute top-2 right-2 h-6 w-6",onClick:re,children:e.jsx(Er,{className:"h-4 w-4"})})]}):e.jsx("div",{className:"flex items-center justify-center border-2 border-dashed border-gray-300 rounded-md p-4 h-[150px] max-w-[200px]",children:e.jsxs("div",{className:"space-y-1 text-center",children:[e.jsx(p_,{className:"mx-auto h-12 w-12 text-gray-400"}),e.jsx("div",{className:"text-sm text-gray-500",children:"No image uploaded"})]})}),e.jsxs("div",{children:[e.jsx($,{id:"categoryImage",type:"file",accept:"image/*",onChange:ar,className:"max-w-[300px]"}),e.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"Upload a JPG, PNG, or GIF image (max 2MB)"})]})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsx(q,{control:I.control,name:"displayOrder",render:({field:J})=>e.jsxs(B,{children:[e.jsx(V,{children:"Display Order"}),e.jsx(U,{children:e.jsx($,{type:"number",...J,value:J.value===void 0?"0":J.value.toString(),onChange:Ve=>J.onChange(parseInt(Ve.target.value)||0)})}),e.jsx(Ue,{children:"Order of appearance (lower first)"}),e.jsx(z,{})]})}),e.jsx(q,{control:I.control,name:"isActive",render:({field:J})=>e.jsxs(B,{className:"flex flex-row items-end space-x-3 space-y-0 rounded-md border p-4",children:[e.jsx(U,{children:e.jsx(ds,{checked:J.value,onCheckedChange:J.onChange})}),e.jsxs("div",{className:"space-y-1 leading-none",children:[e.jsx(V,{children:"Active"}),e.jsx(Ue,{children:"Show this category to users"})]})]})})]}),e.jsx(Ms,{children:e.jsxs(T,{type:"submit",disabled:me.isPending||Ne.isPending,children:[(me.isPending||Ne.isPending)&&e.jsx(Ye,{className:"mr-2 h-4 w-4 animate-spin"}),r?"Update Category":"Create Category"]})})]})})]})}),e.jsx(kt,{open:o,onOpenChange:c,children:e.jsxs(St,{className:"sm:max-w-md",children:[e.jsxs(Ct,{children:[e.jsx(Pt,{children:n?"Edit Subcategory":"Create Subcategory"}),e.jsx(Yt,{children:n?"Update the existing subcategory details":"Add a new grocery product subcategory"})]}),e.jsx(Gt,{...L,children:e.jsxs("form",{onSubmit:L.handleSubmit(rt),className:"space-y-4",children:[e.jsx(q,{control:L.control,name:"name",render:({field:J})=>e.jsxs(B,{children:[e.jsx(V,{children:"Subcategory Name"}),e.jsx(U,{children:e.jsx($,{placeholder:"e.g., Leafy Vegetables, Exotic Fruits",...J})}),e.jsx(z,{})]})}),e.jsx(q,{control:L.control,name:"description",render:({field:J})=>e.jsxs(B,{children:[e.jsx(V,{children:"Description"}),e.jsx(U,{children:e.jsx(at,{placeholder:"Brief description of the subcategory",...J,value:J.value||""})}),e.jsx(z,{})]})}),e.jsx(q,{control:L.control,name:"parentCategoryId",render:({field:J})=>{var Ve;return e.jsxs(B,{children:[e.jsx(V,{children:"Parent Category"}),e.jsxs(je,{onValueChange:nt=>J.onChange(parseInt(nt)),defaultValue:((Ve=J.value)==null?void 0:Ve.toString())||"",children:[e.jsx(U,{children:e.jsx(ge,{children:e.jsx(be,{placeholder:"Select a parent category"})})}),e.jsx(ve,{children:K==null?void 0:K.map(nt=>e.jsx(O,{value:nt.id.toString(),children:nt.name},nt.id))})]}),e.jsx(z,{})]})}}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(se,{htmlFor:"subcategoryImage",children:"Subcategory Image"}),e.jsxs("div",{className:"flex flex-col gap-4",children:[P?e.jsxs("div",{className:"relative w-full max-w-[200px] h-[150px] rounded-md overflow-hidden",children:[e.jsx("img",{src:P,alt:"Subcategory preview",className:"w-full h-full object-cover"}),e.jsx(T,{type:"button",variant:"destructive",size:"icon",className:"absolute top-2 right-2 h-6 w-6",onClick:ee,children:e.jsx(Er,{className:"h-4 w-4"})})]}):n!=null&&n.imageUrl?e.jsxs("div",{className:"relative w-full max-w-[200px] h-[150px] rounded-md overflow-hidden",children:[e.jsx("img",{src:n.imageUrl,alt:"Subcategory image",className:"w-full h-full object-cover"}),e.jsx(T,{type:"button",variant:"destructive",size:"icon",className:"absolute top-2 right-2 h-6 w-6",onClick:ee,children:e.jsx(Er,{className:"h-4 w-4"})})]}):e.jsx("div",{className:"flex items-center justify-center border-2 border-dashed border-gray-300 rounded-md p-4 h-[150px] max-w-[200px]",children:e.jsxs("div",{className:"space-y-1 text-center",children:[e.jsx(p_,{className:"mx-auto h-12 w-12 text-gray-400"}),e.jsx("div",{className:"text-sm text-gray-500",children:"No image uploaded"})]})}),e.jsxs("div",{children:[e.jsx($,{id:"subcategoryImage",type:"file",accept:"image/*",onChange:Sr,className:"max-w-[300px]"}),e.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"Upload a JPG, PNG, or GIF image (max 2MB)"})]})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsx(q,{control:L.control,name:"displayOrder",render:({field:J})=>e.jsxs(B,{children:[e.jsx(V,{children:"Display Order"}),e.jsx(U,{children:e.jsx($,{type:"number",...J,value:J.value===void 0?"0":J.value.toString(),onChange:Ve=>J.onChange(parseInt(Ve.target.value)||0)})}),e.jsx(Ue,{children:"Order of appearance (lower first)"}),e.jsx(z,{})]})}),e.jsx(q,{control:L.control,name:"isActive",render:({field:J})=>e.jsxs(B,{className:"flex flex-row items-end space-x-3 space-y-0 rounded-md border p-4",children:[e.jsx(U,{children:e.jsx(ds,{checked:J.value,onCheckedChange:J.onChange})}),e.jsxs("div",{className:"space-y-1 leading-none",children:[e.jsx(V,{children:"Active"}),e.jsx(Ue,{children:"Show this subcategory to users"})]})]})})]}),e.jsx(Ms,{children:e.jsxs(T,{type:"submit",disabled:Te.isPending||de.isPending,children:[(Te.isPending||de.isPending)&&e.jsx(Ye,{className:"mr-2 h-4 w-4 animate-spin"}),n?"Update Subcategory":"Create Subcategory"]})})]})})]})}),e.jsx(kt,{open:m.open,onOpenChange:J=>h({...m,open:J}),children:e.jsxs(St,{className:"sm:max-w-md",children:[e.jsxs(Ct,{children:[e.jsx(Pt,{children:"Confirm Deletion"}),e.jsxs(Yt,{children:["Are you sure you want to delete this ",m.type,"? This action cannot be undone."]})]}),e.jsxs(Ms,{className:"gap-2 sm:gap-0",children:[e.jsx(T,{variant:"outline",onClick:()=>h({open:!1,id:null,type:"category"}),children:"Cancel"}),e.jsxs(T,{variant:"destructive",onClick:cr,disabled:te.isPending||Ee.isPending,children:[(te.isPending||Ee.isPending)&&e.jsx(Ye,{className:"mr-2 h-4 w-4 animate-spin"}),"Delete"]})]})]})})]})}var _H="AlertDialog",[$3e,jFe]=rn(_H,[D8]),Tl=D8(),TH=t=>{const{__scopeAlertDialog:r,...s}=t,n=Tl(r);return e.jsx(OC,{...n,...s,modal:!0})};TH.displayName=_H;var L3e="AlertDialogTrigger",B3e=j.forwardRef((t,r)=>{const{__scopeAlertDialog:s,...n}=t,a=Tl(s);return e.jsx(EC,{...a,...n,ref:r})});B3e.displayName=L3e;var V3e="AlertDialogPortal",OH=t=>{const{__scopeAlertDialog:r,...s}=t,n=Tl(r);return e.jsx(DC,{...n,...s})};OH.displayName=V3e;var U3e="AlertDialogOverlay",EH=j.forwardRef((t,r)=>{const{__scopeAlertDialog:s,...n}=t,a=Tl(s);return e.jsx(Cf,{...a,...n,ref:r})});EH.displayName=U3e;var Kd="AlertDialogContent",[q3e,z3e]=$3e(Kd),DH=j.forwardRef((t,r)=>{const{__scopeAlertDialog:s,children:n,...a}=t,i=Tl(s),l=j.useRef(null),o=Lt(r,l),c=j.useRef(null);return e.jsx(gse,{contentName:Kd,titleName:MH,docsSlug:"alert-dialog",children:e.jsx(q3e,{scope:s,cancelRef:c,children:e.jsxs(Pf,{role:"alertdialog",...i,...a,ref:o,onOpenAutoFocus:He(a.onOpenAutoFocus,d=>{var u;d.preventDefault(),(u=c.current)==null||u.focus({preventScroll:!0})}),onPointerDownOutside:d=>d.preventDefault(),onInteractOutside:d=>d.preventDefault(),children:[e.jsx(_F,{children:n}),e.jsx(H3e,{contentRef:l})]})})})});DH.displayName=Kd;var MH="AlertDialogTitle",IH=j.forwardRef((t,r)=>{const{__scopeAlertDialog:s,...n}=t,a=Tl(s);return e.jsx(kf,{...a,...n,ref:r})});IH.displayName=MH;var RH="AlertDialogDescription",FH=j.forwardRef((t,r)=>{const{__scopeAlertDialog:s,...n}=t,a=Tl(s);return e.jsx(Af,{...a,...n,ref:r})});FH.displayName=RH;var K3e="AlertDialogAction",$H=j.forwardRef((t,r)=>{const{__scopeAlertDialog:s,...n}=t,a=Tl(s);return e.jsx(_f,{...a,...n,ref:r})});$H.displayName=K3e;var LH="AlertDialogCancel",BH=j.forwardRef((t,r)=>{const{__scopeAlertDialog:s,...n}=t,{cancelRef:a}=z3e(LH,s),i=Tl(s),l=Lt(r,a);return e.jsx(_f,{...i,...n,ref:l})});BH.displayName=LH;var H3e=({contentRef:t})=>{const r=`\`${Kd}\` requires a description for the component to be accessible for screen reader users.

You can add a description to the \`${Kd}\` by passing a \`${RH}\` component as a child, which also benefits sighted users by adding visible context to the dialog.

Alternatively, you can use your own component as a description by assigning it an \`id\` and passing the same value to the \`aria-describedby\` prop in \`${Kd}\`. If the description is confusing or duplicative for sighted users, you can use the \`@radix-ui/react-visually-hidden\` primitive as a wrapper around your description component.

For more information, see https://radix-ui.com/primitives/docs/components/alert-dialog`;return j.useEffect(()=>{var n;document.getElementById((n=t.current)==null?void 0:n.getAttribute("aria-describedby"))||console.warn(r)},[r,t]),null},W3e=TH,G3e=OH,VH=EH,UH=DH,qH=$H,zH=BH,KH=IH,HH=FH;const LD=W3e,Y3e=G3e,WH=j.forwardRef(({className:t,...r},s)=>e.jsx(VH,{className:Oe("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...r,ref:s}));WH.displayName=VH.displayName;const BS=j.forwardRef(({className:t,...r},s)=>e.jsxs(Y3e,{children:[e.jsx(WH,{}),e.jsx(UH,{ref:s,className:Oe("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",t),...r})]}));BS.displayName=UH.displayName;const VS=({className:t,...r})=>e.jsx("div",{className:Oe("flex flex-col space-y-2 text-center sm:text-left",t),...r});VS.displayName="AlertDialogHeader";const US=({className:t,...r})=>e.jsx("div",{className:Oe("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",t),...r});US.displayName="AlertDialogFooter";const qS=j.forwardRef(({className:t,...r},s)=>e.jsx(KH,{ref:s,className:Oe("text-lg font-semibold",t),...r}));qS.displayName=KH.displayName;const zS=j.forwardRef(({className:t,...r},s)=>e.jsx(HH,{ref:s,className:Oe("text-sm text-muted-foreground",t),...r}));zS.displayName=HH.displayName;const KS=j.forwardRef(({className:t,...r},s)=>e.jsx(qH,{ref:s,className:Oe(bp(),t),...r}));KS.displayName=qH.displayName;const HS=j.forwardRef(({className:t,...r},s)=>e.jsx(zH,{ref:s,className:Oe(bp({variant:"outline"}),"mt-2 sm:mt-0",t),...r}));HS.displayName=zH.displayName;const Q3e=_.object({name:_.string().min(3,{message:"Name must be at least 3 characters"}),description:_.string().min(10,{message:"Description must be at least 10 characters"}),category:_.string().min(1,{message:"Category is required"}),subcategory:_.string().optional(),categoryId:_.number().optional(),subcategoryId:_.number().optional(),price:_.coerce.number().min(.01,{message:"Price must be greater than 0"}),discountedPrice:_.coerce.number().min(0).optional(),farmerId:_.number().optional(),stock:_.coerce.number().min(0,{message:"Stock must be 0 or greater"}),unit:_.string().min(1,{message:"Unit is required"}),isOrganic:_.boolean().default(!1),district:_.string().min(1,{message:"District is required"}),imageUrl:_.string().optional(),deliveryOption:_.string().default("both"),availableAreas:_.string().optional(),status:_.string().default("active")});function X3e(){var me,Ne;const{toast:t}=Be(),{user:r}=dt(),[s,n]=j.useState(!1),[a,i]=j.useState(!1),[l,o]=j.useState(null),[c,d]=j.useState(!1),[u,m]=j.useState(null),[h,g]=j.useState(null),[f,p]=j.useState(null),y=(r==null?void 0:r.userType)==="admin",{data:v,isLoading:x,error:b,isError:N}=fe({queryKey:["/api/admin/grocery/products",u,h],queryFn:async()=>{try{let te="/api/admin/grocery/products";const Ie=new URLSearchParams;u&&Ie.append("status",u),h&&Ie.append("category",h);const Te=Ie.toString();Te&&(te+=`?${Te}`),console.log("DEBUG: Fetching products from:",te);const de=await fetch(te,{credentials:"include"});if(console.log("DEBUG: Response status:",de.status),!de.ok){const De=await de.text();throw console.error("DEBUG: API Error:",De),new Error(`Failed to fetch products: ${De}`)}const Ee=await de.json();return console.log("DEBUG: Products response data:",Ee),console.log("DEBUG: Products response type:",typeof Ee),console.log("DEBUG: Is response array?",Array.isArray(Ee)),Array.isArray(Ee)&&Ee.length>0?console.log("DEBUG: First product:",Ee[0]):console.log("DEBUG: Empty products array or not an array"),Ee}catch(te){throw console.error("DEBUG: Error in queryFn:",te),te}},retry:!1}),{data:w}=fe({queryKey:["/api/admin/grocery/categories"],queryFn:async()=>{const te=await fetch("/api/admin/grocery/categories",{credentials:"include"});if(!te.ok)throw new Error("Failed to fetch categories");return te.json()}}),[C,P]=j.useState(null),{data:S}=fe({queryKey:["/api/admin/grocery/subcategories",C],queryFn:async()=>{if(!C)return[];const te=await fetch(`/api/admin/grocery/subcategories?parentCategoryId=${C}`,{credentials:"include"});if(!te.ok)throw new Error("Failed to fetch subcategories");return te.json()},enabled:!!C}),A=Ht({resolver:Wt(Q3e),defaultValues:{name:"",description:"",category:"",price:0,stock:0,unit:"kg",isOrganic:!1,district:"",deliveryOption:"both",status:"active"}});j.useEffect(()=>{c&&l?(A.reset({name:l.name,description:l.description,category:l.category,subcategory:l.subcategory,categoryId:l.categoryId,subcategoryId:l.subcategoryId,price:l.price,discountedPrice:l.discountedPrice,farmerId:l.farmerId,stock:l.stock,unit:l.unit,isOrganic:l.isOrganic,district:l.district,imageUrl:l.imageUrl,deliveryOption:l.deliveryOption,availableAreas:l.availableAreas,status:l.status}),l.categoryId&&P(l.categoryId),p(null)):c||(A.reset(),P(null),p(null))},[c,l,A]);const k=Se({mutationFn:async te=>{if(f){const Te=new FormData;Te.append("productData",JSON.stringify(te)),Te.append("productImage",f);const de=await fetch("/api/admin/grocery/products/with-image",{method:"POST",credentials:"include",body:Te});if(!de.ok){const Ee=await de.text();throw new Error(Ee||"Failed to create product")}return de.json()}return(await le("POST","/api/admin/grocery/products",te)).json()},onSuccess:()=>{t({title:"Product created",description:"The product has been created successfully"}),pe.invalidateQueries({queryKey:["/api/admin/grocery/products"]}),d(!1)},onError:te=>{t({title:"Failed to create product",description:te.message||"Something went wrong",variant:"destructive"})}}),I=Se({mutationFn:async({id:te,data:Ie})=>{if(f){const de=new FormData;de.append("productData",JSON.stringify(Ie)),de.append("productImage",f);const Ee=await fetch(`/api/admin/grocery/products/${te}/with-image`,{method:"PUT",credentials:"include",body:de});if(!Ee.ok){const De=await Ee.text();throw new Error(De||"Failed to update product")}return Ee.json()}return(await le("PUT",`/api/admin/grocery/products/${te}`,Ie)).json()},onSuccess:()=>{t({title:"Product updated",description:"The product has been updated successfully"}),pe.invalidateQueries({queryKey:["/api/admin/grocery/products"]}),d(!1)},onError:te=>{t({title:"Failed to update product",description:te.message||"Something went wrong",variant:"destructive"})}}),L=Se({mutationFn:async te=>(await le("DELETE",`/api/admin/grocery/products/${te}`)).json(),onSuccess:()=>{t({title:"Product deleted",description:"The product has been deleted successfully"}),pe.invalidateQueries({queryKey:["/api/admin/grocery/products"]}),n(!1)},onError:te=>{t({title:"Failed to delete product",description:te.message||"Something went wrong",variant:"destructive"})}}),K=Se({mutationFn:async()=>(await le("DELETE","/api/admin/grocery/products-all")).json(),onSuccess:()=>{t({title:"All products deleted",description:"All grocery products have been successfully removed"}),typeof window<"u"&&localStorage.removeItem("groceryCart"),pe.invalidateQueries({queryKey:["/api/admin/grocery/products"]}),i(!1)},onError:te=>{t({title:"Failed to delete all products",description:te.message||"Something went wrong",variant:"destructive"})}}),R=te=>{l?I.mutate({id:l.id,data:te}):k.mutate(te)},[,F]=xr(),W=()=>{F("/admin/grocery/products-new")},Q=te=>{o(te),d(!0)},H=te=>{o(te),n(!0)},Z=te=>{A.setValue("category",te);const Ie=w==null?void 0:w.find(Te=>Te.id.toString()===te);Ie&&(P(Ie.id),A.setValue("categoryId",Ie.id))};return e.jsx("div",{className:"container mx-auto px-4 py-6",children:y?e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold",children:"Grocery Products Management"}),e.jsx("p",{className:"text-muted-foreground",children:"Manage grocery products inventory"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs(T,{variant:"destructive",onClick:()=>i(!0),disabled:(v==null?void 0:v.length)===0,children:[e.jsx(d$,{className:"mr-2 h-4 w-4"})," Remove All Products"]}),e.jsxs(T,{onClick:W,children:[e.jsx(Rt,{className:"mr-2 h-4 w-4"})," Add Product"]})]})]}),e.jsxs(E,{className:"mb-6",children:[e.jsx(Y,{children:e.jsx(X,{children:"Filter Products"})}),e.jsx(D,{children:e.jsxs("div",{className:"flex flex-wrap gap-4",children:[e.jsxs("div",{className:"flex flex-col space-y-1.5",children:[e.jsx(se,{htmlFor:"status",children:"Status"}),e.jsxs(je,{value:u||"all-statuses",onValueChange:te=>m(te==="all-statuses"?null:te),children:[e.jsx(ge,{className:"w-[200px]",children:e.jsx(be,{placeholder:"All statuses"})}),e.jsxs(ve,{children:[e.jsx(O,{value:"all-statuses",children:"All statuses"}),e.jsx(O,{value:"active",children:"Active"}),e.jsx(O,{value:"inactive",children:"Inactive"}),e.jsx(O,{value:"pending",children:"Pending"})]})]})]}),e.jsxs("div",{className:"flex flex-col space-y-1.5",children:[e.jsx(se,{htmlFor:"category",children:"Category"}),e.jsxs(je,{value:h||"all-categories",onValueChange:te=>g(te==="all-categories"?null:te),children:[e.jsx(ge,{className:"w-[200px]",children:e.jsx(be,{placeholder:"All categories"})}),e.jsxs(ve,{children:[e.jsx(O,{value:"all-categories",children:"All categories"}),w==null?void 0:w.map(te=>e.jsx(O,{value:te.name,children:te.name},te.id))]})]})]})]})})]}),e.jsxs(E,{children:[e.jsxs(Y,{children:[e.jsx(X,{children:"Grocery Products"}),e.jsx(he,{children:"Manage your grocery products inventory"})]}),e.jsx(D,{children:x?e.jsx("div",{className:"flex justify-center items-center py-10",children:e.jsx(Ye,{className:"h-8 w-8 animate-spin text-primary"})}):b?e.jsxs("div",{className:"flex justify-center items-center py-10 flex-col",children:[e.jsx(nr,{className:"h-8 w-8 text-destructive mb-2"}),e.jsx("p",{className:"text-center text-muted-foreground",children:"Failed to load products. Please try again."}),e.jsx("div",{className:"mt-4 p-4 bg-red-50 text-red-900 rounded-md max-w-2xl overflow-auto text-sm",children:e.jsx("pre",{className:"whitespace-pre-wrap",children:e.jsx("code",{children:b.toString()})})})]}):(v==null?void 0:v.length)===0?e.jsxs("div",{className:"flex justify-center items-center py-10 flex-col",children:[e.jsx(pt,{className:"h-8 w-8 text-muted-foreground mb-2"}),e.jsx("p",{className:"text-center text-muted-foreground",children:"No products found."}),e.jsx(T,{variant:"outline",className:"mt-4",onClick:W,children:"Add your first product"})]}):e.jsx("div",{className:"rounded-md border",children:e.jsxs(Ur,{children:[e.jsx(qr,{children:e.jsxs(mt,{children:[e.jsx(xe,{children:"Name"}),e.jsx(xe,{children:"Category"}),e.jsx(xe,{children:"Price"}),e.jsx(xe,{children:"Stock"}),e.jsx(xe,{children:"Status"}),e.jsx(xe,{className:"text-right",children:"Actions"})]})}),e.jsx(zr,{children:v==null?void 0:v.map(te=>e.jsxs(mt,{children:[e.jsx(ne,{className:"font-medium",children:te.name}),e.jsx(ne,{children:te.category}),e.jsx(ne,{children:te.discountedPrice?e.jsxs("div",{children:[e.jsxs("span",{className:"line-through text-muted-foreground",children:["",te.price.toFixed(2)]}),e.jsxs("span",{className:"ml-2 font-medium",children:["",te.discountedPrice.toFixed(2)]})]}):e.jsxs("span",{children:["",te.price.toFixed(2)]})}),e.jsxs(ne,{children:[te.stock," ",te.unit]}),e.jsx(ne,{children:e.jsx("span",{className:`px-2 py-1 rounded-full text-xs ${te.status==="active"?"bg-green-100 text-green-800":te.status==="pending"?"bg-yellow-100 text-yellow-800":"bg-red-100 text-red-800"}`,children:te.status.charAt(0).toUpperCase()+te.status.slice(1)})}),e.jsx(ne,{className:"text-right",children:e.jsxs("div",{className:"flex justify-end space-x-2",children:[e.jsx(T,{variant:"ghost",size:"icon",onClick:()=>Q(te),children:e.jsx(Gr,{className:"h-4 w-4"})}),e.jsx(T,{variant:"ghost",size:"icon",onClick:()=>H(te),children:e.jsx(Er,{className:"h-4 w-4"})})]})})]},te.id))})]})})})]}),e.jsx(kt,{open:c,onOpenChange:d,children:e.jsxs(St,{className:"max-w-2xl max-h-[90vh] overflow-y-auto",children:[e.jsxs(Ct,{children:[e.jsx(Pt,{children:l?"Edit Product":"Add New Product"}),e.jsx(Yt,{children:l?"Update the details of an existing product":"Fill in the details to add a new product"})]}),e.jsxs("form",{onSubmit:A.handleSubmit(R),className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(se,{htmlFor:"name",children:"Product Name"}),e.jsx($,{id:"name",placeholder:"Enter product name",...A.register("name")}),A.formState.errors.name&&e.jsx("p",{className:"text-sm text-destructive",children:A.formState.errors.name.message})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(se,{htmlFor:"category",children:"Category"}),e.jsxs(je,{value:((me=A.watch("categoryId"))==null?void 0:me.toString())||"",onValueChange:Z,children:[e.jsx(ge,{children:e.jsx(be,{placeholder:"Select a category"})}),e.jsx(ve,{children:w==null?void 0:w.map(te=>e.jsx(O,{value:te.id.toString(),children:te.name},te.id))})]}),A.formState.errors.category&&e.jsx("p",{className:"text-sm text-destructive",children:A.formState.errors.category.message})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(se,{htmlFor:"subcategory",children:"Subcategory"}),e.jsxs(je,{value:((Ne=A.watch("subcategoryId"))==null?void 0:Ne.toString())||"",onValueChange:te=>{A.setValue("subcategoryId",Number(te));const Ie=S==null?void 0:S.find(Te=>Te.id.toString()===te);Ie&&A.setValue("subcategory",Ie.name)},disabled:!C||!(S!=null&&S.length),children:[e.jsx(ge,{children:e.jsx(be,{placeholder:"Select a subcategory"})}),e.jsx(ve,{children:S==null?void 0:S.map(te=>e.jsx(O,{value:te.id.toString(),children:te.name},te.id))})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(se,{htmlFor:"price",children:"Price ()"}),e.jsx($,{id:"price",type:"number",step:"0.01",placeholder:"Enter price",...A.register("price")}),A.formState.errors.price&&e.jsx("p",{className:"text-sm text-destructive",children:A.formState.errors.price.message})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(se,{htmlFor:"discountedPrice",children:"Discounted Price () (Optional)"}),e.jsx($,{id:"discountedPrice",type:"number",step:"0.01",placeholder:"Enter discounted price",...A.register("discountedPrice")}),A.formState.errors.discountedPrice&&e.jsx("p",{className:"text-sm text-destructive",children:A.formState.errors.discountedPrice.message})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(se,{htmlFor:"stock",children:"Stock"}),e.jsx($,{id:"stock",type:"number",placeholder:"Enter available stock",...A.register("stock")}),A.formState.errors.stock&&e.jsx("p",{className:"text-sm text-destructive",children:A.formState.errors.stock.message})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(se,{htmlFor:"unit",children:"Unit"}),e.jsxs(je,{value:A.watch("unit"),onValueChange:te=>A.setValue("unit",te),children:[e.jsx(ge,{children:e.jsx(be,{placeholder:"Select unit"})}),e.jsxs(ve,{children:[e.jsx(O,{value:"kg",children:"Kilogram (kg)"}),e.jsx(O,{value:"g",children:"Gram (g)"}),e.jsx(O,{value:"l",children:"Liter (l)"}),e.jsx(O,{value:"ml",children:"Milliliter (ml)"}),e.jsx(O,{value:"pcs",children:"Pieces (pcs)"}),e.jsx(O,{value:"box",children:"Box"}),e.jsx(O,{value:"pack",children:"Pack"}),e.jsx(O,{value:"dozen",children:"Dozen"})]})]}),A.formState.errors.unit&&e.jsx("p",{className:"text-sm text-destructive",children:A.formState.errors.unit.message})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(se,{htmlFor:"district",children:"District"}),e.jsx($,{id:"district",placeholder:"Enter source district",...A.register("district")}),A.formState.errors.district&&e.jsx("p",{className:"text-sm text-destructive",children:A.formState.errors.district.message})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(se,{htmlFor:"imageUpload",children:"Product Image"}),e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsxs("div",{className:"grid w-full max-w-sm items-center gap-1.5",children:[e.jsx($,{id:"imageUpload",type:"file",accept:"image/*",onChange:te=>{var Te;const Ie=(Te=te.target.files)==null?void 0:Te[0];if(Ie){p(Ie);const de=URL.createObjectURL(Ie);A.setValue("imageUrl",de)}},className:"cursor-pointer"}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Accepted formats: JPG, PNG, GIF. Max size: 5MB"})]}),A.watch("imageUrl")&&e.jsxs("div",{className:"relative h-24 w-24 overflow-hidden rounded-md border",children:[e.jsx("img",{src:A.watch("imageUrl"),alt:"Product preview",className:"h-full w-full object-cover"}),e.jsx("button",{type:"button",className:"absolute right-1 top-1 rounded-full bg-foreground/10 p-1 backdrop-blur-sm",onClick:()=>{A.setValue("imageUrl",""),p(null)},children:e.jsx(Er,{className:"h-4 w-4"})})]})]}),e.jsx($,{id:"imageUrl",type:"hidden",...A.register("imageUrl")})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(se,{htmlFor:"deliveryOption",children:"Delivery Option"}),e.jsxs(je,{value:A.watch("deliveryOption"),onValueChange:te=>A.setValue("deliveryOption",te),children:[e.jsx(ge,{children:e.jsx(be,{placeholder:"Select delivery option"})}),e.jsxs(ve,{children:[e.jsx(O,{value:"direct",children:"Direct only"}),e.jsx(O,{value:"service",children:"Service only"}),e.jsx(O,{value:"both",children:"Both"})]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(se,{htmlFor:"status",children:"Status"}),e.jsxs(je,{value:A.watch("status"),onValueChange:te=>A.setValue("status",te),children:[e.jsx(ge,{children:e.jsx(be,{placeholder:"Select status"})}),e.jsxs(ve,{children:[e.jsx(O,{value:"active",children:"Active"}),e.jsx(O,{value:"inactive",children:"Inactive"}),e.jsx(O,{value:"pending",children:"Pending"})]})]})]})]}),e.jsxs("div",{className:"space-y-2 col-span-2",children:[e.jsx(se,{htmlFor:"description",children:"Product Description"}),e.jsx(at,{id:"description",placeholder:"Enter product description",className:"min-h-[100px]",...A.register("description")}),A.formState.errors.description&&e.jsx("p",{className:"text-sm text-destructive",children:A.formState.errors.description.message})]}),e.jsxs("div",{className:"space-y-2 col-span-2",children:[e.jsx(se,{htmlFor:"availableAreas",children:"Available Areas (Optional)"}),e.jsx(at,{id:"availableAreas",placeholder:"Enter comma-separated list of areas where this product is available",className:"min-h-[60px]",...A.register("availableAreas")})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ds,{id:"isOrganic",checked:A.watch("isOrganic"),onCheckedChange:te=>A.setValue("isOrganic",te)}),e.jsx(se,{htmlFor:"isOrganic",children:"Organic Product"})]}),e.jsxs(Ms,{children:[e.jsx(T,{type:"button",variant:"outline",onClick:()=>d(!1),children:"Cancel"}),e.jsxs(T,{type:"submit",disabled:k.isPending||I.isPending,children:[(k.isPending||I.isPending)&&e.jsx(Ye,{className:"mr-2 h-4 w-4 animate-spin"}),l?"Update Product":"Create Product"]})]})]})]})}),e.jsx(LD,{open:s,onOpenChange:n,children:e.jsxs(BS,{children:[e.jsxs(VS,{children:[e.jsx(qS,{children:"Are you sure?"}),e.jsxs(zS,{children:['This will deactivate the product "',l==null?void 0:l.name,'". The product will be marked as inactive but remain in the database.']})]}),e.jsxs(US,{children:[e.jsx(HS,{children:"Cancel"}),e.jsxs(KS,{onClick:()=>l&&L.mutate(l.id),className:"bg-destructive text-destructive-foreground hover:bg-destructive/90",disabled:L.isPending,children:[L.isPending&&e.jsx(Ye,{className:"mr-2 h-4 w-4 animate-spin"}),"Deactivate"]})]})]})}),e.jsx(LD,{open:a,onOpenChange:i,children:e.jsxs(BS,{children:[e.jsxs(VS,{children:[e.jsx(qS,{children:"Remove All Products"}),e.jsx(zS,{children:"This action cannot be undone. This will permanently delete ALL products from the database and clear any grocery carts in localStorage."})]}),e.jsxs(US,{children:[e.jsx(HS,{children:"Cancel"}),e.jsx(KS,{onClick:()=>K.mutate(),className:"bg-destructive text-destructive-foreground hover:bg-destructive/90",disabled:K.isPending,children:K.isPending?e.jsxs(e.Fragment,{children:[e.jsx(Ye,{className:"mr-2 h-4 w-4 animate-spin"})," Removing All Products..."]}):"Yes, Remove All Products"})]})]})})]}):e.jsxs("div",{className:"flex flex-col items-center justify-center py-10",children:[e.jsx(o$,{className:"h-16 w-16 text-destructive mb-4"}),e.jsx("h2",{className:"text-2xl font-bold text-center mb-2",children:"Administrator Access Required"}),e.jsx("p",{className:"text-center text-muted-foreground max-w-md mb-6",children:"You need administrator privileges to access this page. Please contact system admin if you believe you should have access."}),e.jsx(T,{asChild:!0,children:e.jsx(At,{href:"/dashboard",children:"Return to Dashboard"})})]})})}const Z3e=_.object({name:_.string().min(3,{message:"Name must be at least 3 characters"}),description:_.string().min(10,{message:"Description must be at least 10 characters"}),category:_.string().min(1,{message:"Category is required"}),subcategory:_.string().optional(),categoryId:_.number().optional(),subcategoryId:_.number().optional(),price:_.coerce.number().min(0).optional(),discountedPrice:_.coerce.number().min(0).optional(),farmerId:_.number().optional(),stock:_.coerce.number().min(0,{message:"Stock must be 0 or greater"}),unit:_.string().min(1,{message:"Unit is required"}),isOrganic:_.boolean().default(!1),district:_.string().min(1,{message:"District is required"}),taluk:_.string().optional(),pincode:_.string().optional(),imageUrl:_.string().optional(),deliveryOption:_.string().default("both"),availableAreas:_.string().optional(),status:_.string().default("active")});function J3e(){var p;const{user:t}=dt(),{toast:r}=Be(),[,s]=xr(),[n,a]=j.useState(!1),[i,l]=j.useState(null),o=(t==null?void 0:t.userType)==="admin",c=Ht({resolver:Wt(Z3e),defaultValues:{name:"",description:"",category:"",price:0,stock:0,unit:"kg",isOrganic:!1,district:"",taluk:"",pincode:"",deliveryOption:"both",status:"active"}}),{data:d,isLoading:u}=fe({queryKey:["/api/admin/grocery/categories"],queryFn:async()=>{const y=await fetch("/api/admin/grocery/categories",{credentials:"include"});if(!y.ok)throw new Error("Failed to fetch categories");return y.json()}});fe({queryKey:["/api/admin/grocery/subcategories",i],queryFn:async()=>{if(!i)return[];const y=await fetch(`/api/admin/grocery/subcategories?parentCategoryId=${i}`,{credentials:"include"});if(!y.ok)throw new Error("Failed to fetch subcategories");return y.json()},enabled:!!i});const m=Se({mutationFn:async y=>(await le("POST","/api/admin/grocery/products",y)).json(),onSuccess:()=>{r({title:"Product created",description:"The product has been created successfully"}),pe.invalidateQueries({queryKey:["/api/admin/grocery/products"]}),s("/admin/grocery/products")},onError:y=>{r({title:"Failed to create product",description:y.message||"Something went wrong",variant:"destructive"})}}),h=y=>{m.mutate(y)},g=y=>{c.setValue("category",y);const v=d==null?void 0:d.find(x=>x.id.toString()===y);v&&(l(v.id),c.setValue("categoryId",v.id))},f=async y=>{var b;const v=(b=y.target.files)==null?void 0:b[0];if(!v)return;const x=new FormData;x.append("image",v),a(!0);try{const N=await fetch("/api/admin/upload",{method:"POST",body:x,credentials:"include"});if(!N.ok)throw new Error("Upload failed");const w=await N.json();c.setValue("imageUrl",w.imageUrl),r({title:"Image uploaded",description:"Your image has been uploaded successfully"})}catch{r({title:"Upload failed",description:"There was an error uploading your image",variant:"destructive"})}finally{a(!1)}};return o?e.jsxs("div",{className:"container mx-auto py-8",children:[e.jsxs("div",{className:"flex justify-between items-center mb-6",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold",children:"Add New Product"}),e.jsx("p",{className:"text-muted-foreground",children:"Create a new grocery product"})]}),e.jsx(T,{variant:"outline",asChild:!0,children:e.jsxs(At,{href:"/admin/grocery/products",children:[e.jsx(is,{className:"mr-2 h-4 w-4"})," Back to Products"]})})]}),e.jsxs(E,{children:[e.jsxs(Y,{children:[e.jsx(X,{children:"Product Information"}),e.jsx(he,{children:"Fill in the details below to add a new product to your inventory"})]}),e.jsx(D,{children:e.jsxs("form",{onSubmit:c.handleSubmit(h),className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(se,{htmlFor:"name",children:"Product Name"}),e.jsx($,{id:"name",placeholder:"Enter product name",...c.register("name")}),c.formState.errors.name&&e.jsx("p",{className:"text-sm text-destructive",children:c.formState.errors.name.message})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(se,{htmlFor:"category",children:"Category"}),e.jsxs(je,{value:((p=c.watch("categoryId"))==null?void 0:p.toString())||"",onValueChange:g,children:[e.jsx(ge,{children:e.jsx(be,{placeholder:"Select a category"})}),e.jsx(ve,{children:u?e.jsxs("div",{className:"flex items-center justify-center p-2",children:[e.jsx(Ye,{className:"h-4 w-4 animate-spin mr-2"}),e.jsx("span",{children:"Loading categories..."})]}):(d==null?void 0:d.length)>0?d.map(y=>e.jsx(O,{value:y.id.toString(),children:y.name},y.id)):e.jsx("div",{className:"p-2 text-center text-muted-foreground",children:"No categories found"})})]}),c.formState.errors.category&&e.jsx("p",{className:"text-sm text-destructive",children:c.formState.errors.category.message})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(se,{htmlFor:"price",children:"Price ()"}),e.jsx($,{id:"price",type:"number",step:"0.01",placeholder:"0.00",...c.register("price")}),c.formState.errors.price&&e.jsx("p",{className:"text-sm text-destructive",children:c.formState.errors.price.message})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(se,{htmlFor:"discountedPrice",children:"Discounted Price ()"}),e.jsx($,{id:"discountedPrice",type:"number",step:"0.01",placeholder:"0.00",...c.register("discountedPrice")}),c.formState.errors.discountedPrice&&e.jsx("p",{className:"text-sm text-destructive",children:c.formState.errors.discountedPrice.message})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(se,{htmlFor:"stock",children:"Stock Quantity"}),e.jsx($,{id:"stock",type:"number",placeholder:"0",...c.register("stock")}),c.formState.errors.stock&&e.jsx("p",{className:"text-sm text-destructive",children:c.formState.errors.stock.message})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(se,{htmlFor:"unit",children:"Unit"}),e.jsxs(je,{value:c.watch("unit"),onValueChange:y=>c.setValue("unit",y),children:[e.jsx(ge,{children:e.jsx(be,{placeholder:"Select a unit"})}),e.jsxs(ve,{children:[e.jsx(O,{value:"kg",children:"Kilogram (kg)"}),e.jsx(O,{value:"g",children:"Gram (g)"}),e.jsx(O,{value:"lb",children:"Pound (lb)"}),e.jsx(O,{value:"l",children:"Liter (l)"}),e.jsx(O,{value:"ml",children:"Milliliter (ml)"}),e.jsx(O,{value:"piece",children:"Piece"}),e.jsx(O,{value:"dozen",children:"Dozen"}),e.jsx(O,{value:"pack",children:"Pack"})]})]}),c.formState.errors.unit&&e.jsx("p",{className:"text-sm text-destructive",children:c.formState.errors.unit.message})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(se,{htmlFor:"district",children:"District"}),e.jsx($,{id:"district",placeholder:"Enter district",...c.register("district")}),c.formState.errors.district&&e.jsx("p",{className:"text-sm text-destructive",children:c.formState.errors.district.message})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(se,{htmlFor:"taluk",children:"Taluk"}),e.jsx($,{id:"taluk",placeholder:"Enter taluk",...c.register("taluk")}),c.formState.errors.taluk&&e.jsx("p",{className:"text-sm text-destructive",children:c.formState.errors.taluk.message})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(se,{htmlFor:"pincode",children:"PIN Code"}),e.jsx($,{id:"pincode",placeholder:"Enter PIN code",maxLength:6,...c.register("pincode")}),c.formState.errors.pincode&&e.jsx("p",{className:"text-sm text-destructive",children:c.formState.errors.pincode.message})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(se,{htmlFor:"deliveryOption",children:"Delivery Option"}),e.jsxs(je,{value:c.watch("deliveryOption"),onValueChange:y=>c.setValue("deliveryOption",y),children:[e.jsx(ge,{children:e.jsx(be,{placeholder:"Select delivery option"})}),e.jsxs(ve,{children:[e.jsx(O,{value:"direct",children:"Direct Delivery Only"}),e.jsx(O,{value:"service",children:"Service Agent Only"}),e.jsx(O,{value:"both",children:"Both Options"})]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(se,{htmlFor:"status",children:"Status"}),e.jsxs(je,{value:c.watch("status"),onValueChange:y=>c.setValue("status",y),children:[e.jsx(ge,{children:e.jsx(be,{placeholder:"Select status"})}),e.jsxs(ve,{children:[e.jsx(O,{value:"active",children:"Active"}),e.jsx(O,{value:"inactive",children:"Inactive"}),e.jsx(O,{value:"pending",children:"Pending"})]})]})]}),e.jsxs("div",{className:"flex items-center space-x-2 pt-6",children:[e.jsx(ds,{id:"isOrganic",checked:c.watch("isOrganic"),onCheckedChange:y=>c.setValue("isOrganic",y)}),e.jsx(se,{htmlFor:"isOrganic",children:"Organic Product"})]}),e.jsxs("div",{className:"space-y-2 md:col-span-2",children:[e.jsx(se,{htmlFor:"description",children:"Description"}),e.jsx(at,{id:"description",placeholder:"Enter product description",rows:4,...c.register("description")}),c.formState.errors.description&&e.jsx("p",{className:"text-sm text-destructive",children:c.formState.errors.description.message})]}),e.jsxs("div",{className:"space-y-2 md:col-span-2",children:[e.jsx(se,{htmlFor:"image",children:"Product Image"}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx($,{id:"image",type:"file",accept:"image/*",onChange:f,disabled:n}),n&&e.jsx(Ye,{className:"h-4 w-4 animate-spin"})]}),c.watch("imageUrl")&&e.jsx("div",{className:"mt-2",children:e.jsx("p",{className:"text-sm text-green-600",children:"Image uploaded successfully!"})})]})]}),e.jsxs("div",{className:"flex justify-end space-x-2",children:[e.jsx(T,{variant:"outline",type:"button",onClick:()=>s("/admin/grocery/products"),children:"Cancel"}),e.jsx(T,{type:"submit",disabled:m.isPending,children:m.isPending?e.jsxs(e.Fragment,{children:[e.jsx(Ye,{className:"mr-2 h-4 w-4 animate-spin"}),"Saving..."]}):"Create Product"})]})]})})]})]}):e.jsx("div",{className:"container mx-auto py-8",children:e.jsxs("div",{className:"flex flex-col items-center justify-center py-10",children:[e.jsx(o$,{className:"h-16 w-16 text-destructive mb-4"}),e.jsx("h2",{className:"text-2xl font-bold text-center mb-2",children:"Administrator Access Required"}),e.jsx("p",{className:"text-center text-muted-foreground max-w-md mb-6",children:"You need administrator privileges to access this page. Please contact system admin if you believe you should have access."}),e.jsx(T,{asChild:!0,children:e.jsx(At,{href:"/dashboard",children:"Return to Dashboard"})})]})})}const e5e={pending:"bg-yellow-100 text-yellow-800 hover:bg-yellow-200",approved:"bg-green-100 text-green-800 hover:bg-green-200",rejected:"bg-red-100 text-red-800 hover:bg-red-200"},t5e=_.object({status:_.enum(["approved","rejected"]),adminNotes:_.string().optional(),subcategoryId:_.number().optional(),displayName:_.string().optional(),description:_.string().optional(),price:_.number().optional(),imageUrl:_.string().optional(),isOrganic:_.boolean().default(!1)});function r5e(){const{toast:t}=Be(),{user:r}=dt(),[s,n]=j.useState("pending"),[a,i]=j.useState(null),[l,o]=j.useState(!1),[c,d]=j.useState(!1),{data:u,isLoading:m,error:h,refetch:g}=fe({queryKey:["/api/product-requests",s],queryFn:async()=>{const w=await fetch(`/api/product-requests?status=${s}`);if(!w.ok)throw new Error("Failed to fetch product requests");return w.json()}}),{data:f}=fe({queryKey:["/api/admin/grocery/subcategories"],queryFn:async()=>{const w=await fetch("/api/admin/grocery/subcategories");if(!w.ok)throw new Error("Failed to fetch subcategories");return w.json()}}),p=Ht({resolver:Wt(t5e),defaultValues:{status:"approved",adminNotes:"",subcategoryId:void 0,displayName:"",description:"",price:void 0,imageUrl:"",isOrganic:!1}}),y=Se({mutationFn:async w=>{const{id:C,...P}=w,S=await le("PATCH",`/api/product-requests/${C}`,P);if(!S.ok){const A=await S.json();throw new Error(A.message||"Failed to update request")}return S.json()},onSuccess:()=>{t({title:"Request updated",description:"The product request has been processed successfully"}),p.reset(),d(!1),pe.invalidateQueries({queryKey:["/api/product-requests"]}),pe.invalidateQueries({queryKey:["/api/grocery/products"]})},onError:w=>{t({title:"Error updating request",description:w.message,variant:"destructive"})}}),v=w=>{i(w),o(!0)},x=w=>{i(w),p.reset({status:"approved",adminNotes:"",displayName:w.requestedProductName,description:w.description,imageUrl:w.imageUrl,subcategoryId:void 0,price:void 0,isOrganic:!1}),d(!0)},b=w=>{a&&y.mutate({id:a.id,...w})},N=w=>e.jsxs(ae,{className:e5e[w]||"bg-gray-100",children:[w==="pending"&&"Pending",w==="approved"&&"Approved",w==="rejected"&&"Rejected"]});return(r==null?void 0:r.userType)!=="admin"?e.jsx("div",{className:"container mx-auto px-4 py-8",children:e.jsx(E,{children:e.jsxs(Y,{children:[e.jsx(X,{children:"Access Denied"}),e.jsx(he,{children:"You do not have permission to view this page. Only administrators can manage product requests."})]})})}):e.jsxs("div",{className:"container mx-auto px-4 py-8",children:[e.jsxs("div",{className:"flex justify-between items-center mb-6",children:[e.jsxs("div",{children:[e.jsxs("h1",{className:"text-3xl font-bold mb-2 flex items-center gap-2",children:[e.jsx(qX,{className:"h-8 w-8 text-primary"}),"Product Requests"]}),e.jsx("p",{className:"text-gray-600",children:"Review and manage product requests from farmers"})]}),e.jsxs(T,{variant:"outline",onClick:()=>g(),className:"flex items-center gap-2",children:[e.jsx(Ua,{className:"h-4 w-4"}),"Refresh"]})]}),e.jsx(rr,{defaultValue:"pending",value:s,onValueChange:n,className:"mb-6",children:e.jsxs(tr,{className:"grid w-full grid-cols-3 max-w-md",children:[e.jsxs(ke,{value:"pending",className:"flex items-center gap-2",children:[e.jsx("span",{className:"h-2 w-2 rounded-full bg-yellow-400"}),"Pending"]}),e.jsxs(ke,{value:"approved",className:"flex items-center gap-2",children:[e.jsx("span",{className:"h-2 w-2 rounded-full bg-green-400"}),"Approved"]}),e.jsxs(ke,{value:"rejected",className:"flex items-center gap-2",children:[e.jsx("span",{className:"h-2 w-2 rounded-full bg-red-400"}),"Rejected"]})]})}),e.jsxs(E,{children:[e.jsxs(Y,{children:[e.jsxs(X,{children:[s.charAt(0).toUpperCase()+s.slice(1)," Requests"]}),e.jsxs(he,{children:[s==="pending"&&"Product requests awaiting your review",s==="approved"&&"Product requests you have approved",s==="rejected"&&"Product requests you have rejected"]})]}),e.jsx(D,{children:m?e.jsx("div",{className:"flex justify-center items-center py-12",children:e.jsx(Ye,{className:"h-8 w-8 animate-spin text-primary"})}):h?e.jsxs("div",{className:"text-center py-8 text-red-500",children:[e.jsx("p",{children:"Error loading requests. Please try refreshing the page."}),e.jsx(T,{variant:"outline",onClick:()=>g(),className:"mt-2",children:"Try Again"})]}):u&&u.length>0?e.jsx("div",{className:"overflow-x-auto",children:e.jsxs(Ur,{children:[e.jsx(qr,{children:e.jsxs(mt,{children:[e.jsx(xe,{children:"ID"}),e.jsx(xe,{children:"Product Name"}),e.jsx(xe,{children:"Category"}),e.jsx(xe,{children:"Unit"}),e.jsx(xe,{children:"Status"}),e.jsx(xe,{children:"Date"}),e.jsx(xe,{className:"text-right",children:"Actions"})]})}),e.jsx(zr,{children:u.map(w=>e.jsxs(mt,{children:[e.jsx(ne,{className:"font-medium",children:w.id}),e.jsx(ne,{children:w.requestedProductName}),e.jsx(ne,{children:w.category}),e.jsx(ne,{children:w.unit}),e.jsx(ne,{children:N(w.status)}),e.jsx(ne,{children:new Date(w.createdAt).toLocaleDateString()}),e.jsx(ne,{className:"text-right",children:e.jsxs("div",{className:"flex justify-end gap-2",children:[e.jsx(T,{variant:"ghost",size:"icon",onClick:()=>v(w),children:e.jsx(fr,{className:"h-4 w-4"})}),w.status==="pending"&&e.jsxs(T,{variant:"outline",size:"sm",className:"flex items-center gap-1",onClick:()=>x(w),children:[e.jsx(Is,{className:"h-3.5 w-3.5"}),"Review"]})]})})]},w.id))})]})}):e.jsx("div",{className:"text-center py-12 text-gray-500",children:e.jsxs("p",{children:["No ",s," requests found."]})})})]}),e.jsx(kt,{open:l,onOpenChange:o,children:e.jsxs(St,{className:"sm:max-w-md",children:[e.jsxs(Ct,{children:[e.jsx(Pt,{children:"Product Request Details"}),e.jsxs(Yt,{children:["Request #",a==null?void 0:a.id," - ",a==null?void 0:a.requestedProductName]})]}),a&&e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"text-sm font-medium text-gray-500",children:"Product Name"}),e.jsx("p",{children:a.requestedProductName})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-sm font-medium text-gray-500",children:"Category"}),e.jsx("p",{children:a.category})]})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-sm font-medium text-gray-500",children:"Description"}),e.jsx("p",{className:"text-sm",children:a.description})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"text-sm font-medium text-gray-500",children:"Unit"}),e.jsx("p",{children:a.unit})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-sm font-medium text-gray-500",children:"Status"}),e.jsx("p",{children:N(a.status)})]})]}),a.imageUrl&&e.jsxs("div",{children:[e.jsx("h4",{className:"text-sm font-medium text-gray-500",children:"Image"}),e.jsx("div",{className:"mt-1 h-40 w-full overflow-hidden rounded-md bg-gray-100",children:e.jsx("img",{src:a.imageUrl,alt:a.requestedProductName,className:"h-full w-full object-cover object-center"})})]}),a.adminNotes&&e.jsxs("div",{children:[e.jsx("h4",{className:"text-sm font-medium text-gray-500",children:"Admin Notes"}),e.jsx("p",{className:"text-sm",children:a.adminNotes})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"text-sm font-medium text-gray-500",children:"Created At"}),e.jsx("p",{children:new Date(a.createdAt).toLocaleString()})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-sm font-medium text-gray-500",children:"Updated At"}),e.jsx("p",{children:new Date(a.updatedAt).toLocaleString()})]})]})]}),e.jsxs(Ms,{children:[e.jsx(T,{variant:"outline",onClick:()=>o(!1),children:"Close"}),(a==null?void 0:a.status)==="pending"&&e.jsx(T,{onClick:()=>{o(!1),x(a)},children:"Review"})]})]})}),e.jsx(kt,{open:c,onOpenChange:d,children:e.jsxs(St,{className:"sm:max-w-xl",children:[e.jsxs(Ct,{children:[e.jsx(Pt,{children:"Review Product Request"}),e.jsxs(Yt,{children:['Approve or reject the request for "',a==null?void 0:a.requestedProductName,'"']})]}),e.jsx(Gt,{...p,children:e.jsxs("form",{onSubmit:p.handleSubmit(b),className:"space-y-6",children:[e.jsx(q,{control:p.control,name:"status",render:({field:w})=>e.jsxs(B,{children:[e.jsx(V,{children:"Decision"}),e.jsxs(je,{onValueChange:w.onChange,defaultValue:w.value,children:[e.jsx(U,{children:e.jsx(ge,{children:e.jsx(be,{placeholder:"Select decision"})})}),e.jsxs(ve,{children:[e.jsx(O,{value:"approved",children:"Approve Request"}),e.jsx(O,{value:"rejected",children:"Reject Request"})]})]}),e.jsx(z,{})]})}),e.jsx(q,{control:p.control,name:"adminNotes",render:({field:w})=>e.jsxs(B,{children:[e.jsx(V,{children:"Admin Notes"}),e.jsx(U,{children:e.jsx(at,{placeholder:"Add notes about this decision (optional)",...w})}),e.jsx(Ue,{children:"These notes will be visible to the farmer."}),e.jsx(z,{})]})}),p.watch("status")==="approved"&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"mt-6 mb-2",children:[e.jsx("h3",{className:"text-sm font-medium text-foreground",children:"Product Details"}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"When approved, a new product will be created with these details"})]}),e.jsx(q,{control:p.control,name:"subcategoryId",render:({field:w})=>{var C;return e.jsxs(B,{children:[e.jsx(V,{children:"Subcategory"}),e.jsxs(je,{onValueChange:P=>w.onChange(Number(P)),value:(C=w.value)==null?void 0:C.toString(),children:[e.jsx(U,{children:e.jsx(ge,{children:e.jsx(be,{placeholder:"Select subcategory"})})}),e.jsx(ve,{children:f==null?void 0:f.map(P=>e.jsx(O,{value:P.id.toString(),children:P.name},P.id))})]}),e.jsx(z,{})]})}}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[e.jsx(q,{control:p.control,name:"displayName",render:({field:w})=>e.jsxs(B,{children:[e.jsx(V,{children:"Display Name"}),e.jsx(U,{children:e.jsx($,{...w})}),e.jsx(z,{})]})}),e.jsx(q,{control:p.control,name:"price",render:({field:w})=>{var C;return e.jsxs(B,{children:[e.jsx(V,{children:"Base Price ()"}),e.jsx(U,{children:e.jsx($,{type:"number",placeholder:"0.00",value:((C=w.value)==null?void 0:C.toString())||"",onChange:P=>w.onChange(parseFloat(P.target.value))})}),e.jsx(z,{})]})}})]}),e.jsx(q,{control:p.control,name:"description",render:({field:w})=>e.jsxs(B,{children:[e.jsx(V,{children:"Description"}),e.jsx(U,{children:e.jsx(at,{...w})}),e.jsx(z,{})]})}),e.jsx(q,{control:p.control,name:"imageUrl",render:({field:w})=>e.jsxs(B,{children:[e.jsx(V,{children:"Image URL"}),e.jsx(U,{children:e.jsx($,{...w})}),e.jsx(z,{})]})})]}),e.jsxs(Ms,{children:[e.jsx(T,{variant:"outline",type:"button",onClick:()=>d(!1),children:"Cancel"}),e.jsx(T,{type:"submit",disabled:y.isPending,variant:p.watch("status")==="approved"?"default":"destructive",children:y.isPending?e.jsxs(e.Fragment,{children:[e.jsx(Ye,{className:"mr-2 h-4 w-4 animate-spin"}),"Processing..."]}):p.watch("status")==="approved"?e.jsxs(e.Fragment,{children:[e.jsx(Is,{className:"mr-2 h-4 w-4"}),"Approve Request"]}):e.jsxs(e.Fragment,{children:[e.jsx(ws,{className:"mr-2 h-4 w-4"}),"Reject Request"]})})]})]})})]})})]})}function s5e(){var S;const{toast:t}=Be(),{user:r}=dt(),[s,n]=j.useState("pending"),[a,i]=j.useState(""),[l,o]=j.useState(null),[c,d]=j.useState(!1),[u,m]=j.useState(""),{data:h,isLoading:g,error:f,refetch:p}=fe({queryKey:["/api/farmer-products/admin"],queryFn:async()=>{const A=await le("GET","/api/farmer-products?includeProduct=true");if(!A.ok)throw new Error("Failed to fetch farmer product listings");return await A.json()}}),y=Se({mutationFn:async A=>{const k=await le("PATCH",`/api/farmer-products/${A}/approve`);if(!k.ok){const I=await k.json();throw new Error(I.message||"Failed to approve listing")}return k.json()},onSuccess:()=>{t({title:"Listing approved",description:"The farmer product listing has been approved."}),p(),pe.invalidateQueries({queryKey:["/api/farmer-products"]})},onError:A=>{t({title:"Approval failed",description:A.message,variant:"destructive"})}}),v=Se({mutationFn:async({id:A,reason:k})=>{const I=await le("PATCH",`/api/farmer-products/${A}/reject`,{reason:k});if(!I.ok){const L=await I.json();throw new Error(L.message||"Failed to reject listing")}return I.json()},onSuccess:()=>{t({title:"Listing rejected",description:"The farmer product listing has been rejected with feedback."}),d(!1),m(""),o(null),p(),pe.invalidateQueries({queryKey:["/api/farmer-products"]})},onError:A=>{t({title:"Rejection failed",description:A.message,variant:"destructive"})}}),x=Se({mutationFn:async A=>{const k=await le("DELETE",`/api/farmer-products/${A}`);if(!k.ok){const I=await k.json();throw new Error(I.message||"Failed to delete listing")}return k.json()},onSuccess:()=>{t({title:"Listing deleted",description:"The farmer product listing has been permanently deleted."}),p(),pe.invalidateQueries({queryKey:["/api/farmer-products"]})},onError:A=>{t({title:"Delete failed",description:A.message,variant:"destructive"})}}),b=h==null?void 0:h.filter(A=>{var L,K;const k=A.status===s||s==="all",I=a===""||((L=A.product)==null?void 0:L.name.toLowerCase().includes(a.toLowerCase()))||((K=A.product)==null?void 0:K.description)&&A.product.description.toLowerCase().includes(a.toLowerCase())||A.farmerName&&A.farmerName.toLowerCase().includes(a.toLowerCase());return k&&I}),N=A=>{var k;window.confirm(`Are you sure you want to approve this listing for ${(k=A.product)==null?void 0:k.name}?`)&&y.mutate(A.id)},w=A=>{o(A),d(!0)},C=()=>{if(l){if(!u.trim()){t({title:"Reason required",description:"Please provide a reason for rejection to help the farmer understand.",variant:"destructive"});return}v.mutate({id:l.id,reason:u})}},P=A=>{window.confirm("Are you sure you want to permanently delete this listing? This cannot be undone.")&&x.mutate(A.id)};return!r||r.userType!=="admin"?e.jsx("div",{className:"container mx-auto px-4 py-8",children:e.jsxs(E,{className:"border-red-200",children:[e.jsxs(Y,{children:[e.jsx(X,{className:"text-red-800",children:"Access Denied"}),e.jsx(he,{children:"You don't have permission to manage farmer product listings."})]}),e.jsx(D,{children:e.jsx("p",{children:"This page is only accessible to administrators."})})]})}):e.jsxs("div",{className:"container mx-auto px-4 py-8",children:[e.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4 mb-6",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold",children:"Farmer Product Listings"}),e.jsx("p",{className:"text-gray-600 mt-1",children:"Review and manage product listings submitted by farmers"})]}),e.jsxs("div",{className:"relative w-full md:w-64",children:[e.jsx(es,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-gray-400"}),e.jsx($,{placeholder:"Search listings...",className:"pl-9",value:a,onChange:A=>i(A.target.value)})]})]}),e.jsx(rr,{defaultValue:s,value:s,onValueChange:n,className:"mb-6",children:e.jsxs(tr,{className:"grid grid-cols-4 w-full md:w-auto",children:[e.jsx(ke,{value:"all",className:"flex items-center gap-2",children:"All"}),e.jsxs(ke,{value:"pending",className:"flex items-center gap-2",children:[e.jsx("span",{className:"h-2 w-2 rounded-full bg-yellow-400"}),"Pending"]}),e.jsxs(ke,{value:"approved",className:"flex items-center gap-2",children:[e.jsx("span",{className:"h-2 w-2 rounded-full bg-green-400"}),"Approved"]}),e.jsxs(ke,{value:"rejected",className:"flex items-center gap-2",children:[e.jsx("span",{className:"h-2 w-2 rounded-full bg-red-400"}),"Rejected"]})]})}),g?e.jsxs("div",{className:"flex justify-center items-center h-64",children:[e.jsx(Ye,{className:"h-8 w-8 animate-spin text-primary"}),e.jsx("span",{className:"ml-2",children:"Loading farmer product listings..."})]}):f?e.jsxs(E,{className:"mb-6 bg-red-50 border-red-200",children:[e.jsx(Y,{children:e.jsx(X,{className:"text-red-800",children:"Error Loading Listings"})}),e.jsx(D,{children:e.jsx("p",{className:"text-red-600",children:f.message})}),e.jsx(mr,{children:e.jsx(T,{variant:"outline",onClick:()=>p(),children:"Try Again"})})]}):b&&b.length>0?e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:b.map(A=>{var k,I,L,K;return e.jsxs(E,{className:"overflow-hidden",children:[e.jsx(Y,{className:"pb-3",children:e.jsxs("div",{className:"flex justify-between items-start",children:[e.jsxs("div",{children:[e.jsx(X,{className:"text-lg",children:((k=A.product)==null?void 0:k.name)||"Product"}),e.jsx(he,{children:((I=A.product)==null?void 0:I.description)||"No description available"})]}),e.jsx(ae,{className:A.status==="approved"?"bg-green-100 text-green-800":A.status==="pending"?"bg-yellow-100 text-yellow-800":"bg-red-100 text-red-800",children:A.status})]})}),e.jsxs(D,{className:"pb-4",children:[e.jsx("div",{className:"aspect-w-16 aspect-h-9 bg-gray-100 rounded-md flex items-center justify-center mb-4",children:A.imageUrl?e.jsx("img",{src:A.imageUrl,alt:((L=A.product)==null?void 0:L.name)||"Product",className:"object-cover w-full h-full rounded-md"}):e.jsx(qa,{className:"h-16 w-16 text-gray-300"})}),e.jsxs("div",{className:"text-sm mb-4",children:[e.jsxs("p",{className:"flex items-center gap-1 text-gray-700",children:[e.jsx(Ow,{className:"h-4 w-4 text-blue-500"}),e.jsx("span",{className:"font-medium",children:"Farmer:"})," ",A.farmerName||"Unknown farmer"]}),e.jsxs("div",{className:"grid grid-cols-2 gap-2 mt-2",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-gray-500",children:"Price"}),e.jsxs("p",{className:"font-medium",children:["",A.price,"/",A.unit]})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-gray-500",children:"Quantity"}),e.jsxs("p",{className:"font-medium",children:[A.quantity," ",A.unit]})]})]})]}),e.jsxs("div",{className:"flex flex-wrap gap-2 mt-3",children:[A.isOrganic&&e.jsxs(ae,{variant:"outline",className:"bg-green-50 text-green-700 border-green-200 flex items-center gap-1",children:[e.jsx(Es,{className:"h-3 w-3"}),"Organic"]}),e.jsxs(ae,{variant:"outline",className:"flex items-center gap-1",children:[e.jsx(tC,{className:"h-3 w-3"}),A.sourceDistrict||((K=A.product)==null?void 0:K.district)||"Unknown district"]}),A.selfDelivery&&e.jsx(ae,{variant:"outline",className:"bg-blue-50 text-blue-700 border-blue-200",children:"Self-delivery"})]}),A.status==="rejected"&&A.adminNotes&&e.jsxs("div",{className:"mt-3 border-l-2 border-red-400 pl-2 py-1",children:[e.jsx("p",{className:"text-xs font-medium text-red-800",children:"Rejection reason:"}),e.jsx("p",{className:"text-xs text-gray-700",children:A.adminNotes})]})]}),e.jsx(mr,{className:"flex justify-between pt-2 border-t",children:A.status==="pending"?e.jsxs(e.Fragment,{children:[e.jsxs(T,{variant:"outline",size:"sm",className:"text-green-600 border-green-200 hover:bg-green-50",onClick:()=>N(A),children:[e.jsx(Ot,{className:"h-4 w-4 mr-1"}),"Approve"]}),e.jsxs(T,{variant:"outline",size:"sm",className:"text-red-600 border-red-200 hover:bg-red-50",onClick:()=>w(A),children:[e.jsx(Mr,{className:"h-4 w-4 mr-1"}),"Reject"]})]}):e.jsxs(e.Fragment,{children:[e.jsxs(T,{variant:"outline",size:"sm",className:"text-blue-600 border-blue-200 hover:bg-blue-50",onClick:()=>{var R;return window.location.href=`/farm-listings?product=${(R=A.product)==null?void 0:R.id}`},children:[e.jsx(Ow,{className:"h-4 w-4 mr-1"}),"View Live"]}),e.jsxs(T,{variant:"outline",size:"sm",className:"text-red-600 border-red-200 hover:bg-red-50",onClick:()=>P(A),children:[e.jsx(d$,{className:"h-4 w-4 mr-1"}),"Delete"]})]})})]},A.id)})}):e.jsx(E,{className:"text-center py-12",children:e.jsx(D,{children:e.jsxs("div",{className:"flex flex-col items-center justify-center",children:[e.jsx(ti,{className:"h-12 w-12 text-gray-300 mb-4"}),e.jsx("h3",{className:"text-lg font-semibold mb-2",children:"No listings found"}),e.jsx("p",{className:"text-gray-500 mb-6 max-w-md mx-auto",children:s==="all"?"There are no farmer product listings available.":`There are no ${s} product listings at the moment.`})]})})}),e.jsx(kt,{open:c,onOpenChange:d,children:e.jsxs(St,{children:[e.jsxs(Ct,{children:[e.jsx(Pt,{children:"Reject Product Listing"}),e.jsx(Yt,{children:"Please provide a reason for rejecting this product listing. The farmer will see this feedback."})]}),e.jsxs("div",{className:"space-y-4 py-2",children:[e.jsxs("div",{className:"bg-gray-50 p-3 rounded-md",children:[e.jsx("p",{className:"text-sm font-medium",children:(S=l==null?void 0:l.product)==null?void 0:S.name}),e.jsxs("p",{className:"text-xs text-gray-500",children:["Farmer: ",l==null?void 0:l.farmerName]})]}),e.jsx(at,{placeholder:"Explain why this listing is being rejected...",className:"min-h-[100px]",value:u,onChange:A=>m(A.target.value)})]}),e.jsxs(Ms,{children:[e.jsx(T,{variant:"outline",onClick:()=>d(!1),children:"Cancel"}),e.jsx(T,{variant:"destructive",onClick:C,disabled:v.isPending,children:v.isPending?e.jsxs(e.Fragment,{children:[e.jsx(Ye,{className:"mr-2 h-4 w-4 animate-spin"}),"Rejecting..."]}):e.jsxs(e.Fragment,{children:[e.jsx(DX,{className:"mr-2 h-4 w-4"}),"Reject Listing"]})})]})]})})]})}function n5e(){const{user:t}=dt(),{toast:r}=Be(),[s,n]=j.useState(null);if(!t||t.userType!=="admin")return e.jsx("div",{className:"container mx-auto p-6",children:e.jsxs("div",{className:"text-center",children:[e.jsx("h2",{className:"text-xl font-semibold mb-2",children:"Access Restricted"}),e.jsx("p",{children:"Only administrators can access the product approval panel."})]})});const{data:a=[],isLoading:i}=fe({queryKey:["/api/admin/grocery/products/pending"]}),l=Se({mutationFn:async({productId:u,approved:m})=>(await le("PATCH",`/api/admin/grocery/products/${u}/approval`,{adminApproved:m,status:m?"active":"inactive"})).json(),onSuccess:(u,m)=>{r({title:"Success",description:`Product ${m.approved?"approved":"rejected"} successfully.`}),pe.invalidateQueries({queryKey:["/api/admin/grocery/products/pending"]})},onError:u=>{r({title:"Error",description:u.message||"Failed to update product approval status.",variant:"destructive"})}}),o=u=>{l.mutate({productId:u,approved:!0})},c=u=>{l.mutate({productId:u,approved:!1})},d=u=>u.providerName||`Provider ID: ${u.providerId}`;return i?e.jsxs("div",{className:"container mx-auto p-6",children:[e.jsx("h1",{className:"text-2xl font-bold mb-6",children:"Farmer Product Approvals"}),e.jsx("div",{className:"flex justify-center items-center py-12",children:e.jsx(Ye,{className:"h-8 w-8 animate-spin"})})]}):e.jsxs("div",{className:"container mx-auto p-6",children:[e.jsxs("div",{className:"flex justify-between items-center mb-6",children:[e.jsx("h1",{className:"text-2xl font-bold",children:"Farmer Product Approvals"}),e.jsxs(ae,{variant:"outline",className:"text-lg px-3 py-1",children:[a.length," Pending"]})]}),a.length===0?e.jsxs("div",{className:"text-center py-12",children:[e.jsx(pt,{className:"h-16 w-16 text-gray-400 mx-auto mb-4"}),e.jsx("h3",{className:"text-xl font-semibold text-gray-700 mb-2",children:"No Pending Approvals"}),e.jsx("p",{className:"text-gray-500",children:"All farmer products have been reviewed."})]}):e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:a.map(u=>e.jsxs(E,{className:"hover:shadow-lg transition-shadow",children:[e.jsxs(Y,{children:[e.jsxs("div",{className:"flex justify-between items-start",children:[e.jsx(X,{className:"text-lg",children:u.name}),e.jsx(ae,{variant:"outline",className:"text-yellow-600 border-yellow-600",children:"Pending Review"})]}),e.jsxs("p",{className:"text-sm text-gray-500",children:["by ",d(u)]})]}),e.jsxs(D,{children:[e.jsx("p",{className:"text-gray-600 mb-4 line-clamp-2",children:u.description}),e.jsxs("div",{className:"space-y-2 mb-4",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-sm text-gray-500",children:"Price:"}),e.jsxs("span",{className:"font-semibold",children:["",u.price," per ",u.unit]})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-sm text-gray-500",children:"Stock:"}),e.jsxs("span",{children:[u.stock," ",u.unit]})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-sm text-gray-500",children:"District:"}),e.jsx("span",{className:"text-sm",children:u.district})]}),u.isOrganic&&e.jsx(ae,{variant:"secondary",className:"bg-green-100 text-green-800",children:"Organic"})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs(kt,{children:[e.jsx(ls,{asChild:!0,children:e.jsxs(T,{variant:"outline",size:"sm",className:"flex-1",onClick:()=>n(u),children:[e.jsx(fr,{className:"h-4 w-4 mr-1"}),"View Details"]})}),e.jsxs(St,{className:"max-w-2xl",children:[e.jsxs(Ct,{children:[e.jsx(Pt,{children:s==null?void 0:s.name}),e.jsx(Yt,{children:"Product details for review"})]}),s&&e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold mb-2",children:"Description"}),e.jsx("p",{className:"text-gray-600",children:s.description})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold",children:"Price"}),e.jsxs("p",{children:["",s.price," per ",s.unit]})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold",children:"Stock"}),e.jsxs("p",{children:[s.stock," ",s.unit]})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold",children:"District"}),e.jsx("p",{children:s.district})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold",children:"Delivery"}),e.jsx("p",{className:"capitalize",children:s.deliveryOption})]})]}),s.imageUrl&&e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold mb-2",children:"Product Image"}),e.jsx("img",{src:s.imageUrl,alt:s.name,className:"max-w-full h-48 object-cover rounded-md border"})]})]})]})]}),e.jsxs(T,{size:"sm",onClick:()=>o(u.id),disabled:l.isPending,className:"bg-green-600 hover:bg-green-700",children:[e.jsx(Is,{className:"h-4 w-4 mr-1"}),"Approve"]}),e.jsxs(T,{variant:"destructive",size:"sm",onClick:()=>c(u.id),disabled:l.isPending,children:[e.jsx(ws,{className:"h-4 w-4 mr-1"}),"Reject"]})]})]})]},u.id))})]})}function a5e(){const{toast:t}=Be(),[r,s]=j.useState("pending"),{data:n=[],isLoading:a}=fe({queryKey:["/api/admin/pending-local-products"],queryFn:async()=>(await le("GET","/api/admin/pending-local-products")).json()}),{data:i=[],isLoading:l}=fe({queryKey:["/api/local-product-views","all"],queryFn:async()=>(await le("GET","/api/local-product-views?adminApproved=true&adminApproved=false")).json()}),o=Se({mutationFn:async f=>(await le("POST",`/api/admin/local-products/${f}/approve`)).json(),onSuccess:()=>{t({title:"Product Approved",description:"The product has been approved successfully."}),pe.invalidateQueries({queryKey:["/api/admin/pending-local-products"]}),pe.invalidateQueries({queryKey:["/api/local-product-views"]})},onError:f=>{t({title:"Approval Failed",description:f.message||"Failed to approve product",variant:"destructive"})}}),c=Se({mutationFn:async f=>(await le("POST",`/api/admin/local-products/${f}/reject`)).json(),onSuccess:()=>{t({title:"Product Rejected",description:"The product has been rejected."}),pe.invalidateQueries({queryKey:["/api/admin/pending-local-products"]}),pe.invalidateQueries({queryKey:["/api/local-product-views"]})},onError:f=>{t({title:"Rejection Failed",description:f.message||"Failed to reject product",variant:"destructive"})}}),d=Se({mutationFn:async f=>(await le("DELETE",`/api/admin/local-products/${f}`)).json(),onSuccess:()=>{t({title:"Product Deleted",description:"The product has been deleted successfully."}),pe.invalidateQueries({queryKey:["/api/admin/pending-local-products"]}),pe.invalidateQueries({queryKey:["/api/local-product-views"]})},onError:f=>{t({title:"Delete Failed",description:f.message||"Failed to delete product",variant:"destructive"})}}),u=f=>{o.mutate(f)},m=f=>{c.mutate(f)},h=f=>{confirm("Are you sure you want to delete this product? This action cannot be undone.")&&d.mutate(f)},g=({product:f})=>e.jsxs(E,{className:"mb-4",children:[e.jsx(Y,{children:e.jsxs("div",{className:"flex justify-between items-start",children:[e.jsxs("div",{children:[e.jsx(X,{className:"text-lg",children:f.name}),e.jsxs(he,{children:[f.category," ",f.subcategory&&` ${f.subcategory}`]})]}),e.jsxs("div",{className:"flex gap-2",children:[f.adminApproved?e.jsxs(ae,{variant:"default",className:"bg-green-100 text-green-800",children:[e.jsx(Ot,{className:"w-3 h-3 mr-1"}),"Approved"]}):e.jsxs(ae,{variant:"secondary",className:"bg-yellow-100 text-yellow-800",children:[e.jsx(gt,{className:"w-3 h-3 mr-1"}),"Pending"]}),e.jsx(ae,{variant:"outline",children:f.status})]})]})}),e.jsx(D,{children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600 mb-2",children:f.description}),e.jsxs("div",{className:"space-y-1",children:[e.jsxs("p",{className:"text-sm",children:[e.jsx("strong",{children:"Price:"})," ",f.price]}),f.discountedPrice&&e.jsxs("p",{className:"text-sm",children:[e.jsx("strong",{children:"Discounted Price:"})," ",f.discountedPrice]}),e.jsxs("p",{className:"text-sm",children:[e.jsx("strong",{children:"Stock:"})," ",f.stock]}),e.jsxs("p",{className:"text-sm",children:[e.jsx("strong",{children:"District:"})," ",f.district]}),e.jsxs("p",{className:"text-sm",children:[e.jsx("strong",{children:"Delivery:"})," ",f.deliveryOption]})]})]}),e.jsxs("div",{children:[e.jsxs("p",{className:"text-sm text-gray-500 mb-2",children:["Created: ",new Date(f.createdAt).toLocaleDateString()]}),f.availableAreas&&e.jsxs("p",{className:"text-sm",children:[e.jsx("strong",{children:"Available Areas:"})," ",f.availableAreas]}),e.jsxs("div",{className:"flex gap-2 mt-4",children:[!f.adminApproved&&e.jsxs(e.Fragment,{children:[e.jsxs(T,{onClick:()=>u(f.id),disabled:o.isPending,className:"bg-green-600 hover:bg-green-700",children:[e.jsx(Ot,{className:"w-4 h-4 mr-2"}),"Approve"]}),e.jsxs(T,{variant:"destructive",onClick:()=>m(f.id),disabled:c.isPending,children:[e.jsx(Mr,{className:"w-4 h-4 mr-2"}),"Reject"]})]}),e.jsxs(T,{onClick:()=>h(f.id),disabled:d.isPending,variant:"outline",className:"border-red-300 text-red-600 hover:bg-red-50",children:[e.jsx(Er,{className:"w-4 h-4 mr-2"}),d.isPending?"Deleting...":"Delete"]})]})]})]})})]});return e.jsxs("div",{className:"container mx-auto p-6",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-6",children:[e.jsx(pt,{className:"h-6 w-6"}),e.jsx("h1",{className:"text-2xl font-bold",children:"Local Products Management"})]}),e.jsxs(rr,{value:r,onValueChange:s,children:[e.jsxs(tr,{className:"grid w-full grid-cols-2",children:[e.jsxs(ke,{value:"pending",children:["Pending Approval (",n.length,")"]}),e.jsxs(ke,{value:"all",children:["All Products (",i.length,")"]})]}),e.jsx(Le,{value:"pending",className:"mt-6",children:e.jsxs(E,{children:[e.jsxs(Y,{children:[e.jsx(X,{children:"Products Pending Approval"}),e.jsx(he,{children:"Review and approve products submitted by service providers"})]}),e.jsx(D,{children:a?e.jsxs("div",{className:"text-center py-8",children:[e.jsx("div",{className:"animate-spin w-8 h-8 border-4 border-primary border-t-transparent rounded-full mx-auto mb-4"}),e.jsx("p",{children:"Loading pending products..."})]}):n.length===0?e.jsxs("div",{className:"text-center py-8",children:[e.jsx(Ot,{className:"w-12 h-12 text-green-500 mx-auto mb-4"}),e.jsx("p",{className:"text-gray-500",children:"No products pending approval"})]}):e.jsx("div",{className:"space-y-4",children:n.map(f=>e.jsx(g,{product:f},f.id))})})]})}),e.jsx(Le,{value:"all",className:"mt-6",children:e.jsxs(E,{children:[e.jsxs(Y,{children:[e.jsx(X,{children:"All Products"}),e.jsx(he,{children:"View all products in the system"})]}),e.jsx(D,{children:l?e.jsxs("div",{className:"text-center py-8",children:[e.jsx("div",{className:"animate-spin w-8 h-8 border-4 border-primary border-t-transparent rounded-full mx-auto mb-4"}),e.jsx("p",{children:"Loading products..."})]}):i.length===0?e.jsxs("div",{className:"text-center py-8",children:[e.jsx(pt,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),e.jsx("p",{className:"text-gray-500",children:"No products found"})]}):e.jsx("div",{className:"space-y-4",children:i.map(f=>e.jsx(g,{product:f},f.id))})})]})})]})]})}const i5e=_.object({name:_.string().min(3,"Product name must be at least 3 characters"),category:_.string().min(1,"Please select a category")});function l5e(){const{toast:t}=Be(),[,r]=xr(),[s,n]=j.useState(!1),a=Ht({resolver:Wt(i5e),defaultValues:{name:"",category:""}}),i=async l=>{n(!0);try{const c=await(await le("POST","/api/admin/local-product-bases",l)).json();t({title:"Base product created",description:"You can now add product details."}),r(`/admin/local-products/${c.id}/details`)}catch(o){console.error("Error creating product:",o),t({variant:"destructive",title:"Failed to create product",description:"An error occurred while creating the product."})}finally{n(!1)}};return e.jsxs("div",{className:"container mx-auto py-8",children:[e.jsxs("div",{className:"mb-6",children:[e.jsxs(T,{variant:"outline",className:"mb-4",onClick:()=>r("/admin/local-products"),children:[e.jsx(is,{className:"mr-2 h-4 w-4"})," Back to Products"]}),e.jsx("h1",{className:"text-3xl font-bold",children:"Create New Local Product"})]}),e.jsxs(E,{className:"max-w-2xl mx-auto",children:[e.jsxs(Y,{children:[e.jsx(X,{children:"Step 1: Basic Information"}),e.jsx(he,{children:"Enter the basic information about the product. You'll be able to add details in the next step."})]}),e.jsx(D,{children:e.jsx(Gt,{...a,children:e.jsxs("form",{onSubmit:a.handleSubmit(i),className:"space-y-6",children:[e.jsx(q,{control:a.control,name:"name",render:({field:l})=>e.jsxs(B,{children:[e.jsx(V,{children:"Product Name"}),e.jsx(U,{children:e.jsx($,{placeholder:"Enter product name",...l})}),e.jsx(Ue,{children:"The name of the local product"}),e.jsx(z,{})]})}),e.jsx(q,{control:a.control,name:"category",render:({field:l})=>e.jsxs(B,{children:[e.jsx(V,{children:"Category"}),e.jsxs(je,{onValueChange:l.onChange,defaultValue:l.value,children:[e.jsx(U,{children:e.jsx(ge,{children:e.jsx(be,{placeholder:"Select a category"})})}),e.jsxs(ve,{children:[e.jsx(O,{value:"handicrafts",children:"Handicrafts"}),e.jsx(O,{value:"textiles",children:"Textiles"}),e.jsx(O,{value:"food",children:"Food Products"}),e.jsx(O,{value:"cosmetics",children:"Cosmetics"}),e.jsx(O,{value:"jewelry",children:"Jewelry"}),e.jsx(O,{value:"furniture",children:"Furniture"}),e.jsx(O,{value:"pottery",children:"Pottery"}),e.jsx(O,{value:"other",children:"Other"})]})]}),e.jsx(Ue,{children:"The category this product belongs to"}),e.jsx(z,{})]})}),e.jsx(mr,{className:"flex justify-end pt-6 px-0",children:e.jsx(T,{type:"submit",disabled:s,children:s?"Creating...":"Next: Add Details"})})]})})})]})]})}function o5e(){const{user:t}=dt(),{toast:r}=Be(),[s,n]=j.useState(!1),[a,i]=j.useState({shippingAddress:"",district:"",taluk:"",pincode:"",paymentMethod:"cash",notes:""}),{data:l=[],isLoading:o,refetch:c}=fe({queryKey:["/api/local-products/cart"],enabled:!!t}),d=Se({mutationFn:async({productId:b,quantity:N})=>(await le("PUT",`/api/local-products/cart/${b}`,{quantity:N})).json(),onSuccess:()=>{c(),r({title:"Cart updated",description:"Item quantity has been updated successfully."})},onError:()=>{r({title:"Error",description:"Failed to update cart item.",variant:"destructive"})}}),u=Se({mutationFn:async b=>(await le("DELETE",`/api/local-products/cart/${b}`)).json(),onSuccess:()=>{c(),r({title:"Item removed",description:"Item has been removed from your cart."})},onError:()=>{r({title:"Error",description:"Failed to remove item from cart.",variant:"destructive"})}}),m=Se({mutationFn:async()=>(await le("DELETE","/api/local-products/cart")).json(),onSuccess:()=>{c(),r({title:"Cart cleared",description:"All items have been removed from your cart."})},onError:()=>{r({title:"Error",description:"Failed to clear cart.",variant:"destructive"})}}),h=Se({mutationFn:async b=>(await le("POST","/api/local-products/orders",b)).json(),onSuccess:()=>{c(),n(!1),i({shippingAddress:"",district:"",taluk:"",pincode:"",paymentMethod:"cash",notes:""}),r({title:"Order placed successfully",description:"Your order has been submitted and will be processed soon."})},onError:()=>{r({title:"Error",description:"Failed to place order. Please try again.",variant:"destructive"})}}),g=l.reduce((b,N)=>{const w=N.product.discountedPrice||N.product.price;return b+w*N.quantity},0),f=g>500?0:50,p=g+f,y=(b,N)=>{N<1?u.mutate(b):d.mutate({productId:b,quantity:N})},v=()=>{if(l.length===0){r({title:"Cart is empty",description:"Please add items to your cart before checkout.",variant:"destructive"});return}n(!0)},x=()=>{if(!a.shippingAddress||!a.district||!a.pincode){r({title:"Missing information",description:"Please fill in all required fields.",variant:"destructive"});return}h.mutate(a)};return o?e.jsx("div",{className:"flex items-center justify-center min-h-screen",children:e.jsx("div",{className:"animate-spin w-8 h-8 border-4 border-primary border-t-transparent rounded-full"})}):e.jsxs("div",{className:"container mx-auto px-4 py-6",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[e.jsx(Pr,{className:"h-8 w-8"}),e.jsx("h1",{className:"text-3xl font-bold",children:"Shopping Cart"}),e.jsxs(ae,{variant:"secondary",className:"ml-auto",children:[l.length," ",l.length===1?"item":"items"]})]}),l.length===0?e.jsx(E,{children:e.jsxs(D,{className:"text-center py-12",children:[e.jsx(pt,{className:"h-16 w-16 mx-auto text-muted-foreground mb-4"}),e.jsx("h2",{className:"text-xl font-semibold mb-2",children:"Your cart is empty"}),e.jsx("p",{className:"text-muted-foreground mb-4",children:"Start shopping to add items to your cart"}),e.jsx(T,{onClick:()=>window.history.back(),children:"Continue Shopping"})]})}):e.jsxs("div",{className:"grid lg:grid-cols-3 gap-6",children:[e.jsxs("div",{className:"lg:col-span-2 space-y-4",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("h2",{className:"text-lg font-semibold",children:"Cart Items"}),e.jsxs(T,{variant:"outline",size:"sm",onClick:()=>m.mutate(),disabled:m.isPending,children:[e.jsx(Er,{className:"h-4 w-4 mr-2"}),"Clear Cart"]})]}),l.map(b=>{const N=b.product.discountedPrice||b.product.price,w=b.product.price,C=b.product.discountedPrice&&b.product.discountedPrice<w;return e.jsx(E,{children:e.jsx(D,{className:"p-4",children:e.jsxs("div",{className:"flex gap-4",children:[e.jsx("div",{className:"w-20 h-20 bg-muted rounded-lg flex items-center justify-center flex-shrink-0",children:b.product.imageUrl?e.jsx("img",{src:b.product.imageUrl,alt:b.product.name,className:"w-full h-full object-cover rounded-lg"}):e.jsx(pt,{className:"h-8 w-8 text-muted-foreground"})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h3",{className:"font-semibold text-lg",children:b.product.name}),e.jsx("p",{className:"text-sm text-muted-foreground",children:b.product.category}),e.jsxs("p",{className:"text-sm text-muted-foreground",children:["District: ",b.product.district]}),e.jsxs("div",{className:"flex items-center gap-2 mt-2",children:[e.jsxs("span",{className:"font-semibold text-lg",children:["",N]}),C&&e.jsxs("span",{className:"text-sm text-muted-foreground line-through",children:["",w]})]})]}),e.jsxs("div",{className:"flex flex-col items-end gap-2",children:[e.jsx(T,{variant:"outline",size:"sm",onClick:()=>u.mutate(b.productId),disabled:u.isPending,children:e.jsx(Er,{className:"h-4 w-4"})}),e.jsxs("div",{className:"flex items-center border rounded-lg",children:[e.jsx(T,{variant:"ghost",size:"sm",onClick:()=>y(b.productId,b.quantity-1),disabled:d.isPending,children:e.jsx(wc,{className:"h-4 w-4"})}),e.jsx("span",{className:"px-3 py-1 min-w-[3rem] text-center",children:b.quantity}),e.jsx(T,{variant:"ghost",size:"sm",onClick:()=>y(b.productId,b.quantity+1),disabled:d.isPending||b.quantity>=b.product.stock,children:e.jsx(Rt,{className:"h-4 w-4"})})]}),e.jsxs("div",{className:"text-right",children:[e.jsxs("p",{className:"font-semibold",children:["",(N*b.quantity).toFixed(2)]}),e.jsxs("p",{className:"text-xs text-muted-foreground",children:["Stock: ",b.product.stock]})]})]})]})})},b.id)})]}),e.jsx("div",{children:e.jsxs(E,{children:[e.jsx(Y,{children:e.jsx(X,{children:"Order Summary"})}),e.jsxs(D,{className:"space-y-4",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsxs("span",{children:["Subtotal (",l.length," items)"]}),e.jsxs("span",{children:["",g.toFixed(2)]})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"Delivery Fee"}),e.jsx("span",{children:f===0?"Free":`${f}`})]}),f===0&&g>=500&&e.jsx("p",{className:"text-sm text-green-600",children:" You saved 50 on delivery!"}),e.jsx(kr,{}),e.jsxs("div",{className:"flex justify-between font-semibold text-lg",children:[e.jsx("span",{children:"Total"}),e.jsxs("span",{children:["",p.toFixed(2)]})]}),e.jsxs(kt,{open:s,onOpenChange:n,children:[e.jsx(ls,{asChild:!0,children:e.jsxs(T,{className:"w-full",size:"lg",onClick:v,children:[e.jsx(ia,{className:"h-4 w-4 mr-2"}),"Proceed to Checkout"]})}),e.jsxs(St,{className:"max-w-md",children:[e.jsxs(Ct,{children:[e.jsx(Pt,{children:"Checkout"}),e.jsx(Yt,{children:"Please provide your delivery details to complete the order."})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx(se,{htmlFor:"address",children:"Shipping Address *"}),e.jsx(at,{id:"address",placeholder:"Enter your complete address",value:a.shippingAddress,onChange:b=>i(N=>({...N,shippingAddress:b.target.value}))})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(se,{htmlFor:"district",children:"District *"}),e.jsx($,{id:"district",placeholder:"District",value:a.district,onChange:b=>i(N=>({...N,district:b.target.value}))})]}),e.jsxs("div",{children:[e.jsx(se,{htmlFor:"taluk",children:"Taluk"}),e.jsx($,{id:"taluk",placeholder:"Taluk",value:a.taluk,onChange:b=>i(N=>({...N,taluk:b.target.value}))})]})]}),e.jsxs("div",{children:[e.jsx(se,{htmlFor:"pincode",children:"Pincode *"}),e.jsx($,{id:"pincode",placeholder:"Pincode",value:a.pincode,onChange:b=>i(N=>({...N,pincode:b.target.value}))})]}),e.jsxs("div",{children:[e.jsx(se,{htmlFor:"payment",children:"Payment Method"}),e.jsxs(je,{value:a.paymentMethod,onValueChange:b=>i(N=>({...N,paymentMethod:b})),children:[e.jsx(ge,{children:e.jsx(be,{})}),e.jsxs(ve,{children:[e.jsx(O,{value:"cash",children:"Cash on Delivery"}),e.jsx(O,{value:"wallet",children:"Wallet"}),e.jsx(O,{value:"online",children:"Online Payment"})]})]})]}),e.jsxs("div",{children:[e.jsx(se,{htmlFor:"notes",children:"Additional Notes"}),e.jsx(at,{id:"notes",placeholder:"Any special instructions (optional)",value:a.notes,onChange:b=>i(N=>({...N,notes:b.target.value}))})]}),e.jsxs("div",{className:"border rounded-lg p-3 bg-muted/50",children:[e.jsxs("h4",{className:"font-semibold mb-2",children:["Order Total: ",p.toFixed(2)]}),e.jsxs("p",{className:"text-sm text-muted-foreground",children:[l.length," items  ",f===0?"Free delivery":`${f} delivery`]})]}),e.jsx(T,{onClick:x,className:"w-full",disabled:h.isPending,children:h.isPending?"Placing Order...":"Place Order"})]})]})]})]})]})})]})]})}function c5e(){const[t,r]=j.useState("all"),[s,n]=j.useState("all"),[a,i]=j.useState(""),[l,o]=j.useState("all"),[c,d]=j.useState("all"),[u,m]=j.useState("all"),[h,g]=j.useState(null),[f,p]=j.useState({}),{toast:y}=Be(),{data:v=[]}=fe({queryKey:["/api/local-product-categories"]}),{data:x=[]}=fe({queryKey:["/api/local-product-subcategories"]}),{data:b=[],isLoading:N}=fe({queryKey:["/api/local-product-views"],onSuccess:k=>{console.log("Products received:",k),k.forEach(I=>{console.log(`Product: ${I.name}, category: ${I.category}, subcategory: ${I.subcategory}`)})}}),w=t==="all"?x:x.filter(k=>k.parentCategoryId.toString()===t),C=b.filter(k=>{var Q,H,Z,me,Ne;const I=t==="all"||k.category===((Q=v.find(te=>te.id.toString()===t))==null?void 0:Q.name),L=s==="all"||k.subcategory===((H=x.find(te=>te.id.toString()===s))==null?void 0:H.name);if(s!=="all"){const te=(Z=x.find(Ie=>Ie.id.toString()===s))==null?void 0:Z.name;console.log(`Filtering: product.subcategory="${k.subcategory}", selectedSubcategory="${s}", expectedName="${te}", matches=${L}`)}const K=a===""||((me=k.name)==null?void 0:me.toLowerCase().includes(a.toLowerCase()))||((Ne=k.description)==null?void 0:Ne.toLowerCase().includes(a.toLowerCase())),R=l==="all"||k.district===l,F=u==="all"||k.deliveryOption===u;let W=!0;if(c!=="all"&&k.price){const te=k.discountedPrice||k.price;switch(c){case"0-100":W=te<=100;break;case"100-500":W=te>100&&te<=500;break;case"500-1000":W=te>500&&te<=1e3;break;case"1000+":W=te>1e3;break}}return I&&L&&K&&R&&F&&W}),P=Array.from(new Set(b.map(k=>k.district).filter(Boolean))),S=async(k,I=1)=>{try{await le("POST","/api/local-product-cart",{productId:k,quantity:I}),p(L=>({...L,[k]:(L[k]||0)+I})),pe.invalidateQueries({queryKey:["/api/local-product-cart"]}),y({title:"Added to Cart",description:"Product added to your cart successfully"})}catch{y({title:"Error",description:"Failed to add product to cart",variant:"destructive"})}},A=async(k,I)=>{if(I<=0)try{await le("DELETE",`/api/local-product-cart/${k}`);const L={...f};delete L[k],p(L),pe.invalidateQueries({queryKey:["/api/local-product-cart"]}),y({title:"Removed from Cart",description:"Product removed from your cart"})}catch{y({title:"Error",description:"Failed to remove product from cart",variant:"destructive"})}else try{await le("PUT",`/api/local-product-cart/${k}`,{quantity:I}),p(L=>({...L,[k]:I})),pe.invalidateQueries({queryKey:["/api/local-product-cart"]})}catch{y({title:"Error",description:"Failed to update cart quantity",variant:"destructive"})}};return N?e.jsx("div",{className:"container mx-auto px-4 py-8",children:e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[...Array(6)].map((k,I)=>e.jsxs(E,{className:"animate-pulse",children:[e.jsx("div",{className:"h-48 bg-gray-200 rounded-t-lg"}),e.jsxs(Y,{children:[e.jsx("div",{className:"h-4 bg-gray-200 rounded w-3/4"}),e.jsx("div",{className:"h-3 bg-gray-200 rounded w-1/2"})]})]},I))})}):e.jsxs("div",{className:"container mx-auto px-4 py-8",children:[e.jsxs("div",{className:"flex flex-col space-y-6",children:[e.jsx("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between space-y-4 md:space-y-0",children:e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Local Products"}),e.jsx("p",{className:"text-gray-600",children:"Browse authentic local products from verified providers"})]})}),e.jsxs(E,{children:[e.jsx(Y,{children:e.jsxs(X,{className:"flex items-center gap-2",children:[e.jsx(Bc,{className:"h-5 w-5"}),"Filters"]})}),e.jsx(D,{children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-sm font-medium",children:"Search"}),e.jsxs("div",{className:"relative",children:[e.jsx(es,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),e.jsx($,{placeholder:"Search products...",value:a,onChange:k=>i(k.target.value),className:"pl-10"})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-sm font-medium",children:"Category"}),e.jsxs(je,{value:t,onValueChange:k=>{r(k),n("all")},children:[e.jsx(ge,{children:e.jsx(be,{placeholder:"All Categories"})}),e.jsxs(ve,{children:[e.jsx(O,{value:"all",children:"All Categories"}),v.map(k=>e.jsx(O,{value:k.id.toString(),children:k.name},k.id))]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-sm font-medium",children:"Subcategory"}),e.jsxs(je,{value:s,onValueChange:n,children:[e.jsx(ge,{children:e.jsx(be,{placeholder:"All Subcategories"})}),e.jsxs(ve,{children:[e.jsx(O,{value:"all",children:"All Subcategories"}),w.map(k=>e.jsx(O,{value:k.id.toString(),children:k.name},k.id))]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-sm font-medium",children:"District"}),e.jsxs(je,{value:l,onValueChange:o,children:[e.jsx(ge,{children:e.jsx(be,{placeholder:"All Districts"})}),e.jsxs(ve,{children:[e.jsx(O,{value:"all",children:"All Districts"}),P.map(k=>e.jsx(O,{value:k,children:k},k))]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-sm font-medium",children:"Price Range"}),e.jsxs(je,{value:c,onValueChange:d,children:[e.jsx(ge,{children:e.jsx(be,{placeholder:"All Prices"})}),e.jsxs(ve,{children:[e.jsx(O,{value:"all",children:"All Prices"}),e.jsx(O,{value:"0-100",children:"0 - 100"}),e.jsx(O,{value:"100-500",children:"100 - 500"}),e.jsx(O,{value:"500-1000",children:"500 - 1,000"}),e.jsx(O,{value:"1000+",children:"1,000+"})]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-sm font-medium",children:"Delivery"}),e.jsxs(je,{value:u,onValueChange:m,children:[e.jsx(ge,{children:e.jsx(be,{placeholder:"All Options"})}),e.jsxs(ve,{children:[e.jsx(O,{value:"all",children:"All Options"}),e.jsx(O,{value:"direct",children:"Direct Only"}),e.jsx(O,{value:"service",children:"Service Only"}),e.jsx(O,{value:"both",children:"Both Options"})]})]})]})]})})]}),e.jsx("div",{className:"flex items-center justify-between",children:e.jsxs("p",{className:"text-sm text-gray-600",children:["Showing ",C.length," of ",b.length," products"]})}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:C.map(k=>e.jsxs(E,{className:"hover:shadow-lg transition-shadow",children:[e.jsxs("div",{className:"relative",children:[k.imageUrl?e.jsx("img",{src:k.imageUrl,alt:k.name,className:"w-full h-48 object-cover rounded-t-lg"}):e.jsx("div",{className:"w-full h-48 bg-gray-200 rounded-t-lg flex items-center justify-center",children:e.jsx(pt,{className:"h-12 w-12 text-gray-400"})}),k.stock&&k.stock>0?e.jsxs(ae,{className:"absolute top-2 right-2 bg-green-500",children:["In Stock (",k.stock,")"]}):e.jsx(ae,{className:"absolute top-2 right-2 bg-red-500",children:"Out of Stock"})]}),e.jsxs(Y,{children:[e.jsx(X,{className:"text-lg",children:k.name}),e.jsx(he,{className:"line-clamp-2",children:k.description})]}),e.jsx(D,{children:e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(ft,{className:"h-4 w-4 text-gray-400"}),e.jsx("span",{className:"text-sm text-gray-600",children:k.district})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("div",{className:"flex items-center gap-2",children:k.discountedPrice&&k.price&&k.discountedPrice<k.price?e.jsxs(e.Fragment,{children:[e.jsxs("span",{className:"text-lg font-bold text-green-600",children:["",k.discountedPrice]}),e.jsxs("span",{className:"text-sm text-gray-500 line-through",children:["",k.price]})]}):e.jsxs("span",{className:"text-lg font-bold text-gray-900",children:["",k.price||0]})}),e.jsx(ae,{variant:"outline",children:k.category})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(T,{variant:"outline",size:"sm",onClick:()=>g(k),children:"View Details"}),f[k.id]?e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(T,{variant:"outline",size:"sm",onClick:()=>A(k.id,f[k.id]-1),children:e.jsx(wc,{className:"h-4 w-4"})}),e.jsx("span",{className:"text-sm font-medium",children:f[k.id]}),e.jsx(T,{variant:"outline",size:"sm",onClick:()=>A(k.id,f[k.id]+1),disabled:!k.stock||f[k.id]>=k.stock,children:e.jsx(Rt,{className:"h-4 w-4"})})]}):e.jsxs(T,{size:"sm",onClick:()=>S(k.id),disabled:!k.stock||k.stock<=0,className:"flex items-center gap-2",children:[e.jsx(Pr,{className:"h-4 w-4"}),"Add to Cart"]})]})]})})]},k.id))}),C.length===0&&e.jsx(E,{children:e.jsxs(D,{className:"text-center py-8",children:[e.jsx(pt,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No products found"}),e.jsx("p",{className:"text-gray-600",children:"Try adjusting your filters to see more results."})]})})]}),h&&e.jsx(kt,{open:!!h,onOpenChange:()=>g(null),children:e.jsxs(St,{className:"max-w-2xl max-h-[80vh] overflow-y-auto",children:[e.jsxs(Ct,{children:[e.jsx(Pt,{children:h.name}),e.jsx(Yt,{children:"Product details and specifications"})]}),e.jsxs("div",{className:"space-y-6",children:[h.imageUrl&&e.jsx("img",{src:h.imageUrl,alt:h.name,className:"w-full h-64 object-cover rounded-lg"}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium text-gray-900 mb-2",children:"Price"}),e.jsx("div",{className:"flex items-center gap-2",children:h.discountedPrice&&h.price&&h.discountedPrice<h.price?e.jsxs(e.Fragment,{children:[e.jsxs("span",{className:"text-xl font-bold text-green-600",children:["",h.discountedPrice]}),e.jsxs("span",{className:"text-sm text-gray-500 line-through",children:["",h.price]})]}):e.jsxs("span",{className:"text-xl font-bold text-gray-900",children:["",h.price||0]})})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium text-gray-900 mb-2",children:"Stock"}),e.jsxs("p",{className:"text-gray-600",children:[h.stock||0," units available"]})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium text-gray-900 mb-2",children:"Location"}),e.jsx("p",{className:"text-gray-600",children:h.district})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium text-gray-900 mb-2",children:"Delivery"}),e.jsx("p",{className:"text-gray-600 capitalize",children:h.deliveryOption||"Contact seller"})]})]}),h.description&&e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium text-gray-900 mb-2",children:"Description"}),e.jsx("p",{className:"text-gray-600",children:h.description})]}),h.specifications&&Object.keys(h.specifications).length>0&&e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium text-gray-900 mb-2",children:"Specifications"}),e.jsx("div",{className:"bg-gray-50 rounded-lg p-4",children:Object.entries(h.specifications).map(([k,I])=>e.jsxs("div",{className:"flex justify-between py-1",children:[e.jsxs("span",{className:"text-sm text-gray-600 capitalize",children:[k,":"]}),e.jsx("span",{className:"text-sm text-gray-900",children:String(I)})]},k))})]}),e.jsxs("div",{className:"flex justify-end gap-3",children:[e.jsx(T,{variant:"outline",onClick:()=>g(null),children:"Close"}),f[h.id]?e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(T,{variant:"outline",onClick:()=>A(h.id,f[h.id]-1),children:e.jsx(wc,{className:"h-4 w-4"})}),e.jsx("span",{className:"text-sm font-medium",children:f[h.id]}),e.jsx(T,{variant:"outline",onClick:()=>A(h.id,f[h.id]+1),disabled:!h.stock||f[h.id]>=h.stock,children:e.jsx(Rt,{className:"h-4 w-4"})})]}):e.jsxs(T,{onClick:()=>S(h.id),disabled:!h.stock||h.stock<=0,className:"flex items-center gap-2",children:[e.jsx(Pr,{className:"h-4 w-4"}),"Add to Cart"]})]})]})]})})]})}const d5e=_.object({description:_.string().min(10,"Description must be at least 10 characters"),price:_.coerce.number().positive("Price must be positive"),discountedPrice:_.coerce.number().positive("Discounted price must be positive").optional().or(_.literal("")),stock:_.coerce.number().int().nonnegative("Stock must be a non-negative integer"),district:_.string().min(1,"District is required"),imageUrl:_.string().url("Please enter a valid URL").optional().or(_.literal("")),deliveryOption:_.enum(["direct","service","both"]),availableAreas:_.string().optional(),isDraft:_.boolean().default(!0)});function u5e(){const{id:t}=Gy(),{toast:r}=Be(),[,s]=xr(),[n,a]=j.useState(!1),i=parseInt(t),{data:l,isLoading:o}=fe({queryKey:[`/api/admin/local-product-bases/${i}`],queryFn:async()=>{const g=await fetch(`/api/admin/local-product-bases/${i}`);if(!g.ok)throw new Error("Failed to fetch base product");return g.json()}}),{data:c,isLoading:d}=fe({queryKey:[`/api/admin/local-product-details/${i}`],queryFn:async()=>{try{const g=await fetch(`/api/admin/local-product-details/${i}`);if(g.status===404)return null;if(!g.ok)throw new Error("Failed to fetch product details");return g.json()}catch(g){if(g instanceof Error&&g.message.includes("404"))return null;throw g}}}),u=Ht({resolver:Wt(d5e),defaultValues:{description:"",price:0,discountedPrice:"",stock:0,district:"",imageUrl:"",deliveryOption:"both",availableAreas:"",isDraft:!0}});j.useEffect(()=>{c&&u.reset({description:c.description||"",price:c.price||0,discountedPrice:c.discountedPrice||"",stock:c.stock||0,district:c.district||"",imageUrl:c.imageUrl||"",deliveryOption:c.deliveryOption||"both",availableAreas:c.availableAreas||"",isDraft:c.isDraft??!0})},[c,u]);const m=async g=>{a(!0);try{c?(await le("PUT",`/api/admin/local-product-details/${c.id}`,g),r({title:"Product details updated",description:"The product details have been updated successfully."})):(await le("POST","/api/admin/local-product-details",{...g,productId:i}),r({title:"Product details added",description:"The product details have been added successfully."})),s("/admin/local-products")}catch(f){console.error("Error saving product details:",f),r({variant:"destructive",title:"Failed to save product details",description:"An error occurred while saving the product details."})}finally{a(!1)}},h=async()=>{if(l)try{await le("POST",`/api/admin/local-products/${i}/publish`),r({title:"Product published",description:"The product has been published successfully."}),pe.invalidateQueries({queryKey:[`/api/admin/local-product-details/${i}`]}),s("/admin/local-products")}catch(g){console.error("Error publishing product:",g),r({variant:"destructive",title:"Failed to publish product",description:"An error occurred while publishing the product."})}};return o||d?e.jsx("div",{className:"flex justify-center items-center h-screen",children:e.jsx(Ye,{className:"h-8 w-8 animate-spin"})}):l?e.jsxs("div",{className:"container mx-auto py-8",children:[e.jsxs("div",{className:"mb-6",children:[e.jsxs(T,{variant:"outline",className:"mb-4",onClick:()=>s("/admin/local-products"),children:[e.jsx(is,{className:"mr-2 h-4 w-4"})," Back to Products"]}),e.jsxs("div",{className:"flex items-center",children:[e.jsxs("h1",{className:"text-3xl font-bold mr-4",children:[c?"Edit":"Add"," Product Details"]}),e.jsx(ae,{variant:"outline",className:"ml-2",children:l.adminApproved?"Approved":"Pending Approval"}),(c==null?void 0:c.isDraft)&&e.jsx(ae,{variant:"secondary",className:"ml-2",children:"Draft"})]}),e.jsxs("p",{className:"text-muted-foreground mt-2",children:["Product: ",l.name," (Category: ",l.category,")"]})]}),e.jsxs(E,{className:"max-w-2xl mx-auto",children:[e.jsxs(Y,{children:[e.jsx(X,{children:"Step 2: Product Details"}),e.jsx(he,{children:"Add detailed information about the product."})]}),e.jsx(D,{children:e.jsx(Gt,{...u,children:e.jsxs("form",{onSubmit:u.handleSubmit(m),className:"space-y-6",children:[e.jsx(q,{control:u.control,name:"description",render:({field:g})=>e.jsxs(B,{children:[e.jsx(V,{children:"Description"}),e.jsx(U,{children:e.jsx(at,{placeholder:"Enter a detailed description of the product",className:"min-h-32",...g})}),e.jsx(Ue,{children:"Provide a detailed description of the product"}),e.jsx(z,{})]})}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsx(q,{control:u.control,name:"price",render:({field:g})=>e.jsxs(B,{children:[e.jsx(V,{children:"Price ()"}),e.jsx(U,{children:e.jsx($,{type:"number",placeholder:"Enter price",step:"0.01",...g})}),e.jsx(Ue,{children:"Regular price"}),e.jsx(z,{})]})}),e.jsx(q,{control:u.control,name:"discountedPrice",render:({field:g})=>e.jsxs(B,{children:[e.jsx(V,{children:"Discounted Price ()"}),e.jsx(U,{children:e.jsx($,{type:"number",placeholder:"Enter discounted price (optional)",step:"0.01",...g})}),e.jsx(Ue,{children:"Special or sale price (optional)"}),e.jsx(z,{})]})})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsx(q,{control:u.control,name:"stock",render:({field:g})=>e.jsxs(B,{children:[e.jsx(V,{children:"Stock"}),e.jsx(U,{children:e.jsx($,{type:"number",placeholder:"Enter stock quantity",...g})}),e.jsx(Ue,{children:"Available quantity"}),e.jsx(z,{})]})}),e.jsx(q,{control:u.control,name:"district",render:({field:g})=>e.jsxs(B,{children:[e.jsx(V,{children:"District"}),e.jsxs(je,{onValueChange:g.onChange,defaultValue:g.value,children:[e.jsx(U,{children:e.jsx(ge,{children:e.jsx(be,{placeholder:"Select district"})})}),e.jsxs(ve,{children:[e.jsx(O,{value:"Chennai",children:"Chennai"}),e.jsx(O,{value:"Coimbatore",children:"Coimbatore"}),e.jsx(O,{value:"Madurai",children:"Madurai"}),e.jsx(O,{value:"Trichy",children:"Trichy"}),e.jsx(O,{value:"Salem",children:"Salem"}),e.jsx(O,{value:"Tirunelveli",children:"Tirunelveli"}),e.jsx(O,{value:"Erode",children:"Erode"}),e.jsx(O,{value:"Vellore",children:"Vellore"}),e.jsx(O,{value:"Thanjavur",children:"Thanjavur"}),e.jsx(O,{value:"Dindigul",children:"Dindigul"}),e.jsx(O,{value:"other",children:"Other"})]})]}),e.jsx(Ue,{children:"District where the product is produced/available"}),e.jsx(z,{})]})})]}),e.jsx(q,{control:u.control,name:"imageUrl",render:({field:g})=>e.jsxs(B,{children:[e.jsx(V,{children:"Image URL"}),e.jsx(U,{children:e.jsx($,{placeholder:"Enter image URL",...g})}),e.jsx(Ue,{children:"URL to an image of the product (optional)"}),e.jsx(z,{})]})}),e.jsx(q,{control:u.control,name:"deliveryOption",render:({field:g})=>e.jsxs(B,{children:[e.jsx(V,{children:"Delivery Options"}),e.jsxs(je,{onValueChange:g.onChange,defaultValue:g.value,children:[e.jsx(U,{children:e.jsx(ge,{children:e.jsx(be,{placeholder:"Select delivery option"})})}),e.jsxs(ve,{children:[e.jsx(O,{value:"direct",children:"Direct (manufacturer delivers)"}),e.jsx(O,{value:"service",children:"Service (our service agents deliver)"}),e.jsx(O,{value:"both",children:"Both options available"})]})]}),e.jsx(Ue,{children:"How the product will be delivered"}),e.jsx(z,{})]})}),e.jsx(q,{control:u.control,name:"availableAreas",render:({field:g})=>e.jsxs(B,{children:[e.jsx(V,{children:"Available Areas"}),e.jsx(U,{children:e.jsx($,{placeholder:"Enter comma-separated areas (pincodes, city names)",...g})}),e.jsx(Ue,{children:"Areas where the product is available (optional)"}),e.jsx(z,{})]})}),e.jsx(q,{control:u.control,name:"isDraft",render:({field:g})=>e.jsxs(B,{className:"flex flex-row items-start space-x-3 space-y-0 rounded-md border p-4",children:[e.jsx(U,{children:e.jsx(xn,{checked:g.value,onCheckedChange:g.onChange})}),e.jsxs("div",{className:"space-y-1 leading-none",children:[e.jsx(V,{children:"Save as Draft"}),e.jsx(Ue,{children:"Save as a draft to edit later before publishing"})]})]})}),e.jsxs(mr,{className:"flex justify-between pt-6 px-0",children:[e.jsx(T,{type:"button",variant:"outline",onClick:()=>s("/admin/local-products"),children:"Cancel"}),e.jsxs("div",{className:"space-x-2",children:[c&&c.isDraft&&e.jsx(T,{type:"button",variant:"secondary",onClick:h,disabled:n,children:"Publish"}),e.jsx(T,{type:"submit",disabled:n,children:n?"Saving...":"Save Details"})]})]})]})})})]})]}):e.jsx("div",{className:"container mx-auto py-8",children:e.jsxs("div",{className:"text-center",children:[e.jsx("h2",{className:"text-2xl font-bold mb-4",children:"Product Not Found"}),e.jsx("p",{className:"mb-4",children:"The product you're looking for doesn't exist."}),e.jsx(T,{onClick:()=>s("/admin/local-products"),children:"Back to Products"})]})})}function m5e(){const{user:t}=dt(),{toast:r}=Be(),[s,n]=j.useState("categories"),[a,i]=j.useState(null),[l,o]=j.useState(null),[c,d]=j.useState(!1),[u,m]=j.useState(!1),{data:h=[],isLoading:g}=fe({queryKey:["/api/admin/local-product-categories"]}),{data:f=[],isLoading:p}=fe({queryKey:["/api/admin/local-product-subcategories"]}),{data:y=[],isLoading:v}=fe({queryKey:["/api/admin/local-product-category-requests"]}),x=Se({mutationFn:async P=>await(await le("POST","/api/admin/local-product-categories",P)).json(),onSuccess:()=>{r({title:"Category Created",description:"Local product category has been created successfully."}),pe.invalidateQueries({queryKey:["/api/admin/local-product-categories"]}),d(!1)},onError:P=>{r({title:"Creation Failed",description:P.message,variant:"destructive"})}}),b=Se({mutationFn:async P=>await(await le("POST","/api/admin/local-product-subcategories",P)).json(),onSuccess:()=>{r({title:"Subcategory Created",description:"Local product subcategory has been created successfully."}),pe.invalidateQueries({queryKey:["/api/admin/local-product-subcategories"]}),m(!1)},onError:P=>{r({title:"Creation Failed",description:P.message,variant:"destructive"})}});Se({mutationFn:async({id:P,data:S})=>await(await le("PUT",`/api/admin/local-product-categories/${P}`,S)).json(),onSuccess:()=>{r({title:"Category Updated",description:"Local product category has been updated successfully."}),pe.invalidateQueries({queryKey:["/api/admin/local-product-categories"]}),i(null)},onError:P=>{r({title:"Update Failed",description:P.message,variant:"destructive"})}});const N=Se({mutationFn:async({id:P,action:S,response:A})=>await(await le("PUT",`/api/admin/local-product-category-requests/${P}/review`,{action:S,adminResponse:A})).json(),onSuccess:()=>{r({title:"Request Reviewed",description:"Category request has been reviewed successfully."}),pe.invalidateQueries({queryKey:["/api/admin/local-product-category-requests"]})},onError:P=>{r({title:"Review Failed",description:P.message,variant:"destructive"})}}),w=P=>{const S={name:P.get("name"),description:P.get("description"),icon:P.get("icon"),color:P.get("color"),imageUrl:P.get("imageUrl"),isActive:P.get("isActive")==="on",displayOrder:parseInt(P.get("displayOrder"))||0};x.mutate(S)},C=P=>{const S={name:P.get("name"),description:P.get("description"),parentCategoryId:parseInt(P.get("parentCategoryId")),imageUrl:P.get("imageUrl"),isActive:P.get("isActive")==="on",displayOrder:parseInt(P.get("displayOrder"))||0};b.mutate(S)};return!t||t.userType!=="admin"?e.jsx("div",{className:"container mx-auto px-4 py-8",children:e.jsxs("div",{className:"text-center",children:[e.jsx("h1",{className:"text-2xl font-bold text-red-600",children:"Access Denied"}),e.jsx("p",{className:"text-gray-600 mt-2",children:"You don't have permission to access this page."})]})}):e.jsxs("div",{className:"container mx-auto px-4 py-8",children:[e.jsxs("div",{className:"mb-8",children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Local Product Categories"}),e.jsx("p",{className:"text-gray-600",children:"Manage categories and subcategories for local products"})]}),e.jsxs(rr,{value:s,onValueChange:n,className:"space-y-6",children:[e.jsxs(tr,{className:"grid w-full grid-cols-3",children:[e.jsx(ke,{value:"categories",children:"Categories"}),e.jsx(ke,{value:"subcategories",children:"Subcategories"}),e.jsxs(ke,{value:"requests",className:"relative",children:["Requests",y.filter(P=>P.status==="pending").length>0&&e.jsx(ae,{variant:"destructive",className:"ml-2 h-5 w-5 p-0 text-xs",children:y.filter(P=>P.status==="pending").length})]})]}),e.jsxs(Le,{value:"categories",className:"space-y-6",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("h2",{className:"text-xl font-semibold",children:["Categories (",h.length,")"]}),e.jsxs(kt,{open:c,onOpenChange:d,children:[e.jsx(ls,{asChild:!0,children:e.jsxs(T,{children:[e.jsx(Rt,{className:"w-4 h-4 mr-2"}),"Add Category"]})}),e.jsxs(St,{children:[e.jsx(Ct,{children:e.jsx(Pt,{children:"Create New Category"})}),e.jsxs("form",{onSubmit:P=>{P.preventDefault(),w(new FormData(P.currentTarget))},className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx(se,{htmlFor:"name",children:"Category Name"}),e.jsx($,{id:"name",name:"name",required:!0})]}),e.jsxs("div",{children:[e.jsx(se,{htmlFor:"description",children:"Description"}),e.jsx(at,{id:"description",name:"description"})]}),e.jsxs("div",{children:[e.jsx(se,{htmlFor:"icon",children:"Icon (emoji or icon code)"}),e.jsx($,{id:"icon",name:"icon",placeholder:""})]}),e.jsxs("div",{children:[e.jsx(se,{htmlFor:"color",children:"Color"}),e.jsx($,{id:"color",name:"color",placeholder:"blue"})]}),e.jsxs("div",{children:[e.jsx(se,{htmlFor:"imageUrl",children:"Image URL"}),e.jsx($,{id:"imageUrl",name:"imageUrl",type:"url"})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ds,{id:"isActive",name:"isActive",defaultChecked:!0}),e.jsx(se,{htmlFor:"isActive",children:"Active"})]}),e.jsxs("div",{children:[e.jsx(se,{htmlFor:"displayOrder",children:"Display Order"}),e.jsx($,{id:"displayOrder",name:"displayOrder",type:"number",defaultValue:"0"})]}),e.jsx(T,{type:"submit",disabled:x.isPending,children:x.isPending?"Creating...":"Create Category"})]})]})]})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:h.map(P=>e.jsxs(E,{children:[e.jsx(Y,{children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs(X,{className:"flex items-center gap-2",children:[P.icon&&e.jsx("span",{children:P.icon}),P.name]}),e.jsxs("div",{className:"flex items-center gap-2",children:[P.isActive?e.jsx(fr,{className:"w-4 h-4 text-green-600"}):e.jsx(_w,{className:"w-4 h-4 text-gray-400"}),e.jsx(T,{variant:"ghost",size:"sm",onClick:()=>i(P),children:e.jsx(Gr,{className:"w-4 h-4"})})]})]})}),e.jsxs(D,{children:[e.jsx("p",{className:"text-gray-600 text-sm mb-2",children:P.description}),e.jsxs("div",{className:"flex justify-between text-xs text-gray-500",children:[e.jsxs("span",{children:["Order: ",P.displayOrder]}),e.jsxs("span",{children:[f.filter(S=>S.parentCategoryId===P.id).length," subcategories"]})]})]})]},P.id))})]}),e.jsxs(Le,{value:"subcategories",className:"space-y-6",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("h2",{className:"text-xl font-semibold",children:["Subcategories (",f.length,")"]}),e.jsxs(kt,{open:u,onOpenChange:m,children:[e.jsx(ls,{asChild:!0,children:e.jsxs(T,{children:[e.jsx(Rt,{className:"w-4 h-4 mr-2"}),"Add Subcategory"]})}),e.jsxs(St,{children:[e.jsx(Ct,{children:e.jsx(Pt,{children:"Create New Subcategory"})}),e.jsxs("form",{onSubmit:P=>{P.preventDefault(),C(new FormData(P.currentTarget))},className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx(se,{htmlFor:"parentCategoryId",children:"Parent Category"}),e.jsxs(je,{name:"parentCategoryId",required:!0,children:[e.jsx(ge,{children:e.jsx(be,{placeholder:"Select parent category"})}),e.jsx(ve,{children:h.filter(P=>P.isActive).map(P=>e.jsxs(O,{value:P.id.toString(),children:[P.icon," ",P.name]},P.id))})]})]}),e.jsxs("div",{children:[e.jsx(se,{htmlFor:"name",children:"Subcategory Name"}),e.jsx($,{id:"name",name:"name",required:!0})]}),e.jsxs("div",{children:[e.jsx(se,{htmlFor:"description",children:"Description"}),e.jsx(at,{id:"description",name:"description"})]}),e.jsxs("div",{children:[e.jsx(se,{htmlFor:"imageUrl",children:"Image URL"}),e.jsx($,{id:"imageUrl",name:"imageUrl",type:"url"})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ds,{id:"isActive",name:"isActive",defaultChecked:!0}),e.jsx(se,{htmlFor:"isActive",children:"Active"})]}),e.jsxs("div",{children:[e.jsx(se,{htmlFor:"displayOrder",children:"Display Order"}),e.jsx($,{id:"displayOrder",name:"displayOrder",type:"number",defaultValue:"0"})]}),e.jsx(T,{type:"submit",disabled:b.isPending,children:b.isPending?"Creating...":"Create Subcategory"})]})]})]})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:f.map(P=>{const S=h.find(A=>A.id===P.parentCategoryId);return e.jsxs(E,{children:[e.jsx(Y,{children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(X,{className:"text-lg",children:P.name}),e.jsxs("div",{className:"flex items-center gap-2",children:[P.isActive?e.jsx(fr,{className:"w-4 h-4 text-green-600"}):e.jsx(_w,{className:"w-4 h-4 text-gray-400"}),e.jsx(T,{variant:"ghost",size:"sm",onClick:()=>o(P),children:e.jsx(Gr,{className:"w-4 h-4"})})]})]})}),e.jsxs(D,{children:[e.jsx("p",{className:"text-gray-600 text-sm mb-2",children:P.description}),e.jsxs("div",{className:"flex items-center gap-2 text-xs text-gray-500 mb-2",children:[e.jsx(pt,{className:"w-3 h-3"}),e.jsxs("span",{children:["Parent: ",S==null?void 0:S.name]})]}),e.jsxs("div",{className:"text-xs text-gray-500",children:["Order: ",P.displayOrder]})]})]},P.id)})})]}),e.jsxs(Le,{value:"requests",className:"space-y-6",children:[e.jsxs("h2",{className:"text-xl font-semibold",children:["Category Requests (",y.length,")"]}),e.jsxs("div",{className:"space-y-4",children:[y.map(P=>e.jsx(E,{children:e.jsxs(D,{className:"p-6",children:[e.jsxs("div",{className:"flex justify-between items-start mb-4",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold text-lg",children:P.categoryName}),P.subcategoryName&&e.jsxs("p",{className:"text-gray-600",children:["Subcategory: ",P.subcategoryName]}),e.jsxs("p",{className:"text-sm text-gray-500",children:["Requested by: ",P.requesterName,"  ",new Date(P.createdAt).toLocaleDateString()]})]}),e.jsxs(ae,{variant:P.status==="approved"?"default":P.status==="rejected"?"destructive":"secondary",className:"flex items-center gap-1",children:[P.status==="approved"&&e.jsx(Ot,{className:"w-3 h-3"}),P.status==="rejected"&&e.jsx(Mr,{className:"w-3 h-3"}),P.status==="pending"&&e.jsx(gt,{className:"w-3 h-3"}),P.status]})]}),P.description&&e.jsx("div",{className:"mb-3",children:e.jsx("p",{className:"text-sm text-gray-600",children:P.description})}),P.justification&&e.jsxs("div",{className:"mb-4",children:[e.jsx("h4",{className:"text-sm font-medium text-gray-700 mb-1",children:"Justification:"}),e.jsx("p",{className:"text-sm text-gray-600",children:P.justification})]}),P.adminResponse&&e.jsxs("div",{className:"mb-4 p-3 bg-gray-50 rounded",children:[e.jsxs("h4",{className:"text-sm font-medium text-gray-700 mb-1 flex items-center gap-1",children:[e.jsx(hu,{className:"w-3 h-3"}),"Admin Response:"]}),e.jsx("p",{className:"text-sm text-gray-600",children:P.adminResponse})]}),P.status==="pending"&&e.jsxs("div",{className:"flex gap-2 pt-4 border-t",children:[e.jsxs(T,{size:"sm",onClick:()=>N.mutate({id:P.id,action:"approve"}),disabled:N.isPending,children:[e.jsx(Ot,{className:"w-4 h-4 mr-1"}),"Approve"]}),e.jsxs(T,{variant:"destructive",size:"sm",onClick:()=>N.mutate({id:P.id,action:"reject",response:"Request rejected by admin"}),disabled:N.isPending,children:[e.jsx(Mr,{className:"w-4 h-4 mr-1"}),"Reject"]})]})]})},P.id)),y.length===0&&e.jsxs("div",{className:"text-center py-12",children:[e.jsx(pt,{className:"w-16 h-16 mx-auto text-gray-400 mb-4"}),e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No requests found"}),e.jsx("p",{className:"text-gray-500",children:"Category requests from service providers will appear here"})]})]})]})]})]})}function h5e(){const[t,r]=j.useState(null),[s,n]=j.useState(""),{toast:a}=Be(),{data:i=[],isLoading:l,error:o}=fe({queryKey:["/api/admin/service-providers"]});console.log("Service Providers Query:",{providers:i,isLoading:l,error:o});const c=Se({mutationFn:async({id:y,status:v,adminNotes:x})=>(await le("PATCH",`/api/admin/service-providers/${y}/status`,{status:v,adminNotes:x})).json(),onSuccess:()=>{pe.invalidateQueries({queryKey:["/api/admin/service-providers"]}),r(null),n(""),a({title:"Status Updated",description:"Service provider status has been updated successfully."})},onError:y=>{a({title:"Update Failed",description:y.message||"Failed to update status",variant:"destructive"})}}),d=y=>{switch(y){case"pending":return e.jsxs(ae,{variant:"secondary",className:"flex items-center gap-1",children:[e.jsx(gt,{className:"w-3 h-3"})," Pending"]});case"approved":return e.jsxs(ae,{variant:"default",className:"flex items-center gap-1 bg-green-600",children:[e.jsx(Ot,{className:"w-3 h-3"})," Approved"]});case"rejected":return e.jsxs(ae,{variant:"destructive",className:"flex items-center gap-1",children:[e.jsx(Mr,{className:"w-3 h-3"})," Rejected"]});default:return e.jsx(ae,{variant:"outline",children:y})}},u=y=>({farmer:"Farmer",manufacturer:"Manufacturer",recycling_agent:"Recycling Agent",booking_agent:"Booking Agent",rental_provider:"Rental Provider",transport_service:"Transport Service",taxi_service:"Taxi Service"})[y]||y,m=()=>{t&&c.mutate({id:t.id,status:"approved",adminNotes:s})},h=()=>{t&&c.mutate({id:t.id,status:"rejected",adminNotes:s})},g=i.filter(y=>y.status==="pending").length,f=i.filter(y=>y.status==="approved").length,p=i.filter(y=>y.status==="rejected").length;return l?e.jsx("div",{className:"flex items-center justify-center min-h-[400px]",children:e.jsx("div",{className:"animate-spin w-8 h-8 border-4 border-primary border-t-transparent rounded-full"})}):o?e.jsx("div",{className:"container mx-auto p-6",children:e.jsx(E,{children:e.jsx(D,{className:"p-6",children:e.jsxs("div",{className:"text-center",children:[e.jsx(Mr,{className:"mx-auto h-12 w-12 text-red-500 mb-4"}),e.jsx("h3",{className:"text-lg font-semibold text-red-600 mb-2",children:"Error Loading Service Providers"}),e.jsx("p",{className:"text-gray-600",children:o instanceof Error?o.message:"Unable to load service provider registrations"})]})})})}):e.jsxs("div",{className:"container mx-auto p-6 space-y-6",children:[e.jsx("div",{className:"flex items-center justify-between",children:e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold",children:"Service Provider Management"}),e.jsx("p",{className:"text-muted-foreground",children:"Review and approve service provider registrations"})]})}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[e.jsx(E,{children:e.jsx(D,{className:"p-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-muted-foreground",children:"Total Providers"}),e.jsx("p",{className:"text-2xl font-bold",children:i.length})]}),e.jsx(vn,{className:"w-8 h-8 text-blue-600"})]})})}),e.jsx(E,{children:e.jsx(D,{className:"p-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-muted-foreground",children:"Pending Review"}),e.jsx("p",{className:"text-2xl font-bold text-orange-600",children:g})]}),e.jsx(gt,{className:"w-8 h-8 text-orange-600"})]})})}),e.jsx(E,{children:e.jsx(D,{className:"p-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-muted-foreground",children:"Approved"}),e.jsx("p",{className:"text-2xl font-bold text-green-600",children:f})]}),e.jsx(Ot,{className:"w-8 h-8 text-green-600"})]})})}),e.jsx(E,{children:e.jsx(D,{className:"p-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-muted-foreground",children:"Rejected"}),e.jsx("p",{className:"text-2xl font-bold text-red-600",children:p})]}),e.jsx(Mr,{className:"w-8 h-8 text-red-600"})]})})})]}),e.jsxs(E,{children:[e.jsx(Y,{children:e.jsx(X,{children:"Service Provider Registrations"})}),e.jsx(D,{children:e.jsxs(Ur,{children:[e.jsx(qr,{children:e.jsxs(mt,{children:[e.jsx(xe,{children:"User Details"}),e.jsx(xe,{children:"Business Info"}),e.jsx(xe,{children:"Provider Type"}),e.jsx(xe,{children:"Location"}),e.jsx(xe,{children:"Status"}),e.jsx(xe,{children:"Registration Date"}),e.jsx(xe,{children:"Actions"})]})}),e.jsx(zr,{children:i.map(y=>e.jsxs(mt,{children:[e.jsx(ne,{children:e.jsxs("div",{className:"space-y-1",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(zs,{className:"w-4 h-4 text-muted-foreground"}),e.jsx("span",{className:"font-medium",children:y.fullName})]}),e.jsxs("div",{className:"text-sm text-muted-foreground",children:["@",y.username]})]})}),e.jsx(ne,{children:e.jsxs("div",{className:"space-y-1",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(vn,{className:"w-4 h-4 text-muted-foreground"}),e.jsx("span",{className:"font-medium",children:y.businessName})]}),e.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[e.jsx(Oo,{className:"w-3 h-3"}),e.jsx("span",{children:y.phone})]}),e.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[e.jsx(tj,{className:"w-3 h-3"}),e.jsx("span",{children:y.email})]})]})}),e.jsx(ne,{children:e.jsx(ae,{variant:"outline",children:u(y.providerType)})}),e.jsx(ne,{children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(ft,{className:"w-4 h-4 text-muted-foreground"}),e.jsx("span",{children:y.district})]})}),e.jsx(ne,{children:d(y.status)}),e.jsx(ne,{children:e.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[e.jsx(Xt,{className:"w-4 h-4"}),e.jsx("span",{children:new Date(y.createdAt).toLocaleDateString()})]})}),e.jsx(ne,{children:e.jsx(T,{variant:"outline",size:"sm",onClick:()=>{r(y),n(y.adminNotes||"")},children:"Review"})})]},y.id))})]})})]}),e.jsx(kt,{open:!!t,onOpenChange:()=>r(null),children:e.jsxs(St,{className:"max-w-2xl",children:[e.jsx(Ct,{children:e.jsx(Pt,{children:"Review Service Provider Registration"})}),t&&e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Full Name"}),e.jsx("p",{className:"text-sm",children:t.fullName})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Username"}),e.jsxs("p",{className:"text-sm",children:["@",t.username]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Business Name"}),e.jsx("p",{className:"text-sm",children:t.businessName})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Provider Type"}),e.jsx("p",{className:"text-sm",children:u(t.providerType)})]})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Phone"}),e.jsx("p",{className:"text-sm",children:t.phone})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Email"}),e.jsx("p",{className:"text-sm",children:t.email})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"District"}),e.jsx("p",{className:"text-sm",children:t.district})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Current Status"}),e.jsx("div",{className:"mt-1",children:d(t.status)})]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-sm font-medium",children:"Admin Notes"}),e.jsx(at,{value:s,onChange:y=>n(y.target.value),placeholder:"Add notes about your decision...",rows:4})]}),t.adminNotes&&e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Previous Admin Notes"}),e.jsx("div",{className:"bg-muted p-3 rounded-lg text-sm",children:t.adminNotes})]}),e.jsxs("div",{className:"flex justify-end gap-3",children:[e.jsx(T,{variant:"outline",onClick:()=>r(null),disabled:c.isPending,children:"Cancel"}),t.status==="pending"&&e.jsxs(e.Fragment,{children:[e.jsxs(T,{variant:"destructive",onClick:h,disabled:c.isPending,className:"flex items-center gap-2",children:[e.jsx(Mr,{className:"w-4 h-4"}),"Reject"]}),e.jsxs(T,{onClick:m,disabled:c.isPending,className:"flex items-center gap-2",children:[e.jsx(Ot,{className:"w-4 h-4"}),"Approve"]})]}),t.status!=="pending"&&e.jsx(T,{variant:"outline",onClick:()=>{c.mutate({id:t.id,status:"pending",adminNotes:s})},disabled:c.isPending,children:"Reset to Pending"})]})]})]})})]})}const p5e=_.object({username:_.string().min(3,"Username must be at least 3 characters"),password:_.string().min(6,"Password must be at least 6 characters"),fullName:_.string().min(2,"Full name is required"),email:_.string().email("Invalid email address"),phone:_.string().min(10,"Phone number must be at least 10 digits"),businessName:_.string().min(2,"Business name is required"),businessType:_.enum(["farmer","manufacturer","retailer","distributor"]),district:_.string().min(1,"District is required"),address:_.string().min(10,"Address is required"),description:_.string().min(20,"Business description is required")}),f5e=["Ariyalur","Chengalpattu","Chennai","Coimbatore","Cuddalore","Dharmapuri","Dindigul","Erode","Kallakurichi","Kanchipuram","Kanyakumari","Karur","Krishnagiri","Madurai","Nagapattinam","Namakkal","Nilgiris","Perambalur","Pudukkottai","Ramanathapuram","Ranipet","Salem","Sivaganga","Tenkasi","Thanjavur","Theni","Thoothukudi","Tiruchirappalli","Tirunelveli","Tirupattur","Tirupur","Tiruvallur","Tiruvannamalai","Tiruvarur","Vellore","Villupuram","Virudhunagar"];function x5e(){const[,t]=xr(),{toast:r}=Be(),[s,n]=j.useState(!1),a=Ht({resolver:Wt(p5e),defaultValues:{username:"",password:"",fullName:"",email:"",phone:"",businessName:"",businessType:"farmer",district:"",address:"",description:""}}),i=async l=>{n(!0);try{await le("POST","/api/register-provider",l),r({title:"Registration Successful!",description:"Your provider account has been created. Please wait for admin approval."}),t("/auth")}catch(o){r({title:"Registration Failed",description:o.message||"An error occurred during registration",variant:"destructive"})}finally{n(!1)}};return e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-green-50 to-blue-50 p-4",children:e.jsxs("div",{className:"container mx-auto max-w-4xl",children:[e.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[e.jsx(At,{href:"/auth",children:e.jsxs(T,{variant:"outline",size:"sm",children:[e.jsx(is,{className:"w-4 h-4 mr-2"}),"Back to Login"]})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Service Provider Registration"}),e.jsx("p",{className:"text-gray-600",children:"Join our platform to sell your products and services"})]})]}),e.jsxs("div",{className:"grid md:grid-cols-2 gap-8",children:[e.jsxs(E,{className:"shadow-lg",children:[e.jsxs(Y,{children:[e.jsxs(X,{className:"flex items-center gap-2",children:[e.jsx(Si,{className:"w-5 h-5 text-green-600"}),"Business Registration"]}),e.jsx(he,{children:"Register as a service provider to start selling your products"})]}),e.jsx(D,{children:e.jsx(Gt,{...a,children:e.jsxs("form",{onSubmit:a.handleSubmit(i),className:"space-y-4",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsxs("h3",{className:"font-semibold text-gray-900 flex items-center gap-2",children:[e.jsx(zs,{className:"w-4 h-4"}),"Personal Information"]}),e.jsx(q,{control:a.control,name:"fullName",render:({field:l})=>e.jsxs(B,{children:[e.jsx(V,{children:"Full Name"}),e.jsx(U,{children:e.jsx($,{placeholder:"Enter your full name",...l})}),e.jsx(z,{})]})}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsx(q,{control:a.control,name:"username",render:({field:l})=>e.jsxs(B,{children:[e.jsx(V,{children:"Username"}),e.jsx(U,{children:e.jsx($,{placeholder:"Choose a username",...l})}),e.jsx(z,{})]})}),e.jsx(q,{control:a.control,name:"password",render:({field:l})=>e.jsxs(B,{children:[e.jsx(V,{children:"Password"}),e.jsx(U,{children:e.jsx($,{type:"password",placeholder:"Enter password",...l})}),e.jsx(z,{})]})})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsx(q,{control:a.control,name:"email",render:({field:l})=>e.jsxs(B,{children:[e.jsx(V,{children:"Email"}),e.jsx(U,{children:e.jsx($,{type:"email",placeholder:"your@email.com",...l})}),e.jsx(z,{})]})}),e.jsx(q,{control:a.control,name:"phone",render:({field:l})=>e.jsxs(B,{children:[e.jsx(V,{children:"Phone Number"}),e.jsx(U,{children:e.jsx($,{placeholder:"Enter phone number",...l})}),e.jsx(z,{})]})})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("h3",{className:"font-semibold text-gray-900 flex items-center gap-2",children:[e.jsx(pt,{className:"w-4 h-4"}),"Business Information"]}),e.jsx(q,{control:a.control,name:"businessName",render:({field:l})=>e.jsxs(B,{children:[e.jsx(V,{children:"Business Name"}),e.jsx(U,{children:e.jsx($,{placeholder:"Enter your business name",...l})}),e.jsx(z,{})]})}),e.jsx(q,{control:a.control,name:"businessType",render:({field:l})=>e.jsxs(B,{children:[e.jsx(V,{children:"Business Type"}),e.jsxs(je,{onValueChange:l.onChange,defaultValue:l.value,children:[e.jsx(U,{children:e.jsx(ge,{children:e.jsx(be,{placeholder:"Select business type"})})}),e.jsxs(ve,{children:[e.jsx(O,{value:"farmer",children:"Farmer"}),e.jsx(O,{value:"manufacturer",children:"Manufacturer"}),e.jsx(O,{value:"retailer",children:"Retailer"}),e.jsx(O,{value:"distributor",children:"Distributor"})]})]}),e.jsx(z,{})]})}),e.jsx(q,{control:a.control,name:"district",render:({field:l})=>e.jsxs(B,{children:[e.jsx(V,{children:"District"}),e.jsxs(je,{onValueChange:l.onChange,defaultValue:l.value,children:[e.jsx(U,{children:e.jsx(ge,{children:e.jsx(be,{placeholder:"Select district"})})}),e.jsx(ve,{children:f5e.map(o=>e.jsx(O,{value:o,children:o},o))})]}),e.jsx(z,{})]})}),e.jsx(q,{control:a.control,name:"address",render:({field:l})=>e.jsxs(B,{children:[e.jsx(V,{children:"Business Address"}),e.jsx(U,{children:e.jsx(at,{placeholder:"Enter complete business address",className:"resize-none",rows:3,...l})}),e.jsx(z,{})]})}),e.jsx(q,{control:a.control,name:"description",render:({field:l})=>e.jsxs(B,{children:[e.jsx(V,{children:"Business Description"}),e.jsx(U,{children:e.jsx(at,{placeholder:"Describe your business and the products/services you offer",className:"resize-none",rows:4,...l})}),e.jsx(z,{})]})})]}),e.jsx(T,{type:"submit",className:"w-full bg-green-600 hover:bg-green-700",disabled:s,children:s?"Registering...":"Register as Provider"})]})})})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs(E,{className:"shadow-lg border-green-200",children:[e.jsx(Y,{children:e.jsx(X,{className:"text-green-800",children:"Why Join as a Provider?"})}),e.jsxs(D,{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full mt-2"}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold",children:"Direct Customer Access"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Reach customers directly across Tamil Nadu"})]})]}),e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full mt-2"}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold",children:"Commission-based System"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Earn through our transparent commission structure"})]})]}),e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full mt-2"}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold",children:"Platform Support"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Get support from our network of agents"})]})]}),e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full mt-2"}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold",children:"Digital Marketing"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Leverage our digital platform for marketing"})]})]})]})]}),e.jsxs(E,{className:"shadow-lg border-blue-200",children:[e.jsx(Y,{children:e.jsx(X,{className:"text-blue-800",children:"Business Types We Support"})}),e.jsxs(D,{className:"space-y-3",children:[e.jsxs("div",{className:"p-3 bg-green-50 rounded-lg",children:[e.jsx("h4",{className:"font-semibold text-green-800",children:"Farmers"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Sell fresh produce, grains, and agricultural products"})]}),e.jsxs("div",{className:"p-3 bg-blue-50 rounded-lg",children:[e.jsx("h4",{className:"font-semibold text-blue-800",children:"Manufacturers"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Local manufacturing and production businesses"})]}),e.jsxs("div",{className:"p-3 bg-purple-50 rounded-lg",children:[e.jsx("h4",{className:"font-semibold text-purple-800",children:"Retailers"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Retail stores and shop owners"})]}),e.jsxs("div",{className:"p-3 bg-orange-50 rounded-lg",children:[e.jsx("h4",{className:"font-semibold text-orange-800",children:"Distributors"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Wholesale and distribution services"})]})]})]})]})]})]})})}const g5e=["Chennai","Coimbatore","Madurai","Tiruchirappalli","Salem","Tirunelveli","Tiruppur","Vellore","Erode","Thoothukkudi","Dindigul","Thanjavur","Ranipet","Sivakasi","Karur","Udhagamandalam","Hosur","Nagercoil","Kancheepuram","Kumarapalayam"],Gc=_.object({businessName:_.string().min(3,{message:"Business name must be at least 3 characters"}),address:_.string().min(5,{message:"Address is required"}),district:_.string().min(2,{message:"District is required"}),description:_.string().min(10,{message:"Please provide a brief description"}),providerType:_.string()});function Yc({title:t,description:r,providerType:s,schema:n,defaultValues:a,extraFields:i,submitHandler:l}){const{user:o}=dt(),{toast:c}=Be(),[d,u]=j.useState("form"),m=Ht({resolver:Wt(n),defaultValues:{...a,providerType:s}}),h=Se({mutationFn:async f=>{try{const p={...f,userId:o==null?void 0:o.id,providerType:s,status:"pending",verificationStatus:"pending",operatingAreas:f.operatingAreas||[],website:f.website||"",documents:f.documents||[],verifiedBy:null};console.log("Sending provider data to API:",p);const y=await le("POST","/api/service-providers",p);if(!y.ok){const x=await y.json();throw console.error("API error response:",x),new Error(x.message||"Failed to register service provider")}const v=await y.json();return await l(v.id,f),v}catch(p){throw new Error(p.message||"Registration failed")}},onSuccess:()=>{u("success"),pe.invalidateQueries({queryKey:["/api/service-providers"]})},onError:f=>{u("error"),c({title:"Registration Failed",description:f.message,variant:"destructive"})}}),g=f=>{console.log("Service provider form data:",f),h.mutate(f)};return d==="success"?e.jsx("div",{className:"container py-10",children:e.jsx(E,{className:"w-full max-w-4xl mx-auto",children:e.jsxs(D,{className:"pt-10 pb-10 flex flex-col items-center",children:[e.jsx(Ot,{className:"w-16 h-16 text-green-500 mb-4"}),e.jsx("h2",{className:"text-2xl font-bold mb-2",children:"Registration Successful!"}),e.jsx("p",{className:"text-center text-gray-600 mb-6 max-w-lg",children:"Your service provider registration has been submitted successfully. Our team will review your application and get back to you soon."}),e.jsxs("div",{className:"flex gap-4",children:[e.jsx(At,{href:"/provider-registration",children:e.jsxs(T,{variant:"outline",children:[e.jsx(is,{className:"h-4 w-4 mr-2"}),"Back to Provider Types"]})}),e.jsx(At,{href:"/",children:e.jsx(T,{children:"Return to Dashboard"})})]})]})})}):d==="error"?e.jsx("div",{className:"container py-10",children:e.jsx(E,{className:"w-full max-w-4xl mx-auto",children:e.jsxs(D,{className:"pt-10 pb-10 flex flex-col items-center",children:[e.jsx(ti,{className:"w-16 h-16 text-red-500 mb-4"}),e.jsx("h2",{className:"text-2xl font-bold mb-2",children:"Registration Failed"}),e.jsx("p",{className:"text-center text-gray-600 mb-6 max-w-lg",children:"There was an error processing your registration. Please try again or contact support if the issue persists."}),e.jsxs("div",{className:"flex gap-4",children:[e.jsx(T,{onClick:()=>u("form"),children:"Try Again"}),e.jsx(At,{href:"/provider-registration",children:e.jsxs(T,{variant:"outline",children:[e.jsx(is,{className:"h-4 w-4 mr-2"}),"Back to Provider Types"]})})]})]})})}):e.jsx("div",{className:"container py-10",children:e.jsxs(E,{className:"w-full max-w-4xl mx-auto",children:[e.jsxs(Y,{children:[e.jsx("div",{className:"flex items-center justify-between mb-2",children:e.jsx(At,{href:"/provider-registration",children:e.jsxs(T,{variant:"ghost",className:"flex items-center",children:[e.jsx(is,{className:"h-4 w-4 mr-2"}),"Back to Provider Types"]})})}),e.jsx(X,{className:"text-2xl",children:t}),e.jsx(he,{children:r})]}),e.jsx(D,{children:e.jsx(Gt,{...m,children:e.jsxs("form",{onSubmit:m.handleSubmit(g),className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsx(q,{control:m.control,name:"businessName",render:({field:f})=>e.jsxs(B,{children:[e.jsx(V,{children:"Business Name"}),e.jsx(U,{children:e.jsx($,{...f})}),e.jsx(z,{})]})}),e.jsx(q,{control:m.control,name:"address",render:({field:f})=>e.jsxs(B,{children:[e.jsx(V,{children:"Address"}),e.jsx(U,{children:e.jsx($,{...f})}),e.jsx(z,{})]})}),e.jsx(q,{control:m.control,name:"district",render:({field:f})=>e.jsxs(B,{children:[e.jsx(V,{children:"District"}),e.jsxs(je,{onValueChange:f.onChange,defaultValue:f.value,children:[e.jsx(U,{children:e.jsx(ge,{children:e.jsx(be,{placeholder:"Select district"})})}),e.jsx(ve,{children:g5e.map(p=>e.jsx(O,{value:p,children:p},p))})]}),e.jsx(z,{})]})}),e.jsx(q,{control:m.control,name:"taluk",render:({field:f})=>e.jsxs(B,{children:[e.jsx(V,{children:"Taluk"}),e.jsx(U,{children:e.jsx($,{...f})}),e.jsx(z,{})]})}),e.jsx(q,{control:m.control,name:"pincode",render:({field:f})=>e.jsxs(B,{children:[e.jsx(V,{children:"Pincode"}),e.jsx(U,{children:e.jsx($,{...f})}),e.jsx(z,{})]})})]}),e.jsx(q,{control:m.control,name:"description",render:({field:f})=>e.jsxs(B,{children:[e.jsx(V,{children:"Business Description"}),e.jsx(U,{children:e.jsx(at,{placeholder:"Tell us about your business...",className:"resize-none h-24",...f})}),e.jsx(z,{})]})}),i(m),e.jsx("div",{className:"mt-8",children:e.jsx(T,{type:"submit",className:"w-full md:w-auto",disabled:h.isPending,children:h.isPending?e.jsxs(e.Fragment,{children:[e.jsx(Ye,{className:"mr-2 h-4 w-4 animate-spin"}),"Submitting..."]}):"Submit Registration"})})]})})})]})})}const v5e=["Organic","Conventional","Mixed Farming","Hydroponics","Permaculture","Terrace Farming","Agroforestry","Other"],y5e=Gc.extend({farmSize:_.string().optional(),farmType:_.string().optional(),primaryProducts:_.string().min(3,{message:"Please specify your primary products"}),cultivationSeason:_.string().optional(),supportsDelivery:_.boolean().default(!1)}),j5e={businessName:"",address:"",district:"",taluk:"",pincode:"",phone:"",email:"",description:"",farmSize:"",farmType:"",primaryProducts:"",cultivationSeason:"",supportsDelivery:!1};function b5e(){const{user:t}=dt(),r=(t==null?void 0:t.userType)==="customer"||(t==null?void 0:t.userType)==="provider",{data:s,isLoading:n}=fe({queryKey:[`/api/service-providers/user/${t==null?void 0:t.id}`],enabled:!!(t!=null&&t.id)}),a=async(l,o)=>{const c={serviceProviderId:l,farmSize:o.farmSize,farmType:o.farmType,primaryProducts:o.primaryProducts,cultivationSeason:o.cultivationSeason,supportsDelivery:o.supportsDelivery},d=await le("POST","/api/farmer-details",c);if(!d.ok){const u=await d.json();throw new Error(u.message||"Failed to register farmer details")}return await d.json()},i=e.jsxs("div",{className:"space-y-6 border-t pt-6 mt-6",children:[e.jsx("h3",{className:"text-lg font-medium",children:"Farmer-Specific Information"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsx(q,{name:"farmSize",render:({field:l})=>e.jsxs(B,{children:[e.jsx(V,{children:"Farm Size (in acres/hectares)"}),e.jsx(U,{children:e.jsx($,{...l,placeholder:"e.g., 5 acres"})}),e.jsx(Ue,{children:"Optional: Indicate the size of your farm"}),e.jsx(z,{})]})}),e.jsx(q,{name:"farmType",render:({field:l})=>e.jsxs(B,{children:[e.jsx(V,{children:"Farm Type"}),e.jsxs(je,{onValueChange:l.onChange,defaultValue:l.value,children:[e.jsx(U,{children:e.jsx(ge,{children:e.jsx(be,{placeholder:"Select farm type"})})}),e.jsx(ve,{children:v5e.map(o=>e.jsx(O,{value:o,children:o},o))})]}),e.jsx(Ue,{children:"Optional: The type of farming you practice"}),e.jsx(z,{})]})}),e.jsx(q,{name:"primaryProducts",render:({field:l})=>e.jsxs(B,{children:[e.jsx(V,{children:"Primary Products"}),e.jsx(U,{children:e.jsx($,{...l,placeholder:"e.g., Rice, Vegetables, Fruits"})}),e.jsx(Ue,{children:"List your main agricultural products"}),e.jsx(z,{})]})}),e.jsx(q,{name:"cultivationSeason",render:({field:l})=>e.jsxs(B,{children:[e.jsx(V,{children:"Cultivation Season"}),e.jsx(U,{children:e.jsx($,{...l,placeholder:"e.g., Kharif, Rabi, Year-round"})}),e.jsx(Ue,{children:"Optional: When you typically cultivate your crops"}),e.jsx(z,{})]})})]}),e.jsx(q,{name:"supportsDelivery",render:({field:l})=>e.jsxs(B,{className:"flex flex-row items-start space-x-3 space-y-0 rounded-md border p-4",children:[e.jsx(U,{children:e.jsx(xn,{checked:l.value,onCheckedChange:l.onChange})}),e.jsxs("div",{className:"space-y-1 leading-none",children:[e.jsx(V,{children:"Supports Delivery"}),e.jsx(Ue,{children:"Check this if you can deliver your products to customers directly"})]})]})})]});return n?e.jsx("div",{className:"container py-10 flex justify-center items-center",children:e.jsxs("div",{className:"flex flex-col items-center",children:[e.jsx(Ye,{className:"h-8 w-8 animate-spin text-primary mb-4"}),e.jsx("p",{className:"text-lg text-gray-600",children:"Checking registration status..."})]})}):s?e.jsx("div",{className:"container py-10 px-4",children:e.jsx("div",{className:"max-w-4xl mx-auto",children:e.jsxs(E,{className:"overflow-hidden",children:[e.jsxs(Y,{className:"bg-gray-50 border-b",children:[e.jsx(X,{children:"Already Registered"}),e.jsx(he,{children:"You are already registered as a service provider."})]}),e.jsxs(D,{className:"pt-6",children:[e.jsxs(la,{className:"mb-6",variant:"destructive",children:[e.jsx(nr,{className:"h-4 w-4"}),e.jsx($i,{children:"Registration Exists"}),e.jsxs(oa,{children:["You are already registered as a ",s.providerType.replace("_"," "),". You cannot register for multiple provider types with the same account."]})]}),e.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg border",children:[e.jsx("h3",{className:"font-medium mb-2",children:"Your Options:"}),e.jsxs("ul",{className:"list-disc pl-5 space-y-1 text-sm text-gray-700",children:[e.jsx("li",{children:"Return to the main registration page to view your provider details"}),e.jsx("li",{children:"Go to your dashboard to continue using the platform"}),e.jsx("li",{children:"Contact support if you need to change your provider type"})]})]})]}),e.jsxs(mr,{className:"justify-center border-t py-4 bg-gray-50",children:[e.jsx(At,{href:"/provider-registration",children:e.jsxs(T,{variant:"outline",className:"mr-2 w-full md:w-auto",children:[e.jsx(is,{className:"h-4 w-4 mr-2"}),"View My Registration"]})}),e.jsx(At,{href:"/",children:e.jsx(T,{className:"w-full md:w-auto",children:"Go to Dashboard"})})]})]})})}):t&&!r?e.jsx("div",{className:"container py-10 px-4",children:e.jsx("div",{className:"max-w-4xl mx-auto",children:e.jsxs(E,{className:"shadow-md",children:[e.jsxs(Y,{className:"bg-amber-50",children:[e.jsxs(X,{className:"text-amber-700 flex items-center",children:[e.jsx(nr,{className:"mr-2 h-5 w-5"}),"Access Restricted"]}),e.jsx(he,{className:"text-amber-700",children:"This area is only available for regular users or service providers."})]}),e.jsx(D,{className:"pt-6",children:e.jsxs("div",{className:"mb-6",children:[e.jsxs("p",{className:"text-gray-700",children:["Your account type (",t.userType,") cannot register as a service provider. This functionality is reserved for customer or provider accounts."]}),e.jsxs("div",{className:"mt-4 p-4 bg-gray-50 rounded-lg border",children:[e.jsx("h3",{className:"font-medium mb-2",children:"Account Types Explained:"}),e.jsxs("ul",{className:"list-disc pl-5 space-y-1 text-sm text-gray-700",children:[e.jsxs("li",{children:[e.jsx("strong",{children:"Admin, Branch Managers, Taluk Managers:"})," Managerial roles that handle oversight and approvals"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Service Agents:"})," Representatives assigned to specific areas"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Customers/Providers:"})," Regular users who can register as service providers"]})]})]})]})}),e.jsx(mr,{className:"justify-center border-t py-4 bg-gray-50",children:e.jsx(At,{href:"/",children:e.jsx(T,{variant:"default",className:"w-full md:w-auto",children:"Back to Dashboard"})})})]})})}):e.jsx(Yc,{title:"Farmer Registration",description:"Join our platform as a farmer to sell your produce directly to consumers",providerType:"farmer",schema:y5e,defaultValues:j5e,extraFields:i,submitHandler:a})}const N5e=["Vegetables","Fruits","Grains","Dairy","Meat","Spices","Handicrafts","Textiles","Home Decor","Cosmetics","Food Products","Other"],w5e=["Small Business","Micro Enterprise","Cottage Industry","Medium Scale","Large Scale","Cooperative","Other"],S5e=Gc.extend({productCategories:_.string().min(3,{message:"Please specify your product categories"}),businessType:_.string().min(2,{message:"Please select your business type"}),establishmentYear:_.string().optional(),supportsDelivery:_.boolean().default(!1)}),C5e={businessName:"",address:"",district:"",taluk:"",pincode:"",phone:"",email:"",description:"",productCategories:"",businessType:"",establishmentYear:"",supportsDelivery:!1};function P5e(){var l;const{user:t}=dt(),r=(t==null?void 0:t.userType)==="customer",{data:s,isLoading:n}=fe({queryKey:[`/api/service-providers/user/${t==null?void 0:t.id}`],enabled:!!(t!=null&&t.id)}),a=async(o,c)=>{const d={serviceProviderId:o,productCategories:c.productCategories,businessType:c.businessType,establishmentYear:c.establishmentYear,supportsDelivery:c.supportsDelivery},u=await le("POST","/api/manufacturer-details",d);if(!u.ok){const m=await u.json();throw new Error(m.message||"Failed to register manufacturer details")}return await u.json()},i=e.jsxs("div",{className:"space-y-6 border-t pt-6 mt-6",children:[e.jsx("h3",{className:"text-lg font-medium",children:"Manufacturer-Specific Information"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsx(q,{name:"productCategories",render:({field:o})=>e.jsxs(B,{children:[e.jsx(V,{children:"Product Categories"}),e.jsxs(je,{onValueChange:o.onChange,defaultValue:o.value,children:[e.jsx(U,{children:e.jsx(ge,{children:e.jsx(be,{placeholder:"Select product category"})})}),e.jsx(ve,{children:N5e.map(c=>e.jsx(O,{value:c,children:c},c))})]}),e.jsx(Ue,{children:"The main categories of products you manufacture"}),e.jsx(z,{})]})}),e.jsx(q,{name:"businessType",render:({field:o})=>e.jsxs(B,{children:[e.jsx(V,{children:"Business Type"}),e.jsxs(je,{onValueChange:o.onChange,defaultValue:o.value,children:[e.jsx(U,{children:e.jsx(ge,{children:e.jsx(be,{placeholder:"Select business type"})})}),e.jsx(ve,{children:w5e.map(c=>e.jsx(O,{value:c,children:c},c))})]}),e.jsx(Ue,{children:"The type of manufacturing business you operate"}),e.jsx(z,{})]})}),e.jsx(q,{name:"establishmentYear",render:({field:o})=>e.jsxs(B,{children:[e.jsx(V,{children:"Establishment Year"}),e.jsx(U,{children:e.jsx($,{...o,placeholder:"e.g., 2010"})}),e.jsx(Ue,{children:"Optional: When your business was established"}),e.jsx(z,{})]})})]}),e.jsx(q,{name:"supportsDelivery",render:({field:o})=>e.jsxs(B,{className:"flex flex-row items-start space-x-3 space-y-0 rounded-md border p-4",children:[e.jsx(U,{children:e.jsx(xn,{checked:o.value,onCheckedChange:o.onChange})}),e.jsxs("div",{className:"space-y-1 leading-none",children:[e.jsx(V,{children:"Supports Delivery"}),e.jsx(Ue,{children:"Check this if you can deliver your products to customers directly"})]})]})})]});return n?e.jsx("div",{className:"container py-10 flex justify-center items-center",children:e.jsxs("div",{className:"flex flex-col items-center",children:[e.jsx(Ye,{className:"h-8 w-8 animate-spin text-primary mb-4"}),e.jsx("p",{className:"text-lg text-gray-600",children:"Checking registration status..."})]})}):s?e.jsx("div",{className:"container py-10 px-4",children:e.jsx("div",{className:"max-w-4xl mx-auto",children:e.jsxs(E,{className:"overflow-hidden",children:[e.jsxs(Y,{className:"bg-gray-50 border-b",children:[e.jsx(X,{children:"Already Registered"}),e.jsx(he,{children:"You are already registered as a service provider."})]}),e.jsxs(D,{className:"pt-6",children:[e.jsxs(la,{className:"mb-6",variant:"destructive",children:[e.jsx(nr,{className:"h-4 w-4"}),e.jsx($i,{children:"Registration Exists"}),e.jsxs(oa,{children:["You are already registered as a ",(l=s.providerType)==null?void 0:l.replace("_"," "),". You cannot register for multiple provider types with the same account."]})]}),e.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg border",children:[e.jsx("h3",{className:"font-medium mb-2",children:"Your Options:"}),e.jsxs("ul",{className:"list-disc pl-5 space-y-1 text-sm text-gray-700",children:[e.jsx("li",{children:"Return to the main registration page to view your provider details"}),e.jsx("li",{children:"Go to your dashboard to continue using the platform"}),e.jsx("li",{children:"Contact support if you need to change your provider type"})]})]})]}),e.jsxs(mr,{className:"justify-center border-t py-4 bg-gray-50",children:[e.jsx(At,{href:"/provider-registration",children:e.jsxs(T,{variant:"outline",className:"mr-2 w-full md:w-auto",children:[e.jsx(is,{className:"h-4 w-4 mr-2"}),"View My Registration"]})}),e.jsx(At,{href:"/",children:e.jsx(T,{className:"w-full md:w-auto",children:"Go to Dashboard"})})]})]})})}):t&&!r?e.jsx("div",{className:"container py-10 px-4",children:e.jsx("div",{className:"max-w-4xl mx-auto",children:e.jsxs(E,{className:"shadow-md",children:[e.jsxs(Y,{className:"bg-amber-50",children:[e.jsxs(X,{className:"text-amber-700 flex items-center",children:[e.jsx(nr,{className:"mr-2 h-5 w-5"}),"Access Restricted"]}),e.jsx(he,{className:"text-amber-700",children:"This area is only available for regular users/customers."})]}),e.jsx(D,{className:"pt-6",children:e.jsxs("div",{className:"mb-6",children:[e.jsxs("p",{className:"text-gray-700",children:["Your account type (",t.userType,") cannot register as a service provider. This functionality is reserved for regular customer accounts."]}),e.jsxs("div",{className:"mt-4 p-4 bg-gray-50 rounded-lg border",children:[e.jsx("h3",{className:"font-medium mb-2",children:"Account Types Explained:"}),e.jsxs("ul",{className:"list-disc pl-5 space-y-1 text-sm text-gray-700",children:[e.jsxs("li",{children:[e.jsx("strong",{children:"Admin, Branch Managers, Taluk Managers:"})," Managerial roles that handle oversight and approvals"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Service Agents:"})," Representatives assigned to specific areas"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Customers:"})," Regular users who can register as service providers"]})]})]})]})}),e.jsx(mr,{className:"justify-center border-t py-4 bg-gray-50",children:e.jsx(At,{href:"/",children:e.jsx(T,{variant:"default",className:"w-full md:w-auto",children:"Back to Dashboard"})})})]})})}):e.jsx(Yc,{title:"Manufacturer Registration",description:"Join our platform as a manufacturer to reach more customers for your products",providerType:"manufacturer",schema:S5e,defaultValues:C5e,extraFields:i,submitHandler:a})}const k5e=Gc.extend({description:_.string().optional(),vehicleTypes:_.string().min(1,{message:"Vehicle type is required"}),operatingHours:_.string().min(1,{message:"Operating hours are required"}),licenseNumber:_.string().min(1,{message:"License number is required"}),dateOfBirth:_.string().min(1,{message:"Date of birth is required"}),aadharVerified:_.boolean().default(!1),panCardNumber:_.string().min(10,{message:"Valid PAN card number is required"}).max(10,{message:"PAN card should be 10 characters"}),vehicleRegistrationNumber:_.string().min(1,{message:"Vehicle registration number is required"}),vehicleInsuranceDetails:_.string().min(1,{message:"Vehicle insurance details are required"}),vehiclePermitDetails:_.string().min(1,{message:"Vehicle permit details are required"}),bankName:_.string().min(1,{message:"Bank name is required"}),accountNumber:_.string().min(1,{message:"Account number is required"}),ifscCode:_.string().min(1,{message:"IFSC code is required"}),accountHolderName:_.string().min(1,{message:"Account holder name is required"})});function A5e(){const{toast:t}=Be(),r=j.useRef(null),s=j.useRef(null),n=j.useRef(null),a=j.useRef(null),i=j.useRef(null),l=j.useRef(null),o=j.useRef(null),c=async(h,g)=>{try{console.log("Submitting taxi provider data:",{serviceProviderId:h,...g});const f={bankName:g.bankName,accountNumber:g.accountNumber,ifscCode:g.ifscCode,accountHolderName:g.accountHolderName},p={photo:g.photo||null,licenseDoc:g.licenseDoc||null,aadharDoc:g.aadharDoc||null,panCardDoc:g.panCardDoc||null,vehicleRegDoc:g.vehicleRegDoc||null,vehicleInsuranceDoc:g.vehicleInsuranceDoc||null,vehiclePermitDoc:g.vehiclePermitDoc||null},y={serviceProviderId:h,vehicleTypes:g.vehicleTypes,operatingHours:g.operatingHours,licenseNumber:g.licenseNumber,dateOfBirth:g.dateOfBirth,aadharVerified:g.aadharVerified,panCardNumber:g.panCardNumber,vehicleRegistrationNumber:g.vehicleRegistrationNumber,vehicleInsuranceDetails:g.vehicleInsuranceDetails,vehiclePermitDetails:g.vehiclePermitDetails,bankDetails:f,documents:p,approvalStatus:"pending"},v=await le("POST","/api/taxi-provider-details",y);if(!v.ok){const x=await v.json();throw console.error("API error response:",x),new Error(x.message||"Failed to create taxi provider details")}return await v.json()}catch(f){throw console.error("Error creating taxi provider details:",f),t({title:"Error Creating Taxi Provider Details",description:f.message||"An unexpected error occurred",variant:"destructive"}),f}},d=({label:h,description:g,inputRef:f,name:p,form:y})=>{const[v,x]=j.useState(!1),[b,N]=j.useState(null),[w,C]=j.useState(null),P=async S=>{var k;const A=(k=S.target.files)==null?void 0:k[0];if(A){N(A.name),x(!0),C(null);try{const I=new FormData;I.append("document",A);const K={photo:"photo",licenseDoc:"license",aadharDoc:"aadhar",panCardDoc:"pancard",vehicleRegDoc:"vehicle_registration",vehicleInsuranceDoc:"vehicle_insurance",vehiclePermitDoc:"vehicle_permit"}[p]||p,R=await fetch(`/api/taxi-provider/upload/${K}`,{method:"POST",body:I});if(!R.ok){const W=await R.json();throw new Error(W.message||"Upload failed")}const F=await R.json();y.setValue(p,F.filePath),console.log(`Document uploaded successfully: ${p} -> ${F.filePath}`)}catch(I){console.error("Document upload error:",I),C(I.message||"Failed to upload document")}finally{x(!1)}}};return e.jsxs(B,{className:"flex flex-col",children:[e.jsx(V,{children:h}),g&&e.jsx(Ue,{children:g}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("input",{type:"file",ref:f,style:{display:"none"},accept:"image/*, application/pdf",onChange:P}),e.jsxs(T,{type:"button",variant:"outline",onClick:()=>{var S;return(S=f.current)==null?void 0:S.click()},className:"flex items-center gap-2",disabled:v,children:[e.jsx(Ci,{className:"h-4 w-4"}),v?"Uploading...":"Upload Document"]}),e.jsx("span",{className:"text-sm text-muted-foreground",id:`${p}-filename`,children:b||"No file selected"})]}),w&&e.jsx("p",{className:"text-sm text-red-500 mt-1",children:w}),e.jsx(z,{})]})},u=({form:h})=>e.jsxs("div",{className:"space-y-8",children:[e.jsx("h3",{className:"text-lg font-medium",children:"Taxi Service Details"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsx(q,{name:"vehicleTypes",render:({field:g})=>e.jsxs(B,{children:[e.jsx(V,{children:"Vehicle Type"}),e.jsx(U,{children:e.jsxs(je,{onValueChange:g.onChange,defaultValue:g.value,children:[e.jsx(ge,{children:e.jsx(be,{placeholder:"Select vehicle type"})}),e.jsxs(ve,{children:[e.jsx(O,{value:"Two Wheeler",children:"Two Wheeler"}),e.jsx(O,{value:"Three Wheeler",children:"Three Wheeler"}),e.jsx(O,{value:"4 Seaters",children:"4 Seaters"}),e.jsx(O,{value:"6 Seaters",children:"6 Seaters"}),e.jsx(O,{value:"12 Seaters",children:"12 Seaters"})]})]})}),e.jsx(z,{})]})}),e.jsx(q,{name:"operatingHours",render:({field:g})=>e.jsxs(B,{children:[e.jsx(V,{children:"Operating Hours"}),e.jsx(U,{children:e.jsxs(je,{onValueChange:g.onChange,defaultValue:g.value,children:[e.jsx(ge,{children:e.jsx(be,{placeholder:"Select operating hours"})}),e.jsxs(ve,{children:[e.jsx(O,{value:"24_hours",children:"24 Hours"}),e.jsx(O,{value:"day_only",children:"Day Only (6 AM - 8 PM)"}),e.jsx(O,{value:"night_only",children:"Night Only (8 PM - 6 AM)"}),e.jsx(O,{value:"custom",children:"Custom Schedule"})]})]})}),e.jsx(z,{})]})})]}),e.jsx("h3",{className:"text-lg font-medium mt-8",children:"Driver Details"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsx(q,{name:"licenseNumber",render:({field:g})=>e.jsxs(B,{children:[e.jsx(V,{children:"License Number"}),e.jsx(U,{children:e.jsx($,{...g,placeholder:"Enter your driver's license number"})}),e.jsx(z,{})]})}),e.jsx(q,{name:"dateOfBirth",render:({field:g})=>e.jsxs(B,{className:"flex flex-col",children:[e.jsx(V,{children:"Date of Birth"}),e.jsxs(hn,{children:[e.jsx(pn,{asChild:!0,children:e.jsx(U,{children:e.jsxs(T,{variant:"outline",className:Oe("pl-3 text-left font-normal",!g.value&&"text-muted-foreground"),children:[g.value?xt(new Date(g.value),"PPP"):e.jsx("span",{children:"Pick a date"}),e.jsx(Xt,{className:"ml-auto h-4 w-4 opacity-50"})]})})}),e.jsx(Zs,{className:"w-auto p-0",align:"start",children:e.jsx(Js,{mode:"single",selected:g.value?new Date(g.value):void 0,onSelect:f=>g.onChange(f?xt(f,"yyyy-MM-dd"):""),disabled:f=>f>new Date||f<new Date("1900-01-01"),initialFocus:!0})})]}),e.jsx(z,{})]})}),e.jsx(q,{name:"panCardNumber",render:({field:g})=>e.jsxs(B,{children:[e.jsx(V,{children:"PAN Card Number"}),e.jsx(U,{children:e.jsx($,{...g,placeholder:"Enter your PAN card number"})}),e.jsx(z,{})]})}),e.jsx(q,{name:"aadharVerified",render:({field:g})=>e.jsxs(B,{className:"flex flex-row items-start space-x-3 space-y-0 rounded-md border p-4",children:[e.jsx(U,{children:e.jsx(xn,{checked:g.value,onCheckedChange:g.onChange})}),e.jsxs("div",{className:"space-y-1 leading-none",children:[e.jsx(V,{children:"Aadhar Verification"}),e.jsx(Ue,{children:"I confirm that my Aadhar verification has been completed."})]})]})})]}),e.jsx("h3",{className:"text-lg font-medium mt-8",children:"Vehicle Details"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsx(q,{name:"vehicleRegistrationNumber",render:({field:g})=>e.jsxs(B,{children:[e.jsx(V,{children:"Vehicle Registration Number"}),e.jsx(U,{children:e.jsx($,{...g,placeholder:"Enter vehicle registration number"})}),e.jsx(z,{})]})}),e.jsx(q,{name:"vehicleInsuranceDetails",render:({field:g})=>e.jsxs(B,{children:[e.jsx(V,{children:"Vehicle Insurance Details"}),e.jsx(U,{children:e.jsx($,{...g,placeholder:"Enter vehicle insurance details"})}),e.jsx(z,{})]})}),e.jsx(q,{name:"vehiclePermitDetails",render:({field:g})=>e.jsxs(B,{children:[e.jsx(V,{children:"Vehicle Permit Details"}),e.jsx(U,{children:e.jsx($,{...g,placeholder:"Enter vehicle permit details"})}),e.jsx(z,{})]})})]}),e.jsx("h3",{className:"text-lg font-medium mt-8",children:"Document Uploads"}),e.jsxs("div",{className:"grid grid-cols-1 gap-6",children:[e.jsx(d,{label:"Profile Photo",description:"Upload a clear photo of yourself",inputRef:r,name:"photo",form:h}),e.jsx(d,{label:"License Document",description:"Upload both sides of your driving license",inputRef:s,name:"licenseDoc",form:h}),e.jsx(d,{label:"Aadhar Card",description:"Upload both sides of your Aadhar card",inputRef:n,name:"aadharDoc",form:h}),e.jsx(d,{label:"PAN Card",description:"Upload your PAN card",inputRef:a,name:"panCardDoc",form:h}),e.jsx(d,{label:"Vehicle Registration",description:"Upload vehicle registration document",inputRef:i,name:"vehicleRegDoc",form:h}),e.jsx(d,{label:"Vehicle Insurance",description:"Upload vehicle insurance policy document",inputRef:l,name:"vehicleInsuranceDoc",form:h}),e.jsx(d,{label:"Vehicle Permit",description:"Upload vehicle permit document",inputRef:o,name:"vehiclePermitDoc",form:h})]}),e.jsx("h3",{className:"text-lg font-medium mt-8",children:"Bank Details"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsx(q,{name:"bankName",render:({field:g})=>e.jsxs(B,{children:[e.jsx(V,{children:"Bank Name"}),e.jsx(U,{children:e.jsx($,{...g})}),e.jsx(z,{})]})}),e.jsx(q,{name:"accountNumber",render:({field:g})=>e.jsxs(B,{children:[e.jsx(V,{children:"Account Number"}),e.jsx(U,{children:e.jsx($,{...g})}),e.jsx(z,{})]})}),e.jsx(q,{name:"ifscCode",render:({field:g})=>e.jsxs(B,{children:[e.jsx(V,{children:"IFSC Code"}),e.jsx(U,{children:e.jsx($,{...g})}),e.jsx(z,{})]})}),e.jsx(q,{name:"accountHolderName",render:({field:g})=>e.jsxs(B,{children:[e.jsx(V,{children:"Account Holder Name"}),e.jsx(U,{children:e.jsx($,{...g})}),e.jsx(z,{})]})})]}),e.jsxs("div",{className:"mt-8 bg-muted p-4 rounded-md",children:[e.jsx("h4",{className:"text-md font-medium mb-2",children:"Approval Process"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Your application will go through the following approval stages:"}),e.jsxs("ol",{className:"list-decimal pl-5 mt-2 space-y-1 text-sm",children:[e.jsx("li",{children:"Initial verification by pincode agent"}),e.jsx("li",{children:"Review by taluk manager"}),e.jsx("li",{children:"Final resolution by branch manager"}),e.jsx("li",{children:"Final approval by admin"})]}),e.jsx("p",{className:"text-sm text-muted-foreground mt-2",children:"Once approved, you will receive a notification and your service will be available in the platform."})]})]}),m=h=>e.jsx(u,{form:h});return e.jsx(Yc,{title:"Taxi Provider Registration",description:"Register as a driver to offer transportation services through our platform.",providerType:"taxi_provider",schema:k5e,defaultValues:{vehicleTypes:"",operatingHours:"",licenseNumber:"",dateOfBirth:"",aadharVerified:!1,panCardNumber:"",vehicleRegistrationNumber:"",vehicleInsuranceDetails:"",vehiclePermitDetails:"",bankName:"",accountNumber:"",ifscCode:"",accountHolderName:"",photo:"",licenseDoc:"",aadharDoc:"",panCardDoc:"",vehicleRegDoc:"",vehicleInsuranceDoc:"",vehiclePermitDoc:""},extraFields:m,submitHandler:c})}const _5e=Gc.extend({serviceTypes:_.string().min(1,{message:"Service types are required"}),operatingHours:_.string().min(1,{message:"Operating hours are required"}),yearsOfExperience:_.string().min(1,{message:"Years of experience is required"}),preferredProviders:_.string().optional(),bankName:_.string().min(1,{message:"Bank name is required"}),accountNumber:_.string().min(1,{message:"Account number is required"}),ifscCode:_.string().min(1,{message:"IFSC code is required"}),accountHolderName:_.string().min(1,{message:"Account holder name is required"})});function T5e(){const{toast:t}=Be(),r=async(n,a)=>{try{console.log("Submitting booking agent data:",{serviceProviderId:n,...a});const i={bankName:a.bankName,accountNumber:a.accountNumber,ifscCode:a.ifscCode,accountHolderName:a.accountHolderName},l={serviceProviderId:n,serviceTypes:a.serviceTypes,operatingHours:a.operatingHours,yearsOfExperience:a.yearsOfExperience,preferredProviders:a.preferredProviders||"",bankDetails:i},o=await le("POST","/api/booking-agent-details",l);if(!o.ok){const c=await o.json();throw console.error("API error response:",c),new Error(c.message||"Failed to create booking agent details")}return await o.json()}catch(i){throw console.error("Error creating booking agent details:",i),t({title:"Error Creating Booking Agent Details",description:i.message||"An unexpected error occurred",variant:"destructive"}),i}},s=()=>e.jsxs("div",{className:"space-y-6",children:[e.jsx("h3",{className:"text-lg font-medium",children:"Booking Service Details"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsx(q,{name:"serviceTypes",render:({field:n})=>e.jsxs(B,{children:[e.jsx(V,{children:"Service Types"}),e.jsx(U,{children:e.jsxs(je,{onValueChange:n.onChange,defaultValue:n.value,children:[e.jsx(ge,{children:e.jsx(be,{placeholder:"Select service type"})}),e.jsxs(ve,{children:[e.jsx(O,{value:"hotels",children:"Hotels"}),e.jsx(O,{value:"flights",children:"Flights"}),e.jsx(O,{value:"buses",children:"Buses"}),e.jsx(O,{value:"trains",children:"Trains"}),e.jsx(O,{value:"vacation_packages",children:"Vacation Packages"}),e.jsx(O,{value:"all",children:"All Services"})]})]})}),e.jsx(z,{})]})}),e.jsx(q,{name:"operatingHours",render:({field:n})=>e.jsxs(B,{children:[e.jsx(V,{children:"Operating Hours"}),e.jsx(U,{children:e.jsxs(je,{onValueChange:n.onChange,defaultValue:n.value,children:[e.jsx(ge,{children:e.jsx(be,{placeholder:"Select operating hours"})}),e.jsxs(ve,{children:[e.jsx(O,{value:"24_hours",children:"24 Hours"}),e.jsx(O,{value:"business_hours",children:"Business Hours (9 AM - 6 PM)"}),e.jsx(O,{value:"extended_hours",children:"Extended Hours (8 AM - 10 PM)"}),e.jsx(O,{value:"custom",children:"Custom Schedule"})]})]})}),e.jsx(z,{})]})}),e.jsx(q,{name:"yearsOfExperience",render:({field:n})=>e.jsxs(B,{children:[e.jsx(V,{children:"Years of Experience"}),e.jsx(U,{children:e.jsx($,{...n,type:"number",min:"0"})}),e.jsx(z,{})]})}),e.jsx(q,{name:"preferredProviders",render:({field:n})=>e.jsxs(B,{children:[e.jsx(V,{children:"Preferred Providers (Optional)"}),e.jsx(U,{children:e.jsx($,{...n,placeholder:"e.g., MakeMyTrip, IRCTC, Cleartrip"})}),e.jsx(Ue,{children:"List your preferred travel/accommodation providers, separated by commas"}),e.jsx(z,{})]})})]}),e.jsx("h3",{className:"text-lg font-medium mt-8",children:"Bank Details"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsx(q,{name:"bankName",render:({field:n})=>e.jsxs(B,{children:[e.jsx(V,{children:"Bank Name"}),e.jsx(U,{children:e.jsx($,{...n})}),e.jsx(z,{})]})}),e.jsx(q,{name:"accountNumber",render:({field:n})=>e.jsxs(B,{children:[e.jsx(V,{children:"Account Number"}),e.jsx(U,{children:e.jsx($,{...n})}),e.jsx(z,{})]})}),e.jsx(q,{name:"ifscCode",render:({field:n})=>e.jsxs(B,{children:[e.jsx(V,{children:"IFSC Code"}),e.jsx(U,{children:e.jsx($,{...n})}),e.jsx(z,{})]})}),e.jsx(q,{name:"accountHolderName",render:({field:n})=>e.jsxs(B,{children:[e.jsx(V,{children:"Account Holder Name"}),e.jsx(U,{children:e.jsx($,{...n})}),e.jsx(z,{})]})})]})]});return e.jsx(Yc,{title:"Booking Agent Registration",description:"Register as a booking agent to offer travel and accommodation booking services through our platform.",providerType:"booking_agent",schema:_5e,defaultValues:{serviceTypes:"",operatingHours:"",yearsOfExperience:"",preferredProviders:"",bankName:"",accountNumber:"",ifscCode:"",accountHolderName:""},extraFields:e.jsx(s,{}),submitHandler:r})}const O5e=Gc.extend({vehicleTypes:_.string().min(1,{message:"Vehicle types are required"}),operatingHours:_.string().min(1,{message:"Operating hours are required"}),servicesOffered:_.string().min(1,{message:"Services offered are required"}),coverageAreas:_.string().min(1,{message:"Coverage areas are required"}),maxCapacity:_.string().min(1,{message:"Maximum capacity is required"}),bankName:_.string().min(1,{message:"Bank name is required"}),accountNumber:_.string().min(1,{message:"Account number is required"}),ifscCode:_.string().min(1,{message:"IFSC code is required"}),accountHolderName:_.string().min(1,{message:"Account holder name is required"})});function E5e(){const{toast:t}=Be(),r=async(n,a)=>{try{console.log("Submitting transportation agent data:",{serviceProviderId:n,...a});const i={bankName:a.bankName,accountNumber:a.accountNumber,ifscCode:a.ifscCode,accountHolderName:a.accountHolderName},l={serviceProviderId:n,vehicleTypes:a.vehicleTypes,operatingHours:a.operatingHours,servicesOffered:a.servicesOffered,coverageAreas:a.coverageAreas,maxCapacity:a.maxCapacity,bankDetails:i},o=await le("POST","/api/transportation-agent-details",l);if(!o.ok){const c=await o.json();throw console.error("API error response:",c),new Error(c.message||"Failed to create transportation agent details")}return await o.json()}catch(i){throw console.error("Error creating transportation agent details:",i),t({title:"Error Creating Transportation Agent Details",description:i.message||"An unexpected error occurred",variant:"destructive"}),i}},s=()=>e.jsxs("div",{className:"space-y-6",children:[e.jsx("h3",{className:"text-lg font-medium",children:"Transportation Service Details"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsx(q,{name:"vehicleTypes",render:({field:n})=>e.jsxs(B,{children:[e.jsx(V,{children:"Vehicle Types"}),e.jsx(U,{children:e.jsxs(je,{onValueChange:n.onChange,defaultValue:n.value,children:[e.jsx(ge,{children:e.jsx(be,{placeholder:"Select vehicle type"})}),e.jsxs(ve,{children:[e.jsx(O,{value:"cargo_van",children:"Cargo Van"}),e.jsx(O,{value:"mini_truck",children:"Mini Truck"}),e.jsx(O,{value:"lorry",children:"Lorry"}),e.jsx(O,{value:"container",children:"Container"}),e.jsx(O,{value:"mixed_fleet",children:"Mixed Fleet"})]})]})}),e.jsx(z,{})]})}),e.jsx(q,{name:"operatingHours",render:({field:n})=>e.jsxs(B,{children:[e.jsx(V,{children:"Operating Hours"}),e.jsx(U,{children:e.jsxs(je,{onValueChange:n.onChange,defaultValue:n.value,children:[e.jsx(ge,{children:e.jsx(be,{placeholder:"Select operating hours"})}),e.jsxs(ve,{children:[e.jsx(O,{value:"24_hours",children:"24 Hours"}),e.jsx(O,{value:"day_only",children:"Day Only (6 AM - 8 PM)"}),e.jsx(O,{value:"night_only",children:"Night Only (8 PM - 6 AM)"}),e.jsx(O,{value:"custom",children:"Custom Schedule"})]})]})}),e.jsx(z,{})]})}),e.jsx(q,{name:"servicesOffered",render:({field:n})=>e.jsxs(B,{children:[e.jsx(V,{children:"Services Offered"}),e.jsx(U,{children:e.jsx($,{...n,placeholder:"e.g., Long-distance, Local moving, Express delivery"})}),e.jsx(Ue,{children:"List the services you offer, separated by commas"}),e.jsx(z,{})]})}),e.jsx(q,{name:"coverageAreas",render:({field:n})=>e.jsxs(B,{children:[e.jsx(V,{children:"Coverage Areas"}),e.jsx(U,{children:e.jsx($,{...n,placeholder:"e.g., Chennai, Coimbatore, Salem, Madurai"})}),e.jsx(Ue,{children:"List the areas you cover, separated by commas"}),e.jsx(z,{})]})}),e.jsx(q,{name:"maxCapacity",render:({field:n})=>e.jsxs(B,{children:[e.jsx(V,{children:"Maximum Capacity"}),e.jsx(U,{children:e.jsx($,{...n,placeholder:"e.g., 5 tons"})}),e.jsx(z,{})]})})]}),e.jsx("h3",{className:"text-lg font-medium mt-8",children:"Bank Details"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsx(q,{name:"bankName",render:({field:n})=>e.jsxs(B,{children:[e.jsx(V,{children:"Bank Name"}),e.jsx(U,{children:e.jsx($,{...n})}),e.jsx(z,{})]})}),e.jsx(q,{name:"accountNumber",render:({field:n})=>e.jsxs(B,{children:[e.jsx(V,{children:"Account Number"}),e.jsx(U,{children:e.jsx($,{...n})}),e.jsx(z,{})]})}),e.jsx(q,{name:"ifscCode",render:({field:n})=>e.jsxs(B,{children:[e.jsx(V,{children:"IFSC Code"}),e.jsx(U,{children:e.jsx($,{...n})}),e.jsx(z,{})]})}),e.jsx(q,{name:"accountHolderName",render:({field:n})=>e.jsxs(B,{children:[e.jsx(V,{children:"Account Holder Name"}),e.jsx(U,{children:e.jsx($,{...n})}),e.jsx(z,{})]})})]})]});return e.jsx(Yc,{title:"Transportation Agent Registration",description:"Register as a transportation agent to offer logistics and delivery services through our platform.",providerType:"transportation_agent",schema:O5e,defaultValues:{vehicleTypes:"",operatingHours:"",servicesOffered:"",coverageAreas:"",maxCapacity:"",bankName:"",accountNumber:"",ifscCode:"",accountHolderName:""},extraFields:e.jsx(s,{}),submitHandler:r})}const D5e=Gc.extend({itemCategories:_.string().min(1,{message:"Item categories are required"}),operatingHours:_.string().min(1,{message:"Operating hours are required"}),rentalTerms:_.string().min(1,{message:"Rental terms are required"}),securityDepositTerms:_.string().min(1,{message:"Security deposit terms are required"}),bankName:_.string().min(1,{message:"Bank name is required"}),accountNumber:_.string().min(1,{message:"Account number is required"}),ifscCode:_.string().min(1,{message:"IFSC code is required"}),accountHolderName:_.string().min(1,{message:"Account holder name is required"})});function M5e(){const{toast:t}=Be(),r=async(n,a)=>{try{console.log("Submitting rental provider data:",{serviceProviderId:n,...a});const i={bankName:a.bankName,accountNumber:a.accountNumber,ifscCode:a.ifscCode,accountHolderName:a.accountHolderName},l={serviceProviderId:n,itemCategories:a.itemCategories,operatingHours:a.operatingHours,rentalTerms:a.rentalTerms,securityDepositTerms:a.securityDepositTerms,bankDetails:i},o=await le("POST","/api/rental-provider-details",l);if(!o.ok){const c=await o.json();throw console.error("API error response:",c),new Error(c.message||"Failed to create rental provider details")}return await o.json()}catch(i){throw console.error("Error creating rental provider details:",i),t({title:"Error Creating Rental Provider Details",description:i.message||"An unexpected error occurred",variant:"destructive"}),i}},s=()=>e.jsxs("div",{className:"space-y-6",children:[e.jsx("h3",{className:"text-lg font-medium",children:"Rental Service Details"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsx(q,{name:"itemCategories",render:({field:n})=>e.jsxs(B,{children:[e.jsx(V,{children:"Item Categories"}),e.jsx(U,{children:e.jsx($,{...n,placeholder:"e.g., Construction Equipment, Electronics, Furniture"})}),e.jsx(Ue,{children:"List the categories of items you rent out, separated by commas"}),e.jsx(z,{})]})}),e.jsx(q,{name:"operatingHours",render:({field:n})=>e.jsxs(B,{children:[e.jsx(V,{children:"Operating Hours"}),e.jsx(U,{children:e.jsxs(je,{onValueChange:n.onChange,defaultValue:n.value,children:[e.jsx(ge,{children:e.jsx(be,{placeholder:"Select operating hours"})}),e.jsxs(ve,{children:[e.jsx(O,{value:"24_hours",children:"24 Hours"}),e.jsx(O,{value:"business_hours",children:"Business Hours (9 AM - 6 PM)"}),e.jsx(O,{value:"extended_hours",children:"Extended Hours (8 AM - 8 PM)"}),e.jsx(O,{value:"custom",children:"Custom Schedule"})]})]})}),e.jsx(z,{})]})}),e.jsx(q,{name:"rentalTerms",render:({field:n})=>e.jsxs(B,{children:[e.jsx(V,{children:"Rental Terms"}),e.jsx(U,{children:e.jsx(at,{...n,placeholder:"Describe your rental terms and conditions",className:"min-h-[120px]"})}),e.jsx(z,{})]})}),e.jsx(q,{name:"securityDepositTerms",render:({field:n})=>e.jsxs(B,{children:[e.jsx(V,{children:"Security Deposit Terms"}),e.jsx(U,{children:e.jsx(at,{...n,placeholder:"Describe your security deposit requirements and refund policies",className:"min-h-[120px]"})}),e.jsx(z,{})]})})]}),e.jsx("h3",{className:"text-lg font-medium mt-8",children:"Bank Details"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsx(q,{name:"bankName",render:({field:n})=>e.jsxs(B,{children:[e.jsx(V,{children:"Bank Name"}),e.jsx(U,{children:e.jsx($,{...n})}),e.jsx(z,{})]})}),e.jsx(q,{name:"accountNumber",render:({field:n})=>e.jsxs(B,{children:[e.jsx(V,{children:"Account Number"}),e.jsx(U,{children:e.jsx($,{...n})}),e.jsx(z,{})]})}),e.jsx(q,{name:"ifscCode",render:({field:n})=>e.jsxs(B,{children:[e.jsx(V,{children:"IFSC Code"}),e.jsx(U,{children:e.jsx($,{...n})}),e.jsx(z,{})]})}),e.jsx(q,{name:"accountHolderName",render:({field:n})=>e.jsxs(B,{children:[e.jsx(V,{children:"Account Holder Name"}),e.jsx(U,{children:e.jsx($,{...n})}),e.jsx(z,{})]})})]})]});return e.jsx(Yc,{title:"Rental Provider Registration",description:"Register as a rental provider to offer rental services for equipment, vehicles, and more through our platform.",providerType:"rental_provider",schema:D5e,defaultValues:{itemCategories:"",operatingHours:"",rentalTerms:"",securityDepositTerms:"",bankName:"",accountNumber:"",ifscCode:"",accountHolderName:""},extraFields:e.jsx(s,{}),submitHandler:r})}const I5e=Gc.extend({materialTypes:_.string().min(1,{message:"Material types are required"}),operatingHours:_.string().min(1,{message:"Operating hours are required"}),pricingPolicy:_.string().min(1,{message:"Pricing policy is required"}),processingCapacity:_.string().min(1,{message:"Processing capacity is required"}),bankName:_.string().min(1,{message:"Bank name is required"}),accountNumber:_.string().min(1,{message:"Account number is required"}),ifscCode:_.string().min(1,{message:"IFSC code is required"}),accountHolderName:_.string().min(1,{message:"Account holder name is required"})});function R5e(){const{toast:t}=Be(),r=async(n,a)=>{try{console.log("Submitting recycling agent data:",{serviceProviderId:n,...a});const i={bankName:a.bankName,accountNumber:a.accountNumber,ifscCode:a.ifscCode,accountHolderName:a.accountHolderName},l={serviceProviderId:n,materialTypes:a.materialTypes,operatingHours:a.operatingHours,pricingPolicy:a.pricingPolicy,processingCapacity:a.processingCapacity,bankDetails:i},o=await le("POST","/api/recycling-agent-details",l);if(!o.ok){const c=await o.json();throw console.error("API error response:",c),new Error(c.message||"Failed to create recycling agent details")}return await o.json()}catch(i){throw console.error("Error creating recycling agent details:",i),t({title:"Error Creating Recycling Agent Details",description:i.message||"An unexpected error occurred",variant:"destructive"}),i}},s=()=>e.jsxs("div",{className:"space-y-6",children:[e.jsx("h3",{className:"text-lg font-medium",children:"Recycling Service Details"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsx(q,{name:"materialTypes",render:({field:n})=>e.jsxs(B,{children:[e.jsx(V,{children:"Material Types"}),e.jsx(U,{children:e.jsx($,{...n,placeholder:"e.g., Paper, Plastic, Metal, E-waste"})}),e.jsx(Ue,{children:"List the materials you recycle, separated by commas"}),e.jsx(z,{})]})}),e.jsx(q,{name:"operatingHours",render:({field:n})=>e.jsxs(B,{children:[e.jsx(V,{children:"Operating Hours"}),e.jsx(U,{children:e.jsxs(je,{onValueChange:n.onChange,defaultValue:n.value,children:[e.jsx(ge,{children:e.jsx(be,{placeholder:"Select operating hours"})}),e.jsxs(ve,{children:[e.jsx(O,{value:"business_hours",children:"Business Hours (9 AM - 6 PM)"}),e.jsx(O,{value:"extended_hours",children:"Extended Hours (8 AM - 8 PM)"}),e.jsx(O,{value:"24_hours",children:"24 Hours"}),e.jsx(O,{value:"custom",children:"Custom Schedule"})]})]})}),e.jsx(z,{})]})}),e.jsx(q,{name:"processingCapacity",render:({field:n})=>e.jsxs(B,{children:[e.jsx(V,{children:"Processing Capacity"}),e.jsx(U,{children:e.jsx($,{...n,placeholder:"e.g., 500 kg per day"})}),e.jsx(z,{})]})}),e.jsx(q,{name:"pricingPolicy",render:({field:n})=>e.jsxs(B,{children:[e.jsx(V,{children:"Pricing Policy"}),e.jsx(U,{children:e.jsx(at,{...n,placeholder:"Describe your pricing structure for different materials",className:"min-h-[120px]"})}),e.jsx(z,{})]})})]}),e.jsx("h3",{className:"text-lg font-medium mt-8",children:"Bank Details"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsx(q,{name:"bankName",render:({field:n})=>e.jsxs(B,{children:[e.jsx(V,{children:"Bank Name"}),e.jsx(U,{children:e.jsx($,{...n})}),e.jsx(z,{})]})}),e.jsx(q,{name:"accountNumber",render:({field:n})=>e.jsxs(B,{children:[e.jsx(V,{children:"Account Number"}),e.jsx(U,{children:e.jsx($,{...n})}),e.jsx(z,{})]})}),e.jsx(q,{name:"ifscCode",render:({field:n})=>e.jsxs(B,{children:[e.jsx(V,{children:"IFSC Code"}),e.jsx(U,{children:e.jsx($,{...n})}),e.jsx(z,{})]})}),e.jsx(q,{name:"accountHolderName",render:({field:n})=>e.jsxs(B,{children:[e.jsx(V,{children:"Account Holder Name"}),e.jsx(U,{children:e.jsx($,{...n})}),e.jsx(z,{})]})})]})]});return e.jsx(Yc,{title:"Recycling Agent Registration",description:"Register as a recycling agent to help promote sustainability through our platform.",providerType:"recycling_agent",schema:I5e,defaultValues:{materialTypes:"",operatingHours:"",pricingPolicy:"",processingCapacity:"",bankName:"",accountNumber:"",ifscCode:"",accountHolderName:""},extraFields:e.jsx(s,{}),submitHandler:r})}function F5e(){dt(),xr();const t=[{id:"branch_manager",title:"Branch Manager",description:"Apply to manage our services at the district level.",responsibilities:["Manage all operations within a district","Oversee multiple taluk managers","Coordinate with head office on district-level initiatives","Monitor service quality and customer satisfaction","Implement strategic plans and expansion activities"],icon:e.jsx(J2,{className:"h-8 w-8 text-blue-600"}),path:"/manager-registration/branch-manager",color:"bg-blue-50 border-blue-100",iconBg:"bg-blue-100",buttonColor:"text-blue-600 border-blue-200 hover:bg-blue-50",countLabel:"Branch Managers",countValue:"38+",countDescription:"across Tamil Nadu"},{id:"taluk_manager",title:"Taluk Manager",description:"Apply to manage our services at the taluk level.",responsibilities:["Oversee all operations within a taluk","Manage multiple service agents in your area","Ensure quality service delivery to customers","Handle local partnerships and community relations","Report to district branch manager"],icon:e.jsx(n$,{className:"h-8 w-8 text-green-600"}),path:"/manager-registration/taluk-manager",color:"bg-green-50 border-green-100",iconBg:"bg-green-100",buttonColor:"text-green-600 border-green-200 hover:bg-green-50",countLabel:"Taluk Managers",countValue:"261+",countDescription:"across Tamil Nadu"},{id:"service_agent",title:"Service Agent",description:"Apply to be the face of our services in your local area.",responsibilities:["Provide direct services to customers in your area","Handle recharge, booking, and payment services","Serve as the local point of contact for our platform","Build and maintain customer relationships","Report to taluk manager"],icon:e.jsx(er,{className:"h-8 w-8 text-orange-600"}),path:"/manager-registration/service-agent",color:"bg-orange-50 border-orange-100",iconBg:"bg-orange-100",buttonColor:"text-orange-600 border-orange-200 hover:bg-orange-50",countLabel:"Service Agents",countValue:"517+",countDescription:"and growing"}];return e.jsx("div",{className:"container py-10 px-4",children:e.jsxs("div",{className:"max-w-5xl mx-auto space-y-8",children:[e.jsxs("div",{className:"text-center mb-12",children:[e.jsx("h1",{className:"text-4xl font-bold text-gray-900 mb-4",children:"Join Our Managerial Team"}),e.jsx("p",{className:"text-lg text-gray-600 max-w-3xl mx-auto",children:"Select the role you're interested in applying for. Our platform provides opportunities at different levels, from district management to local service delivery."})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:t.map(r=>e.jsxs(E,{className:"shadow-md border-0 overflow-hidden transition-all hover:shadow-lg",children:[e.jsx(Y,{className:`${r.color} border-b`,children:e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:`${r.iconBg} p-3 rounded-md`,children:r.icon}),e.jsxs("div",{children:[e.jsx(X,{className:"text-xl font-bold",children:r.title}),e.jsx(he,{className:"text-sm",children:r.description})]})]})}),e.jsx(D,{className:"pt-6",children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"bg-gray-50 p-3 rounded-md text-center",children:[e.jsx("div",{className:"font-bold text-2xl text-gray-800",children:r.countValue}),e.jsxs("div",{className:"text-sm text-gray-600",children:[r.countLabel," ",r.countDescription]})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium text-gray-900 mb-2",children:"Key Responsibilities:"}),e.jsx("ul",{className:"space-y-2",children:r.responsibilities.map((s,n)=>e.jsxs("li",{className:"flex items-start gap-2 text-sm text-gray-700",children:[e.jsx("div",{className:"rounded-full bg-gray-200 min-w-[18px] h-[18px] flex items-center justify-center text-xs mt-0.5",children:n+1}),e.jsx("span",{children:s})]},n))})]})]})}),e.jsx(mr,{className:"border-t pt-4",children:e.jsx(At,{href:r.path,className:"w-full",children:e.jsxs(T,{variant:"outline",className:`w-full ${r.buttonColor} flex items-center justify-center gap-2`,children:["Apply as ",r.title,e.jsx(Xa,{className:"h-4 w-4"})]})})})]},r.id))}),e.jsxs("div",{className:"mt-12 text-center",children:[e.jsx("p",{className:"text-gray-600 mb-4",children:"Already applied for a managerial position? Check your application status on the dashboard."}),e.jsx(At,{href:"/",children:e.jsx(T,{variant:"outline",className:"mx-auto",children:"Return to Dashboard"})})]})]})})}const Ek=["Ariyalur","Chennai","Coimbatore","Cuddalore","Dharmapuri","Dindigul","Erode","Kallakurichi","Kancheepuram","Kanyakumari","Karur","Krishnagiri","Madurai","Mayiladuthurai","Nagapattinam","Namakkal","Nilgiris","Perambalur","Pudukkottai","Ramanathapuram","Ranipet","Salem","Sivaganga","Tenkasi","Thanjavur","Theni","Tiruchirapalli","Tirunelveli","Tirupattur","Tiruppur","Tiruvallur","Tiruvannamalai","Tiruvarur","Vellore","Viluppuram","Virudhunagar"],$5e=["Full-time","Part-time","Weekends Only","Evenings Only","Flexible Hours"],L5e=["10th Pass","12th Pass","Diploma","Bachelor's Degree","Master's Degree","Ph.D","Other"],Dk=_.object({fullName:_.string().min(3,{message:"Full name is required"}),email:_.string().email({message:"Valid email is required"}),phone:_.string().min(10,{message:"Valid phone number is required"}),username:_.string().min(3,{message:"Username must be at least 3 characters"}),password:_.string().min(6,{message:"Password must be at least 6 characters"}),address:_.string().min(5,{message:"Address is required"}),district:_.string({required_error:"Please select a district"}),currentOccupation:_.string().min(2,{message:"Current occupation is required"}),employmentType:_.string({required_error:"Please select employment type"}),educationLevel:_.string().optional(),experience:_.string().optional(),notes:_.string().optional()});function Mk({managerType:t,additionalFields:r,formSchema:s,defaultValues:n,onSubmit:a,title:i,description:l,iconComponent:o}){const{toast:c}=Be(),[d,u]=j.useState(!1),[m,h]=j.useState(!1),[g,f]=j.useState(null),p=Ht({resolver:Wt(s),defaultValues:n}),y=async v=>{u(!0),f(null);try{const x={...v,managerType:t,status:"pending",notes:v.notes||`Applied for ${t.replace("_"," ")} position`},N=await(await fetch("/api/manager-applications",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(x)})).json();N.success?(h(!0),c({title:"Application Submitted",description:"Your application has been submitted successfully. We'll review it shortly.",variant:"default"})):(f(N.message||"Failed to submit application. Please try again."),c({title:"Submission Failed",description:N.message||"Failed to submit application. Please try again.",variant:"destructive"}))}catch(x){console.error("Error submitting application:",x),f("An unexpected error occurred. Please try again later."),c({title:"Submission Error",description:"An unexpected error occurred. Please try again later.",variant:"destructive"})}finally{u(!1)}};return m?e.jsx("div",{className:"container py-10 px-4",children:e.jsx("div",{className:"max-w-2xl mx-auto",children:e.jsxs(E,{className:"shadow-md border-0",children:[e.jsx(Y,{className:"bg-green-50 border-b border-green-100",children:e.jsxs("div",{className:"flex flex-col items-center text-center",children:[e.jsx("div",{className:"bg-green-100 p-3 rounded-full mb-4",children:e.jsx(Ot,{className:"h-10 w-10 text-green-600"})}),e.jsx(X,{className:"text-2xl text-green-800",children:"Application Submitted Successfully!"}),e.jsxs(he,{className:"text-green-700 mt-2",children:["Thank you for applying to be a ",t.replace("_"," ")]})]})}),e.jsx(D,{className:"pt-6",children:e.jsxs("div",{className:"space-y-4",children:[e.jsx("p",{className:"text-gray-700",children:"Your application has been received and will be reviewed by our admin team. We'll contact you via the email you provided about the status of your application."}),e.jsxs("div",{className:"bg-blue-50 p-4 rounded-lg border border-blue-100",children:[e.jsx("h3",{className:"font-medium text-blue-800 mb-2",children:"What happens next?"}),e.jsxs("ol",{className:"list-decimal pl-5 space-y-2 text-blue-700",children:[e.jsx("li",{children:"Our admin team will review your application"}),e.jsx("li",{children:"Your application will be either approved or rejected based on our current needs"}),e.jsx("li",{children:"You'll receive an email notification about the decision"}),e.jsx("li",{children:"If approved, you'll receive login credentials to access your managerial dashboard"})]})]})]})}),e.jsx(mr,{className:"justify-center border-t py-4 bg-gray-50",children:e.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 w-full sm:w-auto",children:[e.jsx(At,{href:"/manager-registration",children:e.jsxs(T,{variant:"outline",className:"w-full sm:w-auto",children:[e.jsx(is,{className:"h-4 w-4 mr-2"}),"Back to Registration Options"]})}),e.jsx(At,{href:"/",children:e.jsx(T,{className:"w-full sm:w-auto",children:"Go to Dashboard"})})]})})]})})}):e.jsx("div",{className:"container py-10 px-4",children:e.jsxs("div",{className:"max-w-2xl mx-auto",children:[e.jsxs("div",{className:"mb-6",children:[e.jsx(At,{href:"/manager-registration",children:e.jsxs(T,{variant:"ghost",className:"pl-0 mb-4",children:[e.jsx(is,{className:"h-4 w-4 mr-2"}),"Back to Registration Options"]})}),e.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:i}),e.jsx("p",{className:"text-gray-600 mt-2",children:l})]}),g&&e.jsxs(la,{variant:"destructive",className:"mb-6",children:[e.jsx(ti,{className:"h-4 w-4"}),e.jsx($i,{children:"Error"}),e.jsx(oa,{children:g})]}),e.jsxs(E,{className:"shadow-md border-0",children:[e.jsx(Y,{className:"bg-gray-50 border-b",children:e.jsxs("div",{className:"flex items-center",children:[o&&e.jsx("div",{className:"mr-4 bg-white p-3 rounded-md shadow-sm",children:o}),e.jsxs("div",{children:[e.jsx(X,{children:"Personal Information"}),e.jsx(he,{children:"Please provide your personal details to apply"})]})]})}),e.jsx(D,{className:"pt-6",children:e.jsx(Gt,{...p,children:e.jsxs("form",{onSubmit:p.handleSubmit(y),className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsx(q,{control:p.control,name:"fullName",render:({field:v})=>e.jsxs(B,{children:[e.jsx(V,{children:"Full Name*"}),e.jsx(U,{children:e.jsx($,{placeholder:"Enter your full name",...v})}),e.jsx(z,{})]})}),e.jsx(q,{control:p.control,name:"email",render:({field:v})=>e.jsxs(B,{children:[e.jsx(V,{children:"Email Address*"}),e.jsx(U,{children:e.jsx($,{type:"email",placeholder:"your.email@example.com",...v})}),e.jsx(z,{})]})})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsx(q,{control:p.control,name:"phone",render:({field:v})=>e.jsxs(B,{children:[e.jsx(V,{children:"Phone Number*"}),e.jsx(U,{children:e.jsx($,{placeholder:"Enter your phone number",...v})}),e.jsx(z,{})]})}),e.jsx(q,{control:p.control,name:"district",render:({field:v})=>e.jsxs(B,{children:[e.jsx(V,{children:"District*"}),e.jsxs(je,{onValueChange:v.onChange,defaultValue:v.value,children:[e.jsx(U,{children:e.jsx(ge,{children:e.jsx(be,{placeholder:"Select a district"})})}),e.jsx(ve,{children:Ek.map(x=>e.jsx(O,{value:x,children:x},x))})]}),e.jsx(z,{})]})})]}),e.jsx(q,{control:p.control,name:"address",render:({field:v})=>e.jsxs(B,{children:[e.jsx(V,{children:"Address*"}),e.jsx(U,{children:e.jsx(at,{placeholder:"Enter your complete address",className:"resize-none",...v})}),e.jsx(z,{})]})}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsx(q,{control:p.control,name:"currentOccupation",render:({field:v})=>e.jsxs(B,{children:[e.jsx(V,{children:"Current Occupation*"}),e.jsx(U,{children:e.jsx($,{placeholder:"What do you currently do?",...v})}),e.jsx(z,{})]})}),e.jsx(q,{control:p.control,name:"employmentType",render:({field:v})=>e.jsxs(B,{children:[e.jsx(V,{children:"Preferred Employment Type*"}),e.jsxs(je,{onValueChange:v.onChange,defaultValue:v.value,children:[e.jsx(U,{children:e.jsx(ge,{children:e.jsx(be,{placeholder:"Select employment type"})})}),e.jsx(ve,{children:$5e.map(x=>e.jsx(O,{value:x,children:x},x))})]}),e.jsx(z,{})]})})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsx(q,{control:p.control,name:"educationLevel",render:({field:v})=>e.jsxs(B,{children:[e.jsx(V,{children:"Education Level"}),e.jsxs(je,{onValueChange:v.onChange,defaultValue:v.value,children:[e.jsx(U,{children:e.jsx(ge,{children:e.jsx(be,{placeholder:"Select education level"})})}),e.jsx(ve,{children:L5e.map(x=>e.jsx(O,{value:x,children:x},x))})]}),e.jsx(z,{})]})}),e.jsx(q,{control:p.control,name:"experience",render:({field:v})=>e.jsxs(B,{children:[e.jsx(V,{children:"Experience (Years)"}),e.jsx(U,{children:e.jsx($,{placeholder:"Years of relevant experience",...v})}),e.jsx(z,{})]})})]}),r,e.jsx(q,{control:p.control,name:"notes",render:({field:v})=>e.jsxs(B,{children:[e.jsx(V,{children:"Additional Information"}),e.jsx(U,{children:e.jsx(at,{placeholder:"Any additional information you'd like to share with us",className:"resize-none min-h-[100px]",...v})}),e.jsx(z,{})]})}),e.jsxs("div",{className:"pt-4 border-t",children:[e.jsx("h3",{className:"text-lg font-medium mb-4",children:"Account Information"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsx(q,{control:p.control,name:"username",render:({field:v})=>e.jsxs(B,{children:[e.jsx(V,{children:"Username*"}),e.jsx(U,{children:e.jsx($,{placeholder:"Choose a username",...v})}),e.jsx(Ue,{children:"This will be your login username"}),e.jsx(z,{})]})}),e.jsx(q,{control:p.control,name:"password",render:({field:v})=>e.jsxs(B,{children:[e.jsx(V,{children:"Password*"}),e.jsx(U,{children:e.jsx($,{type:"password",placeholder:"Choose a secure password",...v})}),e.jsx(Ue,{children:"Minimum 6 characters"}),e.jsx(z,{})]})})]})]}),e.jsx(T,{type:"submit",className:"w-full",disabled:d,children:d?e.jsxs(e.Fragment,{children:[e.jsx(Ye,{className:"mr-2 h-4 w-4 animate-spin"}),"Submitting Application..."]}):"Submit Application"})]})})})]})]})})}const B5e=Dk.extend({leadershipExperience:_.string().min(1,{message:"Please provide your leadership experience"}),preferredDistricts:_.string().min(1,{message:"Please provide your preferred districts"}),canTravelRegularly:_.boolean().default(!1)}),V5e={fullName:"",email:"",phone:"",address:"",district:"",currentOccupation:"",employmentType:"",educationLevel:"",experience:"",username:"",password:"",leadershipExperience:"",preferredDistricts:"",canTravelRegularly:!1,notes:""};function U5e(){dt();const t=s=>{console.log("Branch Manager application:",s)},r=e.jsxs("div",{className:"space-y-4 pt-4 border-t",children:[e.jsx("h3",{className:"text-lg font-medium mb-4",children:"Branch Manager Specific Information"}),e.jsx(q,{name:"leadershipExperience",render:({field:s})=>e.jsxs(B,{children:[e.jsx(V,{children:"Leadership Experience*"}),e.jsx(U,{children:e.jsx(at,{placeholder:"Describe your leadership experience",className:"resize-none min-h-[100px]",...s})}),e.jsx(Ue,{children:"Explain any previous leadership roles or experience managing teams"}),e.jsx(z,{})]})}),e.jsx(q,{name:"preferredDistricts",render:({field:s})=>e.jsxs(B,{children:[e.jsx(V,{children:"Preferred Districts*"}),e.jsx(U,{children:e.jsx($,{placeholder:"List districts you'd prefer to manage",...s})}),e.jsx(Ue,{children:"List 1-3 districts where you'd prefer to work, separated by commas"}),e.jsx(z,{})]})}),e.jsx(q,{name:"canTravelRegularly",render:({field:s})=>e.jsxs(B,{className:"flex flex-row items-start space-x-3 space-y-0 rounded-md border p-4",children:[e.jsx(U,{children:e.jsx(xn,{checked:s.value,onCheckedChange:s.onChange})}),e.jsxs("div",{className:"space-y-1 leading-none",children:[e.jsx(V,{children:"Available for Regular Travel"}),e.jsx(Ue,{children:"Branch managers are required to travel within their district regularly"})]})]})})]});return e.jsx(Mk,{managerType:"branch_manager",additionalFields:r,formSchema:B5e,defaultValues:V5e,onSubmit:t,title:"Branch Manager Application",description:"Apply to become a branch manager and oversee operations at the district level.",iconComponent:e.jsx(J2,{className:"h-6 w-6 text-blue-600"})})}const BD={Chennai:["Chennai North","Chennai South","Chennai East","Chennai West","Chennai Central"],Coimbatore:["Coimbatore North","Coimbatore South","Mettupalayam","Pollachi","Sulur","Valparai"],Madurai:["Madurai North","Madurai South","Madurai East","Madurai West","Melur","Peraiyur","Usilampatti","Vadipatti"],Salem:["Salem","Attur","Edapadi","Gangavalli","Mettur","Omalur","Sankari","Vazhapadi","Yercaud"],Tirupur:["Tirupur North","Tirupur South","Avinashi","Dharapuram","Kangeyam","Madathukulam","Palladam","Udumalaipettai"]},q5e=Dk.extend({taluk:_.string().min(1,{message:"Please select a taluk"}),localAreaKnowledge:_.string().min(1,{message:"Please describe your knowledge of the local area"}),canManageAgents:_.boolean().default(!1)}),z5e={fullName:"",email:"",phone:"",address:"",district:"",taluk:"",currentOccupation:"",employmentType:"",educationLevel:"",experience:"",username:"",password:"",localAreaKnowledge:"",canManageAgents:!1,notes:""};function K5e(){dt();const[t,r]=j.useState(""),[s,n]=j.useState([]),a=o=>{r(o),o&&BD[o]?n(BD[o]):n([])},i=o=>{console.log("Taluk Manager application:",o)},l=e.jsxs("div",{className:"space-y-4 pt-4 border-t",children:[e.jsx("h3",{className:"text-lg font-medium mb-4",children:"Taluk Manager Specific Information"}),e.jsx(q,{name:"district",render:({field:o})=>e.jsxs(B,{children:[e.jsx(V,{children:"District*"}),e.jsxs(je,{onValueChange:c=>{o.onChange(c),a(c)},defaultValue:o.value,children:[e.jsx(U,{children:e.jsx(ge,{children:e.jsx(be,{placeholder:"Select a district"})})}),e.jsx(ve,{children:Ek.map(c=>e.jsx(O,{value:c,children:c},c))})]}),e.jsx(Ue,{children:"Select the district where you want to work"}),e.jsx(z,{})]})}),e.jsx(q,{name:"taluk",render:({field:o})=>e.jsxs(B,{children:[e.jsx(V,{children:"Taluk*"}),e.jsxs(je,{onValueChange:o.onChange,defaultValue:o.value,disabled:s.length===0,children:[e.jsx(U,{children:e.jsx(ge,{children:e.jsx(be,{placeholder:s.length===0?"Select a district first":"Select a taluk"})})}),e.jsx(ve,{children:s.map(c=>e.jsx(O,{value:c,children:c},c))})]}),e.jsx(Ue,{children:"Select the taluk you want to manage"}),e.jsx(z,{})]})}),e.jsx(q,{name:"localAreaKnowledge",render:({field:o})=>e.jsxs(B,{children:[e.jsx(V,{children:"Local Area Knowledge*"}),e.jsx(U,{children:e.jsx(at,{placeholder:"Describe your knowledge of and connection to the local area",className:"resize-none min-h-[100px]",...o})}),e.jsx(Ue,{children:"How familiar are you with the area? Do you live there or have connections?"}),e.jsx(z,{})]})}),e.jsx(q,{name:"canManageAgents",render:({field:o})=>e.jsxs(B,{className:"flex flex-row items-start space-x-3 space-y-0 rounded-md border p-4",children:[e.jsx(U,{children:e.jsx(xn,{checked:o.value,onCheckedChange:o.onChange})}),e.jsxs("div",{className:"space-y-1 leading-none",children:[e.jsx(V,{children:"Comfortable Managing Service Agents"}),e.jsx(Ue,{children:"Taluk managers oversee multiple service agents in their area"})]})]})})]});return e.jsx(Mk,{managerType:"taluk_manager",additionalFields:l,formSchema:q5e,defaultValues:z5e,onSubmit:i,title:"Taluk Manager Application",description:"Apply to become a taluk manager and coordinate services within your taluk.",iconComponent:e.jsx(n$,{className:"h-6 w-6 text-green-600"})})}const VD={Chennai:["Chennai North","Chennai South","Chennai East","Chennai West","Chennai Central"],Coimbatore:["Coimbatore North","Coimbatore South","Mettupalayam","Pollachi","Sulur","Valparai"],Madurai:["Madurai North","Madurai South","Madurai East","Madurai West","Melur","Peraiyur","Usilampatti","Vadipatti"],Salem:["Salem","Attur","Edapadi","Gangavalli","Mettur","Omalur","Sankari","Vazhapadi","Yercaud"],Tirupur:["Tirupur North","Tirupur South","Avinashi","Dharapuram","Kangeyam","Madathukulam","Palladam","Udumalaipettai"]},H5e=Dk.extend({taluk:_.string().min(1,{message:"Please select a taluk"}),pincode:_.string().min(6,{message:"Please enter a valid 6-digit pincode"}),vehicleOwned:_.string().optional(),hasSmartphone:_.boolean().default(!0),servicePreferences:_.string().optional()}),W5e={fullName:"",email:"",phone:"",address:"",district:"",taluk:"",pincode:"",currentOccupation:"",employmentType:"",educationLevel:"",experience:"",username:"",password:"",vehicleOwned:"",hasSmartphone:!0,servicePreferences:"",notes:""},G5e=["None","Bicycle","Motorcycle/Scooter","Car","Auto-rickshaw","Other"];function Y5e(){dt();const[t,r]=j.useState(""),[s,n]=j.useState([]),a=o=>{r(o),o&&VD[o]?n(VD[o]):n([])},i=o=>{console.log("Service Agent application:",o)},l=e.jsxs("div",{className:"space-y-4 pt-4 border-t",children:[e.jsx("h3",{className:"text-lg font-medium mb-4",children:"Service Agent Specific Information"}),e.jsx(q,{name:"district",render:({field:o})=>e.jsxs(B,{children:[e.jsx(V,{children:"District*"}),e.jsxs(je,{onValueChange:c=>{o.onChange(c),a(c)},defaultValue:o.value,children:[e.jsx(U,{children:e.jsx(ge,{children:e.jsx(be,{placeholder:"Select a district"})})}),e.jsx(ve,{children:Ek.map(c=>e.jsx(O,{value:c,children:c},c))})]}),e.jsx(Ue,{children:"Select the district where you want to work"}),e.jsx(z,{})]})}),e.jsx(q,{name:"taluk",render:({field:o})=>e.jsxs(B,{children:[e.jsx(V,{children:"Taluk*"}),e.jsxs(je,{onValueChange:o.onChange,defaultValue:o.value,disabled:s.length===0,children:[e.jsx(U,{children:e.jsx(ge,{children:e.jsx(be,{placeholder:s.length===0?"Select a district first":"Select a taluk"})})}),e.jsx(ve,{children:s.map(c=>e.jsx(O,{value:c,children:c},c))})]}),e.jsx(Ue,{children:"Select the taluk you want to serve"}),e.jsx(z,{})]})}),e.jsx(q,{name:"pincode",render:({field:o})=>e.jsxs(B,{children:[e.jsx(V,{children:"Pincode*"}),e.jsx(U,{children:e.jsx($,{placeholder:"Enter your area pincode",...o,maxLength:6})}),e.jsx(Ue,{children:"Service agents operate within a specific pincode area"}),e.jsx(z,{})]})}),e.jsx(q,{name:"vehicleOwned",render:({field:o})=>e.jsxs(B,{children:[e.jsx(V,{children:"Vehicle Owned"}),e.jsxs(je,{onValueChange:o.onChange,defaultValue:o.value,children:[e.jsx(U,{children:e.jsx(ge,{children:e.jsx(be,{placeholder:"Select vehicle type"})})}),e.jsx(ve,{children:G5e.map(c=>e.jsx(O,{value:c,children:c},c))})]}),e.jsx(Ue,{children:"Having a vehicle helps in providing services efficiently"}),e.jsx(z,{})]})}),e.jsx(q,{name:"hasSmartphone",render:({field:o})=>e.jsxs(B,{className:"flex flex-row items-start space-x-3 space-y-0 rounded-md border p-4",children:[e.jsx(U,{children:e.jsx(xn,{checked:o.value,onCheckedChange:o.onChange})}),e.jsxs("div",{className:"space-y-1 leading-none",children:[e.jsx(V,{children:"I have a smartphone with internet"}),e.jsx(Ue,{children:"A smartphone is required to access our service agent app"})]})]})}),e.jsx(q,{name:"servicePreferences",render:({field:o})=>e.jsxs(B,{children:[e.jsx(V,{children:"Service Preferences"}),e.jsx(U,{children:e.jsx(at,{placeholder:"Which services are you most interested in providing? (e.g., Recharges, Bookings, Deliveries)",className:"resize-none min-h-[100px]",...o})}),e.jsx(Ue,{children:"Let us know which services you're most comfortable providing"}),e.jsx(z,{})]})})]});return e.jsx(Mk,{managerType:"service_agent",additionalFields:l,formSchema:H5e,defaultValues:W5e,onSubmit:i,title:"Service Agent Application",description:"Apply to become a service agent and provide direct service support to customers.",iconComponent:e.jsx(er,{className:"h-6 w-6 text-orange-600"})})}function Q5e(){var n;const[t,r]=j.useState(null),s=[{id:"5",name:"Coconut oil",icon:""},{id:"6",name:"Groundnut oil",icon:""},{id:"7",name:"Olive oil",icon:""},{id:"11",name:"Palm oil",icon:""}];return e.jsxs("div",{style:{maxWidth:"800px",margin:"20px auto",padding:"20px",fontFamily:"Arial, sans-serif"},children:[e.jsx("h1",{style:{fontSize:"24px",marginBottom:"20px"},children:"Oil Subcategories Test Page"}),e.jsxs("div",{style:{display:"flex",flexWrap:"wrap",gap:"20px"},children:[e.jsxs("div",{style:{flex:"1",minWidth:"250px",padding:"20px",border:"1px solid #eee",borderRadius:"8px",backgroundColor:"white"},children:[e.jsx("h2",{style:{fontSize:"18px",marginBottom:"15px"},children:"Oil Types"}),e.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"8px"},children:s.map(a=>e.jsxs("button",{style:{display:"flex",alignItems:"center",width:"100%",textAlign:"left",padding:"8px 12px",borderRadius:"4px",border:"none",cursor:"pointer",backgroundColor:t===a.id?"#eef3ff":"transparent",color:t===a.id?"#2563eb":"inherit",fontWeight:t===a.id?"500":"normal"},onClick:()=>r(t===a.id?null:a.id),children:[e.jsx("span",{style:{marginRight:"8px",fontSize:"20px"},children:a.icon}),e.jsx("span",{children:a.name})]},a.id))}),e.jsx("div",{style:{margin:"20px 0",height:"1px",backgroundColor:"#eee"}}),e.jsx("a",{href:"/grocery",style:{display:"block",textAlign:"center",padding:"8px",border:"1px solid #ccc",borderRadius:"4px",textDecoration:"none",color:"#333"},children:"Return to Grocery"})]}),e.jsxs("div",{style:{flex:"2",minWidth:"300px",padding:"20px",border:"1px solid #eee",borderRadius:"8px",backgroundColor:"white"},children:[e.jsx("h2",{style:{fontSize:"18px",marginBottom:"15px"},children:"Selected Subcategory"}),t?e.jsxs("div",{style:{padding:"15px",backgroundColor:"#f8fafc",borderRadius:"6px"},children:[e.jsxs("p",{style:{fontWeight:"500",color:"#2563eb"},children:["Selected: ",t]}),e.jsxs("p",{style:{fontSize:"14px",color:"#64748b",marginTop:"4px"},children:["Oil type: ",((n=s.find(a=>a.id===t))==null?void 0:n.name)||t]})]}):e.jsx("p",{style:{fontStyle:"italic",color:"#64748b"},children:"No subcategory selected"}),e.jsx("h2",{style:{fontSize:"18px",marginTop:"25px",marginBottom:"15px"},children:"Instructions"}),e.jsx("p",{style:{color:"#334155",marginBottom:"15px"},children:"This is a standalone test page to verify the display of oil subcategories is working correctly. You should see a list of oil types with emoji icons in the sidebar."}),e.jsxs("div",{style:{padding:"15px",backgroundColor:"#f8fafc",borderRadius:"6px"},children:[e.jsx("h3",{style:{fontWeight:"500",marginBottom:"10px"},children:"Test Results"}),e.jsxs("ul",{style:{listStyle:"none",padding:0,margin:0,fontSize:"14px"},children:[e.jsxs("li",{style:{display:"flex",alignItems:"center",marginBottom:"8px"},children:[e.jsx("span",{style:{color:"#22c55e",marginRight:"8px"},children:""}),"Simple UI is displayed"]}),e.jsxs("li",{style:{display:"flex",alignItems:"center",marginBottom:"8px"},children:[e.jsx("span",{style:{color:"#22c55e",marginRight:"8px"},children:""}),"Oil types are listed"]}),e.jsxs("li",{style:{display:"flex",alignItems:"center",marginBottom:"8px"},children:[e.jsx("span",{style:{color:"#22c55e",marginRight:"8px"},children:""}),"Emoji icons are visible"]}),e.jsxs("li",{style:{display:"flex",alignItems:"center"},children:[e.jsx("span",{style:{color:"#22c55e",marginRight:"8px"},children:""}),"Selection is working properly"]})]})]})]})]})]})}function X5e(){const[t,r]=j.useState("4"),[s,n]=j.useState(null),a=[{id:"1",name:"Fruits"},{id:"2",name:"Vegetables"},{id:"3",name:"Grains"},{id:"4",name:"Oils"}];return e.jsxs("div",{className:"container py-8",children:[e.jsx("h1",{className:"text-3xl font-bold mb-8",children:"Subcategory Component Test"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-12 gap-6",children:[e.jsx("div",{className:"md:col-span-4 lg:col-span-3",children:e.jsxs(E,{children:[e.jsx(Y,{children:e.jsx(X,{children:"Direct Subcategory Display"})}),e.jsx(D,{children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-sm font-medium mb-2",children:"1. Select Category:"}),e.jsx("div",{className:"flex flex-wrap gap-2",children:a.map(i=>e.jsx(T,{variant:t===i.id?"default":"outline",size:"sm",onClick:()=>{r(i.id),n(null)},children:i.name},i.id))})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-sm font-medium mb-2",children:"2. Available Subcategories:"}),e.jsx("div",{className:"border rounded-md p-4 bg-gray-50",children:t?e.jsx($S,{categoryId:t,onSelect:n,activeSubcategory:s}):e.jsx("p",{className:"text-sm text-gray-500",children:"Select a category first"})})]})]})})]})}),e.jsx("div",{className:"md:col-span-8 lg:col-span-9",children:e.jsxs(E,{children:[e.jsx(Y,{children:e.jsx(X,{children:"Debug Information"})}),e.jsx(D,{children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx("h3",{className:"text-sm font-medium",children:"Active Category:"}),e.jsx("pre",{className:"bg-gray-100 p-2 rounded-md text-sm",children:t||"null"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("h3",{className:"text-sm font-medium",children:"Selected Subcategory:"}),e.jsx("pre",{className:"bg-gray-100 p-2 rounded-md text-sm",children:s||"null"})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("h3",{className:"text-sm font-medium",children:"API Endpoint:"}),e.jsx("pre",{className:"bg-gray-100 p-2 rounded-md text-sm whitespace-normal break-all",children:t?`/api/grocery/subcategories-public?parentCategoryId=${t}`:"-"}),e.jsx(T,{size:"sm",variant:"outline",onClick:()=>{t&&window.open(`/api/grocery/subcategories-public?parentCategoryId=${t}`,"_blank")},disabled:!t,children:"Test API Directly"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("h3",{className:"text-sm font-medium",children:"Request Flow:"}),e.jsxs("ol",{className:"ml-5 text-sm space-y-1 list-decimal",children:[e.jsxs("li",{children:["Component makes direct API request to ",e.jsx("code",{children:"/api/grocery/subcategories-public"})]}),e.jsx("li",{children:"Server looks up subcategories in the database"}),e.jsx("li",{children:"If subcategories are found, they are returned"}),e.jsx("li",{children:"If not found, hardcoded fallbacks are provided"}),e.jsx("li",{children:"Component displays the subcategories with images or icons"})]})]})]})})]})})]})]})}function Z5e(){var P,S;dt();const{toast:t}=Be(),[r,s]=j.useState(null),[n,a]=j.useState(null),[i,l]=j.useState(""),[o,c]=j.useState([]);j.useEffect(()=>{const A=localStorage.getItem("groceryCart");if(A)try{c(JSON.parse(A))}catch(k){console.error("Failed to parse saved cart",k)}},[]),j.useEffect(()=>{localStorage.setItem("groceryCart",JSON.stringify(o))},[o]);const{data:d=[],isLoading:u,isError:m}=fe({queryKey:["/api/grocery/categories"],enabled:!0}),{data:h=[],isLoading:g,isError:f}=fe({queryKey:["/api/grocery/subcategories-public",r],enabled:!!r}),{data:p=[],isLoading:y,isError:v}=fe({queryKey:["/api/grocery/products",r,n],enabled:!!r||!!n}),x=Array.isArray(p)?p.filter(A=>{var k,I;return!(i&&!A.name.toLowerCase().includes(i.toLowerCase())||n&&((k=A.subcategoryId)==null?void 0:k.toString())!==n||r&&!n&&((I=A.categoryId)==null?void 0:I.toString())!==r)}):[],b=A=>{c(k=>k.find(L=>L.id===A)?k.map(L=>L.id===A?{...L,quantity:L.quantity+1}:L):[...k,{id:A,quantity:1}]),t({title:"Added to cart",description:"Item has been added to your shopping cart"})},N=()=>{s(null),a(null),l("")},w=r?(P=d.find(A=>A.id.toString()===r))==null?void 0:P.name:null,C=n?(S=h.find(A=>A.id.toString()===n))==null?void 0:S.name:null;return e.jsxs("div",{className:"min-h-screen bg-gray-50",children:[e.jsx("div",{className:"bg-white border-b shadow-sm sticky top-0 z-10",children:e.jsx("div",{className:"container mx-auto py-4 px-4",children:e.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-center gap-4",children:[e.jsx("h1",{className:"text-2xl font-bold",children:"Grocery Shopping"}),e.jsxs("div",{className:"flex items-center gap-3 w-full md:w-auto",children:[e.jsxs("div",{className:"relative flex-1 md:w-80",children:[e.jsx(es,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-500"}),e.jsx($,{placeholder:"Search products...",className:"pl-10 pr-10 py-2 rounded-lg",value:i,onChange:A=>l(A.target.value)}),i&&e.jsx("button",{className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-500 hover:text-gray-900",onClick:()=>l(""),children:e.jsx(ws,{className:"h-4 w-4"})})]}),e.jsxs(T,{variant:"outline",className:"flex items-center gap-2",children:[e.jsx(Pr,{className:"h-5 w-5"}),e.jsx("span",{className:"hidden sm:inline",children:"Cart"}),e.jsx(ae,{variant:"secondary",className:"ml-1",children:o.reduce((A,k)=>A+k.quantity,0)})]})]})]})})}),e.jsxs("div",{className:"container mx-auto px-4 py-6",children:[e.jsxs("div",{className:"mb-4",children:[e.jsx("h2",{className:"text-xl font-semibold mb-2",children:"Browse Products"}),e.jsxs("div",{className:"flex items-center text-sm",children:[e.jsx("button",{className:`hover:underline ${r?"text-gray-600":"font-semibold text-primary"}`,onClick:N,children:"All Categories"}),w&&e.jsxs(e.Fragment,{children:[e.jsx(Xn,{className:"h-4 w-4 mx-1 text-gray-400"}),e.jsx("button",{className:`hover:underline ${n?"text-gray-600":"font-semibold text-primary"}`,onClick:()=>a(null),children:w})]}),C&&e.jsxs(e.Fragment,{children:[e.jsx(Xn,{className:"h-4 w-4 mx-1 text-gray-400"}),e.jsx("span",{className:"font-semibold text-primary",children:C})]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-12 gap-6",children:[e.jsx("div",{className:"lg:col-span-3",children:e.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200",children:[e.jsx("div",{className:"p-4 border-b",children:e.jsxs("h3",{className:"font-semibold flex items-center",children:[e.jsx("span",{className:"bg-blue-100 text-blue-800 p-1 rounded mr-2",children:"1"}),"Categories"]})}),e.jsx("div",{className:"p-3 max-h-[60vh] overflow-y-auto",children:u?e.jsx("div",{className:"flex justify-center p-4",children:e.jsx(Ye,{className:"h-6 w-6 animate-spin text-gray-400"})}):m?e.jsxs("div",{className:"text-center p-4 text-sm text-red-500",children:[e.jsx(nr,{className:"h-5 w-5 mx-auto mb-2"}),e.jsx("p",{children:"Failed to load categories"})]}):e.jsx("div",{className:"space-y-1",children:d.map(A=>e.jsx("button",{className:`w-full text-left px-3 py-2 rounded-md transition-colors ${r===A.id.toString()?"bg-blue-100 text-blue-800":"hover:bg-gray-100"}`,onClick:()=>{s(A.id.toString()),a(null)},children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("span",{className:"flex-1",children:A.name}),r===A.id.toString()&&e.jsx(Is,{className:"h-4 w-4 text-blue-600"})]})},A.id))})})]})}),e.jsx("div",{className:"lg:col-span-3",children:e.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200",children:[e.jsx("div",{className:"p-4 border-b",children:e.jsxs("h3",{className:"font-semibold flex items-center",children:[e.jsx("span",{className:"bg-green-100 text-green-800 p-1 rounded mr-2",children:"2"}),"Subcategories"]})}),e.jsx("div",{className:"p-3 max-h-[60vh] overflow-y-auto",children:r?g?e.jsx("div",{className:"flex justify-center p-4",children:e.jsx(Ye,{className:"h-6 w-6 animate-spin text-gray-400"})}):f?e.jsxs("div",{className:"text-center p-4 text-sm text-red-500",children:[e.jsx(nr,{className:"h-5 w-5 mx-auto mb-2"}),e.jsx("p",{children:"Failed to load subcategories"})]}):h.length>0?e.jsx("div",{className:"space-y-1",children:h.map(A=>e.jsx("button",{className:`w-full text-left px-3 py-2 rounded-md transition-colors ${n===A.id.toString()?"bg-green-100 text-green-800":"hover:bg-gray-100"}`,onClick:()=>a(A.id.toString()),children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("span",{className:"flex-1",children:A.name}),n===A.id.toString()&&e.jsx(Is,{className:"h-4 w-4 text-green-600"})]})},A.id))}):e.jsx("div",{className:"text-center p-6 text-gray-500",children:e.jsx("p",{className:"text-sm",children:"No subcategories found"})}):e.jsx("div",{className:"text-center p-6 text-gray-500",children:e.jsx("p",{className:"text-sm",children:"Please select a category first"})})})]})}),e.jsx("div",{className:"lg:col-span-6",children:e.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200",children:[e.jsx("div",{className:"p-4 border-b",children:e.jsxs("h3",{className:"font-semibold flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx("span",{className:"bg-amber-100 text-amber-800 p-1 rounded mr-2",children:"3"}),"Products"]}),e.jsxs(ae,{variant:"outline",children:[x.length," ",x.length===1?"product":"products"]})]})}),e.jsx("div",{className:"p-4",children:y?e.jsx("div",{className:"flex justify-center py-8",children:e.jsx(Ye,{className:"h-8 w-8 animate-spin text-gray-400"})}):v?e.jsxs("div",{className:"text-center py-8 text-red-500",children:[e.jsx(nr,{className:"h-8 w-8 mx-auto mb-2"}),e.jsx("p",{children:"Failed to load products"})]}):r?x.length===0?e.jsxs("div",{className:"text-center py-8 text-gray-500",children:[e.jsx(Ew,{className:"h-8 w-8 mx-auto mb-2 text-gray-400"}),e.jsx("p",{children:"No products found"}),e.jsx("p",{className:"text-sm text-gray-400 mt-1",children:"Try selecting a different category or subcategory"})]}):e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:x.map(A=>e.jsx(E,{className:"overflow-hidden hover:shadow-md transition-all",children:e.jsxs("div",{className:"flex items-start",children:[e.jsx("div",{className:"w-24 h-24 bg-gray-100 relative flex-shrink-0",children:A.imageUrl?e.jsx("img",{src:A.imageUrl,alt:A.name,className:"w-full h-full object-cover",onError:k=>{k.currentTarget.src="/uploads/fallback/default.svg"}}):e.jsx("div",{className:"flex items-center justify-center h-full",children:e.jsx(Ew,{className:"h-8 w-8 text-gray-300"})})}),e.jsx("div",{className:"p-3 flex-1",children:e.jsxs("div",{className:"flex flex-col h-full",children:[e.jsx("h4",{className:"font-medium text-gray-900 line-clamp-1",children:A.name}),e.jsxs("div",{className:"flex items-center gap-2 mt-1 flex-wrap",children:[A.unit&&e.jsx(ae,{variant:"secondary",className:"text-xs",children:A.unit}),A.isOrganic&&e.jsxs(ae,{variant:"outline",className:"text-xs text-green-600 border-green-200 bg-green-50",children:[e.jsx(Es,{className:"h-3 w-3 mr-1"}),"Organic"]})]}),e.jsxs("div",{className:"mt-auto pt-2 flex justify-between items-center",children:[e.jsxs("div",{className:"text-sm font-semibold",children:["",A.discountedPrice||A.price]}),e.jsxs(T,{size:"sm",className:"h-8 px-3",onClick:()=>b(A.id),children:[e.jsx(Pr,{className:"h-3.5 w-3.5 mr-1"}),"Add"]})]})]})})]})},A.id))}):e.jsx("div",{className:"text-center py-8 text-gray-500",children:e.jsx("p",{children:"Please select a category to view products"})})})]})})]})]})]})}const J5e=_.object({name:_.string().min(2,"Product name is required"),description:_.string().min(10,"Description must be at least 10 characters"),category:_.string().min(1,"Category is required"),price:_.number().min(.01,"Price must be greater than 0"),discountedPrice:_.number().optional(),stock:_.number().min(0,"Stock cannot be negative"),unit:_.string().min(1,"Unit is required"),isOrganic:_.boolean().default(!1),imageUrl:_.string().url("Invalid image URL").optional().or(_.literal("")),deliveryOption:_.enum(["direct","service","both"]).default("both"),availableAreas:_.string().optional()}),e6e=["Vegetables","Fruits","Grains","Pulses","Spices","Dairy","Oils","Beverages","Snacks","Sweets","Meat","Fish","Bakery","Others"],t6e=["kg","g","l","ml","pcs","dozen","bunch","packet"];function r6e(){const{user:t}=dt(),{toast:r}=Be(),s=aj(),[n,a]=j.useState(!1),[i,l]=j.useState(null),{data:o,isLoading:c}=fe({queryKey:["/api/provider/products"],enabled:!!t}),{data:d}=fe({queryKey:["/api/provider/stats"],enabled:!!t}),u=Ht({resolver:Wt(J5e),defaultValues:{name:"",description:"",category:"",price:0,discountedPrice:void 0,stock:0,unit:"kg",isOrganic:!1,imageUrl:"",deliveryOption:"both",availableAreas:""}}),m=Se({mutationFn:async x=>{console.log("Sending product data:",x);const b={name:x.name,description:x.description,category:x.category,price:x.price,discountedPrice:x.discountedPrice,stock:x.stock,unit:x.unit,isOrganic:x.isOrganic,imageUrl:x.imageUrl,deliveryOption:x.deliveryOption,availableAreas:x.availableAreas},C={groceryProductId:(await(await le("POST","/api/grocery/product",b)).json()).id,pricePerUnit:x.price,availableQuantity:x.stock,description:x.description,isOrganic:x.isOrganic},P=await le("POST","/api/farmer-products",C),S=P.headers.get("content-type");if(S&&S.indexOf("application/json")!==-1)return P.json();{const A=await P.text();throw console.error("Non-JSON response:",A),new Error("Server returned invalid response")}},onSuccess:()=>{r({title:"Product Added Successfully",description:"Your product has been added to the marketplace."}),pe.invalidateQueries({queryKey:["/api/provider/products"]}),pe.invalidateQueries({queryKey:["/api/provider/stats"]}),a(!1),u.reset()},onError:x=>{console.error("Product creation error:",x),r({title:"Error Adding Product",description:x.message||"Failed to add product",variant:"destructive"})}}),h=Se({mutationFn:async({id:x,data:b})=>(await le("PUT",`/api/provider/products/${x}`,b)).json(),onSuccess:()=>{r({title:"Product Updated Successfully",description:"Your product has been updated."}),pe.invalidateQueries({queryKey:["/api/provider/products"]}),l(null),u.reset()},onError:x=>{r({title:"Error Updating Product",description:x.message||"Failed to update product",variant:"destructive"})}}),g=Se({mutationFn:async x=>{await le("DELETE",`/api/provider/products/${x}`)},onSuccess:()=>{r({title:"Product Deleted",description:"Product has been removed from the marketplace."}),pe.invalidateQueries({queryKey:["/api/provider/products"]}),pe.invalidateQueries({queryKey:["/api/provider/stats"]})},onError:x=>{r({title:"Error Deleting Product",description:x.message||"Failed to delete product",variant:"destructive"})}}),f=x=>{i?h.mutate({id:i.id,data:x}):m.mutate(x)},p=x=>{l(x),u.reset({name:x.name,description:x.description,category:x.category,price:x.price,discountedPrice:x.discountedPrice||void 0,stock:x.stock,unit:x.unit,isOrganic:x.isOrganic||!1,imageUrl:x.imageUrl||"",deliveryOption:x.deliveryOption||"both",availableAreas:x.availableAreas||""}),a(!0)},y=x=>{confirm("Are you sure you want to delete this product?")&&g.mutate(x)},v=()=>{a(!1),l(null),u.reset()};return!t||t.userType!=="service_provider"?e.jsx("div",{className:"container mx-auto p-6",children:e.jsx(E,{children:e.jsx(D,{className:"pt-6",children:e.jsx("p",{className:"text-center text-muted-foreground",children:"Access denied. This page is only available for service providers."})})})}):s.canAccessRentalServices?e.jsxs("div",{className:"container mx-auto p-6 space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold",children:"Rental Provider Dashboard"}),e.jsx("p",{className:"text-muted-foreground",children:"Manage your rental equipment and track your business"})]}),e.jsx(At,{href:"/provider/rental-equipment",children:e.jsxs(T,{className:"bg-blue-600 hover:bg-blue-700",children:[e.jsx(Rt,{className:"w-4 h-4 mr-2"}),"Manage Equipment"]})})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[e.jsxs(E,{children:[e.jsxs(Y,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(X,{className:"text-sm font-medium",children:"Total Equipment"}),e.jsx(pt,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsxs(D,{children:[e.jsx("div",{className:"text-2xl font-bold",children:"0"}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Available for rent"})]})]}),e.jsxs(E,{children:[e.jsxs(Y,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(X,{className:"text-sm font-medium",children:"Active Rentals"}),e.jsx(vi,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsxs(D,{children:[e.jsx("div",{className:"text-2xl font-bold",children:"0"}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Currently rented"})]})]}),e.jsxs(E,{children:[e.jsxs(Y,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(X,{className:"text-sm font-medium",children:"Monthly Revenue"}),e.jsx(Pr,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsxs(D,{children:[e.jsx("div",{className:"text-2xl font-bold",children:"0"}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"This month"})]})]}),e.jsxs(E,{children:[e.jsxs(Y,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(X,{className:"text-sm font-medium",children:"Total Customers"}),e.jsx(er,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsxs(D,{children:[e.jsx("div",{className:"text-2xl font-bold",children:"0"}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Rental customers"})]})]})]}),e.jsxs(E,{children:[e.jsxs(Y,{children:[e.jsx(X,{children:"Quick Actions"}),e.jsx(he,{children:"Manage your rental business"})]}),e.jsx(D,{children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsx(At,{href:"/provider/rental-equipment",children:e.jsx(E,{className:"hover:bg-accent cursor-pointer transition-colors",children:e.jsx(D,{className:"pt-6",children:e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx(pt,{className:"h-8 w-8 text-blue-600"}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold",children:"Manage Equipment"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Add, edit, or remove rental equipment"})]})]})})})}),e.jsx(E,{className:"hover:bg-accent cursor-pointer transition-colors",children:e.jsx(D,{className:"pt-6",children:e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx(vi,{className:"h-8 w-8 text-green-600"}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold",children:"View Bookings"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Track active and upcoming rentals"})]})]})})}),e.jsx(E,{className:"hover:bg-accent cursor-pointer transition-colors",children:e.jsx(D,{className:"pt-6",children:e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx(er,{className:"h-8 w-8 text-purple-600"}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold",children:"Customer Reviews"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"See customer feedback and ratings"})]})]})})})]})})]})]}):e.jsxs("div",{className:"container mx-auto p-6 space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold",children:"Provider Dashboard"}),e.jsx("p",{className:"text-muted-foreground",children:"Manage your products and track your business"})]}),e.jsxs(T,{onClick:()=>a(!0),className:"bg-green-600 hover:bg-green-700",children:[e.jsx(Rt,{className:"w-4 h-4 mr-2"}),"Add Product"]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[e.jsxs(E,{children:[e.jsxs(Y,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(X,{className:"text-sm font-medium",children:"Total Products"}),e.jsx(pt,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsxs(D,{children:[e.jsx("div",{className:"text-2xl font-bold",children:(d==null?void 0:d.totalProducts)||0}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Active listings"})]})]}),e.jsxs(E,{children:[e.jsxs(Y,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(X,{className:"text-sm font-medium",children:"Total Sales"}),e.jsx(vi,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsxs(D,{children:[e.jsxs("div",{className:"text-2xl font-bold",children:["",(d==null?void 0:d.totalSales)||0]}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"This month"})]})]}),e.jsxs(E,{children:[e.jsxs(Y,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(X,{className:"text-sm font-medium",children:"Orders"}),e.jsx(Pr,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsxs(D,{children:[e.jsx("div",{className:"text-2xl font-bold",children:(d==null?void 0:d.totalOrders)||0}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Total orders"})]})]}),e.jsxs(E,{children:[e.jsxs(Y,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(X,{className:"text-sm font-medium",children:"Customers"}),e.jsx(er,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsxs(D,{children:[e.jsx("div",{className:"text-2xl font-bold",children:(d==null?void 0:d.totalCustomers)||0}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Unique customers"})]})]})]}),e.jsxs(rr,{defaultValue:"products",className:"space-y-6",children:[e.jsxs(tr,{children:[e.jsx(ke,{value:"products",children:"My Products"}),e.jsx(ke,{value:"orders",children:"Orders"}),e.jsx(ke,{value:"analytics",children:"Analytics"})]}),e.jsxs(Le,{value:"products",className:"space-y-6",children:[n&&e.jsxs(E,{children:[e.jsxs(Y,{children:[e.jsx(X,{children:i?"Edit Product":"Add New Product"}),e.jsx(he,{children:i?"Update your product information":"Add a new product to your marketplace listing"})]}),e.jsx(D,{children:e.jsx(Gt,{...u,children:e.jsxs("form",{onSubmit:u.handleSubmit(f),className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsx(q,{control:u.control,name:"name",render:({field:x})=>e.jsxs(B,{children:[e.jsx(V,{children:"Product Name"}),e.jsx(U,{children:e.jsx($,{placeholder:"Enter product name",...x})}),e.jsx(z,{})]})}),e.jsx(q,{control:u.control,name:"category",render:({field:x})=>e.jsxs(B,{children:[e.jsx(V,{children:"Category"}),e.jsxs(je,{onValueChange:x.onChange,value:x.value,children:[e.jsx(U,{children:e.jsx(ge,{children:e.jsx(be,{placeholder:"Select category"})})}),e.jsx(ve,{children:e6e.map(b=>e.jsx(O,{value:b,children:b},b))})]}),e.jsx(z,{})]})}),e.jsx(q,{control:u.control,name:"price",render:({field:x})=>e.jsxs(B,{children:[e.jsx(V,{children:"Price ()"}),e.jsx(U,{children:e.jsx($,{type:"number",step:"0.01",placeholder:"0.00",...x,onChange:b=>x.onChange(parseFloat(b.target.value)||0)})}),e.jsx(z,{})]})}),e.jsx(q,{control:u.control,name:"discountedPrice",render:({field:x})=>e.jsxs(B,{children:[e.jsx(V,{children:"Discounted Price () - Optional"}),e.jsx(U,{children:e.jsx($,{type:"number",step:"0.01",placeholder:"0.00",...x,onChange:b=>x.onChange(b.target.value?parseFloat(b.target.value):void 0)})}),e.jsx(z,{})]})}),e.jsx(q,{control:u.control,name:"stock",render:({field:x})=>e.jsxs(B,{children:[e.jsx(V,{children:"Stock Quantity"}),e.jsx(U,{children:e.jsx($,{type:"number",placeholder:"0",...x,onChange:b=>x.onChange(parseInt(b.target.value)||0)})}),e.jsx(z,{})]})}),e.jsx(q,{control:u.control,name:"unit",render:({field:x})=>e.jsxs(B,{children:[e.jsx(V,{children:"Unit"}),e.jsxs(je,{onValueChange:x.onChange,value:x.value,children:[e.jsx(U,{children:e.jsx(ge,{children:e.jsx(be,{placeholder:"Select unit"})})}),e.jsx(ve,{children:t6e.map(b=>e.jsx(O,{value:b,children:b},b))})]}),e.jsx(z,{})]})}),e.jsx(q,{control:u.control,name:"imageUrl",render:({field:x})=>e.jsxs(B,{className:"md:col-span-2",children:[e.jsx(V,{children:"Product Image URL (Optional)"}),e.jsx(U,{children:e.jsx($,{type:"url",placeholder:"https://example.com/image.jpg",...x})}),e.jsx(z,{})]})})]}),e.jsx(q,{control:u.control,name:"description",render:({field:x})=>e.jsxs(B,{children:[e.jsx(V,{children:"Description"}),e.jsx(U,{children:e.jsx(at,{placeholder:"Describe your product...",className:"resize-none",rows:4,...x})}),e.jsx(z,{})]})}),e.jsxs("div",{className:"flex gap-4",children:[e.jsx(T,{type:"submit",disabled:m.isPending||h.isPending,className:"bg-green-600 hover:bg-green-700",children:m.isPending||h.isPending?"Saving...":i?"Update Product":"Add Product"}),e.jsx(T,{type:"button",variant:"outline",onClick:v,children:"Cancel"})]})]})})})]}),e.jsxs(E,{children:[e.jsxs(Y,{children:[e.jsx(X,{children:"Your Products"}),e.jsx(he,{children:"Manage your product listings and inventory"})]}),e.jsx(D,{children:c?e.jsx("div",{className:"text-center py-4",children:"Loading products..."}):!o||o.length===0?e.jsxs("div",{className:"text-center py-8",children:[e.jsx(pt,{className:"mx-auto h-12 w-12 text-muted-foreground mb-4"}),e.jsx("h3",{className:"text-lg font-semibold mb-2",children:"No products yet"}),e.jsx("p",{className:"text-muted-foreground mb-4",children:"Start by adding your first product to the marketplace"}),e.jsxs(T,{onClick:()=>a(!0),className:"bg-green-600 hover:bg-green-700",children:[e.jsx(Rt,{className:"w-4 h-4 mr-2"}),"Add Your First Product"]})]}):e.jsxs(Ur,{children:[e.jsx(qr,{children:e.jsxs(mt,{children:[e.jsx(xe,{children:"Product"}),e.jsx(xe,{children:"Category"}),e.jsx(xe,{children:"Price"}),e.jsx(xe,{children:"Stock"}),e.jsx(xe,{children:"Status"}),e.jsx(xe,{children:"Actions"})]})}),e.jsx(zr,{children:o.map(x=>e.jsxs(mt,{children:[e.jsx(ne,{children:e.jsxs("div",{children:[e.jsx("div",{className:"font-medium",children:x.name}),e.jsx("div",{className:"text-sm text-muted-foreground",children:x.unit})]})}),e.jsx(ne,{children:x.category}),e.jsx(ne,{children:e.jsxs("div",{children:[e.jsxs("div",{className:"font-medium",children:["",x.price]}),x.discountedPrice&&e.jsxs("div",{className:"text-sm text-green-600",children:["Sale: ",x.discountedPrice]})]})}),e.jsx(ne,{children:e.jsxs(ae,{variant:x.stock>10?"default":x.stock>0?"secondary":"destructive",children:[x.stock," ",x.unit]})}),e.jsx(ne,{children:e.jsx(ae,{variant:x.status==="active"?"default":"secondary",children:x.status||"active"})}),e.jsx(ne,{children:e.jsxs("div",{className:"flex gap-2",children:[e.jsx(T,{size:"sm",variant:"outline",onClick:()=>p(x),children:e.jsx(Gr,{className:"w-4 h-4"})}),e.jsx(T,{size:"sm",variant:"outline",onClick:()=>y(x.id),disabled:g.isPending,children:e.jsx(Er,{className:"w-4 h-4"})})]})})]},x.id))})]})})]})]}),e.jsx(Le,{value:"orders",children:e.jsxs(E,{children:[e.jsxs(Y,{children:[e.jsx(X,{children:"Recent Orders"}),e.jsx(he,{children:"Track orders for your products"})]}),e.jsx(D,{children:e.jsxs("div",{className:"text-center py-8",children:[e.jsx(Pr,{className:"mx-auto h-12 w-12 text-muted-foreground mb-4"}),e.jsx("p",{className:"text-muted-foreground",children:"Orders tracking coming soon"})]})})]})}),e.jsx(Le,{value:"analytics",children:e.jsxs(E,{children:[e.jsxs(Y,{children:[e.jsx(X,{children:"Sales Analytics"}),e.jsx(he,{children:"View your business performance"})]}),e.jsx(D,{children:e.jsxs("div",{className:"text-center py-8",children:[e.jsx(vi,{className:"mx-auto h-12 w-12 text-muted-foreground mb-4"}),e.jsx("p",{className:"text-muted-foreground",children:"Analytics dashboard coming soon"})]})})]})})]})]})}function s6e(){const{user:t}=dt(),{toast:r}=Be(),[s,n]=j.useState([]),[a,i]=j.useState(null),[l,o]=j.useState(!0),[c,d]=j.useState(!1),[u,m]=j.useState(!1);j.useState(null);const h=t&&["admin","branch_manager","taluk_manager"].includes(t.userType);j.useEffect(()=>{h&&(g(),f())},[t]);const g=async()=>{try{const x=await le("GET","/api/youtube/videos?maxResults=50");try{const b=x.headers.get("content-type");if(b&&b.includes("application/json")){const N=await x.json();n(N)}else throw new Error("Invalid response format")}catch(b){throw console.error("JSON parsing error:",b),new Error("Failed to parse response data")}}catch(x){console.error("Error fetching YouTube videos:",x),r({title:"Error",description:"Failed to fetch YouTube videos",variant:"destructive"})}finally{o(!1)}},f=async()=>{try{const x=await le("GET","/api/youtube/channel-info");try{const b=x.headers.get("content-type");if(b&&b.includes("application/json")){const N=await x.json();i(N)}else throw new Error("Invalid response format")}catch(b){throw console.error("JSON parsing error:",b),new Error("Failed to parse channel info response")}}catch(x){console.error("Error fetching channel info:",x)}},p=async()=>{d(!0),await g(),d(!1),r({title:"Success",description:"Video list refreshed successfully"})},y=x=>{window.open(`https://www.youtube.com/watch?v=${x}`,"_blank")},v=()=>{a&&window.open(a.channelUrl,"_blank")};return h?e.jsxs("div",{className:"container mx-auto px-4 py-8",children:[e.jsxs("div",{className:"flex justify-between items-center mb-8",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Video Management"}),e.jsx("p",{className:"text-gray-600 mt-2",children:"Manage videos on the Nalamini YouTube channel"})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs(T,{onClick:p,disabled:c,variant:"outline",children:[e.jsx(Ua,{className:`h-4 w-4 mr-2 ${c?"animate-spin":""}`}),"Refresh"]}),e.jsxs(T,{onClick:()=>window.location.href="/video-upload-chunked",variant:"outline",children:[e.jsx(Ci,{className:"h-4 w-4 mr-2"}),"Large File Upload"]}),e.jsxs(kt,{open:u,onOpenChange:m,children:[e.jsx(ls,{asChild:!0,children:e.jsxs(T,{children:[e.jsx(Ci,{className:"h-4 w-4 mr-2"}),"Quick Upload"]})}),e.jsxs(St,{className:"max-w-2xl",children:[e.jsx(Ct,{children:e.jsx(Pt,{children:"Upload Video to Nalamini Channel"})}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"bg-blue-50 p-4 rounded-lg border border-blue-200",children:[e.jsxs("h3",{className:"font-semibold text-blue-900 mb-2 flex items-center",children:[e.jsx(Jc,{className:"h-5 w-5 mr-2"}),"YouTube Studio Upload Instructions"]}),e.jsx("p",{className:"text-blue-800 text-sm mb-3",children:"To upload videos to the Nalamini channel, follow these steps:"}),e.jsxs("ol",{className:"list-decimal list-inside space-y-2 text-sm text-blue-800",children:[e.jsx("li",{children:"Go to YouTube Studio (studio.youtube.com)"}),e.jsx("li",{children:"Sign in with the Nalamini channel account"}),e.jsx("li",{children:'Click "CREATE"  "Upload videos"'}),e.jsx("li",{children:"Select your video file and add details"}),e.jsx("li",{children:'Set visibility to "Public" for landing page display'}),e.jsx("li",{children:'Click "PUBLISH" to make it live'})]})]}),e.jsxs("div",{className:"flex gap-3",children:[e.jsxs(T,{onClick:v,className:"flex-1",variant:"outline",children:[e.jsx(lg,{className:"h-4 w-4 mr-2"}),"Open YouTube Channel"]}),e.jsxs(T,{onClick:()=>window.open("https://studio.youtube.com","_blank"),className:"flex-1",children:[e.jsx(Jc,{className:"h-4 w-4 mr-2"}),"Open YouTube Studio"]})]}),e.jsx("div",{className:"bg-gray-50 p-4 rounded-lg",children:e.jsxs("p",{className:"text-sm text-gray-600",children:[e.jsx("strong",{children:"Note:"})," After uploading, click the refresh button above to see your new videos appear in the system."]})})]})]})]})]})]}),e.jsxs(rr,{defaultValue:"channel-videos",className:"w-full",children:[e.jsxs(tr,{className:"grid w-full grid-cols-2",children:[e.jsxs(ke,{value:"channel-videos",children:["Channel Videos (",s.length,")"]}),e.jsx(ke,{value:"channel-info",children:"Channel Information"})]}),e.jsx(Le,{value:"channel-videos",className:"space-y-6",children:l?e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[1,2,3,4,5,6].map(x=>e.jsxs(E,{className:"animate-pulse",children:[e.jsx("div",{className:"h-48 bg-gray-200 rounded-t-lg"}),e.jsxs(D,{className:"p-4",children:[e.jsx("div",{className:"h-4 bg-gray-200 rounded mb-2"}),e.jsx("div",{className:"h-3 bg-gray-200 rounded mb-2"}),e.jsx("div",{className:"h-3 bg-gray-200 rounded w-2/3"})]})]},x))}):s.length===0?e.jsx(E,{children:e.jsxs(D,{className:"p-8 text-center",children:[e.jsx(Jc,{className:"h-12 w-12 mx-auto mb-4 text-gray-400"}),e.jsx("h3",{className:"text-lg font-semibold mb-2",children:"No Videos Found"}),e.jsx("p",{className:"text-gray-600 mb-4",children:"No videos are currently available on the Nalamini YouTube channel."}),e.jsxs(T,{onClick:()=>m(!0),children:[e.jsx(Ci,{className:"h-4 w-4 mr-2"}),"Upload First Video"]})]})}):e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:s.map(x=>e.jsxs(E,{className:"overflow-hidden hover:shadow-lg transition-shadow",children:[e.jsxs("div",{className:"relative",style:{paddingBottom:"56.25%",height:0},children:[e.jsx("iframe",{className:"absolute top-0 left-0 w-full h-full",src:`https://www.youtube.com/embed/${x.id}?modestbranding=1&rel=0&showinfo=0&iv_load_policy=3&fs=0&controls=1&enablejsapi=0`,title:x.title,frameBorder:"0",allow:"accelerometer; clipboard-write; encrypted-media; gyroscope; picture-in-picture",referrerPolicy:"strict-origin-when-cross-origin",loading:"lazy"}),e.jsx(ae,{className:"absolute top-2 right-2 bg-black/70 text-white z-10",children:x.duration}),e.jsx("div",{className:"absolute top-2 left-2 z-10",children:e.jsxs(DS,{children:[e.jsx(MS,{asChild:!0,children:e.jsx(T,{variant:"secondary",size:"sm",className:"h-8 w-8 p-0 bg-black/70 hover:bg-black/90 border-0",children:e.jsx(UX,{className:"h-4 w-4 text-white"})})}),e.jsxs(Cy,{align:"start",children:[e.jsxs(Zi,{onClick:()=>y(x.id),children:[e.jsx(lg,{className:"h-4 w-4 mr-2"}),"Open in YouTube"]}),e.jsxs(Zi,{onClick:()=>window.open("https://studio.youtube.com","_blank"),children:[e.jsx(Jc,{className:"h-4 w-4 mr-2"}),"Manage in YouTube Studio"]})]})]})})]}),e.jsxs(D,{className:"p-4",children:[e.jsx("h3",{className:"font-semibold text-gray-900 mb-2 line-clamp-2",children:x.title}),e.jsx("p",{className:"text-sm text-gray-600 mb-3 line-clamp-2",children:x.description}),e.jsxs("div",{className:"flex items-center justify-between text-xs text-gray-500",children:[e.jsxs("span",{className:"flex items-center",children:[e.jsx(fr,{className:"h-3 w-3 mr-1"}),x.viewCount.toLocaleString()]}),e.jsxs("span",{className:"flex items-center",children:[e.jsx(Xt,{className:"h-3 w-3 mr-1"}),new Date(x.publishedAt).toLocaleDateString()]})]})]})]},x.id))})}),e.jsxs(Le,{value:"channel-info",className:"space-y-6",children:[e.jsxs(E,{children:[e.jsx(Y,{children:e.jsxs(X,{className:"flex items-center",children:[e.jsx(Jc,{className:"h-5 w-5 mr-2 text-red-600"}),"Nalamini YouTube Channel"]})}),e.jsx(D,{className:"space-y-4",children:a?e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Channel ID"}),e.jsx("p",{className:"text-sm text-gray-900 font-mono bg-gray-50 p-2 rounded",children:a.channelId})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Total Videos"}),e.jsxs("p",{className:"text-sm text-gray-900",children:[s.length," videos"]})]})]}),e.jsxs("div",{className:"flex gap-3",children:[e.jsxs(T,{onClick:v,variant:"outline",children:[e.jsx(lg,{className:"h-4 w-4 mr-2"}),"View Channel"]}),e.jsxs(T,{onClick:()=>window.open("https://studio.youtube.com","_blank"),children:[e.jsx(Jc,{className:"h-4 w-4 mr-2"}),"YouTube Studio"]})]})]}):e.jsx("p",{className:"text-gray-600",children:"Loading channel information..."})})]}),e.jsxs(E,{children:[e.jsx(Y,{children:e.jsx(X,{children:"Integration Status"})}),e.jsx(D,{children:e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm font-medium",children:"YouTube API Connection"}),e.jsx(ae,{variant:"default",className:"bg-green-100 text-green-800",children:"Connected"})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm font-medium",children:"Channel Access"}),e.jsx(ae,{variant:"default",className:"bg-green-100 text-green-800",children:"Active"})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm font-medium",children:"Video Sync"}),e.jsx(ae,{variant:"default",className:"bg-green-100 text-green-800",children:"Real-time"})]})]})})]})]})]})]}):e.jsx("div",{className:"container mx-auto px-4 py-8",children:e.jsx(E,{children:e.jsxs(D,{className:"p-8 text-center",children:[e.jsx(fu,{className:"h-12 w-12 mx-auto mb-4 text-gray-400"}),e.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Access Restricted"}),e.jsx("p",{className:"text-gray-600",children:"You don't have permission to access video management. Contact your administrator for access."})]})})})}function n6e({video:t,userId:r,onViewProgress:s}){const{toast:n}=Be(),a=j.useRef(null),[i,l]=j.useState(!1),[o,c]=j.useState(!1),[d,u]=j.useState(0),[m,h]=j.useState(0),[g,f]=j.useState(0),[p,y]=j.useState(1),[v,x]=j.useState(!1),[b,N]=j.useState(!1);j.useEffect(()=>{const F=a.current;if(!F)return;const W=()=>{const Z=F.currentTime,me=F.duration;if(u(Z),h(me),me>0){const Ne=Z/me*100;f(Ne),r&&b&&Ne>0&&(s==null||s(Ne),Math.floor(Ne)%10===0&&Math.floor(Ne)>0&&w(Ne,Z))}},Q=()=>{h(F.duration)},H=()=>{l(!1),r&&b&&w(100,F.duration)};return F.addEventListener("timeupdate",W),F.addEventListener("loadedmetadata",Q),F.addEventListener("ended",H),()=>{F.removeEventListener("timeupdate",W),F.removeEventListener("loadedmetadata",Q),F.removeEventListener("ended",H)}},[r,b,s]);const w=async(F,W)=>{if(r)try{await le("POST",`/api/videos/${t.id}/view`,{progressPercent:F,watchTime:W,completed:F>=90})}catch(Q){console.error("Error tracking view progress:",Q)}},C=async()=>{const F=a.current;if(F)if(i)F.pause(),l(!1);else try{await F.play(),l(!0),!b&&r&&(N(!0),await le("GET",`/api/videos/${t.id}`))}catch(W){console.error("Error playing video:",W),n({title:"Playback Error",description:"Unable to play video. Please try again.",variant:"destructive"})}},P=()=>{const F=a.current;if(!F)return;const W=!o;F.muted=W,c(W)},S=F=>{const W=a.current;W&&(W.volume=F,y(F),c(F===0))},A=F=>{const W=a.current;W&&(W.currentTime=F,u(F))},k=F=>{const Q=F.currentTarget.getBoundingClientRect(),me=(F.clientX-Q.left)/Q.width*100/100*m;A(me)},I=()=>{const F=a.current;F&&(v?document.exitFullscreen&&document.exitFullscreen():F.requestFullscreen&&F.requestFullscreen(),x(!v))},L=F=>{if(!a.current)return;const Q=Math.max(0,Math.min(m,d+F));A(Q)},K=F=>{const W=Math.floor(F/60),Q=Math.floor(F%60);return`${W}:${Q.toString().padStart(2,"0")}`},R=F=>{const W=["Bytes","KB","MB","GB"];if(F===0)return"0 Bytes";const Q=Math.floor(Math.log(F)/Math.log(1024));return Math.round(F/Math.pow(1024,Q)*100)/100+" "+W[Q]};return e.jsxs(E,{className:"w-full max-w-4xl mx-auto",children:[e.jsxs(Y,{children:[e.jsxs("div",{className:"flex justify-between items-start",children:[e.jsxs("div",{children:[e.jsx(X,{className:"text-xl mb-2",children:t.title}),e.jsx("p",{className:"text-muted-foreground mb-3",children:t.description})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(ae,{variant:"outline",children:t.category}),e.jsx(ae,{variant:t.isPublic?"default":"secondary",children:t.isPublic?"Public":"Private"})]})]}),t.tags.length>0&&e.jsx("div",{className:"flex flex-wrap gap-1",children:t.tags.map((F,W)=>e.jsx(ae,{variant:"outline",className:"text-xs",children:F},W))})]}),e.jsxs(D,{children:[e.jsxs("div",{className:"relative bg-black rounded-lg overflow-hidden mb-4",children:[e.jsxs("video",{ref:a,className:"w-full aspect-video",poster:t.thumbnailUrl,preload:"metadata",children:[e.jsx("source",{src:t.fileUrl,type:"video/mp4"}),"Your browser does not support the video tag."]}),e.jsxs("div",{className:"absolute bottom-0 left-0 right-0 bg-gradient-to-t from-black/80 to-transparent p-4",children:[e.jsx("div",{className:"w-full h-2 bg-white/20 rounded-full mb-3 cursor-pointer",onClick:k,children:e.jsx("div",{className:"h-full bg-primary rounded-full transition-all duration-200",style:{width:`${g}%`}})}),e.jsxs("div",{className:"flex items-center justify-between text-white",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(T,{variant:"ghost",size:"sm",onClick:C,className:"text-white hover:bg-white/20",children:i?e.jsx(JX,{className:"h-5 w-5"}):e.jsx(pu,{className:"h-5 w-5"})}),e.jsx(T,{variant:"ghost",size:"sm",onClick:()=>L(-10),className:"text-white hover:bg-white/20",children:e.jsx(sZ,{className:"h-4 w-4"})}),e.jsx(T,{variant:"ghost",size:"sm",onClick:()=>L(10),className:"text-white hover:bg-white/20",children:e.jsx(nZ,{className:"h-4 w-4"})}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(T,{variant:"ghost",size:"sm",onClick:P,className:"text-white hover:bg-white/20",children:o?e.jsx(oZ,{className:"h-4 w-4"}):e.jsx(lZ,{className:"h-4 w-4"})}),e.jsx("input",{type:"range",min:"0",max:"1",step:"0.1",value:o?0:p,onChange:F=>S(parseFloat(F.target.value)),className:"w-16 h-1 bg-white/20 rounded-lg"})]}),e.jsxs("span",{className:"text-sm",children:[K(d)," / ",K(m)]})]}),e.jsx(T,{variant:"ghost",size:"sm",onClick:I,className:"text-white hover:bg-white/20",children:e.jsx(XX,{className:"h-4 w-4"})})]})]})]}),e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 text-sm",children:[e.jsxs("div",{children:[e.jsx("span",{className:"text-muted-foreground",children:"Duration:"}),e.jsx("div",{className:"font-medium",children:K(t.duration)})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-muted-foreground",children:"File Size:"}),e.jsx("div",{className:"font-medium",children:R(t.fileSize)})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-muted-foreground",children:"Views:"}),e.jsx("div",{className:"font-medium",children:t.viewCount.toLocaleString()})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-muted-foreground",children:"Uploaded:"}),e.jsx("div",{className:"font-medium",children:new Date(t.createdAt).toLocaleDateString()})]})]}),b&&e.jsxs("div",{className:"mt-4",children:[e.jsxs("div",{className:"flex justify-between text-sm text-muted-foreground mb-1",children:[e.jsx("span",{children:"Viewing Progress"}),e.jsxs("span",{children:[Math.round(g),"%"]})]}),e.jsx(Ha,{value:g,className:"h-2"})]})]})]})}function a6e(){const{user:t}=dt(),{toast:r}=Be(),[s,n]=j.useState([]),[a,i]=j.useState([]),[l,o]=j.useState(!0),[c,d]=j.useState(null),[u,m]=j.useState(!1),[h,g]=j.useState(""),[f,p]=j.useState("all"),y=["all","general","training","announcement","tutorial","policy","onboarding","safety","technical"];j.useEffect(()=>{v()},[]),j.useEffect(()=>{x()},[s,h,f]);const v=async()=>{try{const C=await le("GET","/api/videos/approved");try{const P=C.headers.get("content-type");if(P&&P.includes("application/json")){const S=await C.json();n(S)}else throw new Error("Invalid response format")}catch(P){throw console.error("JSON parsing error:",P),new Error("Failed to parse videos response")}}catch(C){console.error("Error fetching videos:",C),r({title:"Error",description:"Failed to load video library",variant:"destructive"})}finally{o(!1)}},x=()=>{let C=[...s];h&&(C=C.filter(P=>P.title.toLowerCase().includes(h.toLowerCase())||P.description.toLowerCase().includes(h.toLowerCase())||P.tags.some(S=>S.toLowerCase().includes(h.toLowerCase())))),f!=="all"&&(C=C.filter(P=>P.category===f)),i(C)},b=C=>{d(C),m(!0)},N=C=>{const P=Math.floor(C/60),S=C%60;return`${P}:${S.toString().padStart(2,"0")}`},w=C=>{const P=["Bytes","KB","MB","GB"];if(C===0)return"0 Bytes";const S=Math.floor(Math.log(C)/Math.log(1024));return Math.round(C/Math.pow(1024,S)*100)/100+" "+P[S]};return l?e.jsx("div",{className:"container mx-auto px-4 py-8",children:e.jsx("div",{className:"flex items-center justify-center",children:e.jsx("div",{className:"animate-spin w-8 h-8 border-4 border-primary border-t-transparent rounded-full"})})}):e.jsxs("div",{className:"container mx-auto px-4 py-8",children:[e.jsxs("div",{className:"mb-6",children:[e.jsx("h1",{className:"text-3xl font-bold mb-2",children:"Video Library"}),e.jsx("p",{className:"text-muted-foreground",children:"Browse training videos and educational content"})]}),e.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 mb-6",children:[e.jsxs("div",{className:"relative flex-1",children:[e.jsx(es,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-muted-foreground h-4 w-4"}),e.jsx($,{placeholder:"Search videos, descriptions, or tags...",value:h,onChange:C=>g(C.target.value),className:"pl-10"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Bc,{className:"h-4 w-4 text-muted-foreground"}),e.jsxs(je,{value:f,onValueChange:p,children:[e.jsx(ge,{className:"w-40",children:e.jsx(be,{})}),e.jsx(ve,{children:y.map(C=>e.jsx(O,{value:C,children:C==="all"?"All Categories":C.charAt(0).toUpperCase()+C.slice(1)},C))})]})]})]}),a.length===0?e.jsx(E,{children:e.jsxs(D,{className:"text-center py-12",children:[e.jsx(fu,{className:"h-12 w-12 mx-auto mb-4 text-muted-foreground"}),e.jsx("h3",{className:"text-lg font-semibold mb-2",children:"No Videos Found"}),e.jsx("p",{className:"text-muted-foreground",children:h||f!=="all"?"Try adjusting your search or filter criteria":"No public videos are currently available"})]})}):e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:a.map(C=>e.jsx(E,{className:"group hover:shadow-lg transition-shadow cursor-pointer",children:e.jsxs("div",{onClick:()=>b(C),className:"relative",children:[e.jsxs("div",{className:"aspect-video bg-black rounded-t-lg relative overflow-hidden",children:[C.thumbnailUrl?e.jsx("img",{src:C.thumbnailUrl,alt:C.title,className:"w-full h-full object-cover"}):e.jsx("div",{className:"w-full h-full flex items-center justify-center bg-gradient-to-br from-primary/20 to-primary/40",children:e.jsx(fu,{className:"h-12 w-12 text-primary/60"})}),e.jsx("div",{className:"absolute inset-0 bg-black/20 group-hover:bg-black/40 transition-colors flex items-center justify-center",children:e.jsx("div",{className:"bg-white/90 group-hover:bg-white rounded-full p-3 group-hover:scale-110 transition-all",children:e.jsx(pu,{className:"h-6 w-6 text-black ml-1"})})}),e.jsx("div",{className:"absolute bottom-2 right-2",children:e.jsxs(ae,{variant:"secondary",className:"bg-black/80 text-white border-0",children:[e.jsx(gt,{className:"h-3 w-3 mr-1"}),N(C.duration)]})})]}),e.jsx(Y,{className:"pb-2",children:e.jsxs("div",{className:"flex justify-between items-start gap-2",children:[e.jsx(X,{className:"text-base line-clamp-2 group-hover:text-primary transition-colors",children:C.title}),e.jsx(ae,{variant:"outline",className:"shrink-0",children:C.category})]})}),e.jsxs(D,{className:"pt-0",children:[e.jsx("p",{className:"text-sm text-muted-foreground line-clamp-2 mb-3",children:C.description}),e.jsxs("div",{className:"flex items-center justify-between text-xs text-muted-foreground",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx(fr,{className:"h-3 w-3 mr-1"}),C.viewCount.toLocaleString()," views"]}),e.jsx("div",{children:w(C.fileSize)})]}),C.tags.length>0&&e.jsxs("div",{className:"flex flex-wrap gap-1 mt-3",children:[C.tags.slice(0,3).map((P,S)=>e.jsx(ae,{variant:"outline",className:"text-xs",children:P},S)),C.tags.length>3&&e.jsxs(ae,{variant:"outline",className:"text-xs",children:["+",C.tags.length-3]})]}),e.jsx("div",{className:"mt-3 pt-3 border-t",children:e.jsxs(T,{variant:"outline",size:"sm",className:"w-full",onClick:P=>{P.stopPropagation(),b(C)},children:[e.jsx(pu,{className:"h-3 w-3 mr-1"}),"Watch Now"]})})]})]})},C.id))}),e.jsx(kt,{open:u,onOpenChange:m,children:e.jsxs(St,{className:"max-w-6xl max-h-[90vh] overflow-y-auto",children:[e.jsx(Ct,{children:e.jsx(Pt,{className:"sr-only",children:"Video Player"})}),c&&e.jsx(n6e,{video:c,userId:t==null?void 0:t.id,onViewProgress:C=>{console.log(`Video progress: ${C}%`)}})]})})]})}function i6e(){const{user:t}=dt(),{toast:r}=Be(),s=Sl(),[n,a]=j.useState(null),[i,l]=j.useState(0),[o,c]=j.useState(!1),[d,u]=j.useState({title:"",description:"",targetAudience:"general",categories:[]}),h=t&&["branch_manager","taluk_manager","pincode_agent","admin"].includes(t.userType),{data:g,isLoading:f}=fe({queryKey:["/api/videos/my-uploads"],enabled:!!t&&h}),{data:p,isLoading:y}=fe({queryKey:["/api/videos/analytics/dashboard"],enabled:!!t&&h}),v=Se({mutationFn:async P=>{const S=await fetch("/api/videos/upload",{method:"POST",credentials:"include",body:P});if(!S.ok){let A="Upload failed";try{const k=S.headers.get("content-type");k&&k.includes("application/json")?A=(await S.json()).message||A:A=await S.text()||A}catch{A=`HTTP ${S.status}: ${S.statusText}`}throw new Error(A)}try{const A=S.headers.get("content-type");if(A&&A.includes("application/json"))return await S.json();{const k=await S.text();throw new Error(`Expected JSON response but got: ${k}`)}}catch(A){throw new Error(`Failed to parse response: ${A.message}`)}},onSuccess:()=>{r({title:"Upload Successful",description:"Your video has been uploaded and is pending admin approval"}),u({title:"",description:"",targetAudience:"general",categories:[]}),a(null),l(0),s.invalidateQueries({queryKey:["/api/videos/my-uploads"]})},onError:P=>{r({title:"Upload Failed",description:P.message,variant:"destructive"})}}),x=P=>{var A;const S=(A=P.target.files)==null?void 0:A[0];if(S){if(S.size>100*1024*1024){r({title:"File Too Large",description:"Video file must be under 100MB",variant:"destructive"});return}if(!["video/mp4","video/avi","video/mov","video/wmv","video/flv"].includes(S.type)){r({title:"Invalid File Type",description:"Only MP4, AVI, MOV, WMV, FLV files are allowed",variant:"destructive"});return}a(S)}},b=async()=>{if(!n||!d.title){r({title:"Missing Information",description:"Please select a file and enter a title",variant:"destructive"});return}c(!0),l(0);const P=new FormData;P.append("video",n),P.append("title",d.title),P.append("description",d.description),P.append("targetAudience",d.targetAudience),P.append("categories",JSON.stringify(d.categories));const S=setInterval(()=>{l(A=>A>=90?(clearInterval(S),A):A+10)},500);try{await v.mutateAsync(P),l(100)}finally{clearInterval(S),c(!1)}},N=P=>{switch(P){case"approved":return e.jsx(Ot,{className:"h-4 w-4 text-green-500"});case"rejected":return e.jsx(Mr,{className:"h-4 w-4 text-red-500"});default:return e.jsx(nr,{className:"h-4 w-4 text-yellow-500"})}},w=P=>{if(P===0)return"0 Bytes";const S=1024,A=["Bytes","KB","MB","GB"],k=Math.floor(Math.log(P)/Math.log(S));return parseFloat((P/Math.pow(S,k)).toFixed(2))+" "+A[k]},C=P=>{const S=Math.floor(P/3600),A=Math.floor(P%3600/60),k=P%60;return S>0?`${S}h ${A}m ${k}s`:A>0?`${A}m ${k}s`:`${k}s`};return t?h?e.jsxs("div",{className:"container mx-auto px-4 py-8 space-y-8",children:[e.jsxs("div",{className:"flex flex-col space-y-2",children:[e.jsx("h1",{className:"text-3xl font-bold",children:"Video Management"}),e.jsx("p",{className:"text-muted-foreground",children:"Upload area-specific advertisement videos for your region"})]}),p&&e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[e.jsxs(E,{children:[e.jsxs(Y,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(X,{className:"text-sm font-medium",children:"Total Views"}),e.jsx(fr,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsx(D,{children:e.jsx("div",{className:"text-2xl font-bold",children:p.totalViews})})]}),e.jsxs(E,{children:[e.jsxs(Y,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(X,{className:"text-sm font-medium",children:"Watch Time"}),e.jsx(gt,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsx(D,{children:e.jsx("div",{className:"text-2xl font-bold",children:C(p.totalWatchTime)})})]}),e.jsxs(E,{children:[e.jsxs(Y,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(X,{className:"text-sm font-medium",children:"Avg Watch Time"}),e.jsx(gt,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsx(D,{children:e.jsx("div",{className:"text-2xl font-bold",children:C(p.averageWatchTime)})})]}),e.jsxs(E,{children:[e.jsxs(Y,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(X,{className:"text-sm font-medium",children:"Completion Rate"}),e.jsx(er,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsx(D,{children:e.jsxs("div",{className:"text-2xl font-bold",children:[p.completionRate,"%"]})})]})]}),e.jsxs(E,{children:[e.jsxs(Y,{children:[e.jsx(X,{children:"Upload New Video"}),e.jsxs(he,{children:["Upload promotional content for your area (",t.district," - ",t.taluk,")"]})]}),e.jsxs(D,{className:"space-y-6",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(se,{htmlFor:"video-file",children:"Video File"}),e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx($,{id:"video-file",type:"file",accept:".mp4,.avi,.mov,.wmv,.flv",onChange:x,disabled:o}),n&&e.jsxs("div",{className:"text-sm text-muted-foreground",children:[n.name," (",w(n.size),")"]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(se,{htmlFor:"title",children:"Title *"}),e.jsx($,{id:"title",value:d.title,onChange:P=>u({...d,title:P.target.value}),placeholder:"Enter video title",disabled:o})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(se,{htmlFor:"description",children:"Description"}),e.jsx(at,{id:"description",value:d.description,onChange:P=>u({...d,description:P.target.value}),placeholder:"Describe your video content",disabled:o})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(se,{htmlFor:"audience",children:"Target Audience"}),e.jsxs(je,{value:d.targetAudience,onValueChange:P=>u({...d,targetAudience:P}),disabled:o,children:[e.jsx(ge,{children:e.jsx(be,{})}),e.jsxs(ve,{children:[e.jsx(O,{value:"general",children:"General Public"}),e.jsx(O,{value:"farmers",children:"Farmers"}),e.jsx(O,{value:"businesses",children:"Local Businesses"}),e.jsx(O,{value:"students",children:"Students"}),e.jsx(O,{value:"seniors",children:"Senior Citizens"})]})]})]}),o&&e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{children:"Uploading..."}),e.jsxs("span",{children:[i,"%"]})]}),e.jsx(Ha,{value:i})]}),e.jsxs(T,{onClick:b,disabled:!n||!d.title||o,className:"w-full",children:[e.jsx(Ci,{className:"mr-2 h-4 w-4"}),o?"Uploading...":"Upload Video"]})]})]}),e.jsxs(E,{children:[e.jsxs(Y,{children:[e.jsx(X,{children:"My Uploaded Videos"}),e.jsx(he,{children:"Track the status and performance of your uploaded videos"})]}),e.jsx(D,{children:f?e.jsx("div",{className:"text-center py-8",children:"Loading videos..."}):g&&g.length>0?e.jsx("div",{className:"space-y-4",children:g.map(P=>e.jsxs("div",{className:"border rounded-lg p-4 space-y-2",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(fu,{className:"h-4 w-4"}),e.jsx("h3",{className:"font-medium",children:P.title})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[N(P.approvalStatus),e.jsx(ae,{variant:P.approvalStatus==="approved"?"default":P.approvalStatus==="rejected"?"destructive":"secondary",children:P.approvalStatus})]})]}),P.description&&e.jsx("p",{className:"text-sm text-muted-foreground",children:P.description}),e.jsxs("div",{className:"flex items-center space-x-4 text-sm text-muted-foreground",children:[e.jsxs("span",{children:["Size: ",w(P.fileSize)]}),e.jsxs("span",{children:["Uploaded: ",new Date(P.createdAt).toLocaleDateString()]}),e.jsxs("span",{children:["Audience: ",P.targetAudience]})]}),P.adminNotes&&e.jsx(la,{className:"mt-2",children:e.jsxs(oa,{children:[e.jsx("strong",{children:"Admin Notes:"})," ",P.adminNotes]})}),P.youtubeVideoId&&e.jsx("div",{className:"mt-2",children:e.jsxs(ae,{variant:"outline",children:["YouTube ID: ",P.youtubeVideoId]})})]},P.id))}):e.jsx("div",{className:"text-center py-8 text-muted-foreground",children:"No videos uploaded yet"})})]}),p&&p.topVideos.length>0&&e.jsxs(E,{children:[e.jsxs(Y,{children:[e.jsx(X,{children:"Top Performing Videos"}),e.jsx(he,{children:"Your most watched videos with engagement metrics"})]}),e.jsx(D,{children:e.jsx("div",{className:"space-y-4",children:p.topVideos.map((P,S)=>e.jsxs("div",{className:"flex items-center space-x-4 p-3 border rounded-lg",children:[e.jsxs("div",{className:"text-lg font-bold text-muted-foreground",children:["#",S+1]}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h4",{className:"font-medium",children:P.video.title}),e.jsxs("div",{className:"flex items-center space-x-4 text-sm text-muted-foreground",children:[e.jsxs("span",{children:[P.viewCount," views"]}),e.jsxs("span",{children:[C(P.totalWatchTime)," total watch time"]}),e.jsxs("span",{children:[P.averageCompletion,"% avg completion"]})]})]})]},P.video.id))})})]})]}):e.jsx("div",{className:"container mx-auto px-4 py-8",children:e.jsx(E,{children:e.jsx(D,{className:"pt-6",children:e.jsxs(la,{children:[e.jsx(nr,{className:"h-4 w-4"}),e.jsx(oa,{children:"Only branch managers, taluk managers, and pincode agents can upload videos."})]})})})}):e.jsx("div",{className:"container mx-auto px-4 py-8",children:e.jsx(E,{children:e.jsx(D,{className:"pt-6",children:e.jsx("p",{className:"text-center text-muted-foreground",children:"Please log in to access video management"})})})})}const hN=1*1024*1024;function l6e(){const[t,r]=j.useState(null),[s,n]=j.useState(""),[a,i]=j.useState(""),[l,o]=j.useState(!1),[c,d]=j.useState(0),[u,m]=j.useState("idle"),h=j.useRef(null),{toast:g}=Be(),f=x=>{var N;const b=(N=x.target.files)==null?void 0:N[0];if(b){if(!["video/mp4","video/avi","video/mov","video/wmv","video/flv"].includes(b.type)){g({title:"Invalid file type",description:"Please select a valid video file (MP4, AVI, MOV, WMV, FLV)",variant:"destructive"});return}if(b.size>150*1024*1024){g({title:"File too large",description:"Please select a video file smaller than 150MB",variant:"destructive"});return}r(b),m("idle")}},p=async(x,b,N,w,C=0)=>{const P=new FormData;P.append("chunk",x),P.append("chunkIndex",b.toString()),P.append("totalChunks",N.toString()),P.append("uploadId",w),b===0&&(P.append("title",s),P.append("description",a),P.append("originalName",t.name),P.append("totalSize",t.size.toString()));try{const S=await fetch("/api/videos/upload-chunk",{method:"POST",credentials:"include",body:P});if(!S.ok){if((S.status===413||S.status===502)&&C<3)return await new Promise(A=>setTimeout(A,1e3*(C+1))),p(x,b,N,w,C+1);throw new Error(`Upload failed: ${S.status} ${S.statusText}`)}return await S.json()}catch(S){if(C<3&&(S.message.includes("Entity Too Large")||S.message.includes("timeout")||S.message.includes("network")||S.name==="NetworkError"))return await new Promise(A=>setTimeout(A,1e3*Math.pow(2,C))),p(x,b,N,w,C+1);throw S}},y=async()=>{if(!t||!s.trim()){g({title:"Missing information",description:"Please select a file and enter a title",variant:"destructive"});return}o(!0),m("uploading"),d(0);try{const x=Math.ceil(t.size/hN),b=`upload_${Date.now()}_${Math.random().toString(36).substr(2,9)}`;for(let N=0;N<x;N++){const w=N*hN,C=Math.min(w+hN,t.size),P=t.slice(w,C);await p(P,N,x,b);const S=(N+1)/x*100;d(S)}m("success"),g({title:"Upload successful",description:"Your video has been uploaded and is pending admin approval"}),r(null),n(""),i(""),h.current&&(h.current.value="")}catch(x){console.error("Upload error:",x),m("error"),g({title:"Upload failed",description:x.message||"An error occurred during upload",variant:"destructive"})}finally{o(!1)}},v=x=>{if(x===0)return"0 Bytes";const b=1024,N=["Bytes","KB","MB","GB"],w=Math.floor(Math.log(x)/Math.log(b));return parseFloat((x/Math.pow(b,w)).toFixed(2))+" "+N[w]};return e.jsx("div",{className:"max-w-2xl mx-auto p-6 space-y-6",children:e.jsxs(E,{children:[e.jsx(Y,{children:e.jsxs(X,{className:"flex items-center gap-2",children:[e.jsx(Ci,{className:"h-5 w-5"}),"Upload New Video (Chunked Upload)"]})}),e.jsxs(D,{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-2",children:"Video File"}),e.jsx($,{ref:h,type:"file",accept:"video/*",onChange:f,disabled:l}),t&&e.jsxs("div",{className:"mt-2 text-sm text-gray-600",children:["Selected: ",t.name," (",v(t.size),")"]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-2",children:"Title *"}),e.jsx($,{value:s,onChange:x=>n(x.target.value),placeholder:"Enter video title",disabled:l})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-2",children:"Description"}),e.jsx(at,{value:a,onChange:x=>i(x.target.value),placeholder:"Enter video description",rows:4,disabled:l})]}),l&&e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center justify-between text-sm",children:[e.jsx("span",{children:"Upload Progress"}),e.jsxs("span",{children:[Math.round(c),"%"]})]}),e.jsx(Ha,{value:c})]}),e.jsx("div",{className:"flex items-center gap-2",children:e.jsx(T,{onClick:y,disabled:!t||!s.trim()||l,className:"flex items-center gap-2",children:u==="uploading"?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"animate-spin h-4 w-4 border-2 border-white border-t-transparent rounded-full"}),"Uploading..."]}):u==="success"?e.jsxs(e.Fragment,{children:[e.jsx(Ot,{className:"h-4 w-4"}),"Upload Complete"]}):u==="error"?e.jsxs(e.Fragment,{children:[e.jsx(nr,{className:"h-4 w-4"}),"Upload Failed"]}):e.jsxs(e.Fragment,{children:[e.jsx(Ci,{className:"h-4 w-4"}),"Upload Video"]})})})]})]})})}const Bx=512*1024;function o6e(){const[t,r]=j.useState(null),[s,n]=j.useState(""),[a,i]=j.useState(""),[l,o]=j.useState(!1),[c,d]=j.useState(0),[u,m]=j.useState("idle"),h=j.useRef(null),{toast:g}=Be(),f=x=>{var N;const b=(N=x.target.files)==null?void 0:N[0];if(b){if(!["video/mp4","video/avi","video/mov","video/wmv","video/flv","video/webm"].includes(b.type)){g({title:"Invalid file type",description:"Please select a valid video file",variant:"destructive"});return}r(b),m("idle")}},p=async(x,b,N,w,C=0)=>{try{const S=new FormData;S.append("chunk",x),S.append("chunkIndex",b.toString()),S.append("totalChunks",N.toString()),S.append("uploadId",w),b===0&&(S.append("title",s),S.append("description",a),S.append("originalName",t.name),S.append("totalSize",t.size.toString()));const A=new AbortController,k=setTimeout(()=>A.abort(),3e4),I=await fetch("/api/videos/upload-chunk",{method:"POST",credentials:"include",body:S,signal:A.signal});if(clearTimeout(k),I.ok)return await I.json();throw new Error(`Upload failed with status: ${I.status}`)}catch(S){if(C<5){const A=Math.pow(2,C)*1e3;return await new Promise(k=>setTimeout(k,A)),p(x,b,N,w,C+1)}throw S}},y=async()=>{if(!t||!s.trim()){g({title:"Missing information",description:"Please select a file and enter a title",variant:"destructive"});return}o(!0),m("uploading"),d(0);try{const x=Date.now().toString()+Math.random().toString(36).substr(2,9),b=Math.ceil(t.size/Bx);g({title:"Starting upload",description:`Breaking file into ${b} small chunks for reliable upload`});for(let N=0;N<b;N++){const w=N*Bx,C=Math.min(w+Bx,t.size),P=t.slice(w,C);await p(P,N,b,x);const S=(N+1)/b*100;d(S),N<b-1&&await new Promise(A=>setTimeout(A,50))}m("success"),g({title:"Upload successful",description:"Your video has been uploaded and is pending admin approval"}),r(null),n(""),i(""),d(0),h.current&&(h.current.value="")}catch(x){console.error("Upload failed:",x),m("error"),g({title:"Upload failed",description:x.message||"Failed to upload video. Please try again.",variant:"destructive"})}finally{o(!1)}},v=x=>{if(x===0)return"0 Bytes";const b=1024,N=["Bytes","KB","MB","GB"],w=Math.floor(Math.log(x)/Math.log(b));return parseFloat((x/Math.pow(b,w)).toFixed(2))+" "+N[w]};return e.jsx("div",{className:"max-w-2xl mx-auto p-6 space-y-6",children:e.jsxs(E,{children:[e.jsx(Y,{children:e.jsxs(X,{className:"flex items-center gap-2",children:[e.jsx(Ci,{className:"h-5 w-5"}),"Simple Video Upload"]})}),e.jsxs(D,{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-2",children:"Video File"}),e.jsx($,{ref:h,type:"file",accept:"video/*",onChange:f,disabled:l}),t&&e.jsxs("div",{className:"mt-2 text-sm text-gray-600",children:[e.jsxs("div",{children:["Selected: ",t.name]}),e.jsxs("div",{children:["Size: ",v(t.size)]}),e.jsxs("div",{children:["Will be split into: ",Math.ceil(t.size/Bx)," chunks"]})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-2",children:"Title *"}),e.jsx($,{value:s,onChange:x=>n(x.target.value),placeholder:"Enter video title",disabled:l})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-2",children:"Description"}),e.jsx(at,{value:a,onChange:x=>i(x.target.value),placeholder:"Enter video description",rows:3,disabled:l})]}),e.jsxs(T,{onClick:y,disabled:!t||!s.trim()||l,className:"w-full",children:[e.jsx(Ci,{className:"mr-2 h-4 w-4"}),l?"Uploading...":"Upload Video"]}),l&&e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{children:"Upload Progress"}),e.jsxs("span",{children:[c.toFixed(1),"%"]})]}),e.jsx(Ha,{value:c,className:"w-full"})]}),u==="success"&&e.jsxs("div",{className:"flex items-center space-x-2 text-green-600 p-3 bg-green-50 rounded-lg",children:[e.jsx(Ot,{className:"h-5 w-5"}),e.jsx("span",{children:"Upload completed successfully!"})]}),u==="error"&&e.jsxs("div",{className:"flex items-center space-x-2 text-red-600 p-3 bg-red-50 rounded-lg",children:[e.jsx(nr,{className:"h-5 w-5"}),e.jsx("span",{children:"Upload failed. Please try again."})]}),e.jsxs("div",{className:"text-sm text-gray-500 space-y-1",children:[e.jsx("div",{children:" Uses 512KB chunks for maximum compatibility"}),e.jsx("div",{children:" Automatic retry on failed chunks"}),e.jsx("div",{children:" Works with large files and slow connections"}),e.jsx("div",{children:" Supported formats: MP4, AVI, MOV, WMV, WEBM"})]})]})]})})}function c6e(){const{user:t}=dt(),[r,s]=j.useState(null),a=t&&["branch_manager","taluk_manager","pincode_agent","admin"].includes(t.userType),{data:i,isLoading:l}=fe({queryKey:["/api/videos/analytics/dashboard"],enabled:!!t&&a}),{data:o,isLoading:c}=fe({queryKey:["/api/videos/analytics/detailed",r],enabled:!!r&&a}),d=m=>{const h=Math.floor(m/3600),g=Math.floor(m%3600/60),f=m%60;return h>0?`${h}h ${g}m ${f}s`:g>0?`${g}m ${f}s`:`${f}s`},u=m=>new Date(m).toLocaleDateString("en-IN",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"});return t?a?l?e.jsx("div",{className:"container mx-auto px-4 py-8",children:e.jsx("div",{className:"text-center",children:"Loading analytics..."})}):e.jsxs("div",{className:"container mx-auto px-4 py-8 space-y-8",children:[e.jsxs("div",{className:"flex flex-col space-y-2",children:[e.jsx("h1",{className:"text-3xl font-bold",children:"Video Analytics Dashboard"}),e.jsx("p",{className:"text-muted-foreground",children:"Track screen time and engagement metrics for your uploaded videos"})]}),i&&e.jsxs(rr,{defaultValue:"overview",className:"space-y-6",children:[e.jsxs(tr,{className:"grid w-full grid-cols-3",children:[e.jsx(ke,{value:"overview",children:"Overview"}),e.jsx(ke,{value:"performance",children:"Performance"}),e.jsx(ke,{value:"engagement",children:"Engagement"})]}),e.jsxs(Le,{value:"overview",className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[e.jsxs(E,{children:[e.jsxs(Y,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(X,{className:"text-sm font-medium",children:"Total Views"}),e.jsx(fr,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsxs(D,{children:[e.jsx("div",{className:"text-2xl font-bold",children:i.totalViews}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Across all your videos"})]})]}),e.jsxs(E,{children:[e.jsxs(Y,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(X,{className:"text-sm font-medium",children:"Total Watch Time"}),e.jsx(gt,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsxs(D,{children:[e.jsx("div",{className:"text-2xl font-bold",children:d(i.totalWatchTime)}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Cumulative viewing time"})]})]}),e.jsxs(E,{children:[e.jsxs(Y,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(X,{className:"text-sm font-medium",children:"Avg Watch Time"}),e.jsx(gt,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsxs(D,{children:[e.jsx("div",{className:"text-2xl font-bold",children:d(i.averageWatchTime)}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Per viewing session"})]})]}),e.jsxs(E,{children:[e.jsxs(Y,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(X,{className:"text-sm font-medium",children:"Completion Rate"}),e.jsx(er,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsxs(D,{children:[e.jsxs("div",{className:"text-2xl font-bold",children:[i.completionRate,"%"]}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Videos watched to end"})]})]})]}),e.jsxs(E,{children:[e.jsxs(Y,{children:[e.jsx(X,{children:"Recent Video Views"}),e.jsx(he,{children:"Latest viewing sessions with device and engagement data"})]}),e.jsx(D,{children:i.recentViews.length>0?e.jsx("div",{className:"space-y-4",children:i.recentViews.map(m=>e.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg",children:[e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx(ZX,{className:"h-4 w-4 text-muted-foreground"}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ae,{variant:"outline",children:m.deviceType}),e.jsx(ae,{variant:"outline",children:m.browserType})]}),e.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:u(m.createdAt)})]})]}),e.jsxs("div",{className:"text-right",children:[e.jsx("div",{className:"font-medium",children:d(m.watchTime)}),e.jsxs("div",{className:"text-sm text-muted-foreground",children:[m.completionPercentage,"% completed"]})]})]},m.id))}):e.jsx("p",{className:"text-center text-muted-foreground py-8",children:"No recent views"})})]})]}),e.jsx(Le,{value:"performance",className:"space-y-6",children:e.jsxs(E,{children:[e.jsxs(Y,{children:[e.jsx(X,{children:"Top Performing Videos"}),e.jsx(he,{children:"Your most watched videos ranked by engagement"})]}),e.jsx(D,{children:i.topVideos.length>0?e.jsx("div",{className:"space-y-4",children:i.topVideos.map((m,h)=>e.jsxs("div",{className:"p-4 border rounded-lg space-y-3",children:[e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsxs("div",{className:"text-lg font-bold text-muted-foreground",children:["#",h+1]}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h4",{className:"font-medium",children:m.video.title}),e.jsxs("div",{className:"flex items-center space-x-2 text-sm text-muted-foreground",children:[e.jsx(ft,{className:"h-3 w-3"}),e.jsxs("span",{children:[m.video.district," - ",m.video.taluk]}),e.jsx(ae,{variant:"outline",className:"text-xs",children:m.video.targetAudience})]})]})]}),e.jsx(T,{variant:"outline",size:"sm",onClick:()=>s(m.video.id),children:"View Details"})]}),e.jsxs("div",{className:"grid grid-cols-3 gap-4 text-sm",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"font-medium",children:m.viewCount}),e.jsx("div",{className:"text-muted-foreground",children:"Views"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"font-medium",children:d(m.totalWatchTime)}),e.jsx("div",{className:"text-muted-foreground",children:"Total Watch Time"})]}),e.jsxs("div",{className:"text-center",children:[e.jsxs("div",{className:"font-medium",children:[m.averageCompletion,"%"]}),e.jsx("div",{className:"text-muted-foreground",children:"Avg Completion"})]})]}),e.jsxs("div",{className:"space-y-1",children:[e.jsxs("div",{className:"flex justify-between text-xs",children:[e.jsx("span",{children:"Completion Rate"}),e.jsxs("span",{children:[m.averageCompletion,"%"]})]}),e.jsx(Ha,{value:m.averageCompletion,className:"h-2"})]})]},m.video.id))}):e.jsx("p",{className:"text-center text-muted-foreground py-8",children:"No video data available"})})]})}),e.jsxs(Le,{value:"engagement",className:"space-y-6",children:[e.jsxs(E,{children:[e.jsxs(Y,{children:[e.jsx(X,{children:"Engagement Overview"}),e.jsx(he,{children:"How viewers interact with your video content"})]}),e.jsx(D,{children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsx("h4",{className:"font-medium",children:"Viewing Patterns"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-sm",children:"Average Completion Rate"}),e.jsxs("span",{className:"font-medium",children:[i.completionRate,"%"]})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-sm",children:"Total Video Sessions"}),e.jsx("span",{className:"font-medium",children:i.totalViews})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-sm",children:"Average Session Duration"}),e.jsx("span",{className:"font-medium",children:d(i.averageWatchTime)})]})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("h4",{className:"font-medium",children:"Device Distribution"}),e.jsxs("div",{className:"space-y-2",children:[i.recentViews.reduce((m,h)=>(m[h.deviceType]=(m[h.deviceType]||0)+1,m),{}),Object.entries(i.recentViews.reduce((m,h)=>(m[h.deviceType]=(m[h.deviceType]||0)+1,m),{})).map(([m,h])=>e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-sm capitalize",children:m}),e.jsxs(ae,{variant:"outline",children:[h," views"]})]},m))]})]})]})})]}),e.jsxs(E,{children:[e.jsxs(Y,{children:[e.jsx(X,{children:"Screen Time Insights"}),e.jsx(he,{children:"Detailed viewer engagement and retention metrics"})]}),e.jsx(D,{children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[e.jsxs("div",{className:"text-center p-4 border rounded-lg",children:[e.jsx(vi,{className:"h-8 w-8 mx-auto mb-2 text-green-500"}),e.jsxs("div",{className:"text-2xl font-bold",children:[Math.round(i.totalWatchTime/3600),"h"]}),e.jsx("div",{className:"text-sm text-muted-foreground",children:"Total Hours Watched"})]}),e.jsxs("div",{className:"text-center p-4 border rounded-lg",children:[e.jsx(gt,{className:"h-8 w-8 mx-auto mb-2 text-blue-500"}),e.jsxs("div",{className:"text-2xl font-bold",children:[Math.round(i.averageWatchTime/60),"m"]}),e.jsx("div",{className:"text-sm text-muted-foreground",children:"Avg Session Length"})]}),e.jsxs("div",{className:"text-center p-4 border rounded-lg",children:[e.jsx(pu,{className:"h-8 w-8 mx-auto mb-2 text-purple-500"}),e.jsx("div",{className:"text-2xl font-bold",children:i.totalViews}),e.jsx("div",{className:"text-sm text-muted-foreground",children:"Video Starts"})]})]})})]})]})]}),r&&o&&e.jsxs(E,{children:[e.jsx(Y,{children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsxs(X,{children:["Detailed Analytics: ",o.video.title]}),e.jsx(he,{children:"In-depth metrics for this specific video"})]}),e.jsx(T,{variant:"outline",onClick:()=>s(null),children:"Close Details"})]})}),e.jsx(D,{children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsx("h4",{className:"font-medium",children:"Video Information"}),e.jsxs("div",{className:"space-y-2 text-sm",children:[e.jsxs("div",{children:[e.jsx("strong",{children:"Title:"})," ",o.video.title]}),e.jsxs("div",{children:[e.jsx("strong",{children:"Target Audience:"})," ",o.video.targetAudience]}),e.jsxs("div",{children:[e.jsx("strong",{children:"Location:"})," ",o.video.district," - ",o.video.taluk]}),e.jsxs("div",{children:[e.jsx("strong",{children:"Upload Date:"})," ",u(o.video.createdAt)]})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("h4",{className:"font-medium",children:"Performance Metrics"}),e.jsxs("div",{className:"grid grid-cols-2 gap-3 text-sm",children:[e.jsxs("div",{className:"text-center p-3 border rounded",children:[e.jsx("div",{className:"font-bold",children:o.totalViews}),e.jsx("div",{className:"text-muted-foreground",children:"Total Views"})]}),e.jsxs("div",{className:"text-center p-3 border rounded",children:[e.jsxs("div",{className:"font-bold",children:[o.completionRate,"%"]}),e.jsx("div",{className:"text-muted-foreground",children:"Completion Rate"})]}),e.jsxs("div",{className:"text-center p-3 border rounded",children:[e.jsx("div",{className:"font-bold",children:d(o.totalWatchTime)}),e.jsx("div",{className:"text-muted-foreground",children:"Total Watch Time"})]}),e.jsxs("div",{className:"text-center p-3 border rounded",children:[e.jsx("div",{className:"font-bold",children:d(o.averageWatchTime)}),e.jsx("div",{className:"text-muted-foreground",children:"Avg Watch Time"})]})]})]})]})})]})]}):e.jsx("div",{className:"container mx-auto px-4 py-8",children:e.jsx(E,{children:e.jsx(D,{className:"pt-6",children:e.jsx("p",{className:"text-center text-muted-foreground",children:"Video analytics are only available for managers and administrators"})})})}):e.jsx("div",{className:"container mx-auto px-4 py-8",children:e.jsx(E,{children:e.jsx(D,{className:"pt-6",children:e.jsx("p",{className:"text-center text-muted-foreground",children:"Please log in to access video analytics"})})})})}function d6e(){const{user:t}=dt(),{toast:r}=Be(),[s,n]=j.useState(null),[a,i]=j.useState(""),{data:l=[],isLoading:o}=fe({queryKey:["/api/admin/videos/pending"],queryFn:async()=>await(await le("GET","/api/admin/videos/pending")).json()}),c=Se({mutationFn:async({videoId:h,action:g,notes:f})=>await(await le("POST",`/api/admin/videos/${h}/approval`,{action:g,notes:f})).json(),onSuccess:()=>{r({title:"Video processed",description:"Video approval status updated successfully"}),pe.invalidateQueries({queryKey:["/api/admin/videos/pending"]}),n(null),i("")},onError:h=>{r({title:"Error",description:h.message||"Failed to process video approval",variant:"destructive"})}}),d=h=>{const g=["Bytes","KB","MB","GB"];if(h===0)return"0 Bytes";const f=Math.floor(Math.log(h)/Math.log(1024));return Math.round(h/Math.pow(1024,f)*100)/100+" "+g[f]},u=h=>new Date(h).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}),m=h=>{s&&c.mutate({videoId:s.id,action:h,notes:a})};return!t||t.userType!=="admin"?e.jsx("div",{className:"flex items-center justify-center min-h-[400px]",children:e.jsxs("div",{className:"text-center",children:[e.jsx("h2",{className:"text-xl font-semibold mb-2",children:"Access Denied"}),e.jsx("p",{className:"text-muted-foreground",children:"Only administrators can access video approvals."})]})}):o?e.jsx("div",{className:"flex items-center justify-center min-h-[400px]",children:e.jsx("div",{className:"animate-spin w-8 h-8 border-4 border-primary border-t-transparent rounded-full"})}):e.jsxs("div",{className:"container mx-auto px-4 py-8",children:[e.jsxs("div",{className:"mb-6",children:[e.jsx("h1",{className:"text-3xl font-bold mb-2",children:"Video Approvals"}),e.jsx("p",{className:"text-muted-foreground",children:"Review and approve uploaded videos for publication"})]}),l.length===0?e.jsx(E,{children:e.jsxs(D,{className:"p-8 text-center",children:[e.jsx(h_,{className:"w-12 h-12 mx-auto mb-4 text-muted-foreground"}),e.jsx("h3",{className:"text-lg font-semibold mb-2",children:"No pending videos"}),e.jsx("p",{className:"text-muted-foreground",children:"All uploaded videos have been reviewed."})]})}):e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsxs("h2",{className:"text-xl font-semibold",children:["Pending Videos (",l.length,")"]}),l.map(h=>e.jsx(E,{className:`cursor-pointer transition-colors ${(s==null?void 0:s.id)===h.id?"border-primary bg-primary/5":"hover:bg-muted/50"}`,onClick:()=>n(h),children:e.jsxs(D,{className:"p-4",children:[e.jsxs("div",{className:"flex items-start justify-between mb-2",children:[e.jsx("h3",{className:"font-semibold text-sm line-clamp-2",children:h.title}),e.jsx(ae,{variant:"outline",className:"ml-2 text-xs",children:h.category})]}),e.jsxs("div",{className:"space-y-1 text-xs text-muted-foreground",children:[e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(h_,{className:"w-3 h-3"}),e.jsx("span",{children:h.fileName})]}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(zs,{className:"w-3 h-3"}),e.jsxs("span",{children:["User ID: ",h.uploaderId]})]}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(Xt,{className:"w-3 h-3"}),e.jsx("span",{children:u(h.createdAt)})]}),e.jsxs("div",{className:"text-xs",children:["Size: ",d(h.fileSize)]})]}),h.description&&e.jsx("p",{className:"text-xs text-muted-foreground mt-2 line-clamp-2",children:h.description})]})},h.id))]}),e.jsx("div",{className:"sticky top-6",children:s?e.jsxs(E,{children:[e.jsx(Y,{children:e.jsxs(X,{className:"flex items-center gap-2",children:[e.jsx(fr,{className:"w-5 h-5"}),"Review Video"]})}),e.jsxs(D,{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold text-lg",children:s.title}),e.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:s.description||"No description provided"})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[e.jsxs("div",{children:[e.jsx("span",{className:"font-medium",children:"File:"}),e.jsx("p",{className:"text-muted-foreground",children:s.fileName})]}),e.jsxs("div",{children:[e.jsx("span",{className:"font-medium",children:"Size:"}),e.jsx("p",{className:"text-muted-foreground",children:d(s.fileSize)})]}),e.jsxs("div",{children:[e.jsx("span",{className:"font-medium",children:"Category:"}),e.jsx("p",{className:"text-muted-foreground",children:s.category})]}),e.jsxs("div",{children:[e.jsx("span",{className:"font-medium",children:"Target Area:"}),e.jsx("p",{className:"text-muted-foreground",children:s.targetArea||"All areas"})]}),e.jsxs("div",{children:[e.jsx("span",{className:"font-medium",children:"Uploaded:"}),e.jsx("p",{className:"text-muted-foreground",children:u(s.createdAt)})]}),e.jsxs("div",{children:[e.jsx("span",{className:"font-medium",children:"Uploader ID:"}),e.jsx("p",{className:"text-muted-foreground",children:s.uploaderId})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-2",children:"Approval Notes (optional)"}),e.jsx(at,{value:a,onChange:h=>i(h.target.value),placeholder:"Add notes about your approval decision...",rows:3})]}),e.jsxs("div",{className:"flex gap-3",children:[e.jsxs(T,{onClick:()=>m("approve"),disabled:c.isPending,className:"flex-1 bg-green-600 hover:bg-green-700",children:[e.jsx(Ot,{className:"w-4 h-4 mr-2"}),"Approve"]}),e.jsxs(T,{onClick:()=>m("reject"),disabled:c.isPending,variant:"destructive",className:"flex-1",children:[e.jsx(Mr,{className:"w-4 h-4 mr-2"}),"Reject"]})]}),c.isPending&&e.jsx("div",{className:"text-center text-sm text-muted-foreground",children:"Processing approval..."})]})]}):e.jsx(E,{children:e.jsxs(D,{className:"p-8 text-center",children:[e.jsx(fr,{className:"w-12 h-12 mx-auto mb-4 text-muted-foreground"}),e.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Select a video"}),e.jsx("p",{className:"text-muted-foreground",children:"Choose a video from the list to review and approve"})]})})})]})]})}function u6e(){const t=()=>{const s=document.createElement("a");s.href="/nalamini-professional-overview.svg",s.download="nalamini-services-overview.svg",s.click()},r=()=>{window.open("/nalamini-professional-overview.svg","_blank")};return e.jsx("div",{className:"min-h-screen bg-gray-50 py-8",children:e.jsx("div",{className:"container mx-auto px-4",children:e.jsxs("div",{className:"max-w-6xl mx-auto",children:[e.jsxs("div",{className:"text-center mb-8",children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-4",children:"Nalamini Services Overview"}),e.jsx("p",{className:"text-lg text-gray-600 mb-6",children:"Professional presentation-ready thumbnail for YouTube and marketing materials"}),e.jsxs("div",{className:"flex justify-center gap-4 mb-8",children:[e.jsxs(T,{onClick:t,className:"flex items-center gap-2",children:[e.jsx(VX,{className:"h-4 w-4"}),"Download SVG"]}),e.jsxs(T,{onClick:r,variant:"outline",className:"flex items-center gap-2",children:[e.jsx(fr,{className:"h-4 w-4"}),"View Fullscreen"]})]})]}),e.jsxs(E,{className:"mb-8",children:[e.jsx(Y,{children:e.jsxs(X,{className:"flex items-center gap-2",children:[e.jsx(v_,{className:"h-5 w-5"}),"Professional Services Overview"]})}),e.jsx(D,{children:e.jsx("div",{className:"bg-white rounded-lg shadow-lg overflow-hidden",children:e.jsx("img",{src:"/nalamini-professional-overview.svg",alt:"Nalamini Services Overview",className:"w-full h-auto",style:{maxHeight:"500px",objectFit:"contain"}})})})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[e.jsx(E,{children:e.jsxs(D,{className:"p-6",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[e.jsx("div",{className:"h-10 w-10 bg-blue-100 rounded-lg flex items-center justify-center",children:e.jsx(v_,{className:"h-5 w-5 text-blue-600"})}),e.jsx("h3",{className:"font-semibold",children:"Presentation Ready"})]}),e.jsx("p",{className:"text-gray-600 text-sm",children:"Professional design suitable for business presentations and investor meetings"})]})}),e.jsx(E,{children:e.jsxs(D,{className:"p-6",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[e.jsx("div",{className:"h-10 w-10 bg-red-100 rounded-lg flex items-center justify-center",children:e.jsx(l$,{className:"h-5 w-5 text-red-600"})}),e.jsx("h3",{className:"font-semibold",children:"YouTube Optimized"})]}),e.jsx("p",{className:"text-gray-600 text-sm",children:"Perfect 1280x720 dimensions for YouTube thumbnails and video covers"})]})}),e.jsx(E,{children:e.jsxs(D,{className:"p-6",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[e.jsx("div",{className:"h-10 w-10 bg-green-100 rounded-lg flex items-center justify-center",children:e.jsx(fr,{className:"h-5 w-5 text-green-600"})}),e.jsx("h3",{className:"font-semibold",children:"High Quality"})]}),e.jsx("p",{className:"text-gray-600 text-sm",children:"Vector-based SVG format ensures crisp quality at any size"})]})})]}),e.jsxs(E,{className:"mt-8",children:[e.jsx(Y,{children:e.jsx(X,{children:"Services Included"})}),e.jsx(D,{children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-3 h-3 bg-green-500 rounded-full"}),e.jsxs("span",{children:[e.jsx("strong",{children:"Taxi:"})," Transportation Services"]})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-3 h-3 bg-yellow-500 rounded-full"}),e.jsxs("span",{children:[e.jsx("strong",{children:"Transport Services:"})," Products/Packages across Tamil Nadu"]})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-3 h-3 bg-purple-500 rounded-full"}),e.jsxs("span",{children:[e.jsx("strong",{children:"Rental Services:"})," Power tools, Construction and Medical Equipments"]})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-3 h-3 bg-red-500 rounded-full"}),e.jsxs("span",{children:[e.jsx("strong",{children:"Manufactures Hub:"})," Distribute Products across Tamil Nadu"]})]})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-3 h-3 bg-cyan-500 rounded-full"}),e.jsxs("span",{children:[e.jsx("strong",{children:"Online Farmer's Market:"})," Farm fresh Grocery to doorstep"]})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-3 h-3 bg-pink-500 rounded-full"}),e.jsxs("span",{children:[e.jsx("strong",{children:"Recharge, utilities, bookings:"})," Mobile, DTH & Services"]})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-3 h-3 bg-green-600 rounded-full"}),e.jsxs("span",{children:[e.jsx("strong",{children:"Recycling:"})," Waste Management & Recycling"]})]})]})]})})]})]})})})}function m6e(){const{user:t}=dt(),{toast:r}=Be();if(!t||t.userType!=="service_provider")return e.jsx("div",{className:"container mx-auto p-6",children:e.jsxs("div",{className:"text-center",children:[e.jsx("h2",{className:"text-xl font-semibold mb-2",children:"Access Restricted"}),e.jsx("p",{children:"Only service providers can view their grocery products."})]})});const{data:s=[],isLoading:n}=fe({queryKey:["/api/provider/grocery/products"]}),a=Se({mutationFn:async o=>{await le("DELETE",`/api/provider/grocery/products/${o}`)},onSuccess:()=>{r({title:"Success",description:"Product deleted successfully."}),pe.invalidateQueries({queryKey:["/api/provider/grocery/products"]})},onError:o=>{r({title:"Error",description:o.message||"Failed to delete product.",variant:"destructive"})}}),i=o=>{confirm("Are you sure you want to delete this product?")&&a.mutate(o)},l=(o,c)=>c?o==="active"?e.jsx(ae,{variant:"default",className:"bg-green-600",children:"Active"}):o==="inactive"?e.jsx(ae,{variant:"secondary",children:"Inactive"}):e.jsx(ae,{variant:"outline",children:o}):e.jsx(ae,{variant:"outline",className:"text-yellow-600 border-yellow-600",children:"Pending Approval"});return n?e.jsxs("div",{className:"container mx-auto p-6",children:[e.jsx("h1",{className:"text-2xl font-bold mb-6",children:"My Grocery Products"}),e.jsx("div",{className:"flex justify-center items-center py-12",children:e.jsx(Ye,{className:"h-8 w-8 animate-spin"})})]}):e.jsxs("div",{className:"container mx-auto p-6",children:[e.jsxs("div",{className:"flex justify-between items-center mb-6",children:[e.jsx("h1",{className:"text-2xl font-bold",children:"My Grocery Products"}),e.jsx(T,{asChild:!0,children:e.jsx("a",{href:"/provider/add-grocery-product",children:"Add New Product"})})]}),s.length===0?e.jsxs("div",{className:"text-center py-12",children:[e.jsx(pt,{className:"h-16 w-16 text-gray-400 mx-auto mb-4"}),e.jsx("h3",{className:"text-xl font-semibold text-gray-700 mb-2",children:"No Products Yet"}),e.jsx("p",{className:"text-gray-500 mb-4",children:"You haven't added any grocery products."}),e.jsx(T,{asChild:!0,children:e.jsx("a",{href:"/provider/add-grocery-product",children:"Add Your First Product"})})]}):e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:s.map(o=>e.jsxs(E,{className:"hover:shadow-lg transition-shadow",children:[e.jsx(Y,{children:e.jsxs("div",{className:"flex justify-between items-start",children:[e.jsx(X,{className:"text-lg",children:o.name}),l(o.status,o.adminApproved)]})}),e.jsxs(D,{children:[e.jsx("p",{className:"text-gray-600 mb-4 line-clamp-2",children:o.description}),e.jsxs("div",{className:"flex justify-between items-center mb-4",children:[e.jsxs("div",{children:[e.jsxs("span",{className:"text-xl font-bold text-green-600",children:["",o.price]}),e.jsxs("span",{className:"text-sm text-gray-500 ml-1",children:["per ",o.unit]})]}),e.jsxs("span",{className:"text-sm text-gray-500",children:["Stock: ",o.stock]})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs(T,{variant:"outline",size:"sm",className:"flex-1",children:[e.jsx(fr,{className:"h-4 w-4 mr-1"}),"View"]}),e.jsxs(T,{variant:"outline",size:"sm",className:"flex-1",children:[e.jsx(Gr,{className:"h-4 w-4 mr-1"}),"Edit"]}),e.jsx(T,{variant:"outline",size:"sm",onClick:()=>i(o.id),disabled:a.isPending,children:e.jsx(Er,{className:"h-4 w-4"})})]})]})]},o.id))})]})}const h6e=_.object({name:_.string().min(2,"Name must be at least 2 characters"),phoneNumber:_.string().min(10,"Phone number must be at least 10 digits"),roleType:_.string(),location:_.string(),serviceType:_.string().optional()}),p6e=[{id:"farmer",name:"Farmers",icon:"",description:"Agricultural services and products"},{id:"manufacturer",name:"Manufacturers",icon:"",description:"Local product manufacturing"},{id:"booking_agent",name:"Booking Agents",icon:"",description:"Service booking coordination"},{id:"rental_agent",name:"Rental Agents",icon:"",description:"Equipment and vehicle rentals"},{id:"transport_agent",name:"Transport Agents",icon:"",description:"Logistics and transportation"},{id:"taxi_agent",name:"Taxi Agents",icon:"",description:"Taxi and ride services"},{id:"recycling_agent",name:"Recycling Agents",icon:"",description:"Waste management and recycling"}],f6e=["Ariyalur","Chengalpattu","Chennai","Coimbatore","Cuddalore","Dharmapuri","Dindigul","Erode","Kallakurichi","Kanchipuram","Kanyakumari","Karur","Krishnagiri","Madurai","Mayiladuthurai","Nagapattinam","Namakkal","Nilgiris","Perambalur","Pudukkottai","Ramanathapuram","Ranipet","Salem","Sivaganga","Tenkasi","Thanjavur","Theni","Thoothukudi","Tiruchirappalli","Tirunelveli","Tirupattur","Tirupur","Tiruvallur","Tiruvannamalai","Tiruvarur","Vellore","Villupuram","Virudhunagar"];function x6e(){const[t,r]=j.useState("role-selection"),[s,n]=j.useState(null),[a,i]=j.useState(null),[l,o]=j.useState(null),[c,d]=j.useState(null),[u,m]=j.useState(null),[h,g]=j.useState(!1),{toast:f}=Be(),{data:p=[]}=fe({queryKey:["/api/taluks",a],queryFn:()=>le("GET",`/api/taluks?district=${a}`).then(K=>K.json()),enabled:!!a}),{data:y=[]}=fe({queryKey:["/api/pincodes",l],queryFn:()=>le("GET",`/api/pincodes?taluk=${l}&district=${a}`).then(K=>K.json()),enabled:!!l&&!!a}),v=Ht({resolver:Wt(h6e),defaultValues:{name:"",phoneNumber:"",roleType:"",location:"",serviceType:""}}),x=Se({mutationFn:async K=>(await le("POST","/api/nominations",K)).json(),onSuccess:()=>{f({title:"Nomination Submitted Successfully!",description:"Your application has been sent to the admin for review."}),g(!1),b()},onError:()=>{f({title:"Submission Failed",description:"Please try again later.",variant:"destructive"})}}),b=()=>{r("role-selection"),n(null),i(null),o(null),d(null),m(null),v.reset()},N=K=>{n(K),r("district-selection")},w=K=>{i(K),s==="branch_manager"?A():r("taluk-selection")},C=K=>{o(K),s==="taluk_manager"?A():r("pincode-selection")},P=K=>{d(K),s==="pincode_agent"?A():s==="service_provider"&&r("service-selection")},S=K=>{m(K),A()},A=()=>{const K=s==="branch_manager"?a:s==="taluk_manager"?`${l}, ${a}`:`${c}, ${l}, ${a}`;v.setValue("roleType",s||""),v.setValue("location",K||""),v.setValue("serviceType",u||""),g(!0)},k=K=>{x.mutate(K)},I=()=>{t==="district-selection"?(r("role-selection"),n(null)):t==="taluk-selection"?(r("district-selection"),i(null)):t==="pincode-selection"?(r("taluk-selection"),o(null)):t==="service-selection"&&(r("pincode-selection"),d(null))},L=()=>{const K=[];return s&&K.push(s.replace("_"," ").toUpperCase()),a&&K.push(a),l&&K.push(l),c&&K.push(c),u&&K.push(u),K.join("  ")};return t==="role-selection"?e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100 p-6",children:e.jsxs("div",{className:"max-w-6xl mx-auto",children:[e.jsxs("div",{className:"text-center mb-12",children:[e.jsx("h1",{className:"text-4xl font-bold text-gray-900 mb-4",children:"Nalamini Opportunities Forum"}),e.jsx("p",{className:"text-xl text-gray-600 max-w-3xl mx-auto",children:"Join our growing network of service coordinators and providers across Tamil Nadu. Select your preferred role to explore opportunities in your area."})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[e.jsxs(E,{className:"cursor-pointer hover:shadow-lg transition-all duration-300 border-2 hover:border-blue-500",onClick:()=>N("branch_manager"),children:[e.jsxs(Y,{className:"text-center pb-4",children:[e.jsx("div",{className:"w-16 h-16 bg-blue-100 rounded-full flex items-center justify-center mx-auto mb-4",children:e.jsx(vn,{className:"h-8 w-8 text-blue-600"})}),e.jsx(X,{className:"text-xl",children:"Branch Manager"})]}),e.jsxs(D,{className:"text-center",children:[e.jsx("p",{className:"text-gray-600 mb-4",children:"Oversee operations across an entire district"}),e.jsx(ae,{variant:"secondary",className:"mb-2",children:"District Level"}),e.jsx("p",{className:"text-sm text-gray-500",children:"38 Districts Available"})]})]}),e.jsxs(E,{className:"cursor-pointer hover:shadow-lg transition-all duration-300 border-2 hover:border-green-500",onClick:()=>N("taluk_manager"),children:[e.jsxs(Y,{className:"text-center pb-4",children:[e.jsx("div",{className:"w-16 h-16 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-4",children:e.jsx(er,{className:"h-8 w-8 text-green-600"})}),e.jsx(X,{className:"text-xl",children:"Taluk Manager"})]}),e.jsxs(D,{className:"text-center",children:[e.jsx("p",{className:"text-gray-600 mb-4",children:"Manage services within a taluk"}),e.jsx(ae,{variant:"secondary",className:"mb-2",children:"Taluk Level"}),e.jsx("p",{className:"text-sm text-gray-500",children:"Multiple Taluks Available"})]})]}),e.jsxs(E,{className:"cursor-pointer hover:shadow-lg transition-all duration-300 border-2 hover:border-purple-500",onClick:()=>N("pincode_agent"),children:[e.jsxs(Y,{className:"text-center pb-4",children:[e.jsx("div",{className:"w-16 h-16 bg-purple-100 rounded-full flex items-center justify-center mx-auto mb-4",children:e.jsx(ft,{className:"h-8 w-8 text-purple-600"})}),e.jsx(X,{className:"text-xl",children:"Pincode Agent"})]}),e.jsxs(D,{className:"text-center",children:[e.jsx("p",{className:"text-gray-600 mb-4",children:"Coordinate services in specific pincode areas"}),e.jsx(ae,{variant:"secondary",className:"mb-2",children:"Pincode Level"}),e.jsx("p",{className:"text-sm text-gray-500",children:"Local Area Coverage"})]})]}),e.jsxs(E,{className:"cursor-pointer hover:shadow-lg transition-all duration-300 border-2 hover:border-orange-500",onClick:()=>N("service_provider"),children:[e.jsxs(Y,{className:"text-center pb-4",children:[e.jsx("div",{className:"w-16 h-16 bg-orange-100 rounded-full flex items-center justify-center mx-auto mb-4",children:e.jsx($X,{className:"h-8 w-8 text-orange-600"})}),e.jsx(X,{className:"text-xl",children:"Service Provider"})]}),e.jsxs(D,{className:"text-center",children:[e.jsx("p",{className:"text-gray-600 mb-4",children:"Provide specialized services to customers"}),e.jsx(ae,{variant:"secondary",className:"mb-2",children:"Service Level"}),e.jsx("p",{className:"text-sm text-gray-500",children:"7 Service Types"})]})]})]}),e.jsx("div",{className:"text-center",children:e.jsxs("div",{className:"bg-white rounded-lg p-6 shadow-md max-w-2xl mx-auto",children:[e.jsx("h3",{className:"text-lg font-semibold mb-3",children:"How It Works"}),e.jsxs("div",{className:"flex items-center justify-center space-x-4 text-sm text-gray-600",children:[e.jsxs("span",{className:"flex items-center",children:[e.jsx(Ot,{className:"h-4 w-4 text-green-500 mr-1"}),"Select Role"]}),e.jsx("span",{className:"text-gray-400",children:""}),e.jsxs("span",{className:"flex items-center",children:[e.jsx(Ot,{className:"h-4 w-4 text-green-500 mr-1"}),"Choose Location"]}),e.jsx("span",{className:"text-gray-400",children:""}),e.jsxs("span",{className:"flex items-center",children:[e.jsx(Ot,{className:"h-4 w-4 text-green-500 mr-1"}),"Nominate Yourself"]})]})]})})]})}):t==="district-selection"?e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100 p-6",children:e.jsxs("div",{className:"max-w-6xl mx-auto",children:[e.jsxs("div",{className:"flex items-center mb-6",children:[e.jsxs(T,{variant:"ghost",onClick:I,className:"mr-4",children:[e.jsx(is,{className:"h-4 w-4 mr-2"}),"Back"]}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Select District"}),e.jsx("p",{className:"text-gray-600 mt-1",children:L()})]})]}),e.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4",children:f6e.map(K=>e.jsx(E,{className:"cursor-pointer hover:shadow-lg transition-all duration-300 border-2 hover:border-blue-500",onClick:()=>w(K),children:e.jsxs(D,{className:"p-4 text-center",children:[e.jsx("div",{className:"w-12 h-12 bg-blue-100 rounded-full flex items-center justify-center mx-auto mb-3",children:e.jsx(zg,{className:"h-6 w-6 text-blue-600"})}),e.jsx("h3",{className:"font-semibold text-gray-900",children:K}),e.jsx(T,{className:"mt-3 w-full",size:"sm",onClick:R=>{R.stopPropagation(),w(K)},children:"Nominate Yourself"})]})},K))})]})}):t==="taluk-selection"?e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-green-50 to-emerald-100 p-6",children:e.jsxs("div",{className:"max-w-6xl mx-auto",children:[e.jsxs("div",{className:"flex items-center mb-6",children:[e.jsxs(T,{variant:"ghost",onClick:I,className:"mr-4",children:[e.jsx(is,{className:"h-4 w-4 mr-2"}),"Back"]}),e.jsxs("div",{children:[e.jsxs("h1",{className:"text-3xl font-bold text-gray-900",children:["Select Taluk in ",a]}),e.jsx("p",{className:"text-gray-600 mt-1",children:L()})]})]}),p.length===0?e.jsx("div",{className:"text-center py-12",children:e.jsxs("p",{className:"text-gray-500",children:["Loading taluks for ",a,"..."]})}):e.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4",children:p.map(K=>e.jsx(E,{className:"cursor-pointer hover:shadow-lg transition-all duration-300 border-2 hover:border-green-500",onClick:()=>C(K.name),children:e.jsxs(D,{className:"p-4 text-center",children:[e.jsx("div",{className:"w-12 h-12 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-3",children:e.jsx(er,{className:"h-6 w-6 text-green-600"})}),e.jsx("h3",{className:"font-semibold text-gray-900",children:K.name}),e.jsx(T,{className:"mt-3 w-full",size:"sm",onClick:R=>{R.stopPropagation(),C(K.name)},children:"Nominate Yourself"})]})},K.name))})]})}):t==="pincode-selection"?e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-purple-50 to-violet-100 p-6",children:e.jsxs("div",{className:"max-w-6xl mx-auto",children:[e.jsxs("div",{className:"flex items-center mb-6",children:[e.jsxs(T,{variant:"ghost",onClick:I,className:"mr-4",children:[e.jsx(is,{className:"h-4 w-4 mr-2"}),"Back"]}),e.jsxs("div",{children:[e.jsxs("h1",{className:"text-3xl font-bold text-gray-900",children:["Select Pincode in ",l]}),e.jsx("p",{className:"text-gray-600 mt-1",children:L()})]})]}),y.length===0?e.jsx("div",{className:"text-center py-12",children:e.jsxs("p",{className:"text-gray-500",children:["Loading pincodes for ",l,"..."]})}):e.jsx("div",{className:"grid grid-cols-3 md:grid-cols-4 lg:grid-cols-6 gap-4",children:y.map(K=>e.jsx(E,{className:"cursor-pointer hover:shadow-lg transition-all duration-300 border-2 hover:border-purple-500",onClick:()=>P(K),children:e.jsxs(D,{className:"p-4 text-center",children:[e.jsx("div",{className:"w-10 h-10 bg-purple-100 rounded-full flex items-center justify-center mx-auto mb-2",children:e.jsx(ft,{className:"h-5 w-5 text-purple-600"})}),e.jsx("h3",{className:"font-semibold text-gray-900 text-sm",children:K}),e.jsx(T,{className:"mt-2 w-full",size:"sm",onClick:R=>{R.stopPropagation(),P(K)},children:"Nominate"})]})},K))})]})}):t==="service-selection"?e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-orange-50 to-amber-100 p-6",children:e.jsxs("div",{className:"max-w-6xl mx-auto",children:[e.jsxs("div",{className:"flex items-center mb-6",children:[e.jsxs(T,{variant:"ghost",onClick:I,className:"mr-4",children:[e.jsx(is,{className:"h-4 w-4 mr-2"}),"Back"]}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Select Service Type"}),e.jsx("p",{className:"text-gray-600 mt-1",children:L()})]})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:p6e.map(K=>e.jsx(E,{className:"cursor-pointer hover:shadow-lg transition-all duration-300 border-2 hover:border-orange-500",onClick:()=>S(K.name),children:e.jsxs(D,{className:"p-6 text-center",children:[e.jsx("div",{className:"text-4xl mb-4",children:K.icon}),e.jsx("h3",{className:"font-semibold text-gray-900 text-lg mb-2",children:K.name}),e.jsx("p",{className:"text-gray-600 text-sm mb-4",children:K.description}),e.jsx(T,{className:"w-full",onClick:R=>{R.stopPropagation(),S(K.name)},children:"Nominate Yourself"})]})},K.id))})]})}):e.jsx(e.Fragment,{children:e.jsx(kt,{open:h,onOpenChange:g,children:e.jsxs(St,{className:"sm:max-w-md",children:[e.jsx(Ct,{children:e.jsx(Pt,{children:"Submit Your Nomination"})}),e.jsx(Gt,{...v,children:e.jsxs("form",{onSubmit:v.handleSubmit(k),className:"space-y-4",children:[e.jsx(q,{control:v.control,name:"name",render:({field:K})=>e.jsxs(B,{children:[e.jsx(V,{children:"Full Name"}),e.jsx(U,{children:e.jsx($,{placeholder:"Enter your full name",...K})}),e.jsx(z,{})]})}),e.jsx(q,{control:v.control,name:"phoneNumber",render:({field:K})=>e.jsxs(B,{children:[e.jsx(V,{children:"Phone Number"}),e.jsx(U,{children:e.jsx($,{placeholder:"Enter your phone number",...K})}),e.jsx(z,{})]})}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-sm font-medium",children:"Selected Position"}),e.jsxs("div",{className:"p-3 bg-gray-50 rounded-md text-sm",children:[e.jsxs("div",{children:[e.jsx("strong",{children:"Role:"})," ",s==null?void 0:s.replace("_"," ").toUpperCase()]}),e.jsxs("div",{children:[e.jsx("strong",{children:"Location:"})," ",v.getValues("location")]}),u&&e.jsxs("div",{children:[e.jsx("strong",{children:"Service:"})," ",u]})]})]}),e.jsxs("div",{className:"flex space-x-3 pt-4",children:[e.jsx(T,{type:"button",variant:"outline",onClick:()=>g(!1),className:"flex-1",children:"Cancel"}),e.jsx(T,{type:"submit",className:"flex-1",disabled:x.isPending,children:x.isPending?"Submitting...":"Submit Application"})]})]})})]})})})}const g6e=_.object({name:_.string().min(2,"Name must be at least 2 characters"),phoneNumber:_.string().regex(/^[0-9]{10}$/,"Phone number must be 10 digits"),roleAppliedFor:_.string().min(1,"Please select a role"),district:_.string().min(1,"Please select a district"),taluk:_.string().min(1,"Please select a taluk"),pincode:_.string().regex(/^[0-9]{6}$/,"Pincode must be 6 digits"),servicesProvided:_.string().min(10,"Please describe the service in at least 10 characters")}),v6e=_.object({otp:_.string().length(6,"OTP must be 6 digits")}),y6e=_.object({message:_.string().min(1,"Message cannot be empty")});function j6e(){const[t,r]=j.useState(!1),[s,n]=j.useState(!1),[a,i]=j.useState(null),[l,o]=j.useState(null),[c,d]=j.useState(!1),{toast:u}=Be(),{data:m=[],isLoading:h}=fe({queryKey:["/api/nominations/approved"]}),{data:g=[]}=fe({queryKey:["/api/districts"]}),{data:f=[]}=fe({queryKey:["/api/public-messages",l==null?void 0:l.id],enabled:!!(l!=null&&l.id)}),p=Ht({resolver:Wt(g6e),defaultValues:{name:"",phoneNumber:"",roleAppliedFor:"",district:"",taluk:"",pincode:"",servicesProvided:""}}),y=Ht({resolver:Wt(v6e),defaultValues:{otp:""}}),v=Ht({resolver:Wt(y6e),defaultValues:{message:""}}),x=Se({mutationFn:async k=>(await le("POST","/api/nominations",k)).json(),onSuccess:k=>{i(k),r(!1),n(!0),u({title:"Nomination Submitted",description:"Please verify your phone number with the OTP sent to you."})},onError:k=>{u({title:"Submission Failed",description:k.message,variant:"destructive"})}}),b=Se({mutationFn:async k=>(await le("POST","/api/verify-otp",{phoneNumber:a.phoneNumber,otp:k.otp,purpose:"nomination"})).json(),onSuccess:()=>{n(!1),i(null),u({title:"Phone Verified",description:"Your nomination has been submitted for admin review."})},onError:k=>{u({title:"Verification Failed",description:k.message,variant:"destructive"})}}),N=Se({mutationFn:async k=>(await le("POST","/api/public-messages",{nominationId:l.id,senderName:"Anonymous",message:k.message})).json(),onSuccess:()=>{v.reset(),pe.invalidateQueries({queryKey:["/api/public-messages",l.id]}),u({title:"Message Sent",description:"Your message has been posted."})},onError:k=>{u({title:"Failed to Send",description:k.message,variant:"destructive"})}}),{data:w=[]}=fe({queryKey:["/api/taluks",p.watch("district")],enabled:!!p.watch("district")}),C=k=>{x.mutate(k)},P=k=>{b.mutate(k)},S=k=>{N.mutate(k)},A=k=>{o(k),d(!0)};return e.jsxs("div",{className:"container mx-auto p-6 space-y-8",children:[e.jsxs("div",{className:"text-center space-y-4",children:[e.jsx("h1",{className:"text-4xl font-bold bg-gradient-to-r from-blue-600 to-purple-600 bg-clip-text text-transparent",children:"Opportunities Forum"}),e.jsx("p",{className:"text-lg text-muted-foreground max-w-2xl mx-auto",children:"Connect with service providers and discover opportunities in your community. Submit nominations to showcase local talent and services."}),e.jsxs(kt,{open:t,onOpenChange:r,children:[e.jsx(ls,{asChild:!0,children:e.jsxs(T,{size:"lg",className:"bg-gradient-to-r from-blue-600 to-purple-600 hover:from-blue-700 hover:to-purple-700",onClick:()=>{console.log("Nominate button clicked"),r(!0)},children:[e.jsx(Rt,{className:"mr-2 h-5 w-5"}),"Nominate Yourself"]})}),e.jsxs(St,{className:"max-w-md",children:[e.jsxs(Ct,{children:[e.jsx(Pt,{children:"Submit a Nomination"}),e.jsx(Yt,{children:"Nominate someone who provides excellent services in your community."})]}),e.jsx(Gt,{...p,children:e.jsxs("form",{onSubmit:p.handleSubmit(C),className:"space-y-4",children:[e.jsx(q,{control:p.control,name:"name",render:({field:k})=>e.jsxs(B,{children:[e.jsx(V,{children:"Full Name"}),e.jsx(U,{children:e.jsx($,{placeholder:"Enter full name",...k})}),e.jsx(z,{})]})}),e.jsx(q,{control:p.control,name:"phoneNumber",render:({field:k})=>e.jsxs(B,{children:[e.jsx(V,{children:"Phone Number"}),e.jsx(U,{children:e.jsx($,{placeholder:"10-digit phone number",...k})}),e.jsx(z,{})]})}),e.jsx(q,{control:p.control,name:"roleAppliedFor",render:({field:k})=>e.jsxs(B,{children:[e.jsx(V,{children:"Role/Profession"}),e.jsxs(je,{onValueChange:k.onChange,defaultValue:k.value,children:[e.jsx(U,{children:e.jsx(ge,{children:e.jsx(be,{placeholder:"Select role"})})}),e.jsxs(ve,{children:[e.jsx(O,{value:"farmer",children:"Farmer"}),e.jsx(O,{value:"manufacturer",children:"Manufacturer"}),e.jsx(O,{value:"transport",children:"Transport Service"}),e.jsx(O,{value:"taxi",children:"Taxi Service"}),e.jsx(O,{value:"rental",children:"Rental Service"}),e.jsx(O,{value:"recycling",children:"Recycling Agent"}),e.jsx(O,{value:"other",children:"Other"})]})]}),e.jsx(z,{})]})}),e.jsx(q,{control:p.control,name:"district",render:({field:k})=>e.jsxs(B,{children:[e.jsx(V,{children:"District"}),e.jsxs(je,{onValueChange:k.onChange,defaultValue:k.value,children:[e.jsx(U,{children:e.jsx(ge,{children:e.jsx(be,{placeholder:"Select district"})})}),e.jsx(ve,{children:g.map(I=>e.jsx(O,{value:I,children:I},I))})]}),e.jsx(z,{})]})}),e.jsx(q,{control:p.control,name:"taluk",render:({field:k})=>e.jsxs(B,{children:[e.jsx(V,{children:"Taluk"}),e.jsxs(je,{onValueChange:k.onChange,defaultValue:k.value,children:[e.jsx(U,{children:e.jsx(ge,{children:e.jsx(be,{placeholder:"Select taluk"})})}),e.jsx(ve,{children:w.map(I=>e.jsx(O,{value:I.name,children:I.name},I.name))})]}),e.jsx(z,{})]})}),e.jsx(q,{control:p.control,name:"pincode",render:({field:k})=>e.jsxs(B,{children:[e.jsx(V,{children:"Pincode"}),e.jsx(U,{children:e.jsx($,{placeholder:"6-digit pincode",...k})}),e.jsx(z,{})]})}),e.jsx(q,{control:p.control,name:"servicesProvided",render:({field:k})=>e.jsxs(B,{children:[e.jsx(V,{children:"Service Description"}),e.jsx(U,{children:e.jsx(at,{placeholder:"Describe the services provided...",...k})}),e.jsx(z,{})]})}),e.jsxs(T,{type:"submit",className:"w-full",disabled:x.isPending,children:[x.isPending&&e.jsx(Ye,{className:"mr-2 h-4 w-4 animate-spin"}),"Submit Nomination"]})]})})]})]})]}),e.jsx(kt,{open:s,onOpenChange:n,children:e.jsxs(St,{className:"max-w-md",children:[e.jsxs(Ct,{children:[e.jsx(Pt,{children:"Verify Phone Number"}),e.jsxs(Yt,{children:["Enter the 6-digit OTP sent to ",a==null?void 0:a.phoneNumber]})]}),e.jsx(Gt,{...y,children:e.jsxs("form",{onSubmit:y.handleSubmit(P),className:"space-y-4",children:[e.jsx(q,{control:y.control,name:"otp",render:({field:k})=>e.jsxs(B,{children:[e.jsx(V,{children:"OTP"}),e.jsx(U,{children:e.jsx($,{placeholder:"Enter 6-digit OTP",...k})}),e.jsx(z,{})]})}),e.jsxs(T,{type:"submit",className:"w-full",disabled:b.isPending,children:[b.isPending&&e.jsx(Ye,{className:"mr-2 h-4 w-4 animate-spin"}),"Verify OTP"]})]})})]})}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("h2",{className:"text-2xl font-semibold flex items-center gap-2",children:[e.jsx(EX,{className:"h-6 w-6 text-yellow-500"}),"Featured Service Providers"]}),h?e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[1,2,3,4,5,6].map(k=>e.jsx(E,{className:"animate-pulse",children:e.jsxs(D,{className:"p-6",children:[e.jsx("div",{className:"h-4 bg-gray-200 rounded w-3/4 mb-2"}),e.jsx("div",{className:"h-3 bg-gray-200 rounded w-1/2 mb-4"}),e.jsx("div",{className:"h-20 bg-gray-200 rounded mb-4"}),e.jsx("div",{className:"h-8 bg-gray-200 rounded"})]})},k))}):e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:m.map(k=>e.jsxs(E,{className:"hover:shadow-lg transition-shadow",children:[e.jsxs(Y,{children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(X,{className:"text-lg",children:k.name}),e.jsx(ae,{variant:"secondary",children:k.role})]}),e.jsxs(he,{className:"flex items-center gap-1",children:[e.jsx(ft,{className:"h-4 w-4"}),k.taluk,", ",k.district," - ",k.pincode]})]}),e.jsxs(D,{children:[e.jsx("p",{className:"text-sm text-muted-foreground mb-4 line-clamp-3",children:k.serviceProvided}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs(T,{variant:"outline",size:"sm",className:"flex-1",onClick:()=>A(k),children:[e.jsx(hu,{className:"mr-1 h-4 w-4"}),"Chat"]}),e.jsxs(T,{variant:"outline",size:"sm",children:[e.jsx(Oo,{className:"mr-1 h-4 w-4"}),"Contact"]})]})]})]},k.id))}),m.length===0&&!h&&e.jsxs("div",{className:"text-center py-12",children:[e.jsx(er,{className:"mx-auto h-12 w-12 text-muted-foreground mb-4"}),e.jsx("h3",{className:"text-lg font-medium mb-2",children:"No Featured Providers Yet"}),e.jsx("p",{className:"text-muted-foreground",children:"Be the first to nominate someone from your community!"})]})]}),e.jsx(kt,{open:c,onOpenChange:d,children:e.jsxs(St,{className:"max-w-2xl",children:[e.jsxs(Ct,{children:[e.jsxs(Pt,{children:["Chat with ",l==null?void 0:l.name]}),e.jsxs(Yt,{children:["Public messages for ",l==null?void 0:l.role," services"]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("div",{className:"max-h-96 overflow-y-auto space-y-3 border rounded p-4",children:f.length===0?e.jsx("p",{className:"text-center text-muted-foreground",children:"No messages yet. Be the first to send one!"}):f.map(k=>e.jsxs("div",{className:"bg-muted rounded p-3",children:[e.jsx("div",{className:"font-medium text-sm",children:k.senderName}),e.jsx("div",{className:"text-sm mt-1",children:k.message}),e.jsx("div",{className:"text-xs text-muted-foreground mt-2",children:new Date(k.createdAt).toLocaleString()})]},k.id))}),e.jsx(Gt,{...v,children:e.jsxs("form",{onSubmit:v.handleSubmit(S),className:"flex gap-2",children:[e.jsx(q,{control:v.control,name:"message",render:({field:k})=>e.jsxs(B,{className:"flex-1",children:[e.jsx(U,{children:e.jsx($,{placeholder:"Type your message...",...k})}),e.jsx(z,{})]})}),e.jsxs(T,{type:"submit",disabled:N.isPending,children:[N.isPending&&e.jsx(Ye,{className:"mr-2 h-4 w-4 animate-spin"}),"Send"]})]})})]})]})})]})}function b6e(){const[t,r]=j.useState(!1);return e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-purple-50 p-8",children:e.jsxs("div",{className:"max-w-4xl mx-auto",children:[e.jsx("h1",{className:"text-4xl font-bold text-center mb-8",children:"Nomination Test Page"}),e.jsxs("div",{className:"text-center mb-8",children:[e.jsx(T,{onClick:()=>{console.log("Simple button clicked"),alert("Simple button works!")},className:"mr-4",children:"Test Simple Button"}),e.jsx(T,{onClick:()=>{console.log("State button clicked, current state:",t),r(!0)},className:"mr-4",children:"Test State Button"})]}),e.jsx("div",{className:"text-center",children:e.jsxs(kt,{open:t,onOpenChange:r,children:[e.jsx(ls,{asChild:!0,children:e.jsxs(T,{size:"lg",className:"bg-gradient-to-r from-blue-600 to-purple-600 hover:from-blue-700 hover:to-purple-700",onClick:()=>{console.log("Dialog trigger clicked")},children:[e.jsx(Rt,{className:"mr-2 h-5 w-5"}),"Open Nomination Dialog"]})}),e.jsxs(St,{className:"max-w-md",children:[e.jsx(Ct,{children:e.jsx(Pt,{children:"Test Nomination Form"})}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx(se,{htmlFor:"name",children:"Name"}),e.jsx($,{id:"name",placeholder:"Enter your name"})]}),e.jsxs("div",{children:[e.jsx(se,{htmlFor:"phone",children:"Phone"}),e.jsx($,{id:"phone",placeholder:"Enter phone number"})]}),e.jsxs("div",{className:"flex justify-end space-x-2",children:[e.jsx(T,{variant:"outline",onClick:()=>r(!1),children:"Cancel"}),e.jsx(T,{onClick:()=>{console.log("Form submitted"),alert("Form would be submitted here"),r(!1)},children:"Submit"})]})]})]})]})}),e.jsxs("div",{className:"mt-8 text-center text-sm text-gray-600",children:[e.jsxs("p",{children:["State: ",t?"Dialog Open":"Dialog Closed"]}),e.jsx("p",{children:"Check browser console for click events"})]})]})})}function N6e(){const{user:t}=dt(),{toast:r}=Be(),[s,n]=j.useState("all"),[a,i]=j.useState(""),[l,o]=j.useState("all"),[c,d]=j.useState(),[u,m]=j.useState(),[h,g]=j.useState(!1),{data:f=[]}=fe({queryKey:["/api/rental-categories"]}),{data:p=[],isLoading:y}=fe({queryKey:["/api/rental-equipment",{category:s,search:a,location:l,startDate:c==null?void 0:c.toISOString(),endDate:u==null?void 0:u.toISOString()}]}),{data:v=[]}=fe({queryKey:["/api/rental-cart"],enabled:!!t}),x=Se({mutationFn:async({equipmentId:k,quantity:I,startDate:L,endDate:K})=>{const R=mD(K,L)+1;return(await le("POST","/api/rental-cart",{equipmentId:k,quantity:I,startDate:xt(L,"yyyy-MM-dd"),endDate:xt(K,"yyyy-MM-dd"),totalDays:R})).json()},onSuccess:()=>{pe.invalidateQueries({queryKey:["/api/rental-cart"]}),r({title:"Equipment added to cart"})},onError:k=>{r({title:"Failed to add to cart",description:k.message,variant:"destructive"})}}),b=Se({mutationFn:async({id:k,quantity:I})=>(await le("PATCH",`/api/rental-cart/${k}`,{quantity:I})).json(),onSuccess:()=>{pe.invalidateQueries({queryKey:["/api/rental-cart"]})}}),N=Se({mutationFn:async k=>(await le("DELETE",`/api/rental-cart/${k}`)).json(),onSuccess:()=>{pe.invalidateQueries({queryKey:["/api/rental-cart"]}),r({title:"Equipment removed from cart"})}}),w=(k,I)=>mD(I,k)+1,C=(k,I,L=1)=>{let K=k.dailyRate;if(I>=30&&k.monthlyRate){const R=Math.floor(I/30),F=I%30;K=(R*k.monthlyRate+F*k.dailyRate)/I}else if(I>=7&&k.weeklyRate){const R=Math.floor(I/7),F=I%7;K=(R*k.weeklyRate+F*k.dailyRate)/I}return K*I*L},P=k=>{if(!c||!u){r({title:"Please select rental dates",description:"Choose start and end dates for the rental period",variant:"destructive"});return}const I=w(c,u);if(I<k.minimumRentalDays){r({title:"Rental period too short",description:`Minimum rental period is ${k.minimumRentalDays} days`,variant:"destructive"});return}if(I>k.maximumRentalDays){r({title:"Rental period too long",description:`Maximum rental period is ${k.maximumRentalDays} days`,variant:"destructive"});return}x.mutate({equipmentId:k.id,quantity:1,startDate:c,endDate:u})},S=()=>v.reduce((k,I)=>{const L=L.find(K=>K.id===I.equipmentId);return L?k+C(L,I.totalDays,I.quantity):k},0),A=()=>v.reduce((k,I)=>{const L=L.find(K=>K.id===I.equipmentId);return L?k+L.securityDeposit*I.quantity:k},0);return e.jsxs("div",{className:"container mx-auto p-6 max-w-7xl",children:[e.jsxs("div",{className:"flex justify-between items-center mb-6",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold",children:"Equipment Rental"}),e.jsx("p",{className:"text-gray-600",children:"Rent professional equipment for your projects"})]}),e.jsxs(T,{onClick:()=>g(!h),className:"relative",children:[e.jsx(Pr,{className:"w-4 h-4 mr-2"}),"Cart (",v.length,")"]})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-6",children:[e.jsxs("div",{className:"space-y-6",children:[e.jsxs(E,{children:[e.jsx(Y,{children:e.jsx(X,{className:"text-lg",children:"Rental Dates"})}),e.jsxs(D,{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium",children:"Start Date"}),e.jsxs(hn,{children:[e.jsx(pn,{asChild:!0,children:e.jsxs(T,{variant:"outline",className:Oe("w-full justify-start text-left font-normal",!c&&"text-muted-foreground"),children:[e.jsx(Xt,{className:"mr-2 h-4 w-4"}),c?xt(c,"PPP"):"Pick a date"]})}),e.jsx(Zs,{className:"w-auto p-0",children:e.jsx(Js,{mode:"single",selected:c,onSelect:d,disabled:k=>k<new Date,initialFocus:!0})})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium",children:"End Date"}),e.jsxs(hn,{children:[e.jsx(pn,{asChild:!0,children:e.jsxs(T,{variant:"outline",className:Oe("w-full justify-start text-left font-normal",!u&&"text-muted-foreground"),children:[e.jsx(Xt,{className:"mr-2 h-4 w-4"}),u?xt(u,"PPP"):"Pick a date"]})}),e.jsx(Zs,{className:"w-auto p-0",children:e.jsx(Js,{mode:"single",selected:u,onSelect:m,disabled:k=>!c||k<=c,initialFocus:!0})})]})]}),c&&u&&e.jsxs("div",{className:"text-sm text-center p-2 bg-blue-50 rounded",children:["Duration: ",w(c,u)," days"]})]})]}),e.jsxs(E,{children:[e.jsx(Y,{children:e.jsx(X,{className:"text-lg",children:"Filters"})}),e.jsxs(D,{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium",children:"Category"}),e.jsxs(je,{value:s,onValueChange:n,children:[e.jsx(ge,{children:e.jsx(be,{placeholder:"All Categories"})}),e.jsxs(ve,{children:[e.jsx(O,{value:"all",children:"All Categories"}),f.map(k=>e.jsx(O,{value:k.id.toString(),children:k.name},k.id))]})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium",children:"Location"}),e.jsxs(je,{value:l,onValueChange:o,children:[e.jsx(ge,{children:e.jsx(be,{placeholder:"All Locations"})}),e.jsxs(ve,{children:[e.jsx(O,{value:"all",children:"All Locations"}),e.jsx(O,{value:"chennai",children:"Chennai"}),e.jsx(O,{value:"coimbatore",children:"Coimbatore"}),e.jsx(O,{value:"madurai",children:"Madurai"})]})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium",children:"Search"}),e.jsx($,{placeholder:"Search equipment...",value:a,onChange:k=>i(k.target.value)})]})]})]})]}),e.jsx("div",{className:"lg:col-span-3",children:e.jsxs(rr,{defaultValue:"equipment",className:"space-y-6",children:[e.jsxs(tr,{children:[e.jsx(ke,{value:"equipment",children:"Available Equipment"}),h&&e.jsxs(ke,{value:"cart",children:["Cart (",v.length,")"]})]}),e.jsx(Le,{value:"equipment",children:y?e.jsx("div",{className:"text-center py-8",children:"Loading equipment..."}):e.jsx("div",{className:"grid gap-4 md:grid-cols-2 xl:grid-cols-3",children:p.filter(k=>k.adminApproved&&k.status==="active").map(k=>e.jsxs(E,{className:"hover:shadow-lg transition-shadow",children:[e.jsx(Y,{children:e.jsxs("div",{className:"flex justify-between items-start",children:[e.jsxs("div",{children:[e.jsx(X,{className:"text-lg",children:k.name}),e.jsxs(he,{className:"flex items-center gap-1",children:[e.jsx(ft,{className:"w-3 h-3"}),k.location]})]}),e.jsx(ae,{variant:k.condition==="excellent"?"default":"secondary",children:k.condition})]})}),e.jsx(D,{children:e.jsxs("div",{className:"space-y-3",children:[e.jsx("p",{className:"text-sm text-gray-600 line-clamp-2",children:k.description}),e.jsxs("div",{className:"grid grid-cols-2 gap-2 text-xs",children:[e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(pt,{className:"w-3 h-3 text-gray-500"}),e.jsxs("span",{children:[k.availableQuantity,"/",k.totalQuantity," available"]})]}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(gt,{className:"w-3 h-3 text-gray-500"}),e.jsxs("span",{children:[k.minimumRentalDays,"-",k.maximumRentalDays," days"]})]})]}),e.jsxs("div",{className:"border-t pt-3",children:[e.jsxs("div",{className:"flex justify-between items-center mb-2",children:[e.jsx("span",{className:"text-sm font-medium",children:"Daily Rate:"}),e.jsxs("span",{className:"text-lg font-bold",children:["",k.dailyRate]})]}),e.jsxs("div",{className:"flex justify-between items-center text-sm text-gray-600",children:[e.jsx("span",{children:"Security Deposit:"}),e.jsxs("span",{children:["",k.securityDeposit]})]}),k.deliveryAvailable&&e.jsxs("div",{className:"flex justify-between items-center text-sm text-gray-600",children:[e.jsx("span",{children:"Delivery:"}),e.jsxs("span",{children:["",k.deliveryCharge]})]})]}),c&&u&&e.jsx("div",{className:"bg-blue-50 p-2 rounded text-sm",children:e.jsxs("div",{className:"flex justify-between",children:[e.jsxs("span",{children:["Total (",w(c,u)," days):"]}),e.jsxs("span",{className:"font-semibold",children:["",C(k,w(c,u))]})]})}),e.jsx(T,{className:"w-full",onClick:()=>P(k),disabled:!t||x.isPending||k.availableQuantity===0,children:k.availableQuantity===0?"Out of Stock":"Add to Cart"})]})})]},k.id))})}),h&&e.jsx(Le,{value:"cart",children:e.jsxs(E,{children:[e.jsxs(Y,{children:[e.jsx(X,{children:"Rental Cart"}),e.jsx(he,{children:"Review your selected equipment"})]}),e.jsx(D,{children:v.length===0?e.jsxs("div",{className:"text-center py-8",children:[e.jsx(Pr,{className:"w-12 h-12 mx-auto text-gray-400 mb-4"}),e.jsx("p",{className:"text-gray-600",children:"Your cart is empty"})]}):e.jsxs("div",{className:"space-y-4",children:[v.map(k=>{const I=p.find(L=>L.id===k.equipmentId);return I?e.jsxs("div",{className:"flex justify-between items-center p-4 border rounded",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("h4",{className:"font-medium",children:I.name}),e.jsxs("p",{className:"text-sm text-gray-600",children:[xt(new Date(k.startDate),"MMM dd")," - ",xt(new Date(k.endDate),"MMM dd, yyyy"),"(",k.totalDays," days)"]}),e.jsxs("p",{className:"text-sm font-medium",children:["",C(I,k.totalDays,k.quantity)]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(T,{size:"sm",variant:"outline",onClick:()=>b.mutate({id:k.id,quantity:k.quantity-1}),disabled:k.quantity<=1,children:e.jsx(wc,{className:"w-3 h-3"})}),e.jsx("span",{className:"w-8 text-center",children:k.quantity}),e.jsx(T,{size:"sm",variant:"outline",onClick:()=>b.mutate({id:k.id,quantity:k.quantity+1}),disabled:k.quantity>=I.availableQuantity,children:e.jsx(Rt,{className:"w-3 h-3"})}),e.jsx(T,{size:"sm",variant:"destructive",onClick:()=>N.mutate(k.id),children:"Remove"})]})]},k.id):null}),e.jsxs("div",{className:"border-t pt-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"Rental Total:"}),e.jsxs("span",{className:"font-semibold",children:["",S()]})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"Security Deposit:"}),e.jsxs("span",{className:"font-semibold",children:["",A()]})]}),e.jsxs("div",{className:"flex justify-between text-lg font-bold border-t pt-2",children:[e.jsx("span",{children:"Total Amount:"}),e.jsxs("span",{children:["",S()+A()]})]})]}),e.jsx(T,{className:"w-full mt-4",size:"lg",children:"Proceed to Checkout"})]})]})})]})})]})})]})]})}function w6e(){const{toast:t}=Be(),{data:r=[],isLoading:s}=fe({queryKey:["/api/admin/rental-categories"]}),{data:n=[],isLoading:a}=fe({queryKey:["/api/admin/rental-equipment"]}),{data:i=[],isLoading:l}=fe({queryKey:["/api/admin/rental-orders"]}),o=Se({mutationFn:async u=>(await le("PATCH",`/api/admin/rental-equipment/${u}/approve`)).json(),onSuccess:()=>{pe.invalidateQueries({queryKey:["/api/admin/rental-equipment"]}),t({title:"Equipment approved successfully"})},onError:u=>{t({title:"Failed to approve equipment",description:u.message,variant:"destructive"})}}),c=Se({mutationFn:async u=>(await le("PATCH",`/api/admin/rental-equipment/${u}/reject`)).json(),onSuccess:()=>{pe.invalidateQueries({queryKey:["/api/admin/rental-equipment"]}),t({title:"Equipment rejected successfully"})},onError:u=>{t({title:"Failed to reject equipment",description:u.message,variant:"destructive"})}}),d=u=>{const m={pending:"secondary",active:"default",inactive:"destructive",maintenance:"outline"};return e.jsx(ae,{variant:m[u]||"secondary",children:u})};return e.jsxs("div",{className:"container mx-auto p-6 max-w-7xl",children:[e.jsx("div",{className:"flex justify-between items-center mb-6",children:e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold",children:"Rental Management"}),e.jsx("p",{className:"text-gray-600",children:"Manage equipment rentals, categories, and orders"})]})}),e.jsxs(rr,{defaultValue:"equipment",className:"space-y-6",children:[e.jsxs(tr,{className:"grid w-full grid-cols-3",children:[e.jsx(ke,{value:"equipment",children:"Equipment"}),e.jsx(ke,{value:"categories",children:"Categories"}),e.jsx(ke,{value:"orders",children:"Orders"})]}),e.jsxs(Le,{value:"equipment",className:"space-y-6",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("h2",{className:"text-2xl font-semibold",children:"Equipment Management"}),e.jsxs(T,{children:[e.jsx(Rt,{className:"w-4 h-4 mr-2"}),"Add Equipment"]})]}),a?e.jsx("div",{className:"text-center py-8",children:"Loading equipment..."}):e.jsx("div",{className:"grid gap-4",children:n.map(u=>e.jsxs(E,{className:u.adminApproved?"":"border-orange-200 bg-orange-50",children:[e.jsx(Y,{children:e.jsxs("div",{className:"flex justify-between items-start",children:[e.jsxs("div",{children:[e.jsx(X,{className:"text-lg",children:u.name}),e.jsxs(he,{children:["Category: ",u.categoryName||"Unknown"," | Provider: ",u.providerName||"Unknown"]}),e.jsxs(he,{className:"mt-1",children:["Daily Rate: ",u.dailyRate," | Security Deposit: ",u.securityDeposit]})]}),e.jsxs("div",{className:"flex gap-2",children:[d(u.status),u.adminApproved?e.jsx(ae,{variant:"default",children:"Approved"}):e.jsx(ae,{variant:"secondary",children:"Pending Approval"})]})]})}),e.jsxs(D,{children:[e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 text-sm mb-4",children:[e.jsxs("div",{children:[e.jsx("span",{className:"font-medium",children:"Location:"})," ",u.location]}),e.jsxs("div",{children:[e.jsx("span",{className:"font-medium",children:"Condition:"})," ",u.condition]}),e.jsxs("div",{children:[e.jsx("span",{className:"font-medium",children:"Available:"})," ",u.availableQuantity,"/",u.totalQuantity]}),e.jsxs("div",{children:[e.jsx("span",{className:"font-medium",children:"Min Days:"})," ",u.minimumRentalDays]})]}),u.description&&e.jsxs("div",{className:"mb-4",children:[e.jsx("span",{className:"font-medium",children:"Description:"})," ",u.description]}),!u.adminApproved&&e.jsxs("div",{className:"flex gap-2",children:[e.jsxs(T,{size:"sm",onClick:()=>o.mutate(u.id),disabled:o.isPending,children:[e.jsx(Ot,{className:"w-4 h-4 mr-2"}),"Approve"]}),e.jsxs(T,{size:"sm",variant:"destructive",onClick:()=>c.mutate(u.id),disabled:c.isPending,children:[e.jsx(Mr,{className:"w-4 h-4 mr-2"}),"Reject"]})]})]})]},u.id))})]}),e.jsxs(Le,{value:"categories",className:"space-y-6",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("h2",{className:"text-2xl font-semibold",children:"Rental Categories"}),e.jsxs(T,{children:[e.jsx(Rt,{className:"w-4 h-4 mr-2"}),"Add Category"]})]}),s?e.jsx("div",{className:"text-center py-8",children:"Loading categories..."}):e.jsx("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-3",children:r.map(u=>e.jsxs(E,{children:[e.jsxs(Y,{children:[e.jsx(X,{className:"text-lg",children:u.name}),e.jsx(he,{children:u.description})]}),e.jsx(D,{children:e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx(ae,{variant:u.isActive?"default":"secondary",children:u.isActive?"Active":"Inactive"}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(T,{size:"sm",variant:"outline",children:e.jsx(Gr,{className:"w-4 h-4"})}),e.jsx(T,{size:"sm",variant:"outline",children:e.jsx(Er,{className:"w-4 h-4"})})]})]})})]},u.id))})]}),e.jsxs(Le,{value:"orders",className:"space-y-6",children:[e.jsx("h2",{className:"text-2xl font-semibold",children:"Rental Orders"}),l?e.jsx("div",{className:"text-center py-8",children:"Loading orders..."}):e.jsx("div",{className:"grid gap-4",children:i.map(u=>e.jsxs(E,{children:[e.jsx(Y,{children:e.jsxs("div",{className:"flex justify-between items-start",children:[e.jsxs("div",{children:[e.jsxs(X,{className:"text-lg",children:["Order #",u.orderNumber]}),e.jsxs(he,{children:["Total: ",u.totalAmount," | Deposit: ",u.securityDeposit]})]}),e.jsxs("div",{className:"flex gap-2",children:[d(u.status),e.jsx(ae,{variant:"outline",children:u.paymentStatus})]})]})}),e.jsxs(D,{children:[e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 text-sm mb-4",children:[e.jsxs("div",{children:[e.jsx("span",{className:"font-medium",children:"Duration:"})," ",u.totalDays," days"]}),e.jsxs("div",{children:[e.jsx("span",{className:"font-medium",children:"Start:"})," ",u.startDate]}),e.jsxs("div",{children:[e.jsx("span",{className:"font-medium",children:"End:"})," ",u.endDate]}),e.jsxs("div",{children:[e.jsx("span",{className:"font-medium",children:"Delivery:"})," ",u.deliveryCharge]})]}),e.jsx("div",{className:"flex gap-2",children:e.jsxs(T,{size:"sm",variant:"outline",children:[e.jsx(fr,{className:"w-4 h-4 mr-2"}),"View Details"]})})]})]},u.id))})]})]})]})}function S6e(){const[t,r]=j.useState(!1),[s,n]=j.useState(null),[a,i]=j.useState({name:"",description:"",imageUrl:"",displayOrder:0}),{toast:l}=Be(),{data:o=[],isLoading:c}=fe({queryKey:["/api/admin/rental-categories"]}),d=Se({mutationFn:async v=>(await le("POST","/api/admin/rental-categories",v)).json(),onSuccess:()=>{pe.invalidateQueries({queryKey:["/api/admin/rental-categories"]}),r(!1),h(),l({title:"Success",description:"Rental category created successfully"})},onError:v=>{l({title:"Error",description:v.message,variant:"destructive"})}}),u=Se({mutationFn:async({id:v,data:x})=>(await le("PUT",`/api/admin/rental-categories/${v}`,x)).json(),onSuccess:()=>{pe.invalidateQueries({queryKey:["/api/admin/rental-categories"]}),n(null),h(),l({title:"Success",description:"Rental category updated successfully"})},onError:v=>{l({title:"Error",description:v.message,variant:"destructive"})}}),m=Se({mutationFn:async v=>(await le("DELETE",`/api/admin/rental-categories/${v}`)).json(),onSuccess:()=>{pe.invalidateQueries({queryKey:["/api/admin/rental-categories"]}),l({title:"Success",description:"Rental category deleted successfully"})},onError:v=>{l({title:"Error",description:v.message,variant:"destructive"})}}),h=()=>{i({name:"",description:"",imageUrl:"",displayOrder:0})},g=()=>{if(!a.name.trim()){l({title:"Error",description:"Category name is required",variant:"destructive"});return}d.mutate(a)},f=()=>{!s||!a.name.trim()||u.mutate({id:s.id,data:a})},p=v=>{n(v),i({name:v.name,description:v.description||"",imageUrl:v.imageUrl||"",displayOrder:v.displayOrder})},y=v=>{confirm("Are you sure you want to delete this category?")&&m.mutate(v)};return c?e.jsx("div",{className:"p-6",children:e.jsx("div",{className:"text-center",children:"Loading rental categories..."})}):e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"flex justify-between items-center mb-6",children:[e.jsx("h1",{className:"text-2xl font-bold",children:"Rental Categories Management"}),e.jsxs(kt,{open:t,onOpenChange:r,children:[e.jsx(ls,{asChild:!0,children:e.jsxs(T,{onClick:()=>h(),children:[e.jsx(Rt,{className:"w-4 h-4 mr-2"}),"Add Category"]})}),e.jsxs(St,{children:[e.jsx(Ct,{children:e.jsx(Pt,{children:"Create Rental Category"})}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx(se,{htmlFor:"name",children:"Category Name *"}),e.jsx($,{id:"name",value:a.name,onChange:v=>i({...a,name:v.target.value}),placeholder:"e.g., Construction Equipment"})]}),e.jsxs("div",{children:[e.jsx(se,{htmlFor:"description",children:"Description"}),e.jsx(at,{id:"description",value:a.description,onChange:v=>i({...a,description:v.target.value}),placeholder:"Category description"})]}),e.jsxs("div",{children:[e.jsx(se,{htmlFor:"imageUrl",children:"Image URL"}),e.jsx($,{id:"imageUrl",value:a.imageUrl,onChange:v=>i({...a,imageUrl:v.target.value}),placeholder:"https://example.com/image.jpg"})]}),e.jsxs("div",{children:[e.jsx(se,{htmlFor:"displayOrder",children:"Display Order"}),e.jsx($,{id:"displayOrder",type:"number",value:a.displayOrder,onChange:v=>i({...a,displayOrder:parseInt(v.target.value)||0})})]}),e.jsx(T,{onClick:g,disabled:d.isPending,className:"w-full",children:d.isPending?"Creating...":"Create Category"})]})]})]})]}),o.length===0?e.jsx(E,{children:e.jsxs(D,{className:"p-6 text-center",children:[e.jsx("p",{className:"text-gray-500 mb-4",children:"No rental categories found"}),e.jsx("p",{className:"text-sm text-gray-400",children:"Create your first rental category to get started"})]})}):e.jsx("div",{className:"grid gap-4",children:o.map(v=>e.jsxs(E,{children:[e.jsx(Y,{children:e.jsxs("div",{className:"flex justify-between items-start",children:[e.jsxs("div",{children:[e.jsx(X,{className:"text-lg",children:v.name}),v.description&&e.jsx("p",{className:"text-sm text-gray-600 mt-1",children:v.description})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(T,{variant:"outline",size:"sm",onClick:()=>p(v),children:e.jsx(Yg,{className:"w-4 h-4"})}),e.jsx(T,{variant:"outline",size:"sm",onClick:()=>y(v.id),children:e.jsx(Er,{className:"w-4 h-4"})})]})]})}),e.jsx(D,{children:e.jsxs("div",{className:"text-sm text-gray-500",children:[e.jsxs("p",{children:["Display Order: ",v.displayOrder]}),e.jsxs("p",{children:["Status: ",v.isActive?"Active":"Inactive"]}),e.jsxs("p",{children:["Created: ",new Date(v.createdAt).toLocaleDateString()]})]})})]},v.id))}),e.jsx(kt,{open:!!s,onOpenChange:()=>n(null),children:e.jsxs(St,{children:[e.jsx(Ct,{children:e.jsx(Pt,{children:"Edit Rental Category"})}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx(se,{htmlFor:"edit-name",children:"Category Name *"}),e.jsx($,{id:"edit-name",value:a.name,onChange:v=>i({...a,name:v.target.value}),placeholder:"e.g., Construction Equipment"})]}),e.jsxs("div",{children:[e.jsx(se,{htmlFor:"edit-description",children:"Description"}),e.jsx(at,{id:"edit-description",value:a.description,onChange:v=>i({...a,description:v.target.value}),placeholder:"Category description"})]}),e.jsxs("div",{children:[e.jsx(se,{htmlFor:"edit-imageUrl",children:"Image URL"}),e.jsx($,{id:"edit-imageUrl",value:a.imageUrl,onChange:v=>i({...a,imageUrl:v.target.value}),placeholder:"https://example.com/image.jpg"})]}),e.jsxs("div",{children:[e.jsx(se,{htmlFor:"edit-displayOrder",children:"Display Order"}),e.jsx($,{id:"edit-displayOrder",type:"number",value:a.displayOrder,onChange:v=>i({...a,displayOrder:parseInt(v.target.value)||0})})]}),e.jsx(T,{onClick:f,disabled:u.isPending,className:"w-full",children:u.isPending?"Updating...":"Update Category"})]})]})})]})}const C6e=_.object({name:_.string().min(1,"Name is required"),description:_.string().optional(),categoryId:_.number().min(1,"Category is required"),isActive:_.boolean().default(!0),displayOrder:_.number().min(0).default(0)});function P6e(){const{toast:t}=Be(),[r,s]=j.useState(null),[n,a]=j.useState(!1),i=Ht({resolver:Wt(C6e),defaultValues:{name:"",description:"",categoryId:0,isActive:!0,displayOrder:0}}),{data:l=[]}=fe({queryKey:["/api/rental-categories"]}),{data:o=[],isLoading:c}=fe({queryKey:["/api/admin/rental-subcategories"]}),d=Se({mutationFn:async y=>(await le("POST","/api/admin/rental-subcategories",y)).json(),onSuccess:()=>{pe.invalidateQueries({queryKey:["/api/admin/rental-subcategories"]}),pe.invalidateQueries({queryKey:["/api/rental-subcategories"]}),t({title:"Success",description:"Subcategory created successfully"}),a(!1),i.reset()},onError:y=>{t({title:"Error",description:"Failed to create subcategory",variant:"destructive"})}}),u=Se({mutationFn:async({id:y,data:v})=>(await le("PATCH",`/api/admin/rental-subcategories/${y}`,v)).json(),onSuccess:()=>{pe.invalidateQueries({queryKey:["/api/admin/rental-subcategories"]}),pe.invalidateQueries({queryKey:["/api/rental-subcategories"]}),t({title:"Success",description:"Subcategory updated successfully"}),a(!1),s(null),i.reset()},onError:y=>{t({title:"Error",description:"Failed to update subcategory",variant:"destructive"})}}),m=Se({mutationFn:async y=>{await le("DELETE",`/api/admin/rental-subcategories/${y}`)},onSuccess:()=>{pe.invalidateQueries({queryKey:["/api/admin/rental-subcategories"]}),pe.invalidateQueries({queryKey:["/api/rental-subcategories"]}),t({title:"Success",description:"Subcategory deleted successfully"})},onError:y=>{t({title:"Error",description:"Failed to delete subcategory",variant:"destructive"})}}),h=y=>{r?u.mutate({id:r.id,data:{name:y.name,description:y.description||null,categoryId:y.categoryId,isActive:y.isActive,displayOrder:y.displayOrder}}):d.mutate({name:y.name,description:y.description||null,categoryId:y.categoryId,isActive:y.isActive,displayOrder:y.displayOrder})},g=y=>{s(y),i.reset({name:y.name,description:y.description||"",categoryId:y.categoryId,isActive:y.isActive,displayOrder:y.displayOrder}),a(!0)},f=y=>{confirm("Are you sure you want to delete this subcategory?")&&m.mutate(y)},p=()=>{s(null),i.reset({name:"",description:"",categoryId:0,isActive:!0,displayOrder:0}),a(!0)};return e.jsxs("div",{className:"container mx-auto p-6",children:[e.jsxs("div",{className:"flex justify-between items-center mb-6",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold",children:"Rental Subcategories"}),e.jsx("p",{className:"text-muted-foreground",children:"Manage rental equipment subcategories"})]}),e.jsxs(kt,{open:n,onOpenChange:a,children:[e.jsx(ls,{asChild:!0,children:e.jsxs(T,{onClick:p,children:[e.jsx(Rt,{className:"mr-2 h-4 w-4"}),"Add Subcategory"]})}),e.jsxs(St,{className:"sm:max-w-[425px]",children:[e.jsxs(Ct,{children:[e.jsx(Pt,{children:r?"Edit Subcategory":"Add New Subcategory"}),e.jsx(Yt,{children:r?"Update the subcategory details below.":"Create a new rental subcategory. Fill in the details below."})]}),e.jsx(Gt,{...i,children:e.jsxs("form",{onSubmit:i.handleSubmit(h),className:"space-y-4",children:[e.jsx(q,{control:i.control,name:"name",render:({field:y})=>e.jsxs(B,{children:[e.jsx(V,{children:"Name"}),e.jsx(U,{children:e.jsx($,{placeholder:"Enter subcategory name",...y})}),e.jsx(z,{})]})}),e.jsx(q,{control:i.control,name:"description",render:({field:y})=>e.jsxs(B,{children:[e.jsx(V,{children:"Description"}),e.jsx(U,{children:e.jsx(at,{placeholder:"Enter subcategory description",...y})}),e.jsx(z,{})]})}),e.jsx(q,{control:i.control,name:"categoryId",render:({field:y})=>e.jsxs(B,{children:[e.jsx(V,{children:"Parent Category"}),e.jsxs(je,{onValueChange:v=>y.onChange(parseInt(v)),value:y.value.toString(),children:[e.jsx(U,{children:e.jsx(ge,{children:e.jsx(be,{placeholder:"Select a category"})})}),e.jsx(ve,{children:l.map(v=>e.jsx(O,{value:v.id.toString(),children:v.name},v.id))})]}),e.jsx(z,{})]})}),e.jsx(q,{control:i.control,name:"displayOrder",render:({field:y})=>e.jsxs(B,{children:[e.jsx(V,{children:"Display Order"}),e.jsx(U,{children:e.jsx($,{type:"number",placeholder:"0",...y,onChange:v=>y.onChange(parseInt(v.target.value)||0)})}),e.jsx(z,{})]})}),e.jsxs("div",{className:"flex justify-end space-x-2",children:[e.jsx(T,{type:"button",variant:"outline",onClick:()=>a(!1),children:"Cancel"}),e.jsx(T,{type:"submit",disabled:d.isPending||u.isPending,children:r?"Update":"Create"})]})]})})]})]})]}),c?e.jsx("div",{className:"text-center py-8",children:"Loading subcategories..."}):e.jsx("div",{className:"grid gap-4",children:o.length===0?e.jsx(E,{children:e.jsx(D,{className:"pt-6",children:e.jsxs("div",{className:"text-center text-muted-foreground",children:[e.jsx(pt,{className:"mx-auto h-12 w-12 mb-4"}),e.jsx("p",{children:"No subcategories found. Add your first subcategory to get started."})]})})}):o.map(y=>e.jsxs(E,{children:[e.jsx(Y,{children:e.jsxs("div",{className:"flex justify-between items-start",children:[e.jsxs("div",{children:[e.jsxs(X,{className:"flex items-center gap-2",children:[y.name,e.jsx(ae,{variant:y.isActive?"default":"secondary",children:y.isActive?e.jsxs(e.Fragment,{children:[e.jsx(Ot,{className:"mr-1 h-3 w-3"}),"Active"]}):e.jsxs(e.Fragment,{children:[e.jsx(Mr,{className:"mr-1 h-3 w-3"}),"Inactive"]})})]}),e.jsxs(he,{children:["Category: ",y.categoryName," | Order: ",y.displayOrder]})]}),e.jsxs("div",{className:"flex space-x-2",children:[e.jsx(T,{variant:"outline",size:"sm",onClick:()=>g(y),children:e.jsx(Gr,{className:"h-4 w-4"})}),e.jsx(T,{variant:"outline",size:"sm",onClick:()=>f(y.id),disabled:m.isPending,children:e.jsx(Er,{className:"h-4 w-4"})})]})]})}),y.description&&e.jsx(D,{children:e.jsx("p",{className:"text-sm text-muted-foreground",children:y.description})})]},y.id))})]})}const k6e=_.object({name:_.string().min(1,"Equipment name is required"),categoryId:_.number().min(1,"Please select a category"),subcategoryId:_.number().optional(),description:_.string().optional(),dailyRate:_.number().min(1,"Daily rate must be greater than 0"),weeklyRate:_.number().optional(),monthlyRate:_.number().optional(),securityDeposit:_.number().min(0,"Security deposit cannot be negative"),totalQuantity:_.number().min(1,"Total quantity must be at least 1"),condition:_.string().default("excellent"),location:_.string().min(1,"Location is required"),district:_.string().min(1,"District is required"),pincode:_.string().optional(),imageUrl:_.string().optional(),deliveryAvailable:_.boolean().default(!1),deliveryCharge:_.number().default(0),minimumRentalDays:_.number().min(1,"Minimum rental days must be at least 1"),maximumRentalDays:_.number().min(1,"Maximum rental days must be at least 1")});function pN(){dt();const{toast:t}=Be(),[r,s]=j.useState(!1),[n,a]=j.useState(0),{data:i=[]}=fe({queryKey:["/api/rental-categories"]}),{data:l=[]}=fe({queryKey:["/api/rental-subcategories"]}),{data:o=[],isLoading:c}=fe({queryKey:["/api/provider/rental-equipment"]}),d=Ht({resolver:Wt(k6e),defaultValues:{name:"",categoryId:0,subcategoryId:0,description:"",dailyRate:0,weeklyRate:0,monthlyRate:0,securityDeposit:0,totalQuantity:1,condition:"excellent",location:"",district:"",pincode:"",imageUrl:"",deliveryAvailable:!1,deliveryCharge:0,minimumRentalDays:1,maximumRentalDays:30}}),u=Se({mutationFn:async f=>(await le("POST","/api/provider/rental-equipment",f)).json(),onSuccess:()=>{pe.invalidateQueries({queryKey:["/api/provider/rental-equipment"]}),s(!1),d.reset(),t({title:"Success",description:"Equipment added successfully. Awaiting admin approval."})},onError:f=>{t({title:"Error",description:f.message,variant:"destructive"})}}),m=f=>{u.mutate(f)},h=f=>f.adminApproved?f.status==="active"?e.jsxs(ae,{variant:"default",children:[e.jsx(Ot,{className:"w-3 h-3 mr-1"}),"Active"]}):e.jsxs(ae,{variant:"destructive",children:[e.jsx(Mr,{className:"w-3 h-3 mr-1"}),"Inactive"]}):e.jsxs(ae,{variant:"secondary",children:[e.jsx(nr,{className:"w-3 h-3 mr-1"}),"Pending Approval"]}),g=f=>{const p=i.find(y=>y.id===f);return(p==null?void 0:p.name)||"Unknown Category"};return c?e.jsx("div",{className:"p-6",children:e.jsx("div",{className:"text-center",children:"Loading your rental equipment..."})}):e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"flex justify-between items-center mb-6",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold",children:"My Rental Equipment"}),e.jsx("p",{className:"text-gray-600",children:"Manage your rental equipment inventory"})]}),e.jsxs(T,{onClick:()=>s(!r),children:[e.jsx(Rt,{className:"w-4 h-4 mr-2"}),r?"Cancel":"Add Equipment"]})]}),r&&e.jsxs(E,{className:"mb-6",children:[e.jsxs(Y,{children:[e.jsx(X,{children:"Add New Equipment"}),e.jsx(he,{children:"Add equipment to your rental inventory. All equipment requires admin approval before going live."})]}),e.jsx(D,{children:e.jsx(Gt,{...d,children:e.jsxs("form",{onSubmit:d.handleSubmit(m),className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsx(q,{control:d.control,name:"name",render:({field:f})=>e.jsxs(B,{children:[e.jsx(V,{children:"Equipment Name *"}),e.jsx(U,{children:e.jsx($,{placeholder:"e.g., JCB Excavator",...f})}),e.jsx(z,{})]})}),e.jsx(q,{control:d.control,name:"categoryId",render:({field:f})=>{var p;return e.jsxs(B,{children:[e.jsx(V,{children:"Category *"}),e.jsxs(je,{onValueChange:y=>{const v=parseInt(y);f.onChange(v),a(v),d.setValue("subcategoryId",0)},value:(p=f.value)==null?void 0:p.toString(),children:[e.jsx(U,{children:e.jsx(ge,{children:e.jsx(be,{placeholder:"Select category"})})}),e.jsx(ve,{children:i.map(y=>e.jsx(O,{value:y.id.toString(),children:y.name},y.id))})]}),e.jsx(z,{})]})}}),e.jsx(q,{control:d.control,name:"subcategoryId",render:({field:f})=>{var p;return e.jsxs(B,{children:[e.jsx(V,{children:"Subcategory"}),e.jsxs(je,{onValueChange:y=>f.onChange(parseInt(y)),value:(p=f.value)==null?void 0:p.toString(),disabled:!n,children:[e.jsx(U,{children:e.jsx(ge,{children:e.jsx(be,{placeholder:"Select subcategory (optional)"})})}),e.jsx(ve,{children:l.filter(y=>y.categoryId===n).map(y=>e.jsx(O,{value:y.id.toString(),children:y.name},y.id))})]}),e.jsx(z,{})]})}})]}),e.jsx(q,{control:d.control,name:"description",render:({field:f})=>e.jsxs(B,{children:[e.jsx(V,{children:"Description"}),e.jsx(U,{children:e.jsx(at,{placeholder:"Describe your equipment...",...f})}),e.jsx(z,{})]})}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsx(q,{control:d.control,name:"dailyRate",render:({field:f})=>e.jsxs(B,{children:[e.jsx(V,{children:"Daily Rate () *"}),e.jsx(U,{children:e.jsx($,{type:"number",...f,onChange:p=>f.onChange(parseFloat(p.target.value)||0)})}),e.jsx(z,{})]})}),e.jsx(q,{control:d.control,name:"weeklyRate",render:({field:f})=>e.jsxs(B,{children:[e.jsx(V,{children:"Weekly Rate ()"}),e.jsx(U,{children:e.jsx($,{type:"number",...f,onChange:p=>f.onChange(parseFloat(p.target.value)||0)})}),e.jsx(z,{})]})}),e.jsx(q,{control:d.control,name:"monthlyRate",render:({field:f})=>e.jsxs(B,{children:[e.jsx(V,{children:"Monthly Rate ()"}),e.jsx(U,{children:e.jsx($,{type:"number",...f,onChange:p=>f.onChange(parseFloat(p.target.value)||0)})}),e.jsx(z,{})]})})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsx(q,{control:d.control,name:"securityDeposit",render:({field:f})=>e.jsxs(B,{children:[e.jsx(V,{children:"Security Deposit () *"}),e.jsx(U,{children:e.jsx($,{type:"number",...f,onChange:p=>f.onChange(parseFloat(p.target.value)||0)})}),e.jsx(z,{})]})}),e.jsx(q,{control:d.control,name:"totalQuantity",render:({field:f})=>e.jsxs(B,{children:[e.jsx(V,{children:"Total Quantity *"}),e.jsx(U,{children:e.jsx($,{type:"number",...f,onChange:p=>f.onChange(parseInt(p.target.value)||1)})}),e.jsx(z,{})]})})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsx(q,{control:d.control,name:"location",render:({field:f})=>e.jsxs(B,{children:[e.jsx(V,{children:"Location *"}),e.jsx(U,{children:e.jsx($,{placeholder:"e.g., Chennai",...f})}),e.jsx(z,{})]})}),e.jsx(q,{control:d.control,name:"district",render:({field:f})=>e.jsxs(B,{children:[e.jsx(V,{children:"District *"}),e.jsx(U,{children:e.jsx($,{placeholder:"e.g., Chennai",...f})}),e.jsx(z,{})]})}),e.jsx(q,{control:d.control,name:"pincode",render:({field:f})=>e.jsxs(B,{children:[e.jsx(V,{children:"Pincode"}),e.jsx(U,{children:e.jsx($,{placeholder:"e.g., 600001",...f})}),e.jsx(z,{})]})})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsx(q,{control:d.control,name:"minimumRentalDays",render:({field:f})=>e.jsxs(B,{children:[e.jsx(V,{children:"Minimum Rental Days *"}),e.jsx(U,{children:e.jsx($,{type:"number",...f,onChange:p=>f.onChange(parseInt(p.target.value)||1)})}),e.jsx(z,{})]})}),e.jsx(q,{control:d.control,name:"maximumRentalDays",render:({field:f})=>e.jsxs(B,{children:[e.jsx(V,{children:"Maximum Rental Days *"}),e.jsx(U,{children:e.jsx($,{type:"number",...f,onChange:p=>f.onChange(parseInt(p.target.value)||30)})}),e.jsx(z,{})]})})]}),e.jsx(q,{control:d.control,name:"deliveryAvailable",render:({field:f})=>e.jsxs(B,{className:"flex flex-row items-center justify-between rounded-lg border p-4",children:[e.jsxs("div",{className:"space-y-0.5",children:[e.jsx(V,{className:"text-base",children:"Delivery Available"}),e.jsx("div",{className:"text-sm text-muted-foreground",children:"Do you offer delivery service for this equipment?"})]}),e.jsx(U,{children:e.jsx(ds,{checked:f.value,onCheckedChange:f.onChange})})]})}),d.watch("deliveryAvailable")&&e.jsx(q,{control:d.control,name:"deliveryCharge",render:({field:f})=>e.jsxs(B,{children:[e.jsx(V,{children:"Delivery Charge ()"}),e.jsx(U,{children:e.jsx($,{type:"number",...f,onChange:p=>f.onChange(parseFloat(p.target.value)||0)})}),e.jsx(z,{})]})}),e.jsx(T,{type:"submit",disabled:u.isPending,className:"w-full",children:u.isPending?"Adding Equipment...":"Add Equipment"})]})})})]}),o.length===0?e.jsx(E,{children:e.jsxs(D,{className:"p-6 text-center",children:[e.jsx(pt,{className:"w-12 h-12 mx-auto mb-4 text-gray-400"}),e.jsx("p",{className:"text-gray-500 mb-4",children:"No rental equipment added yet"}),e.jsx("p",{className:"text-sm text-gray-400",children:"Add your first piece of equipment to start renting"})]})}):e.jsx("div",{className:"grid gap-4",children:o.map(f=>e.jsxs(E,{children:[e.jsx(Y,{children:e.jsxs("div",{className:"flex justify-between items-start",children:[e.jsxs("div",{children:[e.jsx(X,{className:"text-lg",children:f.name}),e.jsx("p",{className:"text-sm text-gray-600",children:g(f.categoryId)})]}),h(f)]})}),e.jsxs(D,{children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 text-sm",children:[e.jsxs("div",{children:[e.jsxs("p",{className:"font-medium",children:["Daily Rate: ",f.dailyRate]}),f.weeklyRate&&e.jsxs("p",{children:["Weekly Rate: ",f.weeklyRate]}),f.monthlyRate&&e.jsxs("p",{children:["Monthly Rate: ",f.monthlyRate]})]}),e.jsxs("div",{children:[e.jsxs("p",{children:["Security Deposit: ",f.securityDeposit]}),e.jsxs("p",{children:["Quantity: ",f.availableQuantity,"/",f.totalQuantity]})]}),e.jsxs("div",{children:[e.jsxs("p",{children:[e.jsx(ft,{className:"w-3 h-3 inline mr-1"}),f.location,", ",f.district]}),e.jsxs("p",{children:[e.jsx(gt,{className:"w-3 h-3 inline mr-1"}),f.minimumRentalDays,"-",f.maximumRentalDays," days"]})]})]}),f.description&&e.jsx("p",{className:"text-sm text-gray-600 mt-3",children:f.description})]})]},f.id))})]})}function A6e(){const[t,r]=j.useState("all"),[s,n]=j.useState(""),[a,i]=j.useState("all"),[l,o]=j.useState("all"),[c,d]=j.useState("all"),[u,m]=j.useState(null),[h,g]=j.useState(),[f,p]=j.useState(),{data:y=[]}=fe({queryKey:["/api/rental-categories"]}),{data:v=[],isLoading:x}=fe({queryKey:["/api/rental-equipment"]}),b=v.filter(S=>{var R;const A=t==="all"||S.categoryId.toString()===t,k=s===""||S.name.toLowerCase().includes(s.toLowerCase())||((R=S.description)==null?void 0:R.toLowerCase().includes(s.toLowerCase())),I=a==="all"||S.district===a,L=c==="all"||S.condition===c;let K=!0;if(l!=="all"){const F=S.dailyRate;switch(l){case"0-500":K=F<=500;break;case"500-1000":K=F>500&&F<=1e3;break;case"1000-2000":K=F>1e3&&F<=2e3;break;case"2000+":K=F>2e3;break}}return A&&k&&I&&L&&K&&S.isActive}),N=Array.from(new Set(v.map(S=>S.district))).sort(),w=S=>{switch(S.toLowerCase()){case"excellent":return"bg-green-100 text-green-800";case"good":return"bg-blue-100 text-blue-800";case"fair":return"bg-yellow-100 text-yellow-800";default:return"bg-gray-100 text-gray-800"}},C=(S,A)=>{if(A>=30&&S.monthlyRate){const k=Math.floor(A/30),I=A%30;return k*S.monthlyRate+I*S.dailyRate}else if(A>=7&&S.weeklyRate){const k=Math.floor(A/7),I=A%7;return k*S.weeklyRate+I*S.dailyRate}return A*S.dailyRate},P=()=>{if(h&&f){const S=Math.abs(f.getTime()-h.getTime());return Math.ceil(S/(1e3*60*60*24))}return 1};return e.jsxs("div",{className:"container mx-auto p-6 space-y-6",children:[e.jsxs("div",{className:"text-center space-y-2",children:[e.jsx("h1",{className:"text-4xl font-bold text-gray-900",children:"Rental Equipment Marketplace"}),e.jsx("p",{className:"text-gray-600",children:"Find and rent equipment for your projects"})]}),e.jsxs(E,{children:[e.jsx(Y,{children:e.jsxs(X,{className:"flex items-center gap-2",children:[e.jsx(Bc,{className:"h-5 w-5"}),"Filters"]})}),e.jsx(D,{children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-6 gap-4",children:[e.jsx("div",{className:"lg:col-span-2",children:e.jsxs("div",{className:"relative",children:[e.jsx(es,{className:"absolute left-3 top-3 h-4 w-4 text-gray-400"}),e.jsx($,{placeholder:"Search equipment...",value:s,onChange:S=>n(S.target.value),className:"pl-10"})]})}),e.jsxs(je,{value:t,onValueChange:r,children:[e.jsx(ge,{children:e.jsx(be,{placeholder:"All Categories"})}),e.jsxs(ve,{children:[e.jsx(O,{value:"all",children:"All Categories"}),y.map(S=>e.jsx(O,{value:S.id.toString(),children:S.name},S.id))]})]}),e.jsxs(je,{value:a,onValueChange:i,children:[e.jsx(ge,{children:e.jsx(be,{placeholder:"All Districts"})}),e.jsxs(ve,{children:[e.jsx(O,{value:"all",children:"All Districts"}),N.map(S=>e.jsx(O,{value:S,children:S},S))]})]}),e.jsxs(je,{value:l,onValueChange:o,children:[e.jsx(ge,{children:e.jsx(be,{placeholder:"All Prices"})}),e.jsxs(ve,{children:[e.jsx(O,{value:"all",children:"All Prices"}),e.jsx(O,{value:"0-500",children:"0 - 500/day"}),e.jsx(O,{value:"500-1000",children:"500 - 1000/day"}),e.jsx(O,{value:"1000-2000",children:"1000 - 2000/day"}),e.jsx(O,{value:"2000+",children:"2000+/day"})]})]}),e.jsxs(je,{value:c,onValueChange:d,children:[e.jsx(ge,{children:e.jsx(be,{placeholder:"All Conditions"})}),e.jsxs(ve,{children:[e.jsx(O,{value:"all",children:"All Conditions"}),e.jsx(O,{value:"excellent",children:"Excellent"}),e.jsx(O,{value:"good",children:"Good"}),e.jsx(O,{value:"fair",children:"Fair"})]})]})]})})]}),e.jsx("div",{className:"flex items-center justify-between",children:e.jsxs("p",{className:"text-gray-600",children:["Showing ",b.length," of ",v.length," equipment"]})}),x?e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[...Array(6)].map((S,A)=>e.jsxs(E,{className:"animate-pulse",children:[e.jsx("div",{className:"h-48 bg-gray-200 rounded-t-lg"}),e.jsxs(D,{className:"p-4 space-y-2",children:[e.jsx("div",{className:"h-4 bg-gray-200 rounded"}),e.jsx("div",{className:"h-4 bg-gray-200 rounded w-3/4"}),e.jsx("div",{className:"h-4 bg-gray-200 rounded w-1/2"})]})]},A))}):b.length===0?e.jsx(E,{children:e.jsxs(D,{className:"p-12 text-center",children:[e.jsx(pt,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No equipment found"}),e.jsx("p",{className:"text-gray-500",children:"Try adjusting your filters to see more results."})]})}):e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:b.map(S=>e.jsxs(E,{className:"hover:shadow-lg transition-shadow",children:[e.jsxs("div",{className:"relative",children:[S.imageUrl?e.jsx("img",{src:S.imageUrl,alt:S.name,className:"h-48 w-full object-cover rounded-t-lg"}):e.jsx("div",{className:"h-48 bg-gray-200 rounded-t-lg flex items-center justify-center",children:e.jsx(pt,{className:"h-12 w-12 text-gray-400"})}),e.jsx(ae,{className:Oe("absolute top-2 right-2",w(S.condition)),children:S.condition})]}),e.jsx(D,{className:"p-4",children:e.jsxs("div",{className:"space-y-2",children:[e.jsx("h3",{className:"font-semibold text-lg",children:S.name}),e.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600",children:[e.jsx(ft,{className:"h-4 w-4"}),S.location,", ",S.district]}),e.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600",children:[e.jsx(gt,{className:"h-4 w-4"}),"Min: ",S.minimumRentalDays," day(s) | Max: ",S.maximumRentalDays," day(s)"]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs("div",{className:"text-2xl font-bold text-blue-600",children:["",S.dailyRate,e.jsx("span",{className:"text-sm font-normal text-gray-600",children:"/day"})]}),S.weeklyRate&&e.jsxs("div",{className:"text-sm text-gray-600",children:["",S.weeklyRate,"/week"]})]}),e.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600",children:[e.jsx(xl,{className:"h-4 w-4"}),"Security Deposit: ",S.securityDeposit]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"text-sm text-gray-600",children:["Available: ",S.availableQuantity,"/",S.totalQuantity]}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(vf,{className:"h-4 w-4 text-yellow-400 fill-current"}),e.jsx("span",{className:"text-sm",children:"4.5"})]})]}),e.jsxs(kt,{children:[e.jsx(ls,{asChild:!0,children:e.jsx(T,{className:"w-full mt-4",onClick:()=>m(S),disabled:S.availableQuantity===0,children:S.availableQuantity===0?"Not Available":"View Details & Book"})}),e.jsxs(St,{className:"max-w-2xl max-h-[80vh] overflow-y-auto",children:[e.jsxs(Ct,{children:[e.jsx(Pt,{children:S.name}),e.jsx(Yt,{children:"Equipment details and booking information"})]}),u&&e.jsxs("div",{className:"space-y-6",children:[S.imageUrl?e.jsx("img",{src:S.imageUrl,alt:S.name,className:"w-full h-64 object-cover rounded-lg"}):e.jsx("div",{className:"w-full h-64 bg-gray-200 rounded-lg flex items-center justify-center",children:e.jsx(pt,{className:"h-16 w-16 text-gray-400"})}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold mb-2",children:"Equipment Details"}),e.jsxs("div",{className:"space-y-1 text-sm",children:[e.jsxs("p",{children:[e.jsx("strong",{children:"Condition:"})," ",S.condition]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Location:"})," ",S.location,", ",S.district]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Available Quantity:"})," ",S.availableQuantity]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Delivery:"})," ",S.deliveryAvailable?`Yes (${S.deliveryCharge})`:"No"]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Pickup:"})," ",S.pickupAvailable?"Yes":"No"]})]})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold mb-2",children:"Pricing"}),e.jsxs("div",{className:"space-y-1 text-sm",children:[e.jsxs("p",{children:[e.jsx("strong",{children:"Daily Rate:"})," ",S.dailyRate]}),S.weeklyRate&&e.jsxs("p",{children:[e.jsx("strong",{children:"Weekly Rate:"})," ",S.weeklyRate]}),S.monthlyRate&&e.jsxs("p",{children:[e.jsx("strong",{children:"Monthly Rate:"})," ",S.monthlyRate]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Security Deposit:"})," ",S.securityDeposit]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Min Rental:"})," ",S.minimumRentalDays," day(s)"]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Max Rental:"})," ",S.maximumRentalDays," day(s)"]})]})]})]}),S.description&&e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold mb-2",children:"Description"}),e.jsx("p",{className:"text-sm text-gray-600",children:S.description})]}),S.specifications&&Object.keys(S.specifications).length>0&&e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold mb-2",children:"Specifications"}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2 text-sm",children:Object.entries(S.specifications).map(([A,k])=>e.jsxs("div",{className:"flex justify-between",children:[e.jsxs("span",{className:"font-medium",children:[A,":"]}),e.jsx("span",{children:String(k)})]},A))})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold mb-2",children:"Select Rental Period"}),e.jsxs("div",{className:"flex gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium",children:"Start Date"}),e.jsxs(hn,{children:[e.jsx(pn,{asChild:!0,children:e.jsxs(T,{variant:"outline",className:Oe("w-full justify-start text-left font-normal",!h&&"text-muted-foreground"),children:[e.jsx(Xt,{className:"mr-2 h-4 w-4"}),h?xt(h,"PPP"):"Pick start date"]})}),e.jsx(Zs,{className:"w-auto p-0",children:e.jsx(Js,{mode:"single",selected:h,onSelect:g,disabled:A=>A<new Date,initialFocus:!0})})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium",children:"End Date"}),e.jsxs(hn,{children:[e.jsx(pn,{asChild:!0,children:e.jsxs(T,{variant:"outline",className:Oe("w-full justify-start text-left font-normal",!f&&"text-muted-foreground"),children:[e.jsx(Xt,{className:"mr-2 h-4 w-4"}),f?xt(f,"PPP"):"Pick end date"]})}),e.jsx(Zs,{className:"w-auto p-0",children:e.jsx(Js,{mode:"single",selected:f,onSelect:p,disabled:A=>A<(h||new Date),initialFocus:!0})})]})]})]}),h&&f&&e.jsxs("div",{className:"mt-4 p-4 bg-blue-50 rounded-lg",children:[e.jsx("h5",{className:"font-semibold mb-2",children:"Rental Summary"}),e.jsxs("div",{className:"space-y-1 text-sm",children:[e.jsxs("p",{children:[e.jsx("strong",{children:"Duration:"})," ",P()," day(s)"]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Rental Cost:"})," ",C(S,P())]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Security Deposit:"})," ",S.securityDeposit]}),S.deliveryAvailable&&e.jsxs("p",{children:[e.jsx("strong",{children:"Delivery Charge:"})," ",S.deliveryCharge]}),e.jsx("div",{className:"border-t pt-2 mt-2",children:e.jsxs("p",{className:"font-semibold",children:[e.jsx("strong",{children:"Total Amount:"})," ",C(S,P())+S.securityDeposit+(S.deliveryAvailable?S.deliveryCharge:0)]})})]})]})]}),e.jsx(T,{className:"w-full",size:"lg",disabled:!h||!f||P()<S.minimumRentalDays||P()>S.maximumRentalDays,children:"Book Equipment"})]})]})]})]})})]},S.id))})]})}function _6e(){const[t,r]=j.useState("all"),[s,n]=j.useState("all"),[a,i]=j.useState(""),[l,o]=j.useState("all"),[c,d]=j.useState("all"),[u,m]=j.useState("all"),[h,g]=j.useState("grid"),[f,p]=j.useState(null),[y,v]=j.useState(),[x,b]=j.useState(),{data:N=[],isLoading:w}=fe({queryKey:["/api/rental-categories"]}),{data:C=[],isLoading:P}=fe({queryKey:["/api/rental-subcategories"]}),{data:S=[],isLoading:A}=fe({queryKey:["/api/rental-equipment"]}),k=S.filter(F=>{var te,Ie;const W=t==="all"||F.categoryId.toString()===t,Q=s==="all"||((te=F.subcategoryId)==null?void 0:te.toString())===s,H=a===""||F.name.toLowerCase().includes(a.toLowerCase())||((Ie=F.description)==null?void 0:Ie.toLowerCase().includes(a.toLowerCase())),Z=l==="all"||F.district===l,me=u==="all"||F.condition===u;let Ne=!0;if(c!=="all"){const Te=F.dailyRate;switch(c){case"0-500":Ne=Te<=500;break;case"500-1000":Ne=Te>500&&Te<=1e3;break;case"1000-2000":Ne=Te>1e3&&Te<=2e3;break;case"2000+":Ne=Te>2e3;break}}return W&&Q&&H&&Z&&me&&Ne}),I=Array.from(new Set(S.map(F=>F.district))).sort(),L=t==="all"?C:C.filter(F=>F.categoryId.toString()===t),K=()=>{if(!y||!x)return 1;const F=Math.abs(x.getTime()-y.getTime()),W=Math.ceil(F/(1e3*60*60*24));return Math.max(1,W)},R=F=>{const W=K(),Q=F.dailyRate*W,H=F.deliveryAvailable?F.deliveryCharge:0;return Q+H};return e.jsxs("div",{className:"container mx-auto px-4 py-8",children:[e.jsxs("div",{className:"flex justify-between items-center mb-8",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold",children:"Rental Services"}),e.jsx("p",{className:"text-gray-600 mt-2",children:"Find and rent equipment for your needs"})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(T,{variant:h==="grid"?"default":"outline",size:"sm",onClick:()=>g("grid"),children:e.jsx(KX,{className:"w-4 h-4"})}),e.jsx(T,{variant:h==="list"?"default":"outline",size:"sm",onClick:()=>g("list"),children:e.jsx(WX,{className:"w-4 h-4"})})]})]}),e.jsxs(E,{className:"mb-6",children:[e.jsx(Y,{children:e.jsxs(X,{className:"flex items-center gap-2",children:[e.jsx(Bc,{className:"w-5 h-5"}),"Filters"]})}),e.jsxs(D,{children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 mb-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium mb-2 block",children:"Search"}),e.jsxs("div",{className:"relative",children:[e.jsx(es,{className:"w-4 h-4 absolute left-3 top-3 text-gray-400"}),e.jsx($,{placeholder:"Search equipment...",value:a,onChange:F=>i(F.target.value),className:"pl-10"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium mb-2 block",children:"Category"}),e.jsxs(je,{value:t,onValueChange:r,children:[e.jsx(ge,{children:e.jsx(be,{placeholder:"All Categories"})}),e.jsxs(ve,{children:[e.jsx(O,{value:"all",children:"All Categories"}),N.map(F=>e.jsx(O,{value:F.id.toString(),children:F.name},F.id))]})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium mb-2 block",children:"Subcategory"}),e.jsxs(je,{value:s,onValueChange:n,disabled:t==="all",children:[e.jsx(ge,{children:e.jsx(be,{placeholder:"All Subcategories"})}),e.jsxs(ve,{children:[e.jsx(O,{value:"all",children:"All Subcategories"}),L.map(F=>e.jsx(O,{value:F.id.toString(),children:F.name},F.id))]})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium mb-2 block",children:"Location"}),e.jsxs(je,{value:l,onValueChange:o,children:[e.jsx(ge,{children:e.jsx(be,{placeholder:"All Locations"})}),e.jsxs(ve,{children:[e.jsx(O,{value:"all",children:"All Locations"}),I.map(F=>e.jsx(O,{value:F,children:F},F))]})]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium mb-2 block",children:"Price Range (per day)"}),e.jsxs(je,{value:c,onValueChange:d,children:[e.jsx(ge,{children:e.jsx(be,{placeholder:"All Prices"})}),e.jsxs(ve,{children:[e.jsx(O,{value:"all",children:"All Prices"}),e.jsx(O,{value:"0-500",children:"0 - 500"}),e.jsx(O,{value:"500-1000",children:"500 - 1000"}),e.jsx(O,{value:"1000-2000",children:"1000 - 2000"}),e.jsx(O,{value:"2000+",children:"2000+"})]})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium mb-2 block",children:"Condition"}),e.jsxs(je,{value:u,onValueChange:m,children:[e.jsx(ge,{children:e.jsx(be,{placeholder:"All Conditions"})}),e.jsxs(ve,{children:[e.jsx(O,{value:"all",children:"All Conditions"}),e.jsx(O,{value:"excellent",children:"Excellent"}),e.jsx(O,{value:"good",children:"Good"}),e.jsx(O,{value:"fair",children:"Fair"})]})]})]}),e.jsx("div",{children:e.jsx(T,{variant:"outline",onClick:()=>{r("all"),n("all"),i(""),o("all"),d("all"),m("all")},className:"mt-6",children:"Clear Filters"})})]})]})]}),A?e.jsx("div",{className:"text-center py-8",children:"Loading equipment..."}):k.length===0?e.jsxs("div",{className:"text-center py-8",children:[e.jsx(pt,{className:"w-16 h-16 mx-auto text-gray-300 mb-4"}),e.jsx("h3",{className:"text-lg font-semibold text-gray-600 mb-2",children:"No equipment found"}),e.jsx("p",{className:"text-gray-500",children:"Try adjusting your filters to find more equipment"})]}):e.jsx("div",{className:Oe("grid gap-6",h==="grid"?"grid-cols-1 md:grid-cols-2 lg:grid-cols-3":"grid-cols-1"),children:k.map(F=>e.jsx(E,{className:Oe("hover:shadow-lg transition-shadow cursor-pointer",h==="list"&&"flex flex-row"),onClick:()=>p(F),children:h==="grid"?e.jsxs(e.Fragment,{children:[e.jsxs(Y,{className:"pb-2",children:[e.jsxs("div",{className:"flex justify-between items-start",children:[e.jsx(X,{className:"text-lg line-clamp-2",children:F.name}),e.jsx(ae,{variant:F.condition==="excellent"?"default":"secondary",children:F.condition})]}),e.jsxs(he,{className:"text-sm",children:[F.categoryName," ",F.subcategoryName&&`> ${F.subcategoryName}`]})]}),e.jsx(D,{children:e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600",children:[e.jsx(ft,{className:"w-4 h-4"}),F.location,", ",F.district]}),e.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600",children:[e.jsx(pt,{className:"w-4 h-4"}),"Available: ",F.availableQuantity,"/",F.totalQuantity]}),e.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600",children:[e.jsx(gt,{className:"w-4 h-4"}),"Min: ",F.minimumRentalDays," days"]}),e.jsx("div",{className:"border-t pt-3",children:e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("div",{children:[e.jsxs("p",{className:"text-2xl font-bold text-primary",children:["",F.dailyRate]}),e.jsx("p",{className:"text-sm text-gray-500",children:"per day"})]}),e.jsxs("div",{className:"text-right",children:[e.jsxs("div",{className:"flex items-center gap-1 text-sm text-gray-600",children:[e.jsx(xl,{className:"w-4 h-4"}),"",F.securityDeposit]}),e.jsx("p",{className:"text-xs text-gray-500",children:"security deposit"})]})]})}),e.jsx(T,{className:"w-full",size:"sm",children:"View Details"})]})})]}):e.jsx("div",{className:"flex w-full",children:e.jsxs(D,{className:"flex-1 p-6",children:[e.jsxs("div",{className:"flex justify-between items-start mb-4",children:[e.jsxs("div",{children:[e.jsx(X,{className:"text-xl",children:F.name}),e.jsxs(he,{children:[F.categoryName," ",F.subcategoryName&&`> ${F.subcategoryName}`]})]}),e.jsx(ae,{variant:F.condition==="excellent"?"default":"secondary",children:F.condition})]}),e.jsxs("div",{className:"grid grid-cols-4 gap-4 mb-4",children:[e.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600",children:[e.jsx(ft,{className:"w-4 h-4"}),F.location,", ",F.district]}),e.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600",children:[e.jsx(pt,{className:"w-4 h-4"}),"Available: ",F.availableQuantity,"/",F.totalQuantity]}),e.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600",children:[e.jsx(gt,{className:"w-4 h-4"}),"Min: ",F.minimumRentalDays," days"]}),e.jsxs("div",{className:"text-right",children:[e.jsxs("p",{className:"text-2xl font-bold text-primary",children:["",F.dailyRate,"/day"]}),e.jsxs("p",{className:"text-sm text-gray-500",children:["Security: ",F.securityDeposit]})]})]}),e.jsx(T,{size:"sm",children:"View Details"})]})})},F.id))}),e.jsx(kt,{open:!!f,onOpenChange:()=>p(null),children:e.jsx(St,{className:"max-w-2xl max-h-[90vh] overflow-y-auto",children:f&&e.jsxs(e.Fragment,{children:[e.jsxs(Ct,{children:[e.jsx(Pt,{className:"text-2xl",children:f.name}),e.jsxs(Yt,{children:[f.categoryName," ",f.subcategoryName&&`> ${f.subcategoryName}`," | Provider: ",f.providerName]})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold mb-2",children:"Pricing"}),e.jsxs("div",{className:"space-y-1",children:[e.jsxs("p",{children:["Daily Rate: ",e.jsxs("span",{className:"font-bold text-primary",children:["",f.dailyRate]})]}),f.weeklyRate&&e.jsxs("p",{children:["Weekly Rate: ",e.jsxs("span",{className:"font-bold",children:["",f.weeklyRate]})]}),f.monthlyRate&&e.jsxs("p",{children:["Monthly Rate: ",e.jsxs("span",{className:"font-bold",children:["",f.monthlyRate]})]}),e.jsxs("p",{children:["Security Deposit: ",e.jsxs("span",{className:"font-bold",children:["",f.securityDeposit]})]})]})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold mb-2",children:"Availability"}),e.jsxs("div",{className:"space-y-1",children:[e.jsxs("p",{children:["Available: ",f.availableQuantity,"/",f.totalQuantity]}),e.jsxs("p",{children:["Condition: ",e.jsx(ae,{variant:"outline",children:f.condition})]}),e.jsxs("p",{children:["Min Days: ",f.minimumRentalDays]}),e.jsxs("p",{children:["Max Days: ",f.maximumRentalDays]})]})]})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold mb-2",children:"Location & Delivery"}),e.jsxs("p",{className:"flex items-center gap-2 mb-2",children:[e.jsx(ft,{className:"w-4 h-4"}),f.location,", ",f.district,f.pincode&&` - ${f.pincode}`]}),f.deliveryAvailable&&e.jsxs("p",{className:"text-green-600",children:[" Delivery available (",f.deliveryCharge,")"]})]}),f.description&&e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold mb-2",children:"Description"}),e.jsx("p",{className:"text-gray-700",children:f.description})]}),e.jsxs("div",{className:"border-t pt-4",children:[e.jsx("h4",{className:"font-semibold mb-4",children:"Book Equipment"}),e.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium mb-2 block",children:"Start Date"}),e.jsxs(hn,{children:[e.jsx(pn,{asChild:!0,children:e.jsxs(T,{variant:"outline",className:Oe("w-full justify-start text-left font-normal",!y&&"text-muted-foreground"),children:[e.jsx(Xt,{className:"mr-2 h-4 w-4"}),y?xt(y,"PPP"):e.jsx("span",{children:"Pick a date"})]})}),e.jsx(Zs,{className:"w-auto p-0",children:e.jsx(Js,{mode:"single",selected:y,onSelect:v,disabled:F=>F<new Date,initialFocus:!0})})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium mb-2 block",children:"End Date"}),e.jsxs(hn,{children:[e.jsx(pn,{asChild:!0,children:e.jsxs(T,{variant:"outline",className:Oe("w-full justify-start text-left font-normal",!x&&"text-muted-foreground"),children:[e.jsx(Xt,{className:"mr-2 h-4 w-4"}),x?xt(x,"PPP"):e.jsx("span",{children:"Pick a date"})]})}),e.jsx(Zs,{className:"w-auto p-0",children:e.jsx(Js,{mode:"single",selected:x,onSelect:b,disabled:F=>F<(y||new Date),initialFocus:!0})})]})]})]}),y&&x&&e.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg mb-4",children:[e.jsx("h5",{className:"font-semibold mb-2",children:"Booking Summary"}),e.jsxs("div",{className:"space-y-1",children:[e.jsxs("p",{children:["Duration: ",K()," days"]}),e.jsxs("p",{children:["Equipment Cost: ",f.dailyRate,"  ",K()," = ",f.dailyRate*K()]}),f.deliveryAvailable&&e.jsxs("p",{children:["Delivery Charge: ",f.deliveryCharge]}),e.jsxs("p",{className:"font-bold text-lg",children:["Total: ",R(f)]}),e.jsxs("p",{className:"text-sm text-gray-600",children:["Security Deposit: ",f.securityDeposit," (refundable)"]})]})]}),e.jsx(T,{className:"w-full",disabled:!y||!x||f.availableQuantity===0,children:f.availableQuantity===0?"Out of Stock":"Book Now"})]})]})]})})})]})}function T6e(){dt();const[t,r]=j.useState(""),[s,n]=j.useState("all"),[a,i]=j.useState("all"),{data:l=[]}=fe({queryKey:["/api/rental-categories"]}),{data:o=[]}=fe({queryKey:["/api/rental-subcategories"]}),{data:c=[],isLoading:d}=fe({queryKey:["/api/provider/rental-equipment"]}),u=c.filter(f=>{var x;const p=f.name.toLowerCase().includes(t.toLowerCase())||((x=f.description)==null?void 0:x.toLowerCase().includes(t.toLowerCase())),y=s==="all"||f.categoryId.toString()===s,v=a==="all"||f.subcategoryId&&f.subcategoryId.toString()===a;return p&&y&&v}),m=f=>f.adminApproved?f.isActive?f.availableQuantity===0?e.jsx(ae,{variant:"outline",children:"Out of Stock"}):e.jsx(ae,{variant:"default",children:"Available"}):e.jsx(ae,{variant:"destructive",children:"Inactive"}):e.jsx(ae,{variant:"secondary",children:"Pending Approval"}),h=f=>{const p=l.find(y=>y.id===f);return(p==null?void 0:p.name)||"Unknown Category"},g=f=>{if(!f)return"No Subcategory";const p=o.find(y=>y.id===f);return(p==null?void 0:p.name)||"Unknown Subcategory"};return d?e.jsx("div",{className:"flex items-center justify-center min-h-[400px]",children:e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"})}):e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex flex-col space-y-4",children:[e.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between gap-4",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"My Rental Equipment"}),e.jsx("p",{className:"text-muted-foreground",children:"Manage your rental equipment inventory and track performance"})]}),e.jsxs(T,{className:"w-fit",children:[e.jsx(Rt,{className:"mr-2 h-4 w-4"}),"Add Equipment"]})]}),e.jsxs("div",{className:"flex flex-col lg:flex-row gap-4",children:[e.jsxs("div",{className:"relative flex-1",children:[e.jsx(es,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-muted-foreground"}),e.jsx($,{placeholder:"Search equipment...",value:t,onChange:f=>r(f.target.value),className:"pl-10"})]}),e.jsxs(je,{value:s,onValueChange:n,children:[e.jsx(ge,{className:"w-full lg:w-[200px]",children:e.jsx(be,{placeholder:"All Categories"})}),e.jsxs(ve,{children:[e.jsx(O,{value:"all",children:"All Categories"}),l.map(f=>e.jsx(O,{value:f.id.toString(),children:f.name},f.id))]})]}),e.jsxs(je,{value:a,onValueChange:i,children:[e.jsx(ge,{className:"w-full lg:w-[200px]",children:e.jsx(be,{placeholder:"All Subcategories"})}),e.jsxs(ve,{children:[e.jsx(O,{value:"all",children:"All Subcategories"}),o.filter(f=>s==="all"||f.categoryId.toString()===s).map(f=>e.jsx(O,{value:f.id.toString(),children:f.name},f.id))]})]})]})]}),u.length===0?e.jsx(E,{className:"text-center py-12",children:e.jsxs(D,{children:[e.jsx(pt,{className:"mx-auto h-12 w-12 text-muted-foreground mb-4"}),e.jsx("h3",{className:"text-lg font-semibold mb-2",children:"No Equipment Found"}),e.jsx("p",{className:"text-muted-foreground",children:c.length===0?"You haven't added any rental equipment yet.":"No equipment matches your current search and filters."})]})}):e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:u.map(f=>e.jsxs(E,{className:"hover:shadow-lg transition-shadow",children:[e.jsx(Y,{className:"pb-3",children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{className:"space-y-1 flex-1",children:[e.jsx(X,{className:"text-lg",children:f.name}),e.jsxs("div",{className:"space-y-1",children:[e.jsx("p",{className:"text-sm text-muted-foreground",children:h(f.categoryId)}),f.subcategoryId&&e.jsx("p",{className:"text-xs text-muted-foreground",children:g(f.subcategoryId)})]})]}),m(f)]})}),e.jsxs(D,{className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{className:"text-muted-foreground",children:"Daily Rate:"}),e.jsxs("span",{className:"font-medium",children:["",f.dailyRate]})]}),f.weeklyRate&&e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{className:"text-muted-foreground",children:"Weekly Rate:"}),e.jsxs("span",{className:"font-medium",children:["",f.weeklyRate]})]}),e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{className:"text-muted-foreground",children:"Available:"}),e.jsxs("span",{className:"font-medium",children:[f.availableQuantity,"/",f.totalQuantity]})]}),e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{className:"text-muted-foreground",children:"Location:"}),e.jsx("span",{className:"font-medium",children:f.location})]})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs(T,{variant:"outline",size:"sm",className:"flex-1",children:[e.jsx(fr,{className:"mr-2 h-4 w-4"}),"View"]}),e.jsxs(T,{variant:"outline",size:"sm",className:"flex-1",children:[e.jsx(Gr,{className:"mr-2 h-4 w-4"}),"Edit"]}),e.jsx(T,{variant:"outline",size:"sm",children:e.jsx(Er,{className:"h-4 w-4"})})]})]})]},f.id))})]})}function O6e(){const{user:t}=dt(),{data:r,isLoading:s}=fe({queryKey:["/api/provider/rental-items"],enabled:!!t});return s?e.jsx("div",{className:"container mx-auto p-6",children:e.jsx("div",{className:"flex items-center justify-center min-h-[400px]",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"animate-spin w-8 h-8 border-4 border-primary border-t-transparent rounded-full mx-auto mb-4"}),e.jsx("p",{className:"text-muted-foreground",children:"Loading rental items..."})]})})}):e.jsxs("div",{className:"container mx-auto p-6",children:[e.jsxs("div",{className:"mb-8",children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"My Rental Items"}),e.jsx("p",{className:"text-gray-600",children:"Track and manage items currently rented from your equipment"})]}),!r||r.length===0?e.jsx(E,{className:"text-center py-12",children:e.jsxs(D,{children:[e.jsx(pt,{className:"mx-auto h-12 w-12 text-gray-400 mb-4"}),e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No Active Rentals"}),e.jsx("p",{className:"text-gray-500 mb-6",children:"You don't have any active rental items at the moment."}),e.jsxs(T,{children:[e.jsx(pt,{className:"mr-2 h-4 w-4"}),"Add Equipment"]})]})}):e.jsx("div",{className:"grid gap-6 md:grid-cols-2 lg:grid-cols-3",children:r.map(n=>e.jsxs(E,{className:"hover:shadow-lg transition-shadow",children:[e.jsxs(Y,{children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(X,{className:"text-lg font-semibold",children:n.itemName}),e.jsx(ae,{variant:n.status==="active"?"default":n.status==="completed"?"secondary":n.status==="pending"?"outline":"destructive",children:n.status})]}),e.jsxs(he,{className:"flex items-center",children:[e.jsx(pt,{className:"mr-1 h-4 w-4"}),n.category]})]}),e.jsxs(D,{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[e.jsxs("div",{className:"flex items-center text-gray-600",children:[e.jsx(qs,{className:"mr-1 h-4 w-4"}),e.jsxs("span",{className:"font-medium",children:["",n.amount]})]}),e.jsxs("div",{className:"flex items-center text-gray-600",children:[e.jsx(gt,{className:"mr-1 h-4 w-4"}),e.jsx("span",{children:xt(new Date(n.createdAt),"MMM dd")})]})]}),e.jsxs("div",{className:"space-y-2 text-sm",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-gray-600",children:"Start Date:"}),e.jsx("span",{className:"font-medium",children:xt(new Date(n.startDate),"MMM dd, yyyy")})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-gray-600",children:"End Date:"}),e.jsx("span",{className:"font-medium",children:xt(new Date(n.endDate),"MMM dd, yyyy")})]}),n.renterName&&e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-gray-600",children:"Renter:"}),e.jsx("span",{className:"font-medium",children:n.renterName})]})]}),e.jsxs("div",{className:"flex gap-2 pt-4",children:[e.jsx(T,{variant:"outline",size:"sm",className:"flex-1",children:"View Details"}),n.status==="active"&&e.jsx(T,{variant:"default",size:"sm",className:"flex-1",children:"Contact Renter"})]})]})]},n.id))})]})}function E6e(){const{user:t}=dt(),{data:r,isLoading:s}=fe({queryKey:["/api/customer/rental-items"],enabled:!!t});return s?e.jsx("div",{className:"container mx-auto p-6",children:e.jsx("div",{className:"flex items-center justify-center min-h-[400px]",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"animate-spin w-8 h-8 border-4 border-primary border-t-transparent rounded-full mx-auto mb-4"}),e.jsx("p",{className:"text-muted-foreground",children:"Loading your rental items..."})]})})}):e.jsxs("div",{className:"container mx-auto p-6",children:[e.jsxs("div",{className:"mb-8",children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"My Rental Items"}),e.jsx("p",{className:"text-gray-600",children:"Manage your current and past rental bookings"})]}),!r||r.length===0?e.jsx(E,{className:"text-center py-12",children:e.jsxs(D,{children:[e.jsx(pt,{className:"mx-auto h-12 w-12 text-gray-400 mb-4"}),e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No Rental History"}),e.jsx("p",{className:"text-gray-500 mb-6",children:"You haven't rented any items yet. Browse our rental services to get started."}),e.jsxs(T,{children:[e.jsx(pt,{className:"mr-2 h-4 w-4"}),"Browse Rentals"]})]})}):e.jsx("div",{className:"grid gap-6 md:grid-cols-2 lg:grid-cols-3",children:r.map(n=>e.jsxs(E,{className:"hover:shadow-lg transition-shadow",children:[e.jsxs(Y,{children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(X,{className:"text-lg font-semibold",children:n.itemName}),e.jsx(ae,{variant:n.status==="active"?"default":n.status==="completed"?"secondary":n.status==="pending"?"outline":"destructive",children:n.status})]}),e.jsxs(he,{className:"flex items-center",children:[e.jsx(pt,{className:"mr-1 h-4 w-4"}),n.category]})]}),e.jsxs(D,{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[e.jsxs("div",{className:"flex items-center text-gray-600",children:[e.jsx(qs,{className:"mr-1 h-4 w-4"}),e.jsxs("span",{className:"font-medium",children:["",n.amount]})]}),e.jsxs("div",{className:"flex items-center text-gray-600",children:[e.jsx(gt,{className:"mr-1 h-4 w-4"}),e.jsx("span",{children:xt(new Date(n.createdAt),"MMM dd")})]})]}),e.jsxs("div",{className:"space-y-2 text-sm",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-gray-600",children:"Start Date:"}),e.jsx("span",{className:"font-medium",children:xt(new Date(n.startDate),"MMM dd, yyyy")})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-gray-600",children:"End Date:"}),e.jsx("span",{className:"font-medium",children:xt(new Date(n.endDate),"MMM dd, yyyy")})]}),n.providerName&&e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-gray-600",children:"Provider:"}),e.jsx("span",{className:"font-medium",children:n.providerName})]})]}),e.jsxs("div",{className:"flex gap-2 pt-4",children:[e.jsx(T,{variant:"outline",size:"sm",className:"flex-1",children:"View Details"}),n.status==="active"&&e.jsx(T,{variant:"default",size:"sm",className:"flex-1",children:"Contact Provider"}),n.status==="completed"&&e.jsxs(T,{variant:"outline",size:"sm",className:"flex-1",children:[e.jsx(vf,{className:"mr-1 h-3 w-3"}),"Rate"]})]})]})]},n.id))})]})}const D6e=_.object({serviceType:_.string().min(1,"Service type is required"),amount:_.number().min(1,"Amount must be greater than 0"),paymentMethod:_.string().min(1,"Payment method is required"),serviceData:_.object({pickup:_.string().optional(),dropoff:_.string().optional(),packageDetails:_.string().optional(),itemName:_.string().optional(),category:_.string().optional(),startDate:_.string().optional(),endDate:_.string().optional(),district:_.string().optional(),taluk:_.string().optional(),pincode:_.string().optional()}).optional()}),fN=[{id:"taxi",name:"Taxi Service",icon:_t,color:"bg-blue-500"},{id:"delivery",name:"Delivery Service",icon:pt,color:"bg-green-500"},{id:"rental",name:"Rental Service",icon:Kg,color:"bg-purple-500"},{id:"local_products",name:"Local Products",icon:Pr,color:"bg-orange-500"},{id:"grocery",name:"Grocery",icon:Pr,color:"bg-pink-500"},{id:"recharge",name:"Recharge",icon:Jn,color:"bg-cyan-500"},{id:"recycling",name:"Recycling",icon:In,color:"bg-emerald-500"}],UD={new:"bg-blue-100 text-blue-800",in_progress:"bg-yellow-100 text-yellow-800",closed:"bg-orange-100 text-orange-800",approved:"bg-green-100 text-green-800",completed:"bg-gray-100 text-gray-800"},M6e={new:gt,in_progress:nr,closed:Ot,approved:Ot,completed:Ot};function I6e(){const{toast:t}=Be();j.useState("");const[r,s]=j.useState(!1),[n,a]=j.useState(null),i=Ht({resolver:Wt(D6e),defaultValues:{serviceType:"",amount:0,paymentMethod:"razorpay",serviceData:{}}}),{data:l,isLoading:o}=fe({queryKey:["/api/service-requests/my-requests"],refetchInterval:3e4}),{data:c}=fe({queryKey:["/api/service-requests",n],enabled:!!n}),d=Se({mutationFn:async y=>await(await le("POST","/api/service-requests",y)).json(),onSuccess:y=>{t({title:"Service Request Created",description:`Service request ${y.srNumber} has been created successfully.`}),s(!1),i.reset(),pe.invalidateQueries({queryKey:["/api/service-requests/my-requests"]})},onError:y=>{t({title:"Error",description:y.message||"Failed to create service request",variant:"destructive"})}}),u=Se({mutationFn:async({requestId:y,paymentData:v})=>await(await le("POST",`/api/service-requests/${y}/payment`,v)).json(),onSuccess:()=>{t({title:"Payment Successful",description:"Your payment has been processed and the service request is now in progress."}),pe.invalidateQueries({queryKey:["/api/service-requests/my-requests"]})},onError:y=>{t({title:"Payment Failed",description:y.message||"Failed to process payment",variant:"destructive"})}}),m=y=>{d.mutate(y)},h=async(y,v)=>{const x={paymentId:`pay_${Date.now()}`,razorpayPaymentId:`razorpay_payment_${Date.now()}`,razorpayOrderId:`order_${Date.now()}`,razorpaySignature:"demo_signature"};u.mutate({requestId:y,paymentData:x})},g=y=>{const v=fN.find(x=>x.id===y);return v?v.icon:Ns},f=y=>{const v=fN.find(x=>x.id===y);return v?v.name:y},p=y=>M6e[y]||gt;return o?e.jsx("div",{className:"container mx-auto p-6",children:e.jsxs("div",{className:"animate-pulse space-y-4",children:[e.jsx("div",{className:"h-8 bg-gray-200 rounded w-1/4"}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[1,2,3].map(y=>e.jsx("div",{className:"h-32 bg-gray-200 rounded"},y))})]})}):e.jsxs("div",{className:"container mx-auto p-6",children:[e.jsxs("div",{className:"flex justify-between items-center mb-6",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold",children:"Service Request Dashboard"}),e.jsx("p",{className:"text-gray-600",children:"Manage all your service requests in one place"})]}),e.jsxs(kt,{open:r,onOpenChange:s,children:[e.jsx(ls,{asChild:!0,children:e.jsx(T,{className:"bg-blue-600 hover:bg-blue-700",children:"Create New Request"})}),e.jsxs(St,{className:"max-w-md",children:[e.jsxs(Ct,{children:[e.jsx(Pt,{children:"Create Service Request"}),e.jsx(Yt,{children:"Choose a service and provide details for your request"})]}),e.jsx(Gt,{...i,children:e.jsxs("form",{onSubmit:i.handleSubmit(m),className:"space-y-4",children:[e.jsx(q,{control:i.control,name:"serviceType",render:({field:y})=>e.jsxs(B,{children:[e.jsx(V,{children:"Service Type"}),e.jsxs(je,{onValueChange:y.onChange,value:y.value,children:[e.jsx(U,{children:e.jsx(ge,{children:e.jsx(be,{placeholder:"Select a service"})})}),e.jsx(ve,{children:fN.map(v=>e.jsx(O,{value:v.id,children:e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(v.icon,{className:"h-4 w-4"}),e.jsx("span",{children:v.name})]})},v.id))})]}),e.jsx(z,{})]})}),e.jsx(q,{control:i.control,name:"amount",render:({field:y})=>e.jsxs(B,{children:[e.jsx(V,{children:"Amount ()"}),e.jsx(U,{children:e.jsx($,{type:"number",placeholder:"Enter amount",...y,onChange:v=>y.onChange(Number(v.target.value))})}),e.jsx(z,{})]})}),e.jsx(q,{control:i.control,name:"serviceData.pickup",render:({field:y})=>e.jsxs(B,{children:[e.jsx(V,{children:"Pickup Location (if applicable)"}),e.jsx(U,{children:e.jsx($,{placeholder:"Enter pickup location",...y})}),e.jsx(z,{})]})}),e.jsx(q,{control:i.control,name:"serviceData.dropoff",render:({field:y})=>e.jsxs(B,{children:[e.jsx(V,{children:"Destination/Delivery Location (if applicable)"}),e.jsx(U,{children:e.jsx($,{placeholder:"Enter destination",...y})}),e.jsx(z,{})]})}),e.jsx(q,{control:i.control,name:"serviceData.packageDetails",render:({field:y})=>e.jsxs(B,{children:[e.jsx(V,{children:"Service Details"}),e.jsx(U,{children:e.jsx(at,{placeholder:"Provide details about your service request",...y})}),e.jsx(z,{})]})}),e.jsxs("div",{className:"flex justify-end space-x-2 pt-4",children:[e.jsx(T,{type:"button",variant:"outline",onClick:()=>s(!1),children:"Cancel"}),e.jsx(T,{type:"submit",disabled:d.isPending,className:"bg-blue-600 hover:bg-blue-700",children:d.isPending?"Creating...":"Create Request"})]})]})})]})]})]}),e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mb-6",children:[e.jsx(E,{children:e.jsxs(D,{className:"p-4",children:[e.jsx("div",{className:"text-2xl font-bold",children:(l==null?void 0:l.length)||0}),e.jsx("div",{className:"text-sm text-gray-600",children:"Total Requests"})]})}),e.jsx(E,{children:e.jsxs(D,{className:"p-4",children:[e.jsx("div",{className:"text-2xl font-bold text-yellow-600",children:(l==null?void 0:l.filter(y=>y.status==="in_progress").length)||0}),e.jsx("div",{className:"text-sm text-gray-600",children:"In Progress"})]})}),e.jsx(E,{children:e.jsxs(D,{className:"p-4",children:[e.jsx("div",{className:"text-2xl font-bold text-green-600",children:(l==null?void 0:l.filter(y=>y.status==="completed").length)||0}),e.jsx("div",{className:"text-sm text-gray-600",children:"Completed"})]})}),e.jsx(E,{children:e.jsxs(D,{className:"p-4",children:[e.jsxs("div",{className:"text-2xl font-bold text-blue-600",children:["",(l==null?void 0:l.reduce((y,v)=>y+v.amount,0))||0]}),e.jsx("div",{className:"text-sm text-gray-600",children:"Total Spent"})]})})]}),e.jsxs(E,{children:[e.jsxs(Y,{children:[e.jsx(X,{children:"Your Service Requests"}),e.jsx(he,{children:"Track the status of all your service requests"})]}),e.jsx(D,{children:!l||l.length===0?e.jsxs("div",{className:"text-center py-8",children:[e.jsx(Ns,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No service requests yet"}),e.jsx("p",{className:"text-gray-600 mb-4",children:"Create your first service request to get started"}),e.jsx(T,{onClick:()=>s(!0),className:"bg-blue-600 hover:bg-blue-700",children:"Create Request"})]}):e.jsx("div",{className:"space-y-4",children:l.map(y=>{const v=g(y.serviceType),x=p(y.status);return e.jsx("div",{className:"border rounded-lg p-4 hover:shadow-md transition-shadow",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"p-2 bg-gray-100 rounded-lg",children:e.jsx(v,{className:"h-5 w-5"})}),e.jsxs("div",{children:[e.jsx("div",{className:"font-medium",children:f(y.serviceType)}),e.jsxs("div",{className:"text-sm text-gray-600",children:["SR: ",y.srNumber]}),e.jsx("div",{className:"text-sm text-gray-600",children:new Date(y.createdAt).toLocaleDateString()})]})]}),e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsxs("div",{className:"text-right",children:[e.jsxs("div",{className:"font-medium",children:["",y.amount]}),e.jsxs(ae,{className:UD[y.status],children:[e.jsx(x,{className:"h-3 w-3 mr-1"}),y.status.replace("_"," ")]})]}),e.jsxs("div",{className:"flex space-x-2",children:[y.paymentStatus==="pending"&&e.jsxs(T,{size:"sm",onClick:()=>h(y.id,y.amount),disabled:u.isPending,className:"bg-green-600 hover:bg-green-700",children:[e.jsx(ia,{className:"h-4 w-4 mr-1"}),"Pay Now"]}),e.jsxs(kt,{children:[e.jsx(ls,{asChild:!0,children:e.jsxs(T,{size:"sm",variant:"outline",onClick:()=>a(y.id),children:[e.jsx(fr,{className:"h-4 w-4 mr-1"}),"View"]})}),e.jsxs(St,{className:"max-w-2xl",children:[e.jsxs(Ct,{children:[e.jsx(Pt,{children:"Service Request Details"}),e.jsxs(Yt,{children:[y.srNumber," - ",f(y.serviceType)]})]}),c&&e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium",children:"Status"}),e.jsx(ae,{className:UD[c.status],children:c.status.replace("_"," ")})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium",children:"Amount"}),e.jsxs("div",{children:["",c.amount]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium",children:"Payment Status"}),e.jsx("div",{children:c.paymentStatus})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium",children:"Created"}),e.jsx("div",{children:new Date(c.createdAt).toLocaleString()})]})]}),c.serviceData&&e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium",children:"Service Details"}),e.jsx("pre",{className:"bg-gray-100 p-3 rounded text-sm",children:JSON.stringify(JSON.parse(c.serviceData),null,2)})]}),c.statusHistory&&c.statusHistory.length>0&&e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium",children:"Status History"}),e.jsx("div",{className:"space-y-2 mt-2",children:c.statusHistory.map((b,N)=>e.jsxs("div",{className:"border-l-2 border-blue-200 pl-3",children:[e.jsx("div",{className:"text-sm font-medium",children:b.toStatus.replace("_"," ")}),e.jsx("div",{className:"text-xs text-gray-600",children:new Date(b.createdAt).toLocaleString()}),b.reason&&e.jsxs("div",{className:"text-xs text-gray-600",children:["Reason: ",b.reason]})]},N))})]})]})]})]})]})]})]})},y.id)})})})]})]})}const R6e=()=>{const[t,r]=j.useState(""),[s,n]=j.useState("all"),[a,i]=j.useState("all"),[l,o]=j.useState(null),[c,d]=j.useState(!1),[u,m]=j.useState(""),[h,g]=j.useState(""),{toast:f}=Be(),{data:p=[],isLoading:y,error:v}=fe({queryKey:["/api/service-requests/all"]});console.log("Admin Service Requests Debug:",{serviceRequests:p,isLoading:y,error:v,length:p==null?void 0:p.length,firstItem:p==null?void 0:p[0]});const x=Se({mutationFn:async({id:S,status:A,notes:k})=>(await le("PATCH",`/api/service-requests/${S}/status`,{status:A,notes:k})).json(),onSuccess:()=>{pe.invalidateQueries({queryKey:["/api/service-requests/all"]}),f({title:"Status Updated",description:"Service request status has been updated successfully."}),d(!1),o(null),m(""),g("")},onError:S=>{f({title:"Update Failed",description:S.message||"Failed to update service request status.",variant:"destructive"})}}),b=Se({mutationFn:async({id:S,stakeholderType:A,stakeholderId:k})=>(await le("PATCH",`/api/service-requests/${S}/assign`,{stakeholderType:A,stakeholderId:k})).json(),onSuccess:()=>{pe.invalidateQueries({queryKey:["/api/service-requests/all"]}),f({title:"Assignment Updated",description:"Service request has been assigned successfully."})},onError:S=>{f({title:"Assignment Failed",description:S.message||"Failed to assign service request.",variant:"destructive"})}}),N=p.filter(S=>{const A=S.srNumber.toLowerCase().includes(t.toLowerCase())||S.serviceType.toLowerCase().includes(t.toLowerCase())||S.userId.toString().includes(t),k=s==="all"||S.status===s,I=a==="all"||S.serviceType===a;return A&&k&&I}),w={new:N.filter(S=>S.status==="new"),in_progress:N.filter(S=>S.status==="in_progress"),completed:N.filter(S=>["completed","approved","closed"].includes(S.status)),cancelled:N.filter(S=>S.status==="cancelled")},C=S=>{o(S),m(S.status),d(!0)},P=()=>{!l||!u||x.mutate({id:l.id,status:u,notes:h})};return y?e.jsx("div",{className:"flex items-center justify-center min-h-[400px]",children:e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"})}):v?e.jsx("div",{className:"flex items-center justify-center min-h-[400px]",children:e.jsxs("div",{className:"text-center",children:[e.jsx(Mr,{className:"h-12 w-12 text-red-500 mx-auto mb-4"}),e.jsx("p",{className:"text-lg font-semibold",children:"Error Loading Service Requests"}),e.jsx("p",{className:"text-muted-foreground",children:v.message})]})}):!p||p.length===0?e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold",children:"Service Request Management"}),e.jsx("p",{className:"text-muted-foreground",children:"Manage and track all service requests"})]}),e.jsx(E,{children:e.jsxs(D,{className:"p-8 text-center",children:[e.jsx(gt,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),e.jsx("p",{className:"text-lg font-semibold mb-2",children:"No Service Requests Found"}),e.jsx("p",{className:"text-muted-foreground",children:"No service requests are currently in the system."})]})})]}):e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex flex-col space-y-4 sm:flex-row sm:items-center sm:justify-between sm:space-y-0",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold",children:"Service Request Management"}),e.jsx("p",{className:"text-muted-foreground",children:"Manage and track all service requests across the platform"})]}),e.jsxs("div",{className:"flex flex-col space-y-2 sm:flex-row sm:space-y-0 sm:space-x-2",children:[e.jsxs("div",{className:"relative",children:[e.jsx(es,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-muted-foreground"}),e.jsx($,{placeholder:"Search by SR number, service, or user ID...",value:t,onChange:S=>r(S.target.value),className:"pl-10 w-full sm:w-80"})]}),e.jsxs(je,{value:a,onValueChange:i,children:[e.jsx(ge,{className:"w-full sm:w-40",children:e.jsx(be,{placeholder:"Service Type"})}),e.jsxs(ve,{children:[e.jsx(O,{value:"all",children:"All Services"}),e.jsx(O,{value:"taxi",children:"Taxi"}),e.jsx(O,{value:"delivery",children:"Delivery"}),e.jsx(O,{value:"rental",children:"Rental"}),e.jsx(O,{value:"grocery",children:"Grocery"}),e.jsx(O,{value:"recharge",children:"Recharge"}),e.jsx(O,{value:"recycling",children:"Recycling"})]})]}),e.jsxs(je,{value:s,onValueChange:n,children:[e.jsx(ge,{className:"w-full sm:w-32",children:e.jsx(be,{placeholder:"Status"})}),e.jsxs(ve,{children:[e.jsx(O,{value:"all",children:"All Status"}),e.jsx(O,{value:"new",children:"New"}),e.jsx(O,{value:"in_progress",children:"In Progress"}),e.jsx(O,{value:"completed",children:"Completed"}),e.jsx(O,{value:"approved",children:"Approved"}),e.jsx(O,{value:"closed",children:"Closed"}),e.jsx(O,{value:"cancelled",children:"Cancelled"})]})]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-4",children:[e.jsx(E,{children:e.jsx(D,{className:"p-4",children:e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(gt,{className:"h-5 w-5 text-blue-600"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium",children:"New"}),e.jsx("p",{className:"text-2xl font-bold",children:w.new.length})]})]})})}),e.jsx(E,{children:e.jsx(D,{className:"p-4",children:e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(gt,{className:"h-5 w-5 text-yellow-600"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium",children:"In Progress"}),e.jsx("p",{className:"text-2xl font-bold",children:w.in_progress.length})]})]})})}),e.jsx(E,{children:e.jsx(D,{className:"p-4",children:e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ot,{className:"h-5 w-5 text-green-600"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium",children:"Completed"}),e.jsx("p",{className:"text-2xl font-bold",children:w.completed.length})]})]})})}),e.jsx(E,{children:e.jsx(D,{className:"p-4",children:e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Mr,{className:"h-5 w-5 text-red-600"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium",children:"Cancelled"}),e.jsx("p",{className:"text-2xl font-bold",children:w.cancelled.length})]})]})})}),e.jsx(E,{children:e.jsx(D,{className:"p-4",children:e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(qs,{className:"h-5 w-5 text-purple-600"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium",children:"Total Value"}),e.jsxs("p",{className:"text-2xl font-bold",children:["",N.reduce((S,A)=>S+Number(A.amount),0).toLocaleString()]})]})]})})})]}),e.jsxs(rr,{defaultValue:"new",className:"space-y-4",children:[e.jsxs(tr,{children:[e.jsxs(ke,{value:"new",children:["New (",w.new.length,")"]}),e.jsxs(ke,{value:"in_progress",children:["In Progress (",w.in_progress.length,")"]}),e.jsxs(ke,{value:"completed",children:["Completed (",w.completed.length,")"]}),e.jsxs(ke,{value:"cancelled",children:["Cancelled (",w.cancelled.length,")"]})]}),e.jsx(Le,{value:"new",className:"space-y-4",children:w.new.length===0?e.jsx(E,{children:e.jsxs(D,{className:"p-8 text-center",children:[e.jsx(gt,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),e.jsx("p",{className:"text-muted-foreground",children:"No new service requests"})]})}):w.new.map(S=>e.jsx(Vx,{request:S,onUpdateStatus:C,onAssignStakeholder:b.mutate},S.id))}),e.jsx(Le,{value:"in_progress",className:"space-y-4",children:w.in_progress.length===0?e.jsx(E,{children:e.jsxs(D,{className:"p-8 text-center",children:[e.jsx(gt,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),e.jsx("p",{className:"text-muted-foreground",children:"No service requests in progress"})]})}):w.in_progress.map(S=>e.jsx(Vx,{request:S,onUpdateStatus:C,onAssignStakeholder:b.mutate},S.id))}),e.jsx(Le,{value:"completed",className:"space-y-4",children:w.completed.length===0?e.jsx(E,{children:e.jsxs(D,{className:"p-8 text-center",children:[e.jsx(Ot,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),e.jsx("p",{className:"text-muted-foreground",children:"No completed service requests"})]})}):w.completed.map(S=>e.jsx(Vx,{request:S,onUpdateStatus:C,onAssignStakeholder:b.mutate},S.id))}),e.jsx(Le,{value:"cancelled",className:"space-y-4",children:w.cancelled.length===0?e.jsx(E,{children:e.jsxs(D,{className:"p-8 text-center",children:[e.jsx(Mr,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),e.jsx("p",{className:"text-muted-foreground",children:"No cancelled service requests"})]})}):w.cancelled.map(S=>e.jsx(Vx,{request:S,onUpdateStatus:C,onAssignStakeholder:b.mutate},S.id))})]}),e.jsx(kt,{open:c,onOpenChange:d,children:e.jsxs(St,{children:[e.jsxs(Ct,{children:[e.jsx(Pt,{children:"Update Service Request Status"}),e.jsxs(Yt,{children:["Update the status and add notes for service request ",l==null?void 0:l.srNumber]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium mb-2 block",children:"Status"}),e.jsxs(je,{value:u,onValueChange:m,children:[e.jsx(ge,{children:e.jsx(be,{placeholder:"Select status"})}),e.jsxs(ve,{children:[e.jsx(O,{value:"new",children:"New"}),e.jsx(O,{value:"in_progress",children:"In Progress"}),e.jsx(O,{value:"completed",children:"Completed"}),e.jsx(O,{value:"approved",children:"Approved"}),e.jsx(O,{value:"closed",children:"Closed"}),e.jsx(O,{value:"cancelled",children:"Cancelled"})]})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium mb-2 block",children:"Notes (Optional)"}),e.jsx(at,{placeholder:"Add notes about this status update...",value:h,onChange:S=>g(S.target.value),rows:3})]}),e.jsxs("div",{className:"flex justify-end space-x-2",children:[e.jsx(T,{variant:"outline",onClick:()=>d(!1),children:"Cancel"}),e.jsx(T,{onClick:P,disabled:x.isPending,children:x.isPending?"Updating...":"Update Status"})]})]})]})})]})},Vx=({request:t,onUpdateStatus:r,onAssignStakeholder:s})=>{const n=o=>{switch(o){case"taxi":return e.jsx(_t,{className:"h-5 w-5"});case"delivery":return e.jsx(pt,{className:"h-5 w-5"});case"rental":return e.jsx(Ns,{className:"h-5 w-5"});case"grocery":return e.jsx(Pr,{className:"h-5 w-5"});case"recharge":return e.jsx(Jn,{className:"h-5 w-5"});case"recycling":return e.jsx(In,{className:"h-5 w-5"});default:return e.jsx(_t,{className:"h-5 w-5"})}},a=o=>{switch(o.toLowerCase()){case"new":return"bg-blue-100 text-blue-800";case"in_progress":return"bg-yellow-100 text-yellow-800";case"completed":return"bg-green-100 text-green-800";case"cancelled":return"bg-red-100 text-red-800";case"approved":return"bg-purple-100 text-purple-800";case"closed":return"bg-gray-100 text-gray-800";default:return"bg-gray-100 text-gray-800"}},i=o=>{switch(o.toLowerCase()){case"pending":return"bg-orange-100 text-orange-800";case"completed":return"bg-green-100 text-green-800";case"failed":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}},l=t.serviceData?JSON.parse(t.serviceData):{};return e.jsxs(E,{children:[e.jsx(Y,{className:"pb-3",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"p-2 bg-primary/10 rounded-lg",children:n(t.serviceType)}),e.jsxs("div",{children:[e.jsx(X,{className:"text-lg",children:t.srNumber}),e.jsxs(he,{className:"capitalize",children:[t.serviceType," Service Request  User ID: ",t.userId]})]})]}),e.jsxs("div",{className:"flex flex-col items-end space-y-2",children:[e.jsx(ae,{className:a(t.status),children:t.status.replace("_"," ").toUpperCase()}),e.jsxs(ae,{className:i(t.paymentStatus),children:["Payment: ",t.paymentStatus]})]})]})}),e.jsxs(D,{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(qs,{className:"h-4 w-4 text-muted-foreground"}),e.jsxs("span",{className:"text-sm",children:["",Number(t.amount).toLocaleString()]})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Xt,{className:"h-4 w-4 text-muted-foreground"}),e.jsx("span",{className:"text-sm",children:xt(new Date(t.createdAt),"MMM dd, yyyy HH:mm")})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ft,{className:"h-4 w-4 text-muted-foreground"}),e.jsx("span",{className:"text-sm",children:t.paymentMethod||"Razorpay"})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(zs,{className:"h-4 w-4 text-muted-foreground"}),e.jsx("span",{className:"text-sm",children:t.assignedTo?`Assigned: ${t.assignedTo}`:"Unassigned"})]})]}),(t.pincodeAgentId||t.talukManagerId||t.branchManagerId)&&e.jsxs("div",{className:"p-3 bg-blue-50 rounded-lg",children:[e.jsx("p",{className:"text-sm font-medium mb-2",children:"Stakeholder Assignment"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-2 text-sm",children:[t.pincodeAgentId&&e.jsxs("div",{className:"flex items-center space-x-1",children:[e.jsx(zs,{className:"h-3 w-3"}),e.jsxs("span",{children:["Agent: ",t.pincodeAgentId]})]}),t.talukManagerId&&e.jsxs("div",{className:"flex items-center space-x-1",children:[e.jsx(vn,{className:"h-3 w-3"}),e.jsxs("span",{children:["Taluk Manager: ",t.talukManagerId]})]}),t.branchManagerId&&e.jsxs("div",{className:"flex items-center space-x-1",children:[e.jsx(vn,{className:"h-3 w-3"}),e.jsxs("span",{children:["Branch Manager: ",t.branchManagerId]})]})]})]}),t.serviceType==="taxi"&&l.pickup&&e.jsxs("div",{className:"p-3 bg-muted/50 rounded-lg",children:[e.jsx("p",{className:"text-sm font-medium mb-1",children:"Trip Details"}),e.jsxs("p",{className:"text-sm text-muted-foreground",children:["From: ",l.pickup,"  To: ",l.dropoff]}),l.distance&&e.jsxs("p",{className:"text-sm text-muted-foreground",children:["Distance: ",l.distance," km"]})]}),t.serviceType==="delivery"&&l.pickupAddress&&e.jsxs("div",{className:"p-3 bg-muted/50 rounded-lg",children:[e.jsx("p",{className:"text-sm font-medium mb-1",children:"Delivery Details"}),e.jsxs("p",{className:"text-sm text-muted-foreground",children:["From: ",l.pickupAddress,"  To: ",l.deliveryAddress]}),l.packageDetails&&e.jsxs("p",{className:"text-sm text-muted-foreground",children:["Package: ",l.packageDetails]})]}),e.jsxs("div",{className:"flex justify-between items-center pt-2",children:[e.jsxs("div",{className:"text-sm text-muted-foreground",children:["Updated: ",xt(new Date(t.updatedAt),"MMM dd, HH:mm")]}),e.jsxs("div",{className:"flex space-x-2",children:[e.jsxs(T,{variant:"outline",size:"sm",children:[e.jsx(fr,{className:"h-4 w-4 mr-2"}),"View Details"]}),e.jsxs(T,{variant:"outline",size:"sm",onClick:()=>r(t),children:[e.jsx(Gr,{className:"h-4 w-4 mr-2"}),"Update Status"]})]})]})]})]})},F6e=()=>{const[t,r]=j.useState(""),[s,n]=j.useState("all"),[a,i]=j.useState("all"),{data:l=[],isLoading:o,error:c}=fe({queryKey:["/api/service-requests/my-requests"]});console.log("Customer Service Requests Debug:",{serviceRequests:l,isLoading:o,error:c,length:l==null?void 0:l.length,firstItem:l==null?void 0:l[0]});const d=l.filter(m=>{const h=m.srNumber.toLowerCase().includes(t.toLowerCase())||m.serviceType.toLowerCase().includes(t.toLowerCase()),g=s==="all"||m.status===s,f=a==="all"||m.serviceType===a;return h&&g&&f}),u={active:d.filter(m=>["new","in_progress"].includes(m.status)),completed:d.filter(m=>["completed","approved"].includes(m.status)),cancelled:d.filter(m=>m.status==="cancelled")};return o?e.jsx("div",{className:"flex items-center justify-center min-h-[400px]",children:e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"})}):c?e.jsx("div",{className:"flex items-center justify-center min-h-[400px]",children:e.jsxs("div",{className:"text-center",children:[e.jsx(Mr,{className:"h-12 w-12 text-red-500 mx-auto mb-4"}),e.jsx("p",{className:"text-lg font-semibold",children:"Error Loading Service Requests"}),e.jsx("p",{className:"text-muted-foreground",children:c.message})]})}):!l||l.length===0?e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold",children:"My Service Requests"}),e.jsx("p",{className:"text-muted-foreground",children:"Track your service requests and their status"})]}),e.jsx(E,{children:e.jsxs(D,{className:"p-8 text-center",children:[e.jsx(gt,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),e.jsx("p",{className:"text-lg font-semibold mb-2",children:"No Service Requests Found"}),e.jsx("p",{className:"text-muted-foreground",children:"You haven't made any service requests yet."})]})})]}):e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex flex-col space-y-4 sm:flex-row sm:items-center sm:justify-between sm:space-y-0",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold",children:"My Service Requests"}),e.jsx("p",{className:"text-muted-foreground",children:"Track all your service requests across different services"})]}),e.jsxs("div",{className:"flex flex-col space-y-2 sm:flex-row sm:space-y-0 sm:space-x-2",children:[e.jsxs("div",{className:"relative",children:[e.jsx(es,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-muted-foreground"}),e.jsx($,{placeholder:"Search by request number or service...",value:t,onChange:m=>r(m.target.value),className:"pl-10 w-full sm:w-64"})]}),e.jsxs(je,{value:a,onValueChange:i,children:[e.jsx(ge,{className:"w-full sm:w-40",children:e.jsx(be,{placeholder:"Service Type"})}),e.jsxs(ve,{children:[e.jsx(O,{value:"all",children:"All Services"}),e.jsx(O,{value:"taxi",children:"Taxi"}),e.jsx(O,{value:"delivery",children:"Delivery"}),e.jsx(O,{value:"rental",children:"Rental"}),e.jsx(O,{value:"grocery",children:"Grocery"}),e.jsx(O,{value:"recharge",children:"Recharge"}),e.jsx(O,{value:"recycling",children:"Recycling"})]})]}),e.jsxs(je,{value:s,onValueChange:n,children:[e.jsx(ge,{className:"w-full sm:w-32",children:e.jsx(be,{placeholder:"Status"})}),e.jsxs(ve,{children:[e.jsx(O,{value:"all",children:"All Status"}),e.jsx(O,{value:"new",children:"New"}),e.jsx(O,{value:"in_progress",children:"In Progress"}),e.jsx(O,{value:"completed",children:"Completed"}),e.jsx(O,{value:"approved",children:"Approved"}),e.jsx(O,{value:"cancelled",children:"Cancelled"})]})]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[e.jsx(E,{children:e.jsx(D,{className:"p-4",children:e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(gt,{className:"h-5 w-5 text-blue-600"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium",children:"Active"}),e.jsx("p",{className:"text-2xl font-bold",children:u.active.length})]})]})})}),e.jsx(E,{children:e.jsx(D,{className:"p-4",children:e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ot,{className:"h-5 w-5 text-green-600"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium",children:"Completed"}),e.jsx("p",{className:"text-2xl font-bold",children:u.completed.length})]})]})})}),e.jsx(E,{children:e.jsx(D,{className:"p-4",children:e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Mr,{className:"h-5 w-5 text-red-600"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium",children:"Cancelled"}),e.jsx("p",{className:"text-2xl font-bold",children:u.cancelled.length})]})]})})}),e.jsx(E,{children:e.jsx(D,{className:"p-4",children:e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(qs,{className:"h-5 w-5 text-purple-600"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium",children:"Total Value"}),e.jsxs("p",{className:"text-2xl font-bold",children:["",d.reduce((m,h)=>m+Number(h.amount),0).toLocaleString()]})]})]})})})]}),e.jsxs(rr,{defaultValue:"active",className:"space-y-4",children:[e.jsxs(tr,{children:[e.jsxs(ke,{value:"active",children:["Active (",u.active.length,")"]}),e.jsxs(ke,{value:"completed",children:["Completed (",u.completed.length,")"]}),e.jsxs(ke,{value:"cancelled",children:["Cancelled (",u.cancelled.length,")"]})]}),e.jsx(Le,{value:"active",className:"space-y-4",children:u.active.length===0?e.jsx(E,{children:e.jsxs(D,{className:"p-8 text-center",children:[e.jsx(gt,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),e.jsx("p",{className:"text-muted-foreground",children:"No active service requests"})]})}):u.active.map(m=>e.jsx(xN,{request:m},m.id))}),e.jsx(Le,{value:"completed",className:"space-y-4",children:u.completed.length===0?e.jsx(E,{children:e.jsxs(D,{className:"p-8 text-center",children:[e.jsx(Ot,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),e.jsx("p",{className:"text-muted-foreground",children:"No completed service requests"})]})}):u.completed.map(m=>e.jsx(xN,{request:m},m.id))}),e.jsx(Le,{value:"cancelled",className:"space-y-4",children:u.cancelled.length===0?e.jsx(E,{children:e.jsxs(D,{className:"p-8 text-center",children:[e.jsx(Mr,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),e.jsx("p",{className:"text-muted-foreground",children:"No cancelled service requests"})]})}):u.cancelled.map(m=>e.jsx(xN,{request:m},m.id))})]})]})},xN=({request:t})=>{const r=i=>{switch(i){case"taxi":return e.jsx(_t,{className:"h-5 w-5"});case"delivery":return e.jsx(pt,{className:"h-5 w-5"});case"rental":return e.jsx(Ns,{className:"h-5 w-5"});case"grocery":return e.jsx(Pr,{className:"h-5 w-5"});case"recharge":return e.jsx(Jn,{className:"h-5 w-5"});case"recycling":return e.jsx(In,{className:"h-5 w-5"});default:return e.jsx(_t,{className:"h-5 w-5"})}},s=i=>{switch(i.toLowerCase()){case"new":return"bg-blue-100 text-blue-800";case"in_progress":return"bg-yellow-100 text-yellow-800";case"completed":return"bg-green-100 text-green-800";case"cancelled":return"bg-red-100 text-red-800";case"approved":return"bg-purple-100 text-purple-800";default:return"bg-gray-100 text-gray-800"}},n=i=>{switch(i.toLowerCase()){case"pending":return"bg-orange-100 text-orange-800";case"completed":return"bg-green-100 text-green-800";case"failed":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}},a=t.serviceData?JSON.parse(t.serviceData):{};return e.jsxs(E,{children:[e.jsx(Y,{className:"pb-3",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"p-2 bg-primary/10 rounded-lg",children:r(t.serviceType)}),e.jsxs("div",{children:[e.jsx(X,{className:"text-lg",children:t.srNumber}),e.jsxs(he,{className:"capitalize",children:[t.serviceType," Service Request"]})]})]}),e.jsxs("div",{className:"flex flex-col items-end space-y-2",children:[e.jsx(ae,{className:s(t.status),children:t.status.replace("_"," ").toUpperCase()}),e.jsxs(ae,{className:n(t.paymentStatus),children:["Payment: ",t.paymentStatus]})]})]})}),e.jsxs(D,{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(qs,{className:"h-4 w-4 text-muted-foreground"}),e.jsxs("span",{className:"text-sm",children:["",Number(t.amount).toLocaleString()]})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Xt,{className:"h-4 w-4 text-muted-foreground"}),e.jsx("span",{className:"text-sm",children:xt(new Date(t.createdAt),"MMM dd, yyyy HH:mm")})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ft,{className:"h-4 w-4 text-muted-foreground"}),e.jsx("span",{className:"text-sm",children:t.paymentMethod||"Razorpay"})]})]}),t.serviceType==="taxi"&&a.pickup&&e.jsxs("div",{className:"p-3 bg-muted/50 rounded-lg",children:[e.jsx("p",{className:"text-sm font-medium mb-1",children:"Trip Details"}),e.jsxs("p",{className:"text-sm text-muted-foreground",children:["From: ",a.pickup,"  To: ",a.dropoff]}),a.distance&&e.jsxs("p",{className:"text-sm text-muted-foreground",children:["Distance: ",a.distance," km"]})]}),t.serviceType==="delivery"&&a.pickupAddress&&e.jsxs("div",{className:"p-3 bg-muted/50 rounded-lg",children:[e.jsx("p",{className:"text-sm font-medium mb-1",children:"Delivery Details"}),e.jsxs("p",{className:"text-sm text-muted-foreground",children:["From: ",a.pickupAddress,"  To: ",a.deliveryAddress]}),a.packageDetails&&e.jsxs("p",{className:"text-sm text-muted-foreground",children:["Package: ",a.packageDetails]})]}),e.jsxs("div",{className:"flex justify-between items-center pt-2",children:[e.jsxs("div",{className:"text-sm text-muted-foreground",children:["Updated: ",xt(new Date(t.updatedAt),"MMM dd, HH:mm")]}),e.jsxs(T,{variant:"outline",size:"sm",children:[e.jsx(fr,{className:"h-4 w-4 mr-2"}),"View Details"]})]})]})]})},$6e=()=>{const[t,r]=j.useState(""),[s,n]=j.useState("all"),[a,i]=j.useState("all"),[l,o]=j.useState(null),[c,d]=j.useState(!1),[u,m]=j.useState(""),[h,g]=j.useState(""),{toast:f}=Be(),{data:p=[],isLoading:y}=fe({queryKey:["/api/service-requests/agent-requests"]}),v=Se({mutationFn:async({id:P,status:S,notes:A})=>(await le("PATCH",`/api/service-requests/${P}/agent-update`,{status:S,notes:A})).json(),onSuccess:()=>{pe.invalidateQueries({queryKey:["/api/service-requests/agent-requests"]}),f({title:"Status Updated",description:"Service request status has been updated successfully."}),d(!1),o(null),m(""),g("")},onError:P=>{f({title:"Update Failed",description:P.message||"Failed to update service request status.",variant:"destructive"})}}),x=Se({mutationFn:async P=>(await le("PATCH",`/api/service-requests/${P}/accept`,{})).json(),onSuccess:()=>{pe.invalidateQueries({queryKey:["/api/service-requests/agent-requests"]}),f({title:"Request Accepted",description:"Service request has been accepted and assigned to you."})},onError:P=>{f({title:"Accept Failed",description:P.message||"Failed to accept service request.",variant:"destructive"})}}),b=p.filter(P=>{const S=P.srNumber.toLowerCase().includes(t.toLowerCase())||P.serviceType.toLowerCase().includes(t.toLowerCase())||P.userId.toString().includes(t),A=s==="all"||P.status===s,k=a==="all"||P.serviceType===a;return S&&A&&k}),N={new:b.filter(P=>P.status==="new"),assigned:b.filter(P=>P.status==="assigned"),in_progress:b.filter(P=>P.status==="in_progress"),completed:b.filter(P=>["completed","closed"].includes(P.status))},w=P=>{o(P),m(P.status),d(!0)},C=()=>{!l||!u||v.mutate({id:l.id,status:u,notes:h})};return y?e.jsx("div",{className:"flex items-center justify-center min-h-[400px]",children:e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"})}):e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex flex-col space-y-4 sm:flex-row sm:items-center sm:justify-between sm:space-y-0",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold",children:"Pincode Agent - Service Requests"}),e.jsx("p",{className:"text-muted-foreground",children:"Manage service requests assigned to your pincode area"})]}),e.jsxs("div",{className:"flex flex-col space-y-2 sm:flex-row sm:space-y-0 sm:space-x-2",children:[e.jsxs("div",{className:"relative",children:[e.jsx(es,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-muted-foreground"}),e.jsx($,{placeholder:"Search by SR number, service, or user ID...",value:t,onChange:P=>r(P.target.value),className:"pl-10 w-full sm:w-80"})]}),e.jsxs(je,{value:a,onValueChange:i,children:[e.jsx(ge,{className:"w-full sm:w-40",children:e.jsx(be,{placeholder:"Service Type"})}),e.jsxs(ve,{children:[e.jsx(O,{value:"all",children:"All Services"}),e.jsx(O,{value:"taxi",children:"Taxi"}),e.jsx(O,{value:"delivery",children:"Delivery"}),e.jsx(O,{value:"rental",children:"Rental"}),e.jsx(O,{value:"grocery",children:"Grocery"}),e.jsx(O,{value:"recharge",children:"Recharge"}),e.jsx(O,{value:"recycling",children:"Recycling"})]})]}),e.jsxs(je,{value:s,onValueChange:n,children:[e.jsx(ge,{className:"w-full sm:w-32",children:e.jsx(be,{placeholder:"Status"})}),e.jsxs(ve,{children:[e.jsx(O,{value:"all",children:"All Status"}),e.jsx(O,{value:"new",children:"New"}),e.jsx(O,{value:"assigned",children:"Assigned"}),e.jsx(O,{value:"in_progress",children:"In Progress"}),e.jsx(O,{value:"completed",children:"Completed"})]})]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[e.jsx(E,{children:e.jsx(D,{className:"p-4",children:e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(gt,{className:"h-5 w-5 text-blue-600"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium",children:"New Requests"}),e.jsx("p",{className:"text-2xl font-bold",children:N.new.length})]})]})})}),e.jsx(E,{children:e.jsx(D,{className:"p-4",children:e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(zs,{className:"h-5 w-5 text-yellow-600"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium",children:"Assigned"}),e.jsx("p",{className:"text-2xl font-bold",children:N.assigned.length})]})]})})}),e.jsx(E,{children:e.jsx(D,{className:"p-4",children:e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(gt,{className:"h-5 w-5 text-orange-600"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium",children:"In Progress"}),e.jsx("p",{className:"text-2xl font-bold",children:N.in_progress.length})]})]})})}),e.jsx(E,{children:e.jsx(D,{className:"p-4",children:e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ot,{className:"h-5 w-5 text-green-600"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium",children:"Completed"}),e.jsx("p",{className:"text-2xl font-bold",children:N.completed.length})]})]})})})]}),e.jsxs(rr,{defaultValue:"new",className:"space-y-4",children:[e.jsxs(tr,{children:[e.jsxs(ke,{value:"new",children:["New (",N.new.length,")"]}),e.jsxs(ke,{value:"assigned",children:["Assigned (",N.assigned.length,")"]}),e.jsxs(ke,{value:"in_progress",children:["In Progress (",N.in_progress.length,")"]}),e.jsxs(ke,{value:"completed",children:["Completed (",N.completed.length,")"]})]}),e.jsx(Le,{value:"new",className:"space-y-4",children:N.new.length===0?e.jsx(E,{children:e.jsxs(D,{className:"p-8 text-center",children:[e.jsx(gt,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),e.jsx("p",{className:"text-muted-foreground",children:"No new service requests in your area"})]})}):N.new.map(P=>e.jsx(Ux,{request:P,onUpdateStatus:w,onAcceptRequest:x.mutate,showAcceptButton:!0},P.id))}),e.jsx(Le,{value:"assigned",className:"space-y-4",children:N.assigned.length===0?e.jsx(E,{children:e.jsxs(D,{className:"p-8 text-center",children:[e.jsx(zs,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),e.jsx("p",{className:"text-muted-foreground",children:"No assigned service requests"})]})}):N.assigned.map(P=>e.jsx(Ux,{request:P,onUpdateStatus:w,onAcceptRequest:x.mutate,showAcceptButton:!1},P.id))}),e.jsx(Le,{value:"in_progress",className:"space-y-4",children:N.in_progress.length===0?e.jsx(E,{children:e.jsxs(D,{className:"p-8 text-center",children:[e.jsx(gt,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),e.jsx("p",{className:"text-muted-foreground",children:"No service requests in progress"})]})}):N.in_progress.map(P=>e.jsx(Ux,{request:P,onUpdateStatus:w,onAcceptRequest:x.mutate,showAcceptButton:!1},P.id))}),e.jsx(Le,{value:"completed",className:"space-y-4",children:N.completed.length===0?e.jsx(E,{children:e.jsxs(D,{className:"p-8 text-center",children:[e.jsx(Ot,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),e.jsx("p",{className:"text-muted-foreground",children:"No completed service requests"})]})}):N.completed.map(P=>e.jsx(Ux,{request:P,onUpdateStatus:w,onAcceptRequest:x.mutate,showAcceptButton:!1},P.id))})]}),e.jsx(kt,{open:c,onOpenChange:d,children:e.jsxs(St,{children:[e.jsxs(Ct,{children:[e.jsx(Pt,{children:"Update Service Request Status"}),e.jsxs(Yt,{children:["Update the status and add notes for service request ",l==null?void 0:l.srNumber]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium mb-2 block",children:"Status"}),e.jsxs(je,{value:u,onValueChange:m,children:[e.jsx(ge,{children:e.jsx(be,{placeholder:"Select status"})}),e.jsxs(ve,{children:[e.jsx(O,{value:"assigned",children:"Assigned"}),e.jsx(O,{value:"in_progress",children:"In Progress"}),e.jsx(O,{value:"completed",children:"Completed"}),e.jsx(O,{value:"cancelled",children:"Cancelled"})]})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium mb-2 block",children:"Notes (Optional)"}),e.jsx(at,{placeholder:"Add notes about this status update...",value:h,onChange:P=>g(P.target.value),rows:3})]}),e.jsxs("div",{className:"flex justify-end space-x-2",children:[e.jsx(T,{variant:"outline",onClick:()=>d(!1),children:"Cancel"}),e.jsx(T,{onClick:C,disabled:v.isPending,children:v.isPending?"Updating...":"Update Status"})]})]})]})})]})},Ux=({request:t,onUpdateStatus:r,onAcceptRequest:s,showAcceptButton:n})=>{const a=o=>{switch(o){case"taxi":return e.jsx(_t,{className:"h-5 w-5"});case"delivery":return e.jsx(pt,{className:"h-5 w-5"});case"rental":return e.jsx(Ns,{className:"h-5 w-5"});case"grocery":return e.jsx(Pr,{className:"h-5 w-5"});case"recharge":return e.jsx(Jn,{className:"h-5 w-5"});case"recycling":return e.jsx(In,{className:"h-5 w-5"});default:return e.jsx(_t,{className:"h-5 w-5"})}},i=o=>{switch(o.toLowerCase()){case"new":return"bg-blue-100 text-blue-800";case"assigned":return"bg-yellow-100 text-yellow-800";case"in_progress":return"bg-orange-100 text-orange-800";case"completed":return"bg-green-100 text-green-800";case"cancelled":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}},l=t.serviceData?JSON.parse(t.serviceData):{};return e.jsxs(E,{children:[e.jsx(Y,{className:"pb-3",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"p-2 bg-primary/10 rounded-lg",children:a(t.serviceType)}),e.jsxs("div",{children:[e.jsx(X,{className:"text-lg",children:t.srNumber}),e.jsxs(he,{className:"capitalize",children:[t.serviceType," Service Request  User ID: ",t.userId]})]})]}),e.jsx("div",{className:"flex flex-col items-end space-y-2",children:e.jsx(ae,{className:i(t.status),children:t.status.replace("_"," ").toUpperCase()})})]})}),e.jsxs(D,{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(qs,{className:"h-4 w-4 text-muted-foreground"}),e.jsxs("span",{className:"text-sm",children:["",Number(t.amount).toLocaleString()]})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Xt,{className:"h-4 w-4 text-muted-foreground"}),e.jsx("span",{className:"text-sm",children:xt(new Date(t.createdAt),"MMM dd, yyyy HH:mm")})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ft,{className:"h-4 w-4 text-muted-foreground"}),e.jsx("span",{className:"text-sm",children:t.paymentMethod||"Razorpay"})]})]}),t.serviceType==="taxi"&&l.pickup&&e.jsxs("div",{className:"p-3 bg-muted/50 rounded-lg",children:[e.jsx("p",{className:"text-sm font-medium mb-1",children:"Trip Details"}),e.jsxs("p",{className:"text-sm text-muted-foreground",children:["From: ",l.pickup,"  To: ",l.dropoff]}),l.distance&&e.jsxs("p",{className:"text-sm text-muted-foreground",children:["Distance: ",l.distance," km"]})]}),e.jsxs("div",{className:"flex justify-between items-center pt-2",children:[e.jsxs("div",{className:"text-sm text-muted-foreground",children:["Updated: ",xt(new Date(t.updatedAt),"MMM dd, HH:mm")]}),e.jsxs("div",{className:"flex space-x-2",children:[n&&e.jsxs(T,{variant:"default",size:"sm",onClick:()=>s(t.id),children:[e.jsx(zs,{className:"h-4 w-4 mr-2"}),"Accept Request"]}),e.jsxs(T,{variant:"outline",size:"sm",children:[e.jsx(fr,{className:"h-4 w-4 mr-2"}),"View Details"]}),e.jsxs(T,{variant:"outline",size:"sm",onClick:()=>r(t),children:[e.jsx(Gr,{className:"h-4 w-4 mr-2"}),"Update Status"]})]})]})]})]})},L6e=()=>{const[t,r]=j.useState(""),[s,n]=j.useState("all"),[a,i]=j.useState("all"),[l,o]=j.useState(null),[c,d]=j.useState(!1),[u,m]=j.useState(""),[h,g]=j.useState(""),{toast:f}=Be(),{data:p=[],isLoading:y}=fe({queryKey:["/api/service-requests/manager-requests"]}),v=Se({mutationFn:async({id:S,status:A,notes:k})=>(await le("PATCH",`/api/service-requests/${S}/manager-update`,{status:A,notes:k})).json(),onSuccess:()=>{pe.invalidateQueries({queryKey:["/api/service-requests/manager-requests"]}),f({title:"Status Updated",description:"Service request status has been updated successfully."}),d(!1),o(null),m(""),g("")},onError:S=>{f({title:"Update Failed",description:S.message||"Failed to update service request status.",variant:"destructive"})}}),x=Se({mutationFn:async S=>(await le("PATCH",`/api/service-requests/${S}/approve`,{})).json(),onSuccess:()=>{pe.invalidateQueries({queryKey:["/api/service-requests/manager-requests"]}),f({title:"Request Approved",description:"Service request has been approved and forwarded."})},onError:S=>{f({title:"Approval Failed",description:S.message||"Failed to approve service request.",variant:"destructive"})}}),b=Se({mutationFn:async S=>(await le("PATCH",`/api/service-requests/${S}/escalate`,{})).json(),onSuccess:()=>{pe.invalidateQueries({queryKey:["/api/service-requests/manager-requests"]}),f({title:"Request Escalated",description:"Service request has been escalated to branch manager."})},onError:S=>{f({title:"Escalation Failed",description:S.message||"Failed to escalate service request.",variant:"destructive"})}}),N=p.filter(S=>{const A=S.srNumber.toLowerCase().includes(t.toLowerCase())||S.serviceType.toLowerCase().includes(t.toLowerCase())||S.userId.toString().includes(t),k=s==="all"||S.status===s,I=a==="all"||S.serviceType===a;return A&&k&&I}),w={pending_approval:N.filter(S=>S.status==="completed"&&!S.approvedAt),approved:N.filter(S=>S.status==="approved"),escalated:N.filter(S=>S.status==="escalated"),all:N},C=S=>{o(S),m(S.status),d(!0)},P=()=>{!l||!u||v.mutate({id:l.id,status:u,notes:h})};return y?e.jsx("div",{className:"flex items-center justify-center min-h-[400px]",children:e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"})}):e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex flex-col space-y-4 sm:flex-row sm:items-center sm:justify-between sm:space-y-0",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold",children:"Taluk Manager - Service Requests"}),e.jsx("p",{className:"text-muted-foreground",children:"Manage and approve service requests in your taluk area"})]}),e.jsxs("div",{className:"flex flex-col space-y-2 sm:flex-row sm:space-y-0 sm:space-x-2",children:[e.jsxs("div",{className:"relative",children:[e.jsx(es,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-muted-foreground"}),e.jsx($,{placeholder:"Search by SR number, service, or user ID...",value:t,onChange:S=>r(S.target.value),className:"pl-10 w-full sm:w-80"})]}),e.jsxs(je,{value:a,onValueChange:i,children:[e.jsx(ge,{className:"w-full sm:w-40",children:e.jsx(be,{placeholder:"Service Type"})}),e.jsxs(ve,{children:[e.jsx(O,{value:"all",children:"All Services"}),e.jsx(O,{value:"taxi",children:"Taxi"}),e.jsx(O,{value:"delivery",children:"Delivery"}),e.jsx(O,{value:"rental",children:"Rental"}),e.jsx(O,{value:"grocery",children:"Grocery"}),e.jsx(O,{value:"recharge",children:"Recharge"}),e.jsx(O,{value:"recycling",children:"Recycling"})]})]}),e.jsxs(je,{value:s,onValueChange:n,children:[e.jsx(ge,{className:"w-full sm:w-32",children:e.jsx(be,{placeholder:"Status"})}),e.jsxs(ve,{children:[e.jsx(O,{value:"all",children:"All Status"}),e.jsx(O,{value:"completed",children:"Pending Approval"}),e.jsx(O,{value:"approved",children:"Approved"}),e.jsx(O,{value:"escalated",children:"Escalated"})]})]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[e.jsx(E,{children:e.jsx(D,{className:"p-4",children:e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(gt,{className:"h-5 w-5 text-orange-600"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium",children:"Pending Approval"}),e.jsx("p",{className:"text-2xl font-bold",children:w.pending_approval.length})]})]})})}),e.jsx(E,{children:e.jsx(D,{className:"p-4",children:e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ot,{className:"h-5 w-5 text-green-600"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium",children:"Approved"}),e.jsx("p",{className:"text-2xl font-bold",children:w.approved.length})]})]})})}),e.jsx(E,{children:e.jsx(D,{className:"p-4",children:e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(vn,{className:"h-5 w-5 text-red-600"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium",children:"Escalated"}),e.jsx("p",{className:"text-2xl font-bold",children:w.escalated.length})]})]})})}),e.jsx(E,{children:e.jsx(D,{className:"p-4",children:e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(er,{className:"h-5 w-5 text-blue-600"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium",children:"Total Requests"}),e.jsx("p",{className:"text-2xl font-bold",children:w.all.length})]})]})})})]}),e.jsxs(rr,{defaultValue:"pending_approval",className:"space-y-4",children:[e.jsxs(tr,{children:[e.jsxs(ke,{value:"pending_approval",children:["Pending Approval (",w.pending_approval.length,")"]}),e.jsxs(ke,{value:"approved",children:["Approved (",w.approved.length,")"]}),e.jsxs(ke,{value:"escalated",children:["Escalated (",w.escalated.length,")"]}),e.jsxs(ke,{value:"all",children:["All Requests (",w.all.length,")"]})]}),e.jsx(Le,{value:"pending_approval",className:"space-y-4",children:w.pending_approval.length===0?e.jsx(E,{children:e.jsxs(D,{className:"p-8 text-center",children:[e.jsx(gt,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),e.jsx("p",{className:"text-muted-foreground",children:"No requests pending approval"})]})}):w.pending_approval.map(S=>e.jsx(qx,{request:S,onUpdateStatus:C,onApproveRequest:x.mutate,onEscalateRequest:b.mutate,showApprovalActions:!0},S.id))}),e.jsx(Le,{value:"approved",className:"space-y-4",children:w.approved.length===0?e.jsx(E,{children:e.jsxs(D,{className:"p-8 text-center",children:[e.jsx(Ot,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),e.jsx("p",{className:"text-muted-foreground",children:"No approved requests"})]})}):w.approved.map(S=>e.jsx(qx,{request:S,onUpdateStatus:C,onApproveRequest:x.mutate,onEscalateRequest:b.mutate,showApprovalActions:!1},S.id))}),e.jsx(Le,{value:"escalated",className:"space-y-4",children:w.escalated.length===0?e.jsx(E,{children:e.jsxs(D,{className:"p-8 text-center",children:[e.jsx(vn,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),e.jsx("p",{className:"text-muted-foreground",children:"No escalated requests"})]})}):w.escalated.map(S=>e.jsx(qx,{request:S,onUpdateStatus:C,onApproveRequest:x.mutate,onEscalateRequest:b.mutate,showApprovalActions:!1},S.id))}),e.jsx(Le,{value:"all",className:"space-y-4",children:w.all.length===0?e.jsx(E,{children:e.jsxs(D,{className:"p-8 text-center",children:[e.jsx(er,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),e.jsx("p",{className:"text-muted-foreground",children:"No service requests in your taluk"})]})}):w.all.map(S=>e.jsx(qx,{request:S,onUpdateStatus:C,onApproveRequest:x.mutate,onEscalateRequest:b.mutate,showApprovalActions:S.status==="completed"&&!S.approvedAt},S.id))})]}),e.jsx(kt,{open:c,onOpenChange:d,children:e.jsxs(St,{children:[e.jsxs(Ct,{children:[e.jsx(Pt,{children:"Update Service Request Status"}),e.jsxs(Yt,{children:["Update the status and add notes for service request ",l==null?void 0:l.srNumber]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium mb-2 block",children:"Status"}),e.jsxs(je,{value:u,onValueChange:m,children:[e.jsx(ge,{children:e.jsx(be,{placeholder:"Select status"})}),e.jsxs(ve,{children:[e.jsx(O,{value:"approved",children:"Approved"}),e.jsx(O,{value:"escalated",children:"Escalate to Branch Manager"}),e.jsx(O,{value:"cancelled",children:"Cancelled"})]})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium mb-2 block",children:"Notes (Optional)"}),e.jsx(at,{placeholder:"Add notes about this status update...",value:h,onChange:S=>g(S.target.value),rows:3})]}),e.jsxs("div",{className:"flex justify-end space-x-2",children:[e.jsx(T,{variant:"outline",onClick:()=>d(!1),children:"Cancel"}),e.jsx(T,{onClick:P,disabled:v.isPending,children:v.isPending?"Updating...":"Update Status"})]})]})]})})]})},qx=({request:t,onUpdateStatus:r,onApproveRequest:s,onEscalateRequest:n,showApprovalActions:a})=>{const i=c=>{switch(c){case"taxi":return e.jsx(_t,{className:"h-5 w-5"});case"delivery":return e.jsx(pt,{className:"h-5 w-5"});case"rental":return e.jsx(Ns,{className:"h-5 w-5"});case"grocery":return e.jsx(Pr,{className:"h-5 w-5"});case"recharge":return e.jsx(Jn,{className:"h-5 w-5"});case"recycling":return e.jsx(In,{className:"h-5 w-5"});default:return e.jsx(_t,{className:"h-5 w-5"})}},l=c=>{switch(c.toLowerCase()){case"new":return"bg-blue-100 text-blue-800";case"assigned":return"bg-yellow-100 text-yellow-800";case"in_progress":return"bg-orange-100 text-orange-800";case"completed":return"bg-green-100 text-green-800";case"approved":return"bg-purple-100 text-purple-800";case"escalated":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}},o=t.serviceData?JSON.parse(t.serviceData):{};return e.jsxs(E,{children:[e.jsx(Y,{className:"pb-3",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"p-2 bg-primary/10 rounded-lg",children:i(t.serviceType)}),e.jsxs("div",{children:[e.jsx(X,{className:"text-lg",children:t.srNumber}),e.jsxs(he,{className:"capitalize",children:[t.serviceType," Service Request  User ID: ",t.userId]})]})]}),e.jsxs("div",{className:"flex flex-col items-end space-y-2",children:[e.jsx(ae,{className:l(t.status),children:t.status.replace("_"," ").toUpperCase()}),t.pincodeAgentId&&e.jsxs(ae,{variant:"outline",children:["Agent: ",t.pincodeAgentId]})]})]})}),e.jsxs(D,{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(qs,{className:"h-4 w-4 text-muted-foreground"}),e.jsxs("span",{className:"text-sm",children:["",Number(t.amount).toLocaleString()]})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Xt,{className:"h-4 w-4 text-muted-foreground"}),e.jsx("span",{className:"text-sm",children:xt(new Date(t.createdAt),"MMM dd, yyyy HH:mm")})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ft,{className:"h-4 w-4 text-muted-foreground"}),e.jsx("span",{className:"text-sm",children:t.paymentMethod||"Razorpay"})]})]}),t.serviceType==="taxi"&&o.pickup&&e.jsxs("div",{className:"p-3 bg-muted/50 rounded-lg",children:[e.jsx("p",{className:"text-sm font-medium mb-1",children:"Trip Details"}),e.jsxs("p",{className:"text-sm text-muted-foreground",children:["From: ",o.pickup,"  To: ",o.dropoff]}),o.distance&&e.jsxs("p",{className:"text-sm text-muted-foreground",children:["Distance: ",o.distance," km"]})]}),e.jsxs("div",{className:"flex justify-between items-center pt-2",children:[e.jsxs("div",{className:"text-sm text-muted-foreground",children:["Updated: ",xt(new Date(t.updatedAt),"MMM dd, HH:mm")]}),e.jsxs("div",{className:"flex space-x-2",children:[a&&e.jsxs(e.Fragment,{children:[e.jsxs(T,{variant:"default",size:"sm",onClick:()=>s(t.id),children:[e.jsx(Ot,{className:"h-4 w-4 mr-2"}),"Approve"]}),e.jsxs(T,{variant:"destructive",size:"sm",onClick:()=>n(t.id),children:[e.jsx(vn,{className:"h-4 w-4 mr-2"}),"Escalate"]})]}),e.jsxs(T,{variant:"outline",size:"sm",children:[e.jsx(fr,{className:"h-4 w-4 mr-2"}),"View Details"]}),e.jsxs(T,{variant:"outline",size:"sm",onClick:()=>r(t),children:[e.jsx(Gr,{className:"h-4 w-4 mr-2"}),"Update Status"]})]})]})]})]})},B6e=()=>{const[t,r]=j.useState(""),[s,n]=j.useState("all"),[a,i]=j.useState("all"),[l,o]=j.useState(null),[c,d]=j.useState(!1),[u,m]=j.useState(""),[h,g]=j.useState(""),{toast:f}=Be(),{data:p=[],isLoading:y}=fe({queryKey:["/api/service-requests/branch-manager-requests"]}),v=Se({mutationFn:async({id:S,status:A,notes:k})=>(await le("PATCH",`/api/service-requests/${S}/branch-manager-update`,{status:A,notes:k})).json(),onSuccess:()=>{pe.invalidateQueries({queryKey:["/api/service-requests/branch-manager-requests"]}),f({title:"Status Updated",description:"Service request status has been updated successfully."}),d(!1),o(null),m(""),g("")},onError:S=>{f({title:"Update Failed",description:S.message||"Failed to update service request status.",variant:"destructive"})}}),x=Se({mutationFn:async S=>(await le("PATCH",`/api/service-requests/${S}/final-approval`,{})).json(),onSuccess:()=>{pe.invalidateQueries({queryKey:["/api/service-requests/branch-manager-requests"]}),f({title:"Final Approval Granted",description:"Service request has been given final approval."})},onError:S=>{f({title:"Approval Failed",description:S.message||"Failed to grant final approval.",variant:"destructive"})}}),b=Se({mutationFn:async S=>(await le("PATCH",`/api/service-requests/${S}/escalate-to-admin`,{})).json(),onSuccess:()=>{pe.invalidateQueries({queryKey:["/api/service-requests/branch-manager-requests"]}),f({title:"Escalated to Admin",description:"Service request has been escalated to admin for review."})},onError:S=>{f({title:"Escalation Failed",description:S.message||"Failed to escalate to admin.",variant:"destructive"})}}),N=p.filter(S=>{const A=S.srNumber.toLowerCase().includes(t.toLowerCase())||S.serviceType.toLowerCase().includes(t.toLowerCase())||S.userId.toString().includes(t),k=s==="all"||S.status===s,I=a==="all"||S.serviceType===a;return A&&k&&I}),w={escalated:N.filter(S=>S.status==="escalated"),pending_final_approval:N.filter(S=>S.status==="approved"&&!S.approvedAt),final_approved:N.filter(S=>S.status==="final_approved"),admin_escalated:N.filter(S=>S.status==="admin_escalated"),all:N},C=S=>{o(S),m(S.status),d(!0)},P=()=>{!l||!u||v.mutate({id:l.id,status:u,notes:h})};return y?e.jsx("div",{className:"flex items-center justify-center min-h-[400px]",children:e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"})}):e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex flex-col space-y-4 sm:flex-row sm:items-center sm:justify-between sm:space-y-0",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold",children:"Branch Manager - Service Requests"}),e.jsx("p",{className:"text-muted-foreground",children:"Final review and approval of escalated service requests"})]}),e.jsxs("div",{className:"flex flex-col space-y-2 sm:flex-row sm:space-y-0 sm:space-x-2",children:[e.jsxs("div",{className:"relative",children:[e.jsx(es,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-muted-foreground"}),e.jsx($,{placeholder:"Search by SR number, service, or user ID...",value:t,onChange:S=>r(S.target.value),className:"pl-10 w-full sm:w-80"})]}),e.jsxs(je,{value:a,onValueChange:i,children:[e.jsx(ge,{className:"w-full sm:w-40",children:e.jsx(be,{placeholder:"Service Type"})}),e.jsxs(ve,{children:[e.jsx(O,{value:"all",children:"All Services"}),e.jsx(O,{value:"taxi",children:"Taxi"}),e.jsx(O,{value:"delivery",children:"Delivery"}),e.jsx(O,{value:"rental",children:"Rental"}),e.jsx(O,{value:"grocery",children:"Grocery"}),e.jsx(O,{value:"recharge",children:"Recharge"}),e.jsx(O,{value:"recycling",children:"Recycling"})]})]}),e.jsxs(je,{value:s,onValueChange:n,children:[e.jsx(ge,{className:"w-full sm:w-32",children:e.jsx(be,{placeholder:"Status"})}),e.jsxs(ve,{children:[e.jsx(O,{value:"all",children:"All Status"}),e.jsx(O,{value:"escalated",children:"Escalated"}),e.jsx(O,{value:"approved",children:"Pending Final Approval"}),e.jsx(O,{value:"final_approved",children:"Final Approved"}),e.jsx(O,{value:"admin_escalated",children:"Admin Escalated"})]})]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-4",children:[e.jsx(E,{children:e.jsx(D,{className:"p-4",children:e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(vn,{className:"h-5 w-5 text-red-600"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium",children:"Escalated"}),e.jsx("p",{className:"text-2xl font-bold",children:w.escalated.length})]})]})})}),e.jsx(E,{children:e.jsx(D,{className:"p-4",children:e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(gt,{className:"h-5 w-5 text-orange-600"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium",children:"Pending Final"}),e.jsx("p",{className:"text-2xl font-bold",children:w.pending_final_approval.length})]})]})})}),e.jsx(E,{children:e.jsx(D,{className:"p-4",children:e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(xl,{className:"h-5 w-5 text-green-600"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium",children:"Final Approved"}),e.jsx("p",{className:"text-2xl font-bold",children:w.final_approved.length})]})]})})}),e.jsx(E,{children:e.jsx(D,{className:"p-4",children:e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(vi,{className:"h-5 w-5 text-purple-600"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium",children:"Admin Escalated"}),e.jsx("p",{className:"text-2xl font-bold",children:w.admin_escalated.length})]})]})})}),e.jsx(E,{children:e.jsx(D,{className:"p-4",children:e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(er,{className:"h-5 w-5 text-blue-600"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium",children:"Total Requests"}),e.jsx("p",{className:"text-2xl font-bold",children:w.all.length})]})]})})})]}),e.jsxs(rr,{defaultValue:"escalated",className:"space-y-4",children:[e.jsxs(tr,{children:[e.jsxs(ke,{value:"escalated",children:["Escalated (",w.escalated.length,")"]}),e.jsxs(ke,{value:"pending_final_approval",children:["Pending Final (",w.pending_final_approval.length,")"]}),e.jsxs(ke,{value:"final_approved",children:["Final Approved (",w.final_approved.length,")"]}),e.jsxs(ke,{value:"admin_escalated",children:["Admin Escalated (",w.admin_escalated.length,")"]}),e.jsxs(ke,{value:"all",children:["All Requests (",w.all.length,")"]})]}),e.jsx(Le,{value:"escalated",className:"space-y-4",children:w.escalated.length===0?e.jsx(E,{children:e.jsxs(D,{className:"p-8 text-center",children:[e.jsx(vn,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),e.jsx("p",{className:"text-muted-foreground",children:"No escalated requests requiring your attention"})]})}):w.escalated.map(S=>e.jsx(ih,{request:S,onUpdateStatus:C,onFinalApproval:x.mutate,onEscalateToAdmin:b.mutate,showFinalApprovalActions:!0},S.id))}),e.jsx(Le,{value:"pending_final_approval",className:"space-y-4",children:w.pending_final_approval.length===0?e.jsx(E,{children:e.jsxs(D,{className:"p-8 text-center",children:[e.jsx(gt,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),e.jsx("p",{className:"text-muted-foreground",children:"No requests pending final approval"})]})}):w.pending_final_approval.map(S=>e.jsx(ih,{request:S,onUpdateStatus:C,onFinalApproval:x.mutate,onEscalateToAdmin:b.mutate,showFinalApprovalActions:!0},S.id))}),e.jsx(Le,{value:"final_approved",className:"space-y-4",children:w.final_approved.length===0?e.jsx(E,{children:e.jsxs(D,{className:"p-8 text-center",children:[e.jsx(xl,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),e.jsx("p",{className:"text-muted-foreground",children:"No final approved requests"})]})}):w.final_approved.map(S=>e.jsx(ih,{request:S,onUpdateStatus:C,onFinalApproval:x.mutate,onEscalateToAdmin:b.mutate,showFinalApprovalActions:!1},S.id))}),e.jsx(Le,{value:"admin_escalated",className:"space-y-4",children:w.admin_escalated.length===0?e.jsx(E,{children:e.jsxs(D,{className:"p-8 text-center",children:[e.jsx(vi,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),e.jsx("p",{className:"text-muted-foreground",children:"No requests escalated to admin"})]})}):w.admin_escalated.map(S=>e.jsx(ih,{request:S,onUpdateStatus:C,onFinalApproval:x.mutate,onEscalateToAdmin:b.mutate,showFinalApprovalActions:!1},S.id))}),e.jsx(Le,{value:"all",className:"space-y-4",children:w.all.length===0?e.jsx(E,{children:e.jsxs(D,{className:"p-8 text-center",children:[e.jsx(er,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),e.jsx("p",{className:"text-muted-foreground",children:"No service requests in your branch"})]})}):w.all.map(S=>e.jsx(ih,{request:S,onUpdateStatus:C,onFinalApproval:x.mutate,onEscalateToAdmin:b.mutate,showFinalApprovalActions:S.status==="escalated"||S.status==="approved"&&!S.approvedAt},S.id))})]}),e.jsx(kt,{open:c,onOpenChange:d,children:e.jsxs(St,{children:[e.jsxs(Ct,{children:[e.jsx(Pt,{children:"Update Service Request Status"}),e.jsxs(Yt,{children:["Update the status and add notes for service request ",l==null?void 0:l.srNumber]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium mb-2 block",children:"Status"}),e.jsxs(je,{value:u,onValueChange:m,children:[e.jsx(ge,{children:e.jsx(be,{placeholder:"Select status"})}),e.jsxs(ve,{children:[e.jsx(O,{value:"final_approved",children:"Final Approved"}),e.jsx(O,{value:"admin_escalated",children:"Escalate to Admin"}),e.jsx(O,{value:"cancelled",children:"Cancelled"})]})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium mb-2 block",children:"Notes (Optional)"}),e.jsx(at,{placeholder:"Add notes about this status update...",value:h,onChange:S=>g(S.target.value),rows:3})]}),e.jsxs("div",{className:"flex justify-end space-x-2",children:[e.jsx(T,{variant:"outline",onClick:()=>d(!1),children:"Cancel"}),e.jsx(T,{onClick:P,disabled:v.isPending,children:v.isPending?"Updating...":"Update Status"})]})]})]})})]})},ih=({request:t,onUpdateStatus:r,onFinalApproval:s,onEscalateToAdmin:n,showFinalApprovalActions:a})=>{const i=c=>{switch(c){case"taxi":return e.jsx(_t,{className:"h-5 w-5"});case"delivery":return e.jsx(pt,{className:"h-5 w-5"});case"rental":return e.jsx(Ns,{className:"h-5 w-5"});case"grocery":return e.jsx(Pr,{className:"h-5 w-5"});case"recharge":return e.jsx(Jn,{className:"h-5 w-5"});case"recycling":return e.jsx(In,{className:"h-5 w-5"});default:return e.jsx(_t,{className:"h-5 w-5"})}},l=c=>{switch(c.toLowerCase()){case"escalated":return"bg-red-100 text-red-800";case"approved":return"bg-purple-100 text-purple-800";case"final_approved":return"bg-green-100 text-green-800";case"admin_escalated":return"bg-orange-100 text-orange-800";case"closed":return"bg-gray-100 text-gray-800";default:return"bg-gray-100 text-gray-800"}},o=t.serviceData?JSON.parse(t.serviceData):{};return e.jsxs(E,{children:[e.jsx(Y,{className:"pb-3",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"p-2 bg-primary/10 rounded-lg",children:i(t.serviceType)}),e.jsxs("div",{children:[e.jsx(X,{className:"text-lg",children:t.srNumber}),e.jsxs(he,{className:"capitalize",children:[t.serviceType," Service Request  User ID: ",t.userId]})]})]}),e.jsxs("div",{className:"flex flex-col items-end space-y-2",children:[e.jsx(ae,{className:l(t.status),children:t.status.replace("_"," ").toUpperCase()}),e.jsxs("div",{className:"flex space-x-1",children:[t.pincodeAgentId&&e.jsxs(ae,{variant:"outline",className:"text-xs",children:["Agent: ",t.pincodeAgentId]}),t.talukManagerId&&e.jsxs(ae,{variant:"outline",className:"text-xs",children:["Manager: ",t.talukManagerId]})]})]})]})}),e.jsxs(D,{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(qs,{className:"h-4 w-4 text-muted-foreground"}),e.jsxs("span",{className:"text-sm",children:["",Number(t.amount).toLocaleString()]})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Xt,{className:"h-4 w-4 text-muted-foreground"}),e.jsx("span",{className:"text-sm",children:xt(new Date(t.createdAt),"MMM dd, yyyy HH:mm")})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ft,{className:"h-4 w-4 text-muted-foreground"}),e.jsx("span",{className:"text-sm",children:t.paymentMethod||"Razorpay"})]})]}),t.serviceType==="taxi"&&o.pickup&&e.jsxs("div",{className:"p-3 bg-muted/50 rounded-lg",children:[e.jsx("p",{className:"text-sm font-medium mb-1",children:"Trip Details"}),e.jsxs("p",{className:"text-sm text-muted-foreground",children:["From: ",o.pickup,"  To: ",o.dropoff]}),o.distance&&e.jsxs("p",{className:"text-sm text-muted-foreground",children:["Distance: ",o.distance," km"]})]}),e.jsxs("div",{className:"flex justify-between items-center pt-2",children:[e.jsxs("div",{className:"text-sm text-muted-foreground",children:["Updated: ",xt(new Date(t.updatedAt),"MMM dd, HH:mm")]}),e.jsxs("div",{className:"flex space-x-2",children:[a&&e.jsxs(e.Fragment,{children:[e.jsxs(T,{variant:"default",size:"sm",onClick:()=>s(t.id),children:[e.jsx(xl,{className:"h-4 w-4 mr-2"}),"Final Approval"]}),e.jsxs(T,{variant:"destructive",size:"sm",onClick:()=>n(t.id),children:[e.jsx(vi,{className:"h-4 w-4 mr-2"}),"Escalate to Admin"]})]}),e.jsxs(T,{variant:"outline",size:"sm",children:[e.jsx(fr,{className:"h-4 w-4 mr-2"}),"View Details"]}),e.jsxs(T,{variant:"outline",size:"sm",onClick:()=>r(t),children:[e.jsx(Gr,{className:"h-4 w-4 mr-2"}),"Update Status"]})]})]})]})]})},V6e=()=>{const[t,r]=j.useState(""),[s,n]=j.useState("all"),[a,i]=j.useState("all"),{toast:l}=Be(),{data:o=[],isLoading:c,refetch:d}=fe({queryKey:["/api/service-requests/provider-requests"]}),u=Se({mutationFn:async({id:f,status:p,notes:y})=>(await le("PATCH",`/api/service-requests/${f}/provider-update`,{status:p,notes:y})).json(),onSuccess:()=>{pe.invalidateQueries({queryKey:["/api/service-requests/provider-requests"]}),l({title:"Status Updated",description:"Service request status has been updated successfully."})},onError:f=>{l({title:"Update Failed",description:f.message||"Failed to update service request status.",variant:"destructive"})}}),m=o.filter(f=>{const p=f.srNumber.toLowerCase().includes(t.toLowerCase())||f.serviceType.toLowerCase().includes(t.toLowerCase()),y=s==="all"||f.status===s,v=a==="all"||f.serviceType===a;return p&&y&&v}),h={assigned:m.filter(f=>f.status==="assigned"),active:m.filter(f=>["in_progress"].includes(f.status)),completed:m.filter(f=>["completed"].includes(f.status)),all:m},g=f=>{const p=f.status;let y="";p==="assigned"?y="in_progress":p==="in_progress"&&(y="completed"),y&&u.mutate({id:f.id,status:y,notes:"Status updated by service provider"})};return c?e.jsx("div",{className:"flex items-center justify-center min-h-[400px]",children:e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"})}):e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex flex-col space-y-4 sm:flex-row sm:items-center sm:justify-between sm:space-y-0",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold",children:"Service Requests"}),e.jsx("p",{className:"text-muted-foreground",children:"Manage service requests assigned to you"})]}),e.jsxs("div",{className:"flex flex-col space-y-2 sm:flex-row sm:space-y-0 sm:space-x-2",children:[e.jsxs("div",{className:"relative",children:[e.jsx(es,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-muted-foreground"}),e.jsx($,{placeholder:"Search by request number or service...",value:t,onChange:f=>r(f.target.value),className:"pl-10 w-full sm:w-64"})]}),e.jsxs(je,{value:a,onValueChange:i,children:[e.jsx(ge,{className:"w-full sm:w-40",children:e.jsx(be,{placeholder:"Service Type"})}),e.jsxs(ve,{children:[e.jsx(O,{value:"all",children:"All Services"}),e.jsx(O,{value:"taxi",children:"Taxi"}),e.jsx(O,{value:"delivery",children:"Delivery"}),e.jsx(O,{value:"rental",children:"Rental"}),e.jsx(O,{value:"grocery",children:"Grocery"}),e.jsx(O,{value:"recharge",children:"Recharge"}),e.jsx(O,{value:"recycling",children:"Recycling"})]})]}),e.jsxs(je,{value:s,onValueChange:n,children:[e.jsx(ge,{className:"w-full sm:w-32",children:e.jsx(be,{placeholder:"Status"})}),e.jsxs(ve,{children:[e.jsx(O,{value:"all",children:"All Status"}),e.jsx(O,{value:"assigned",children:"Assigned"}),e.jsx(O,{value:"in_progress",children:"In Progress"}),e.jsx(O,{value:"completed",children:"Completed"})]})]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[e.jsx(E,{children:e.jsx(D,{className:"p-4",children:e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(nr,{className:"h-5 w-5 text-purple-600"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium",children:"Assigned"}),e.jsx("p",{className:"text-2xl font-bold",children:h.assigned.length})]})]})})}),e.jsx(E,{children:e.jsx(D,{className:"p-4",children:e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(gt,{className:"h-5 w-5 text-yellow-600"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium",children:"In Progress"}),e.jsx("p",{className:"text-2xl font-bold",children:h.active.length})]})]})})}),e.jsx(E,{children:e.jsx(D,{className:"p-4",children:e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ot,{className:"h-5 w-5 text-green-600"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium",children:"Completed"}),e.jsx("p",{className:"text-2xl font-bold",children:h.completed.length})]})]})})}),e.jsx(E,{children:e.jsx(D,{className:"p-4",children:e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(qs,{className:"h-5 w-5 text-blue-600"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium",children:"Total Earnings"}),e.jsxs("p",{className:"text-2xl font-bold",children:["",m.reduce((f,p)=>f+Number(p.amount),0).toLocaleString()]})]})]})})})]}),e.jsxs(rr,{defaultValue:"assigned",className:"space-y-4",children:[e.jsxs(tr,{children:[e.jsxs(ke,{value:"assigned",children:["Assigned (",h.assigned.length,")"]}),e.jsxs(ke,{value:"active",children:["In Progress (",h.active.length,")"]}),e.jsxs(ke,{value:"completed",children:["Completed (",h.completed.length,")"]}),e.jsxs(ke,{value:"all",children:["All (",h.all.length,")"]})]}),e.jsx(Le,{value:"assigned",className:"space-y-4",children:h.assigned.length===0?e.jsx(E,{children:e.jsxs(D,{className:"p-8 text-center",children:[e.jsx(nr,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),e.jsx("p",{className:"text-muted-foreground",children:"No assigned service requests"})]})}):h.assigned.map(f=>e.jsx(zx,{request:f,onUpdateStatus:g,isUpdating:u.isPending},f.id))}),e.jsx(Le,{value:"active",className:"space-y-4",children:h.active.length===0?e.jsx(E,{children:e.jsxs(D,{className:"p-8 text-center",children:[e.jsx(gt,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),e.jsx("p",{className:"text-muted-foreground",children:"No active service requests"})]})}):h.active.map(f=>e.jsx(zx,{request:f,onUpdateStatus:g,isUpdating:u.isPending},f.id))}),e.jsx(Le,{value:"completed",className:"space-y-4",children:h.completed.length===0?e.jsx(E,{children:e.jsxs(D,{className:"p-8 text-center",children:[e.jsx(Ot,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),e.jsx("p",{className:"text-muted-foreground",children:"No completed service requests"})]})}):h.completed.map(f=>e.jsx(zx,{request:f,onUpdateStatus:g,isUpdating:u.isPending},f.id))}),e.jsx(Le,{value:"all",className:"space-y-4",children:h.all.length===0?e.jsx(E,{children:e.jsxs(D,{className:"p-8 text-center",children:[e.jsx(zs,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),e.jsx("p",{className:"text-muted-foreground",children:"No service requests found"})]})}):h.all.map(f=>e.jsx(zx,{request:f,onUpdateStatus:g,isUpdating:u.isPending},f.id))})]})]})},zx=({request:t,onUpdateStatus:r,isUpdating:s})=>{const n=d=>{switch(d){case"taxi":return e.jsx(_t,{className:"h-5 w-5"});case"delivery":return e.jsx(pt,{className:"h-5 w-5"});case"rental":return e.jsx(Ns,{className:"h-5 w-5"});case"grocery":return e.jsx(Pr,{className:"h-5 w-5"});case"recharge":return e.jsx(Jn,{className:"h-5 w-5"});case"recycling":return e.jsx(In,{className:"h-5 w-5"});default:return e.jsx(_t,{className:"h-5 w-5"})}},a=d=>{switch(d.toLowerCase()){case"new":return"bg-blue-100 text-blue-800";case"assigned":return"bg-purple-100 text-purple-800";case"in_progress":return"bg-yellow-100 text-yellow-800";case"completed":return"bg-green-100 text-green-800";case"cancelled":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}},i=d=>{switch(d.toLowerCase()){case"pending":return"bg-orange-100 text-orange-800";case"completed":return"bg-green-100 text-green-800";case"failed":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}},l=t.serviceData?JSON.parse(t.serviceData):{},c=(()=>{switch(t.status){case"assigned":return{text:"Start Service",action:()=>r(t)};case"in_progress":return{text:"Mark Complete",action:()=>r(t)};default:return null}})();return e.jsxs(E,{children:[e.jsx(Y,{className:"pb-3",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"p-2 bg-primary/10 rounded-lg",children:n(t.serviceType)}),e.jsxs("div",{children:[e.jsx(X,{className:"text-lg",children:t.srNumber}),e.jsxs(he,{className:"capitalize",children:[t.serviceType," Service Request"]})]})]}),e.jsxs("div",{className:"flex flex-col items-end space-y-2",children:[e.jsx(ae,{className:a(t.status),children:t.status.replace("_"," ").toUpperCase()}),e.jsxs(ae,{className:i(t.paymentStatus),children:["Payment: ",t.paymentStatus]})]})]})}),e.jsxs(D,{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(qs,{className:"h-4 w-4 text-muted-foreground"}),e.jsxs("span",{className:"text-sm",children:["",Number(t.amount).toLocaleString()]})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Xt,{className:"h-4 w-4 text-muted-foreground"}),e.jsx("span",{className:"text-sm",children:xt(new Date(t.createdAt),"MMM dd, yyyy HH:mm")})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ft,{className:"h-4 w-4 text-muted-foreground"}),e.jsx("span",{className:"text-sm",children:t.paymentMethod||"Razorpay"})]})]}),t.serviceType==="taxi"&&l.pickup&&e.jsxs("div",{className:"p-3 bg-muted/50 rounded-lg",children:[e.jsx("p",{className:"text-sm font-medium mb-1",children:"Trip Details"}),e.jsxs("p",{className:"text-sm text-muted-foreground",children:["From: ",l.pickup,"  To: ",l.dropoff]}),l.distance&&e.jsxs("p",{className:"text-sm text-muted-foreground",children:["Distance: ",l.distance," km"]})]}),t.serviceType==="delivery"&&l.pickupAddress&&e.jsxs("div",{className:"p-3 bg-muted/50 rounded-lg",children:[e.jsx("p",{className:"text-sm font-medium mb-1",children:"Delivery Details"}),e.jsxs("p",{className:"text-sm text-muted-foreground",children:["From: ",l.pickupAddress,"  To: ",l.deliveryAddress]}),l.packageDetails&&e.jsxs("p",{className:"text-sm text-muted-foreground",children:["Package: ",l.packageDetails]})]}),e.jsxs("div",{className:"flex justify-between items-center pt-2",children:[e.jsxs("div",{className:"text-sm text-muted-foreground",children:["Updated: ",xt(new Date(t.updatedAt),"MMM dd, HH:mm")]}),c&&e.jsx(T,{onClick:c.action,disabled:s,size:"sm",children:s?"Updating...":c.text})]})]})]})},U6e=["Ariyalur","Chengalpattu","Chennai","Coimbatore","Cuddalore","Dharmapuri","Dindigul","Erode","Kallakurichi","Kanchipuram","Kanyakumari","Karur","Krishnagiri","Madurai","Mayiladuthurai","Nagapattinam","Namakkal","Nilgiris","Perambalur","Pudukkottai","Ramanathapuram","Ranipet","Salem","Sivaganga","Tenkasi","Thanjavur","Theni","Thoothukudi","Tiruchirappalli","Tirunelveli","Tirupathur","Tiruppur","Tiruvallur","Tiruvannamalai","Tiruvarur","Vellore","Villupuram","Virudhunagar"];function qD(){const[t,r]=j.useState({district:"",taluk:"",pincode:""}),[s,n]=j.useState(!1),[a,i]=j.useState(null),[l,o]=j.useState({pickupLocation:"",dropoffLocation:"",scheduledDateTime:"",estimatedDistance:"",specialInstructions:""}),{toast:c}=Be(),{data:d=[],isLoading:u}=fe({queryKey:["/api/taxi/vehicles",t.district,t.taluk,t.pincode],queryFn:()=>{const N=new URLSearchParams;return t.district&&N.append("district",t.district),t.taluk&&N.append("taluk",t.taluk),t.pincode&&N.append("pincode",t.pincode),fetch(`/api/taxi/vehicles?${N.toString()}`).then(w=>w.json())},enabled:!!t.district}),{data:m=[],isLoading:h}=fe({queryKey:["/api/taxi/my-bookings"]}),g=Se({mutationFn:async N=>{const C=await(await le("POST","/api/taxi/bookings",N)).json(),P={serviceType:"taxi",amount:N.totalAmount,paymentMethod:"razorpay",serviceData:{pickup:N.pickupLocation,dropoff:N.dropoffLocation,vehicleType:a==null?void 0:a.vehicleType,scheduledDateTime:N.scheduledDateTime,estimatedDistance:N.estimatedDistance,passengerCount:N.passengerCount,specialInstructions:N.specialInstructions,vehicleId:N.vehicleId,bookingId:C.id}},A=await(await le("POST","/api/service-requests",P)).json();return{booking:C,serviceRequest:A}},onSuccess:N=>{pe.invalidateQueries({queryKey:["/api/taxi/my-bookings"]}),pe.invalidateQueries({queryKey:["/api/service-requests/my-requests"]}),n(!1),f(),c({title:"Success",description:`Taxi booking created successfully! Service request ${N.serviceRequest.srNumber} has been generated.`})},onError:()=>{c({title:"Error",description:"Failed to create taxi booking",variant:"destructive"})}}),f=()=>{o({pickupLocation:"",dropoffLocation:"",scheduledDateTime:"",estimatedDistance:"",specialInstructions:""}),i(null)},p=()=>{if(!t.district){c({title:"Validation Error",description:"Please select a district to search for vehicles",variant:"destructive"});return}},y=N=>{i(N),n(!0)},v=()=>{if(!a)return 0;const N=parseFloat(l.estimatedDistance)||0;return a.baseFarePerKm*N},x=N=>{if(N.preventDefault(),!a){c({title:"Error",description:"Vehicle must be selected",variant:"destructive"});return}if(!l.pickupLocation||!l.dropoffLocation||!l.scheduledDateTime){c({title:"Validation Error",description:"Pickup location, drop-off location, and scheduled time are required",variant:"destructive"});return}const w=parseFloat(l.estimatedDistance)||0,C=v(),P={vehicleId:a.id,providerId:a.providerId,pickupLocation:l.pickupLocation,dropoffLocation:l.dropoffLocation,scheduledDateTime:l.scheduledDateTime,estimatedDistance:w,estimatedFare:C,specialInstructions:l.specialInstructions,bookingType:"scheduled",pickupPincode:t.pincode||"600001",dropoffPincode:"600002",totalAmount:C,passengerCount:1};g.mutate(P)},b=d.filter(N=>N.adminApproved&&N.status==="available");return u?e.jsx("div",{className:"container mx-auto p-6",children:e.jsxs("div",{className:"text-center py-8",children:[e.jsx("div",{className:"animate-spin w-8 h-8 border-4 border-primary border-t-transparent rounded-full mx-auto"}),e.jsx("p",{className:"mt-4",children:"Loading taxi services..."})]})}):e.jsxs("div",{className:"container mx-auto p-6",children:[e.jsxs("div",{className:"mb-8",children:[e.jsx("h1",{className:"text-3xl font-bold mb-2",children:"Taxi Booking Service"}),e.jsx("p",{className:"text-muted-foreground",children:"Book reliable taxi services in your area"})]}),e.jsxs(E,{className:"mb-8",children:[e.jsxs(Y,{children:[e.jsx(X,{children:"Select Your Location"}),e.jsx(he,{children:"Choose your pickup area to find available vehicles"})]}),e.jsxs(D,{children:[e.jsxs("div",{className:"grid gap-4 md:grid-cols-3",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(se,{children:"District"}),e.jsxs("select",{value:t.district,onChange:N=>r({...t,district:N.target.value,taluk:"",pincode:""}),className:"w-full p-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",children:[e.jsx("option",{value:"",children:"Select District"}),U6e.map(N=>e.jsx("option",{value:N,children:N},N))]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(se,{children:"Taluk"}),e.jsx($,{value:t.taluk,onChange:N=>r({...t,taluk:N.target.value}),placeholder:"Enter taluk"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(se,{children:"Pincode"}),e.jsx($,{value:t.pincode,onChange:N=>r({...t,pincode:N.target.value}),placeholder:"Enter pincode"})]})]}),t.district&&e.jsx("div",{className:"mt-4",children:e.jsx(T,{onClick:p,className:"w-full md:w-auto",children:"Search Vehicles"})})]})]}),e.jsxs("div",{className:"mb-8",children:[e.jsx("h2",{className:"text-2xl font-bold mb-4",children:"Available Vehicles"}),t.district?e.jsx("p",{className:"text-muted-foreground mb-4",children:b.length>0?`Found ${b.length} vehicle(s) in ${t.district}${t.taluk?`, ${t.taluk}`:""}${t.pincode?` - ${t.pincode}`:""}`:`No vehicles available in ${t.district}${t.taluk?`, ${t.taluk}`:""}${t.pincode?` - ${t.pincode}`:""}`}):e.jsx("p",{className:"text-muted-foreground mb-4",children:"Please select a district to view available vehicles"}),t.district?b.length===0?e.jsx(E,{children:e.jsxs(D,{className:"text-center py-12",children:[e.jsx(_t,{className:"h-16 w-16 mx-auto mb-4 text-muted-foreground"}),e.jsx("h3",{className:"text-xl font-semibold mb-2",children:"No Vehicles Available"}),e.jsx("p",{className:"text-muted-foreground",children:"No taxi vehicles found in the selected area. Try a different location."})]})}):e.jsx("div",{className:"grid gap-6 md:grid-cols-2 lg:grid-cols-3",children:b.map(N=>e.jsxs(E,{className:"relative",children:[e.jsx(Y,{children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs(X,{className:"flex items-center gap-2",children:[e.jsx(_t,{className:"h-5 w-5"}),N.brand," ",N.model]}),e.jsx(ae,{variant:"default",children:"Available"})]})}),e.jsxs(D,{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(_t,{className:"h-4 w-4 text-muted-foreground"}),e.jsx("span",{children:N.vehicleType})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(er,{className:"h-4 w-4 text-muted-foreground"}),e.jsxs("span",{children:[N.seatingCapacity," seater"]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(go,{className:"h-4 w-4 text-muted-foreground"}),e.jsx("span",{children:N.fuelType})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(ft,{className:"h-4 w-4 text-muted-foreground"}),e.jsx("span",{children:N.district})]})]}),N.acAvailable&&e.jsx(ae,{variant:"outline",className:"w-fit",children:"AC Available"}),e.jsxs("div",{className:"text-sm text-muted-foreground",children:["Vehicle: ",N.vehicleNumber]}),e.jsxs("div",{className:"flex items-center justify-between pt-4 border-t",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-muted-foreground",children:"Fare per km"}),e.jsxs("p",{className:"text-lg font-semibold",children:["",N.baseFarePerKm]})]}),e.jsxs(T,{onClick:()=>y(N),className:"flex items-center gap-2",children:[e.jsx(Rt,{className:"h-4 w-4"}),"Book Now"]})]})]})]},N.id))}):e.jsx(E,{children:e.jsxs(D,{className:"text-center py-12",children:[e.jsx(ft,{className:"h-16 w-16 mx-auto mb-4 text-muted-foreground"}),e.jsx("h3",{className:"text-xl font-semibold mb-2",children:"Select Your Location"}),e.jsx("p",{className:"text-muted-foreground",children:"Choose your district to see available taxi vehicles in your area"})]})})]}),e.jsx(kt,{open:s,onOpenChange:n,children:e.jsxs(St,{className:"max-w-md",children:[e.jsxs(Ct,{children:[e.jsx(Pt,{children:"Book Taxi"}),e.jsx(Yt,{children:a&&`Book ${a.brand} ${a.model} (${a.vehicleNumber})`})]}),e.jsxs("form",{onSubmit:x,className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(se,{children:"Pickup Location *"}),e.jsx(at,{value:l.pickupLocation,onChange:N=>o({...l,pickupLocation:N.target.value}),placeholder:"Enter detailed pickup address",required:!0})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(se,{children:"Drop-off Location *"}),e.jsx(at,{value:l.dropoffLocation,onChange:N=>o({...l,dropoffLocation:N.target.value}),placeholder:"Enter detailed drop-off address",required:!0})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(se,{children:"Scheduled Time *"}),e.jsx($,{type:"datetime-local",value:l.scheduledDateTime,onChange:N=>o({...l,scheduledDateTime:N.target.value}),required:!0})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(se,{children:"Estimated Distance (km)"}),e.jsx($,{type:"number",step:"0.1",value:l.estimatedDistance,onChange:N=>o({...l,estimatedDistance:N.target.value}),placeholder:"Enter approximate distance"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(se,{children:"Special Instructions"}),e.jsx(at,{value:l.specialInstructions,onChange:N=>o({...l,specialInstructions:N.target.value}),placeholder:"Any special instructions"})]}),l.estimatedDistance&&a&&e.jsxs("div",{className:"p-3 bg-muted rounded-md",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-sm font-medium",children:"Estimated Fare:"}),e.jsxs("span",{className:"text-lg font-bold",children:["",v().toFixed(2)]})]}),e.jsxs("div",{className:"text-xs text-muted-foreground mt-1",children:[l.estimatedDistance," km  ",a.baseFarePerKm,"/km"]})]}),e.jsxs("div",{className:"flex justify-end space-x-2 pt-4",children:[e.jsx(T,{type:"button",variant:"outline",onClick:()=>n(!1),children:"Cancel"}),e.jsx(T,{type:"submit",disabled:g.isPending,children:g.isPending?"Creating...":"Create Booking"})]})]})]})}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold mb-4",children:"My Bookings"}),h?e.jsx("div",{className:"text-center py-4",children:e.jsx("div",{className:"animate-spin w-6 h-6 border-4 border-primary border-t-transparent rounded-full mx-auto"})}):m.length===0?e.jsx(E,{children:e.jsxs(D,{className:"text-center py-8",children:[e.jsx(gt,{className:"h-12 w-12 mx-auto mb-4 text-muted-foreground"}),e.jsx("p",{className:"text-muted-foreground",children:"No bookings yet. Book your first taxi above!"})]})}):e.jsx("div",{className:"grid gap-4 md:grid-cols-2",children:m.map(N=>e.jsxs(E,{children:[e.jsx(Y,{children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs(X,{className:"text-lg",children:["Booking #",N.id]}),e.jsx(ae,{variant:N.status==="confirmed"?"default":N.status==="completed"?"secondary":N.status==="cancelled"?"destructive":"outline",children:N.status})]})}),e.jsxs(D,{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(ft,{className:"h-4 w-4 text-green-600 mt-1 flex-shrink-0"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium",children:"Pickup"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:N.pickupLocation})]})]}),e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(ft,{className:"h-4 w-4 text-red-600 mt-1 flex-shrink-0"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium",children:"Drop-off"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:N.dropoffLocation})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(gt,{className:"h-4 w-4 text-muted-foreground"}),e.jsx("span",{className:"text-sm",children:new Date(N.scheduledDateTime).toLocaleString()})]}),e.jsxs("div",{className:"flex justify-between items-center pt-2 border-t",children:[e.jsxs("span",{className:"text-sm text-muted-foreground",children:[N.estimatedDistance," km"]}),e.jsxs("span",{className:"font-semibold",children:["",N.estimatedFare]})]})]})]},N.id))})]})]})}function q6e(){const{toast:t}=Be(),[r,s]=j.useState(!1),[n,a]=j.useState(null),[i,l]=j.useState({vehicleNumber:"",vehicleType:"",brand:"",model:"",year:new Date().getFullYear(),color:"",seatingCapacity:4,fuelType:"",acAvailable:!1,gpsEnabled:!1,insuranceValid:!1,pucValid:!1,rcNumber:"",insuranceNumber:"",driverLicenseNumber:"",baseFarePerKm:10,baseWaitingCharge:50,nightChargeMultiplier:1.2,tollChargesApplicable:!0,availableAreas:"",currentLocation:"",district:"",pincode:"",imageUrl:""}),{data:o=[],isLoading:c}=fe({queryKey:["/api/taxi/my-vehicles"],queryFn:async()=>(await le("GET","/api/taxi/my-vehicles")).json()}),d=Se({mutationFn:async x=>(await le("POST","/api/taxi/vehicles",x)).json(),onSuccess:()=>{t({title:"Vehicle Added",description:"Your taxi vehicle has been added successfully!"}),s(!1),a(null),m(),pe.invalidateQueries({queryKey:["/api/taxi/my-vehicles"]})},onError:x=>{t({title:"Failed to Add Vehicle",description:x.message||"Failed to add vehicle",variant:"destructive"})}}),u=Se({mutationFn:async({id:x,data:b})=>(await le("PUT",`/api/taxi/vehicles/${x}`,b)).json(),onSuccess:()=>{t({title:"Vehicle Updated",description:"Your taxi vehicle has been updated successfully!"}),s(!1),a(null),m(),pe.invalidateQueries({queryKey:["/api/taxi/my-vehicles"]})},onError:x=>{t({title:"Failed to Update Vehicle",description:x.message||"Failed to update vehicle",variant:"destructive"})}}),m=()=>{l({vehicleNumber:"",vehicleType:"",brand:"",model:"",year:new Date().getFullYear(),color:"",seatingCapacity:4,fuelType:"",acAvailable:!1,gpsEnabled:!1,insuranceValid:!1,pucValid:!1,rcNumber:"",insuranceNumber:"",driverLicenseNumber:"",baseFarePerKm:10,baseWaitingCharge:50,nightChargeMultiplier:1.2,tollChargesApplicable:!0,availableAreas:"",currentLocation:"",district:"",pincode:"",imageUrl:""})},h=()=>{s(!0),a(null),m()},g=x=>{a(x),l({vehicleNumber:x.vehicleNumber,vehicleType:x.vehicleType,brand:x.brand,model:x.model,year:x.year,color:x.color,seatingCapacity:x.seatingCapacity,fuelType:x.fuelType,acAvailable:x.acAvailable,gpsEnabled:x.gpsEnabled,insuranceValid:x.insuranceValid,pucValid:x.pucValid,rcNumber:x.rcNumber,insuranceNumber:x.insuranceNumber,driverLicenseNumber:x.driverLicenseNumber,baseFarePerKm:x.baseFarePerKm,baseWaitingCharge:x.baseWaitingCharge,nightChargeMultiplier:x.nightChargeMultiplier,tollChargesApplicable:x.tollChargesApplicable,availableAreas:x.availableAreas,currentLocation:x.currentLocation,district:x.district,pincode:x.pincode,imageUrl:x.imageUrl||""}),s(!0)},f=x=>{x.preventDefault(),n?u.mutate({id:n.id,data:i}):d.mutate(i)},p=["Two Wheeler","Three Wheeler","4 Seaters","6 Seaters","12 Seaters"],y=["Petrol","Diesel","CNG","Electric","Hybrid"],v=["Chennai","Coimbatore","Madurai","Salem","Tiruchirappalli","Tiruppur"];return c?e.jsx("div",{className:"space-y-6",children:e.jsx("div",{className:"text-center",children:e.jsx("h1",{className:"text-3xl font-bold",children:"Loading Your Vehicles..."})})}):e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold text-primary",children:"My Taxi Vehicles"}),e.jsx("p",{className:"text-muted-foreground mt-2",children:"Manage your taxi fleet and vehicle details"})]}),e.jsxs(T,{onClick:h,className:"flex items-center gap-2",children:[e.jsx(Rt,{className:"h-4 w-4"}),"Add Vehicle"]})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:o.map(x=>e.jsxs(E,{className:"hover:shadow-lg transition-shadow",children:[e.jsx(Y,{children:e.jsxs("div",{className:"flex justify-between items-start",children:[e.jsxs("div",{children:[e.jsxs(X,{className:"text-lg",children:[x.brand," ",x.model]}),e.jsx("p",{className:"text-sm text-muted-foreground",children:x.vehicleNumber})]}),e.jsxs("div",{className:"flex flex-col gap-1",children:[e.jsx(ae,{variant:x.adminApproved?"default":"secondary",children:x.adminApproved?"Approved":"Pending"}),e.jsx(ae,{variant:"outline",children:x.vehicleType})]})]})}),e.jsxs(D,{className:"space-y-4",children:[x.imageUrl&&e.jsx("img",{src:x.imageUrl,alt:`${x.brand} ${x.model}`,className:"w-full h-48 object-cover rounded-md"}),e.jsxs("div",{className:"grid grid-cols-2 gap-2 text-sm",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(er,{className:"h-4 w-4 text-muted-foreground"}),e.jsxs("span",{children:[x.seatingCapacity," seats"]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(go,{className:"h-4 w-4 text-muted-foreground"}),e.jsx("span",{children:x.fuelType})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(ft,{className:"h-4 w-4 text-muted-foreground"}),e.jsx("span",{children:x.district})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(_t,{className:"h-4 w-4 text-muted-foreground"}),e.jsx("span",{children:x.year})]})]}),e.jsxs("div",{className:"flex flex-wrap gap-2",children:[x.acAvailable&&e.jsx(ae,{variant:"outline",children:"AC"}),x.gpsEnabled&&e.jsx(ae,{variant:"outline",children:"GPS"}),x.insuranceValid&&e.jsx(ae,{variant:"outline",children:"Insured"}),x.pucValid&&e.jsx(ae,{variant:"outline",children:"PUC Valid"})]}),e.jsxs("div",{className:"bg-muted p-3 rounded-md",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"font-medium",children:"Base Fare:"}),e.jsxs("span",{className:"text-primary font-bold",children:["",x.baseFarePerKm,"/km"]})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"font-medium",children:"Waiting:"}),e.jsxs("span",{className:"text-primary font-bold",children:["",x.baseWaitingCharge,"/hr"]})]})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[x.status==="available"?e.jsx(Ot,{className:"h-4 w-4 text-green-500"}):e.jsx(Mr,{className:"h-4 w-4 text-red-500"}),e.jsx("span",{className:"text-sm capitalize",children:x.status})]}),e.jsx(T,{size:"sm",variant:"outline",onClick:()=>g(x),children:e.jsx(Gr,{className:"h-4 w-4"})})]})]})]},x.id))}),o.length===0&&e.jsx(E,{children:e.jsxs(D,{className:"text-center py-8",children:[e.jsx(_t,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),e.jsx("h3",{className:"text-lg font-medium",children:"No vehicles added yet"}),e.jsx("p",{className:"text-muted-foreground mb-4",children:"Start by adding your first taxi vehicle to begin accepting bookings."}),e.jsx(T,{onClick:h,children:"Add Your First Vehicle"})]})}),r&&e.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center p-4 z-50",children:e.jsxs(E,{className:"w-full max-w-4xl max-h-[90vh] overflow-y-auto",children:[e.jsx(Y,{children:e.jsx(X,{children:n?"Edit Vehicle":"Add New Vehicle"})}),e.jsx(D,{children:e.jsxs("form",{onSubmit:f,className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(se,{htmlFor:"vehicleNumber",children:"Vehicle Number *"}),e.jsx($,{id:"vehicleNumber",value:i.vehicleNumber,onChange:x=>l(b=>({...b,vehicleNumber:x.target.value})),placeholder:"TN 01 AB 1234",required:!0})]}),e.jsxs("div",{children:[e.jsx(se,{htmlFor:"vehicleType",children:"Vehicle Type *"}),e.jsxs(je,{value:i.vehicleType,onValueChange:x=>{let b=4;x==="Two Wheeler"?b=1:x==="Three Wheeler"?b=3:x==="4 Seaters"?b=4:x==="6 Seaters"?b=6:x==="12 Seaters"&&(b=12),l(N=>({...N,vehicleType:x,seatingCapacity:b}))},children:[e.jsx(ge,{children:e.jsx(be,{placeholder:"Select vehicle type"})}),e.jsx(ve,{children:p.map(x=>e.jsx(O,{value:x,children:x},x))})]})]}),e.jsxs("div",{children:[e.jsx(se,{htmlFor:"brand",children:"Brand *"}),e.jsx($,{id:"brand",value:i.brand,onChange:x=>l(b=>({...b,brand:x.target.value})),placeholder:"Toyota, Maruti, etc.",required:!0})]}),e.jsxs("div",{children:[e.jsx(se,{htmlFor:"model",children:"Model *"}),e.jsx($,{id:"model",value:i.model,onChange:x=>l(b=>({...b,model:x.target.value})),placeholder:"Innova, Swift, etc.",required:!0})]}),e.jsxs("div",{children:[e.jsx(se,{htmlFor:"year",children:"Year *"}),e.jsx($,{id:"year",type:"number",value:i.year,onChange:x=>l(b=>({...b,year:parseInt(x.target.value)||new Date().getFullYear()})),min:"2000",max:new Date().getFullYear(),required:!0})]}),e.jsxs("div",{children:[e.jsx(se,{htmlFor:"color",children:"Color *"}),e.jsx($,{id:"color",value:i.color,onChange:x=>l(b=>({...b,color:x.target.value})),placeholder:"White, Black, etc.",required:!0})]}),e.jsxs("div",{children:[e.jsx(se,{htmlFor:"seatingCapacity",children:"Seating Capacity *"}),e.jsxs(je,{value:i.seatingCapacity.toString(),onValueChange:x=>l(b=>({...b,seatingCapacity:parseInt(x)})),children:[e.jsx(ge,{children:e.jsx(be,{})}),e.jsx(ve,{children:[2,3,4,5,6,7,8,9,10,12,15,17].map(x=>e.jsxs(O,{value:x.toString(),children:[x," seats"]},x))})]})]}),e.jsxs("div",{children:[e.jsx(se,{htmlFor:"fuelType",children:"Fuel Type *"}),e.jsxs(je,{value:i.fuelType,onValueChange:x=>l(b=>({...b,fuelType:x})),children:[e.jsx(ge,{children:e.jsx(be,{placeholder:"Select fuel type"})}),e.jsx(ve,{children:y.map(x=>e.jsx(O,{value:x,children:x},x))})]})]})]}),e.jsx(kr,{}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("h3",{className:"text-lg font-medium",children:"Vehicle Features"}),e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ds,{id:"acAvailable",checked:i.acAvailable,onCheckedChange:x=>l(b=>({...b,acAvailable:x}))}),e.jsx(se,{htmlFor:"acAvailable",children:"AC Available"})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ds,{id:"gpsEnabled",checked:i.gpsEnabled,onCheckedChange:x=>l(b=>({...b,gpsEnabled:x}))}),e.jsx(se,{htmlFor:"gpsEnabled",children:"GPS Enabled"})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ds,{id:"insuranceValid",checked:i.insuranceValid,onCheckedChange:x=>l(b=>({...b,insuranceValid:x}))}),e.jsx(se,{htmlFor:"insuranceValid",children:"Insurance Valid"})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ds,{id:"pucValid",checked:i.pucValid,onCheckedChange:x=>l(b=>({...b,pucValid:x}))}),e.jsx(se,{htmlFor:"pucValid",children:"PUC Valid"})]})]})]}),e.jsx(kr,{}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("h3",{className:"text-lg font-medium",children:"Legal Documents"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs("div",{children:[e.jsx(se,{htmlFor:"rcNumber",children:"RC Number *"}),e.jsx($,{id:"rcNumber",value:i.rcNumber,onChange:x=>l(b=>({...b,rcNumber:x.target.value})),required:!0})]}),e.jsxs("div",{children:[e.jsx(se,{htmlFor:"insuranceNumber",children:"Insurance Number *"}),e.jsx($,{id:"insuranceNumber",value:i.insuranceNumber,onChange:x=>l(b=>({...b,insuranceNumber:x.target.value})),required:!0})]}),e.jsxs("div",{children:[e.jsx(se,{htmlFor:"driverLicenseNumber",children:"Driver License Number *"}),e.jsx($,{id:"driverLicenseNumber",value:i.driverLicenseNumber,onChange:x=>l(b=>({...b,driverLicenseNumber:x.target.value})),required:!0})]})]})]}),e.jsx(kr,{}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("h3",{className:"text-lg font-medium",children:"Pricing"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs("div",{children:[e.jsx(se,{htmlFor:"baseFarePerKm",children:"Base Fare (/km) *"}),e.jsx($,{id:"baseFarePerKm",type:"number",step:"0.01",value:i.baseFarePerKm,onChange:x=>l(b=>({...b,baseFarePerKm:parseFloat(x.target.value)||0})),min:"1",required:!0})]}),e.jsxs("div",{children:[e.jsx(se,{htmlFor:"baseWaitingCharge",children:"Waiting Charge (/hr) *"}),e.jsx($,{id:"baseWaitingCharge",type:"number",step:"0.01",value:i.baseWaitingCharge,onChange:x=>l(b=>({...b,baseWaitingCharge:parseFloat(x.target.value)||0})),min:"1",required:!0})]}),e.jsxs("div",{children:[e.jsx(se,{htmlFor:"nightChargeMultiplier",children:"Night Charge Multiplier"}),e.jsx($,{id:"nightChargeMultiplier",type:"number",step:"0.1",value:i.nightChargeMultiplier,onChange:x=>l(b=>({...b,nightChargeMultiplier:parseFloat(x.target.value)||1})),min:"1",max:"3"})]})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ds,{id:"tollChargesApplicable",checked:i.tollChargesApplicable,onCheckedChange:x=>l(b=>({...b,tollChargesApplicable:x}))}),e.jsx(se,{htmlFor:"tollChargesApplicable",children:"Toll charges applicable"})]})]}),e.jsx(kr,{}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("h3",{className:"text-lg font-medium",children:"Location Details"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(se,{htmlFor:"district",children:"District *"}),e.jsxs(je,{value:i.district,onValueChange:x=>l(b=>({...b,district:x})),children:[e.jsx(ge,{children:e.jsx(be,{placeholder:"Select district"})}),e.jsx(ve,{children:v.map(x=>e.jsx(O,{value:x,children:x},x))})]})]}),e.jsxs("div",{children:[e.jsx(se,{htmlFor:"pincode",children:"Pincode *"}),e.jsx($,{id:"pincode",value:i.pincode,onChange:x=>l(b=>({...b,pincode:x.target.value})),placeholder:"600001",required:!0})]}),e.jsxs("div",{children:[e.jsx(se,{htmlFor:"currentLocation",children:"Current Location"}),e.jsx($,{id:"currentLocation",value:i.currentLocation,onChange:x=>l(b=>({...b,currentLocation:x.target.value})),placeholder:"T. Nagar, Chennai"})]}),e.jsxs("div",{children:[e.jsx(se,{htmlFor:"imageUrl",children:"Vehicle Image URL"}),e.jsx($,{id:"imageUrl",type:"url",value:i.imageUrl,onChange:x=>l(b=>({...b,imageUrl:x.target.value})),placeholder:"https://example.com/vehicle-image.jpg"})]})]}),e.jsxs("div",{children:[e.jsx(se,{htmlFor:"availableAreas",children:"Available Areas"}),e.jsx(at,{id:"availableAreas",value:i.availableAreas,onChange:x=>l(b=>({...b,availableAreas:x.target.value})),placeholder:"List areas where your vehicle is available for service..."})]})]}),e.jsx(kr,{}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx(T,{type:"button",variant:"outline",onClick:()=>{s(!1),a(null),m()},children:"Cancel"}),e.jsx(T,{type:"submit",disabled:d.isPending||u.isPending,children:d.isPending||u.isPending?n?"Updating...":"Adding...":n?"Update Vehicle":"Add Vehicle"})]})]})})]})})]})}const z6e=["Ariyalur","Chengalpattu","Chennai","Coimbatore","Cuddalore","Dharmapuri","Dindigul","Erode","Kallakurichi","Kanchipuram","Kanyakumari","Karur","Krishnagiri","Madurai","Mayiladuthurai","Nagapattinam","Namakkal","Nilgiris","Perambalur","Pudukkottai","Ramanathapuram","Ranipet","Salem","Sivaganga","Tenkasi","Thanjavur","Theni","Thoothukudi","Tiruchirappalli","Tirunelveli","Tirupathur","Tiruppur","Tiruvallur","Tiruvannamalai","Tiruvarur","Vellore","Villupuram","Virudhunagar"];function K6e(){const[t,r]=j.useState({district:"",taluk:"",pincode:""}),[s,n]=j.useState(!1),[a,i]=j.useState(null),[l,o]=j.useState(null),[c,d]=j.useState({pickupAddress:"",deliveryAddress:"",packageDetails:"",weight:"",distance:"",scheduledTime:"",notes:""}),{toast:u}=Be(),{data:m=[],isLoading:h}=fe({queryKey:["/api/delivery/categories"]}),{data:g=[],isLoading:f}=fe({queryKey:["/api/delivery/agents",t.district,t.taluk,t.pincode],queryFn:()=>{const S=new URLSearchParams;return t.district&&S.append("district",t.district),t.taluk&&S.append("taluk",t.taluk),t.pincode&&S.append("pincode",t.pincode),fetch(`/api/delivery/agents?${S.toString()}`).then(A=>A.json())},enabled:!!t.district}),{data:p=[],isLoading:y}=fe({queryKey:["/api/delivery/orders"]}),v=Se({mutationFn:async S=>{const k=await(await le("POST","/api/delivery/orders",S)).json(),I={serviceType:"delivery",amount:S.totalAmount,paymentMethod:"razorpay",serviceData:{pickup:S.pickupAddress,dropoff:S.deliveryAddress,packageDetails:S.packageDetails,weight:S.weight,distance:S.distance,scheduledTime:S.scheduledTime,notes:S.notes,agentId:S.agentId,categoryId:S.categoryId,orderId:k.id}},K=await(await le("POST","/api/service-requests",I)).json();return{order:k,serviceRequest:K}},onSuccess:S=>{pe.invalidateQueries({queryKey:["/api/delivery/orders"]}),pe.invalidateQueries({queryKey:["/api/service-requests/my-requests"]}),n(!1),x(),u({title:"Success",description:`Delivery order created successfully! Service request ${S.serviceRequest.srNumber} has been generated.`})},onError:()=>{u({title:"Error",description:"Failed to create delivery order",variant:"destructive"})}}),x=()=>{d({pickupAddress:"",deliveryAddress:"",packageDetails:"",weight:"",distance:"",scheduledTime:"",notes:""}),i(null),o(null)},b=()=>{if(!t.district){u({title:"Validation Error",description:"Please select a district to search for agents",variant:"destructive"});return}},N=(S,A)=>{i(S),o(A),n(!0)},w=()=>{if(!l)return 0;const S=parseFloat(c.weight)||0,A=parseFloat(c.distance)||0;return l.basePrice+l.pricePerKm*A+l.pricePerKg*S},C=S=>{if(S.preventDefault(),!a||!l){u({title:"Error",description:"Agent and category must be selected",variant:"destructive"});return}if(!c.pickupAddress||!c.deliveryAddress||!c.packageDetails){u({title:"Validation Error",description:"Pickup address, delivery address, and package details are required",variant:"destructive"});return}const A={agentId:a.id,categoryId:l.id,pickupAddress:c.pickupAddress,deliveryAddress:c.deliveryAddress,packageDetails:c.packageDetails,weight:parseFloat(c.weight)||0,distance:parseFloat(c.distance)||0,baseAmount:l.basePrice,totalAmount:w(),scheduledTime:c.scheduledTime,notes:c.notes};v.mutate(A)},P=S=>{switch(S){case"delivered":return"default";case"in_transit":return"default";case"picked_up":return"secondary";case"assigned":return"secondary";case"cancelled":return"destructive";default:return"outline"}};return e.jsxs("div",{className:"container mx-auto p-6",children:[e.jsxs("div",{className:"mb-6",children:[e.jsx("h1",{className:"text-3xl font-bold",children:"Delivery Services"}),e.jsx("p",{className:"text-muted-foreground",children:"Find delivery agents in your area and place orders"})]}),e.jsxs(E,{className:"mb-6",children:[e.jsxs(Y,{children:[e.jsxs(X,{className:"flex items-center",children:[e.jsx(ft,{className:"mr-2 h-5 w-5"}),"Search by Location"]}),e.jsx(he,{children:"Enter your location to find available delivery agents"})]}),e.jsx(D,{children:e.jsxs("div",{className:"grid gap-4 md:grid-cols-4",children:[e.jsxs("div",{children:[e.jsx(se,{htmlFor:"district",children:"District *"}),e.jsxs("select",{id:"district",value:t.district,onChange:S=>r({...t,district:S.target.value}),className:"flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background focus:border-ring focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",children:[e.jsx("option",{value:"",children:"Select District"}),z6e.map(S=>e.jsx("option",{value:S,children:S},S))]})]}),e.jsxs("div",{children:[e.jsx(se,{htmlFor:"taluk",children:"Taluk"}),e.jsx($,{id:"taluk",value:t.taluk,onChange:S=>r({...t,taluk:S.target.value}),placeholder:"Enter taluk (optional)"})]}),e.jsxs("div",{children:[e.jsx(se,{htmlFor:"pincode",children:"Pincode"}),e.jsx($,{id:"pincode",value:t.pincode,onChange:S=>r({...t,pincode:S.target.value}),placeholder:"6-digit pincode (optional)"})]}),e.jsx("div",{className:"flex items-end",children:e.jsx(T,{onClick:b,className:"w-full",children:"Search Agents"})})]})})]}),e.jsxs("div",{className:"grid gap-6 lg:grid-cols-3",children:[e.jsx("div",{className:"lg:col-span-1",children:e.jsxs(E,{children:[e.jsx(Y,{children:e.jsxs(X,{className:"flex items-center",children:[e.jsx(pt,{className:"mr-2 h-5 w-5"}),"Delivery Categories"]})}),e.jsx(D,{children:h?e.jsx("div",{className:"text-center py-4",children:e.jsx("div",{className:"animate-spin rounded-full h-6 w-6 border-b-2 border-primary mx-auto"})}):m.length===0?e.jsx("p",{className:"text-muted-foreground text-center py-4",children:"No categories available"}):e.jsx("div",{className:"space-y-3",children:m.map(S=>e.jsx(T,{variant:(l==null?void 0:l.id)===S.id?"default":"outline",className:"w-full h-auto p-4 text-left justify-start",onClick:()=>o(S),children:e.jsxs("div",{className:"w-full",children:[e.jsx("h4",{className:"font-medium text-left",children:S.name}),e.jsx("p",{className:"text-sm text-muted-foreground text-left",children:S.description}),e.jsxs("div",{className:"mt-2 space-y-1 text-xs",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"Base Price:"}),e.jsxs("span",{className:"font-medium",children:["",S.basePrice]})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"Per KM:"}),e.jsxs("span",{className:"font-medium",children:["",S.pricePerKm]})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"Per KG:"}),e.jsxs("span",{className:"font-medium",children:["",S.pricePerKg]})]})]})]})},S.id))})})]})}),e.jsx("div",{className:"lg:col-span-2",children:e.jsxs(E,{children:[e.jsx(Y,{children:e.jsxs(X,{className:"flex items-center",children:[e.jsx(_n,{className:"mr-2 h-5 w-5"}),"Available Delivery Agents",t.district&&e.jsxs("span",{className:"ml-2 text-sm font-normal text-muted-foreground",children:["in ",t.district]})]})}),e.jsx(D,{children:t.district?f?e.jsx("div",{className:"text-center py-8",children:e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary mx-auto"})}):g.length===0?e.jsxs("div",{className:"text-center py-8",children:[e.jsx(_n,{className:"mx-auto h-12 w-12 text-muted-foreground mb-4"}),e.jsx("h3",{className:"text-lg font-semibold mb-2",children:"No agents available"}),e.jsxs("p",{className:"text-muted-foreground",children:["No delivery agents found in ",t.district,t.taluk&&`, ${t.taluk}`,t.pincode&&` - ${t.pincode}`]})]}):e.jsx("div",{className:"space-y-4",children:g.map(S=>e.jsxs("div",{className:"border rounded-lg p-4",children:[e.jsxs("div",{className:"flex justify-between items-start mb-3",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold",children:S.name}),e.jsxs("div",{className:"flex items-center mt-1",children:[e.jsx(Oo,{className:"h-3 w-3 mr-1 text-muted-foreground"}),e.jsx("span",{className:"text-sm text-muted-foreground",children:S.phone})]})]}),e.jsxs("div",{className:"text-right",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx(vf,{className:"h-4 w-4 text-yellow-400 mr-1"}),e.jsxs("span",{className:"font-medium",children:[S.rating,"/5"]})]}),e.jsxs("div",{className:"flex gap-1 mt-1",children:[e.jsx(ae,{variant:S.isOnline?"default":"secondary",className:"text-xs",children:S.isOnline?"Online":"Offline"}),e.jsx(ae,{variant:S.isAvailable?"default":"destructive",className:"text-xs",children:S.isAvailable?"Available":"Busy"})]})]})]}),e.jsxs("div",{className:"text-sm text-muted-foreground mb-3",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx(gt,{className:"h-3 w-3 mr-1"}),"Available: ",S.availableStartTime," - ",S.availableEndTime]}),e.jsxs("div",{className:"flex items-center mt-1",children:[e.jsx(ft,{className:"h-3 w-3 mr-1"}),S.taluk,", ",S.district," - ",S.pincode]})]}),e.jsx("div",{className:"flex gap-2",children:m.map(A=>e.jsxs(T,{size:"sm",variant:"outline",onClick:()=>N(S,A),disabled:!S.isOnline||!S.isAvailable,children:[e.jsx(Rt,{className:"h-3 w-3 mr-1"}),A.name]},A.id))})]},S.id))}):e.jsxs("div",{className:"text-center py-8",children:[e.jsx(ft,{className:"mx-auto h-12 w-12 text-muted-foreground mb-4"}),e.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Select your location"}),e.jsx("p",{className:"text-muted-foreground",children:"Choose a district to see available delivery agents"})]})})]})})]}),e.jsxs(E,{className:"mt-6",children:[e.jsx(Y,{children:e.jsx(X,{children:"My Delivery Orders"})}),e.jsx(D,{children:y?e.jsx("div",{className:"text-center py-4",children:e.jsx("div",{className:"animate-spin rounded-full h-6 w-6 border-b-2 border-primary mx-auto"})}):p.length===0?e.jsxs("div",{className:"text-center py-8",children:[e.jsx(pt,{className:"mx-auto h-12 w-12 text-muted-foreground mb-4"}),e.jsx("h3",{className:"text-lg font-semibold mb-2",children:"No orders yet"}),e.jsx("p",{className:"text-muted-foreground",children:"Your delivery orders will appear here"})]}):e.jsx("div",{className:"space-y-4",children:p.map(S=>e.jsx("div",{className:"border rounded-lg p-4",children:e.jsxs("div",{className:"flex justify-between items-start",children:[e.jsxs("div",{children:[e.jsxs("h4",{className:"font-semibold",children:["Order #",S.orderNumber]}),e.jsx("p",{className:"text-sm text-muted-foreground",children:S.packageDetails}),e.jsxs("div",{className:"text-xs text-muted-foreground mt-1",children:[e.jsxs("div",{children:["From: ",S.pickupAddress]}),e.jsxs("div",{children:["To: ",S.deliveryAddress]})]})]}),e.jsxs("div",{className:"text-right",children:[e.jsx(ae,{variant:P(S.status),children:S.status.replace("_"," ").toUpperCase()}),e.jsxs("div",{className:"text-sm font-medium mt-1",children:["",S.totalAmount]}),e.jsx("div",{className:"text-xs text-muted-foreground",children:new Date(S.createdAt).toLocaleDateString()})]})]})},S.id))})})]}),e.jsx(kt,{open:s,onOpenChange:n,children:e.jsxs(St,{className:"max-w-2xl",children:[e.jsxs(Ct,{children:[e.jsx(Pt,{children:"Create Delivery Order"}),e.jsx(Yt,{children:a&&l&&e.jsxs(e.Fragment,{children:["Agent: ",a.name," | Category: ",l.name]})})]}),e.jsxs("form",{onSubmit:C,className:"space-y-4",children:[e.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[e.jsxs("div",{children:[e.jsx(se,{htmlFor:"pickupAddress",children:"Pickup Address *"}),e.jsx(at,{id:"pickupAddress",value:c.pickupAddress,onChange:S=>d({...c,pickupAddress:S.target.value}),placeholder:"Complete pickup address",rows:3,required:!0})]}),e.jsxs("div",{children:[e.jsx(se,{htmlFor:"deliveryAddress",children:"Delivery Address *"}),e.jsx(at,{id:"deliveryAddress",value:c.deliveryAddress,onChange:S=>d({...c,deliveryAddress:S.target.value}),placeholder:"Complete delivery address",rows:3,required:!0})]})]}),e.jsxs("div",{children:[e.jsx(se,{htmlFor:"packageDetails",children:"Package Details *"}),e.jsx(at,{id:"packageDetails",value:c.packageDetails,onChange:S=>d({...c,packageDetails:S.target.value}),placeholder:"Describe what you're sending",rows:2,required:!0})]}),e.jsxs("div",{className:"grid gap-4 md:grid-cols-3",children:[e.jsxs("div",{children:[e.jsx(se,{htmlFor:"weight",children:"Weight (KG)"}),e.jsx($,{id:"weight",type:"number",step:"0.1",value:c.weight,onChange:S=>d({...c,weight:S.target.value}),placeholder:"Package weight"})]}),e.jsxs("div",{children:[e.jsx(se,{htmlFor:"distance",children:"Distance (KM)"}),e.jsx($,{id:"distance",type:"number",step:"0.1",value:c.distance,onChange:S=>d({...c,distance:S.target.value}),placeholder:"Delivery distance"})]}),e.jsxs("div",{children:[e.jsx(se,{htmlFor:"scheduledTime",children:"Scheduled Time"}),e.jsx($,{id:"scheduledTime",type:"datetime-local",value:c.scheduledTime,onChange:S=>d({...c,scheduledTime:S.target.value})})]})]}),e.jsxs("div",{children:[e.jsx(se,{htmlFor:"notes",children:"Additional Notes"}),e.jsx(at,{id:"notes",value:c.notes,onChange:S=>d({...c,notes:S.target.value}),placeholder:"Any special instructions",rows:2})]}),l&&e.jsxs("div",{className:"border rounded-lg p-4 bg-muted/50",children:[e.jsx("h4",{className:"font-medium mb-2",children:"Cost Breakdown"}),e.jsxs("div",{className:"space-y-1 text-sm",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"Base Price:"}),e.jsxs("span",{children:["",l.basePrice]})]}),c.distance&&e.jsxs("div",{className:"flex justify-between",children:[e.jsxs("span",{children:["Distance (",c.distance," KM @ ",l.pricePerKm,"/KM):"]}),e.jsxs("span",{children:["",(parseFloat(c.distance)*l.pricePerKm).toFixed(2)]})]}),c.weight&&e.jsxs("div",{className:"flex justify-between",children:[e.jsxs("span",{children:["Weight (",c.weight," KG @ ",l.pricePerKg,"/KG):"]}),e.jsxs("span",{children:["",(parseFloat(c.weight)*l.pricePerKg).toFixed(2)]})]}),e.jsxs("div",{className:"flex justify-between font-semibold border-t pt-1",children:[e.jsx("span",{children:"Total Amount:"}),e.jsxs("span",{children:["",w().toFixed(2)]})]})]})]}),e.jsxs("div",{className:"flex justify-end gap-2",children:[e.jsx(T,{type:"button",variant:"outline",onClick:()=>n(!1),children:"Cancel"}),e.jsx(T,{type:"submit",disabled:v.isPending,children:v.isPending?"Creating...":"Create Order"})]})]})]})})]})}const zD=["Ariyalur","Chengalpattu","Chennai","Coimbatore","Cuddalore","Dharmapuri","Dindigul","Erode","Kallakurichi","Kanchipuram","Kanyakumari","Karur","Krishnagiri","Madurai","Mayiladuthurai","Nagapattinam","Namakkal","Nilgiris","Perambalur","Pudukkottai","Ramanathapuram","Ranipet","Salem","Sivaganga","Tenkasi","Thanjavur","Theni","Thoothukudi","Tiruchirappalli","Tirunelveli","Tirupathur","Tiruppur","Tiruvallur","Tiruvannamalai","Tiruvarur","Vellore","Villupuram","Virudhunagar"];function H6e(){var P,S,A;const[t,r]=j.useState({name:"",phone:"",email:"",address:"",district:"",taluk:"",pincode:"",categoryId:"",availableStartTime:"09:00",availableEndTime:"18:00",operationAreas:{districts:[],taluks:[],pincodes:[]}}),[s,n]=j.useState(""),[a,i]=j.useState(""),[l,o]=j.useState(""),{toast:c}=Be(),{data:d,isLoading:u}=fe({queryKey:["/api/provider/delivery/status"]}),{data:m}=fe({queryKey:["/api/delivery/categories"]}),h=Se({mutationFn:async k=>(await le("POST","/api/provider/delivery/register",k)).json(),onSuccess:()=>{pe.invalidateQueries({queryKey:["/api/provider/delivery/status"]}),c({title:"Success",description:"Delivery agent registration submitted successfully"})},onError:k=>{c({title:"Error",description:k.message||"Failed to register as delivery agent",variant:"destructive"})}}),g=Se({mutationFn:async k=>(await le("PUT","/api/provider/delivery/status",k)).json(),onSuccess:()=>{pe.invalidateQueries({queryKey:["/api/provider/delivery/status"]}),c({title:"Success",description:"Status updated successfully"})},onError:()=>{c({title:"Error",description:"Failed to update status",variant:"destructive"})}}),f=k=>{if(k.preventDefault(),!t.name||!t.phone||!t.district||!t.categoryId){c({title:"Validation Error",description:"Name, phone, district, and delivery category are required",variant:"destructive"});return}if(t.operationAreas.districts.length===0){c({title:"Validation Error",description:"Please add at least one operation district",variant:"destructive"});return}h.mutate(t)},p=()=>{s&&!t.operationAreas.districts.includes(s)&&(r({...t,operationAreas:{...t.operationAreas,districts:[...t.operationAreas.districts,s]}}),n(""))},y=k=>{r({...t,operationAreas:{...t.operationAreas,districts:t.operationAreas.districts.filter(I=>I!==k)}})},v=()=>{a&&!t.operationAreas.taluks.includes(a)&&(r({...t,operationAreas:{...t.operationAreas,taluks:[...t.operationAreas.taluks,a]}}),i(""))},x=k=>{r({...t,operationAreas:{...t.operationAreas,taluks:t.operationAreas.taluks.filter(I=>I!==k)}})},b=()=>{l&&!t.operationAreas.pincodes.includes(l)&&(r({...t,operationAreas:{...t.operationAreas,pincodes:[...t.operationAreas.pincodes,l]}}),o(""))},N=k=>{r({...t,operationAreas:{...t.operationAreas,pincodes:t.operationAreas.pincodes.filter(I=>I!==k)}})},w=()=>{d&&d.adminApproved&&g.mutate({isOnline:!d.isOnline,isAvailable:d.isAvailable})},C=()=>{d&&d.adminApproved&&g.mutate({isOnline:d.isOnline,isAvailable:!d.isAvailable})};return u?e.jsx("div",{className:"flex items-center justify-center h-64",children:e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"})}):d?e.jsxs("div",{className:"container mx-auto p-6",children:[e.jsxs("div",{className:"mb-6",children:[e.jsx("h1",{className:"text-3xl font-bold",children:"Delivery Agent Dashboard"}),e.jsx("p",{className:"text-muted-foreground",children:"Manage your delivery agent profile and status"})]}),e.jsxs("div",{className:"grid gap-6 md:grid-cols-2",children:[e.jsxs(E,{children:[e.jsx(Y,{children:e.jsxs(X,{className:"flex items-center",children:[e.jsx(_n,{className:"mr-2 h-5 w-5"}),"Registration Status"]})}),e.jsx(D,{children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{children:"Verification Status:"}),e.jsxs(ae,{variant:d.verificationStatus==="verified"?"default":d.verificationStatus==="rejected"?"destructive":"secondary",children:[d.verificationStatus==="verified"&&e.jsx(Ot,{className:"mr-1 h-3 w-3"}),d.verificationStatus==="rejected"&&e.jsx(nr,{className:"mr-1 h-3 w-3"}),d.verificationStatus==="pending"&&e.jsx(gt,{className:"mr-1 h-3 w-3"}),d.verificationStatus.charAt(0).toUpperCase()+d.verificationStatus.slice(1)]})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{children:"Admin Approved:"}),e.jsx(ae,{variant:d.adminApproved?"default":"secondary",children:d.adminApproved?"Yes":"No"})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{children:"Agent Name:"}),e.jsx("span",{className:"font-medium",children:d.name})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{children:"Rating:"}),e.jsxs("span",{className:"font-medium",children:[" ",d.rating,"/5"]})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{children:"Registered:"}),e.jsx("span",{className:"text-sm text-muted-foreground",children:new Date(d.createdAt).toLocaleDateString()})]})]})})]}),e.jsxs(E,{children:[e.jsxs(Y,{children:[e.jsxs(X,{className:"flex items-center",children:[e.jsx(gt,{className:"mr-2 h-5 w-5"}),"Availability Status"]}),e.jsx(he,{children:d.adminApproved?"Control your online and availability status":"Status controls will be enabled after admin approval"})]}),e.jsx(D,{children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"font-medium",children:"Online Status"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Shows if you're currently active"})]}),e.jsx(T,{variant:d.isOnline?"default":"outline",size:"sm",onClick:w,disabled:!d.adminApproved||g.isPending,children:d.isOnline?"Online":"Offline"})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"font-medium",children:"Available for Orders"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Ready to accept new delivery orders"})]}),e.jsx(T,{variant:d.isAvailable?"default":"outline",size:"sm",onClick:C,disabled:!d.adminApproved||g.isPending,children:d.isAvailable?"Available":"Busy"})]}),e.jsx("div",{className:"pt-4 border-t",children:e.jsxs("p",{className:"text-sm text-muted-foreground",children:["Available Hours: ",d.availableStartTime," - ",d.availableEndTime]})})]})})]})]}),e.jsxs(E,{className:"mt-6",children:[e.jsx(Y,{children:e.jsxs(X,{className:"flex items-center",children:[e.jsx(ft,{className:"mr-2 h-5 w-5"}),"Operation Areas"]})}),e.jsx(D,{children:e.jsxs("div",{className:"grid gap-4 md:grid-cols-3",children:[((P=d.operationAreas)==null?void 0:P.districts)&&e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium mb-2",children:"Districts"}),e.jsx("div",{className:"flex flex-wrap gap-1",children:d.operationAreas.districts.map((k,I)=>e.jsx(ae,{variant:"outline",children:k},I))})]}),((S=d.operationAreas)==null?void 0:S.taluks)&&e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium mb-2",children:"Taluks"}),e.jsx("div",{className:"flex flex-wrap gap-1",children:d.operationAreas.taluks.map((k,I)=>e.jsx(ae,{variant:"outline",children:k},I))})]}),((A=d.operationAreas)==null?void 0:A.pincodes)&&e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium mb-2",children:"Pincodes"}),e.jsx("div",{className:"flex flex-wrap gap-1",children:d.operationAreas.pincodes.map((k,I)=>e.jsx(ae,{variant:"outline",children:k},I))})]})]})})]})]}):e.jsxs("div",{className:"container mx-auto p-6",children:[e.jsxs("div",{className:"mb-6",children:[e.jsx("h1",{className:"text-3xl font-bold",children:"Register as Delivery Agent"}),e.jsx("p",{className:"text-muted-foreground",children:"Join our delivery network and start earning"})]}),e.jsxs(E,{className:"max-w-4xl mx-auto",children:[e.jsxs(Y,{children:[e.jsx(X,{children:"Delivery Agent Registration"}),e.jsx(he,{children:"Please fill in your details to register as a delivery agent. Your application will be reviewed by our admin team."})]}),e.jsx(D,{children:e.jsxs("form",{onSubmit:f,className:"space-y-6",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsx("h3",{className:"text-lg font-semibold",children:"Basic Information"}),e.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[e.jsxs("div",{children:[e.jsx(se,{htmlFor:"name",children:"Full Name *"}),e.jsx($,{id:"name",value:t.name,onChange:k=>r({...t,name:k.target.value}),placeholder:"Your full name",required:!0})]}),e.jsxs("div",{children:[e.jsx(se,{htmlFor:"phone",children:"Phone Number *"}),e.jsx($,{id:"phone",value:t.phone,onChange:k=>r({...t,phone:k.target.value}),placeholder:"Your mobile number",required:!0})]}),e.jsxs("div",{children:[e.jsx(se,{htmlFor:"email",children:"Email (Optional)"}),e.jsx($,{id:"email",type:"email",value:t.email,onChange:k=>r({...t,email:k.target.value}),placeholder:"your.email@example.com"})]}),e.jsxs("div",{children:[e.jsx(se,{htmlFor:"categoryId",children:"Delivery Vehicle Type *"}),e.jsxs("select",{id:"categoryId",value:t.categoryId,onChange:k=>r({...t,categoryId:k.target.value}),className:"flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background focus:border-ring focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",required:!0,children:[e.jsx("option",{value:"",children:"Select Vehicle Type"}),m==null?void 0:m.map(k=>e.jsx("option",{value:k.id,children:k.name},k.id))]})]})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("h3",{className:"text-lg font-semibold",children:"Address Information"}),e.jsxs("div",{children:[e.jsx(se,{htmlFor:"address",children:"Full Address"}),e.jsx(at,{id:"address",value:t.address,onChange:k=>r({...t,address:k.target.value}),placeholder:"Your complete address",rows:3})]}),e.jsxs("div",{className:"grid gap-4 md:grid-cols-3",children:[e.jsxs("div",{children:[e.jsx(se,{htmlFor:"district",children:"District *"}),e.jsxs("select",{id:"district",value:t.district,onChange:k=>r({...t,district:k.target.value}),className:"flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background focus:border-ring focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",required:!0,children:[e.jsx("option",{value:"",children:"Select District"}),zD.map(k=>e.jsx("option",{value:k,children:k},k))]})]}),e.jsxs("div",{children:[e.jsx(se,{htmlFor:"taluk",children:"Taluk"}),e.jsx($,{id:"taluk",value:t.taluk,onChange:k=>r({...t,taluk:k.target.value}),placeholder:"Your taluk"})]}),e.jsxs("div",{children:[e.jsx(se,{htmlFor:"pincode",children:"Pincode"}),e.jsx($,{id:"pincode",value:t.pincode,onChange:k=>r({...t,pincode:k.target.value}),placeholder:"6-digit pincode"})]})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("h3",{className:"text-lg font-semibold",children:"Availability Hours"}),e.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[e.jsxs("div",{children:[e.jsx(se,{htmlFor:"startTime",children:"Available From"}),e.jsx($,{id:"startTime",type:"time",value:t.availableStartTime,onChange:k=>r({...t,availableStartTime:k.target.value})})]}),e.jsxs("div",{children:[e.jsx(se,{htmlFor:"endTime",children:"Available Until"}),e.jsx($,{id:"endTime",type:"time",value:t.availableEndTime,onChange:k=>r({...t,availableEndTime:k.target.value})})]})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("h3",{className:"text-lg font-semibold",children:"Operation Areas"}),e.jsxs("div",{children:[e.jsx(se,{children:"Service Districts *"}),e.jsxs("div",{className:"flex gap-2 mt-2",children:[e.jsxs("select",{value:s,onChange:k=>n(k.target.value),className:"flex h-10 flex-1 rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background focus:border-ring focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",children:[e.jsx("option",{value:"",children:"Select District"}),zD.map(k=>e.jsx("option",{value:k,children:k},k))]}),e.jsx(T,{type:"button",onClick:p,size:"sm",children:e.jsx(Rt,{className:"h-4 w-4"})})]}),e.jsx("div",{className:"flex flex-wrap gap-2 mt-2",children:t.operationAreas.districts.map((k,I)=>e.jsxs(ae,{variant:"secondary",className:"flex items-center gap-1",children:[k,e.jsx(ws,{className:"h-3 w-3 cursor-pointer",onClick:()=>y(k)})]},I))})]}),e.jsxs("div",{children:[e.jsx(se,{children:"Service Taluks (Optional)"}),e.jsxs("div",{className:"flex gap-2 mt-2",children:[e.jsx($,{value:a,onChange:k=>i(k.target.value),placeholder:"Enter taluk name",className:"flex-1"}),e.jsx(T,{type:"button",onClick:v,size:"sm",children:e.jsx(Rt,{className:"h-4 w-4"})})]}),e.jsx("div",{className:"flex flex-wrap gap-2 mt-2",children:t.operationAreas.taluks.map((k,I)=>e.jsxs(ae,{variant:"secondary",className:"flex items-center gap-1",children:[k,e.jsx(ws,{className:"h-3 w-3 cursor-pointer",onClick:()=>x(k)})]},I))})]}),e.jsxs("div",{children:[e.jsx(se,{children:"Service Pincodes (Optional)"}),e.jsxs("div",{className:"flex gap-2 mt-2",children:[e.jsx($,{value:l,onChange:k=>o(k.target.value),placeholder:"Enter 6-digit pincode",className:"flex-1"}),e.jsx(T,{type:"button",onClick:b,size:"sm",children:e.jsx(Rt,{className:"h-4 w-4"})})]}),e.jsx("div",{className:"flex flex-wrap gap-2 mt-2",children:t.operationAreas.pincodes.map((k,I)=>e.jsxs(ae,{variant:"secondary",className:"flex items-center gap-1",children:[k,e.jsx(ws,{className:"h-3 w-3 cursor-pointer",onClick:()=>N(k)})]},I))})]})]}),e.jsx("div",{className:"pt-6 border-t",children:e.jsx(T,{type:"submit",className:"w-full",disabled:h.isPending,children:h.isPending?"Submitting...":"Register as Delivery Agent"})})]})})]})]})}function W6e(){const[t,r]=j.useState(!1),[s,n]=j.useState(null),[a,i]=j.useState(!1),[l,o]=j.useState({name:"",description:"",basePrice:"",pricePerKm:"",pricePerKg:"",isActive:!0}),[c,d]=j.useState({name:"",description:"",basePrice:"",pricePerKm:"",pricePerKg:""}),{toast:u}=Be(),{data:m=[],isLoading:h}=fe({queryKey:["/api/delivery-categories"]}),g=Se({mutationFn:async C=>await(await le("POST","/api/delivery-categories",C)).json(),onSuccess:()=>{pe.invalidateQueries({queryKey:["/api/delivery-categories"]}),r(!1),y(),u({title:"Success",description:"Delivery category created successfully"})},onError:C=>{u({title:"Error",description:C.message,variant:"destructive"})}}),f=Se({mutationFn:async({id:C,data:P})=>await(await le("PUT",`/api/delivery-categories/${C}`,P)).json(),onSuccess:()=>{pe.invalidateQueries({queryKey:["/api/delivery-categories"]}),n(null),y(),u({title:"Success",description:"Delivery category updated successfully"})},onError:C=>{u({title:"Error",description:C.message,variant:"destructive"})}}),p=Se({mutationFn:async C=>{await le("DELETE",`/api/delivery-categories/${C}`)},onSuccess:()=>{pe.invalidateQueries({queryKey:["/api/delivery-categories"]}),u({title:"Success",description:"Delivery category deleted successfully"})},onError:C=>{u({title:"Error",description:C.message,variant:"destructive"})}}),y=()=>{o({name:"",description:"",basePrice:"",pricePerKm:"",pricePerKg:"",isActive:!0}),d({name:"",description:"",basePrice:"",pricePerKm:"",pricePerKg:""})},v=()=>{const C={name:"",description:"",basePrice:"",pricePerKm:"",pricePerKg:""};return l.name.trim()||(C.name="Category name is required"),l.description.trim()||(C.description="Description is required"),(!l.basePrice||parseFloat(l.basePrice)<0)&&(C.basePrice="Valid base price is required"),(!l.pricePerKm||parseFloat(l.pricePerKm)<0)&&(C.pricePerKm="Valid price per KM is required"),(!l.pricePerKg||parseFloat(l.pricePerKg)<0)&&(C.pricePerKg="Valid price per KG is required"),d(C),Object.values(C).every(P=>P==="")},x=C=>{if(C.preventDefault(),!v())return;const P={name:l.name.trim(),description:l.description.trim(),basePrice:parseFloat(l.basePrice),pricePerKm:parseFloat(l.pricePerKm),pricePerKg:parseFloat(l.pricePerKg),isActive:l.isActive};s?f.mutate({id:s.id,data:P}):g.mutate(P)},b=C=>{n(C),o({name:C.name,description:C.description,basePrice:C.basePrice.toString(),pricePerKm:C.pricePerKm.toString(),pricePerKg:C.pricePerKg.toString(),isActive:C.isActive}),d({name:"",description:"",basePrice:"",pricePerKm:"",pricePerKg:""})},N=()=>{n(null),y()};if(h)return e.jsx("div",{className:"flex items-center justify-center h-64",children:e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"})});const w=a?m:m.filter(C=>C.isActive);return e.jsxs("div",{className:"container mx-auto p-6",children:[e.jsxs("div",{className:"flex justify-between items-center mb-6",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold gradient-text",children:"Delivery Categories"}),e.jsx("p",{className:"text-muted-foreground",children:"Manage delivery service categories and pricing"})]}),e.jsxs("div",{className:"flex gap-3",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ds,{id:"show-inactive",checked:a,onCheckedChange:i}),e.jsxs(se,{htmlFor:"show-inactive",className:"text-sm",children:[a?e.jsx(fr,{className:"h-4 w-4"}):e.jsx(_w,{className:"h-4 w-4"}),"Show Inactive"]})]}),e.jsxs(kt,{open:t,onOpenChange:r,children:[e.jsx(ls,{asChild:!0,children:e.jsxs(T,{children:[e.jsx(Rt,{className:"mr-2 h-4 w-4"}),"Add Category"]})}),e.jsxs(St,{className:"max-w-2xl",children:[e.jsxs(Ct,{children:[e.jsxs(Pt,{className:"flex items-center gap-2",children:[e.jsx(pt,{className:"h-5 w-5"}),"Create Delivery Category"]}),e.jsx(Yt,{children:"Add a new delivery category with pricing structure and service details."})]}),e.jsxs("form",{onSubmit:x,className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 gap-4",children:[e.jsxs("div",{children:[e.jsxs(se,{htmlFor:"name",className:"flex items-center gap-2",children:[e.jsx(pt,{className:"h-4 w-4"}),"Category Name *"]}),e.jsx($,{id:"name",value:l.name,onChange:C=>o({...l,name:C.target.value}),placeholder:"e.g., Express Delivery, Same Day Delivery",className:c.name?"border-red-500":""}),c.name&&e.jsx("p",{className:"text-sm text-red-500 mt-1",children:c.name})]}),e.jsxs("div",{children:[e.jsx(se,{htmlFor:"description",children:"Description *"}),e.jsx(at,{id:"description",value:l.description,onChange:C=>o({...l,description:C.target.value}),placeholder:"Detailed description of the delivery service category",rows:3,className:c.description?"border-red-500":""}),c.description&&e.jsx("p",{className:"text-sm text-red-500 mt-1",children:c.description})]})]}),e.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[e.jsxs("div",{children:[e.jsxs(se,{htmlFor:"basePrice",className:"flex items-center gap-2",children:[e.jsx(qs,{className:"h-4 w-4"}),"Base Price () *"]}),e.jsx($,{id:"basePrice",type:"number",step:"0.01",min:"0",value:l.basePrice,onChange:C=>o({...l,basePrice:C.target.value}),placeholder:"0.00",className:c.basePrice?"border-red-500":""}),c.basePrice&&e.jsx("p",{className:"text-sm text-red-500 mt-1",children:c.basePrice})]}),e.jsxs("div",{children:[e.jsxs(se,{htmlFor:"pricePerKm",className:"flex items-center gap-2",children:[e.jsx(_n,{className:"h-4 w-4"}),"Price per KM () *"]}),e.jsx($,{id:"pricePerKm",type:"number",step:"0.01",min:"0",value:l.pricePerKm,onChange:C=>o({...l,pricePerKm:C.target.value}),placeholder:"0.00",className:c.pricePerKm?"border-red-500":""}),c.pricePerKm&&e.jsx("p",{className:"text-sm text-red-500 mt-1",children:c.pricePerKm})]}),e.jsxs("div",{children:[e.jsxs(se,{htmlFor:"pricePerKg",className:"flex items-center gap-2",children:[e.jsx(pt,{className:"h-4 w-4"}),"Price per KG () *"]}),e.jsx($,{id:"pricePerKg",type:"number",step:"0.01",min:"0",value:l.pricePerKg,onChange:C=>o({...l,pricePerKg:C.target.value}),placeholder:"0.00",className:c.pricePerKg?"border-red-500":""}),c.pricePerKg&&e.jsx("p",{className:"text-sm text-red-500 mt-1",children:c.pricePerKg})]})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ds,{id:"isActive",checked:l.isActive,onCheckedChange:C=>o({...l,isActive:C})}),e.jsx(se,{htmlFor:"isActive",children:"Active Category"})]}),e.jsxs(la,{children:[e.jsx(vi,{className:"h-4 w-4"}),e.jsx(oa,{children:"The final delivery price will be calculated as: Base Price + (Distance  Price per KM) + (Weight  Price per KG)"})]}),e.jsxs("div",{className:"flex justify-end gap-2",children:[e.jsx(T,{type:"button",variant:"outline",onClick:()=>r(!1),children:"Cancel"}),e.jsx(T,{type:"submit",disabled:g.isPending,className:"bg-gradient-to-r from-blue-600 to-purple-600 hover:from-blue-700 hover:to-purple-700",children:g.isPending?"Creating...":"Create Category"})]})]})]})]})]})]}),w.length===0?e.jsx(E,{children:e.jsxs(D,{className:"text-center py-8",children:[e.jsx(pt,{className:"mx-auto h-12 w-12 text-muted-foreground mb-4"}),e.jsx("h3",{className:"text-lg font-semibold mb-2",children:"No delivery categories"}),e.jsx("p",{className:"text-muted-foreground mb-4",children:"Create your first delivery category to get started."}),e.jsxs(T,{onClick:()=>r(!0),children:[e.jsx(Rt,{className:"mr-2 h-4 w-4"}),"Add Category"]})]})}):e.jsx("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-3",children:w.map(C=>e.jsxs(E,{children:[e.jsx(Y,{className:"pb-3",children:e.jsxs("div",{className:"flex justify-between items-start",children:[e.jsxs("div",{children:[e.jsx(X,{className:"text-lg",children:C.name}),e.jsx(he,{children:C.description})]}),e.jsx(ae,{variant:C.isActive?"default":"secondary",children:C.isActive?"Active":"Inactive"})]})}),e.jsxs(D,{children:[e.jsxs("div",{className:"space-y-2 mb-4",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-sm text-muted-foreground",children:"Base Price:"}),e.jsxs("span",{className:"font-medium",children:["",C.basePrice]})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-sm text-muted-foreground",children:"Per KM:"}),e.jsxs("span",{className:"font-medium",children:["",C.pricePerKm]})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-sm text-muted-foreground",children:"Per KG:"}),e.jsxs("span",{className:"font-medium",children:["",C.pricePerKg]})]})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs(T,{variant:"outline",size:"sm",onClick:()=>b(C),className:"flex-1",children:[e.jsx(Gr,{className:"mr-2 h-4 w-4"}),"Edit"]}),e.jsx(T,{variant:"outline",size:"sm",onClick:()=>p.mutate(C.id),disabled:p.isPending,className:"text-destructive hover:text-destructive",children:e.jsx(Er,{className:"h-4 w-4"})})]})]})]},C.id))}),e.jsx(kt,{open:!!s,onOpenChange:C=>!C&&N(),children:e.jsxs(St,{children:[e.jsxs(Ct,{children:[e.jsx(Pt,{children:"Edit Delivery Category"}),e.jsx(Yt,{children:"Update the delivery category information and pricing."})]}),e.jsxs("form",{onSubmit:x,className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx(se,{htmlFor:"edit-name",children:"Category Name"}),e.jsx($,{id:"edit-name",value:l.name,onChange:C=>o({...l,name:C.target.value}),placeholder:"e.g., Express Delivery",required:!0})]}),e.jsxs("div",{children:[e.jsx(se,{htmlFor:"edit-description",children:"Description"}),e.jsx($,{id:"edit-description",value:l.description,onChange:C=>o({...l,description:C.target.value}),placeholder:"Brief description of the category"})]}),e.jsxs("div",{children:[e.jsx(se,{htmlFor:"edit-basePrice",children:"Base Price ()"}),e.jsx($,{id:"edit-basePrice",type:"number",step:"0.01",value:l.basePrice,onChange:C=>o({...l,basePrice:C.target.value}),placeholder:"Base charge amount",required:!0})]}),e.jsxs("div",{children:[e.jsx(se,{htmlFor:"edit-pricePerKm",children:"Price per KM ()"}),e.jsx($,{id:"edit-pricePerKm",type:"number",step:"0.01",value:l.pricePerKm,onChange:C=>o({...l,pricePerKm:C.target.value}),placeholder:"Additional charge per kilometer"})]}),e.jsxs("div",{children:[e.jsx(se,{htmlFor:"edit-pricePerKg",children:"Price per KG ()"}),e.jsx($,{id:"edit-pricePerKg",type:"number",step:"0.01",value:l.pricePerKg,onChange:C=>o({...l,pricePerKg:C.target.value}),placeholder:"Additional charge per kilogram"})]}),e.jsxs("div",{className:"flex justify-end gap-2",children:[e.jsx(T,{type:"button",variant:"outline",onClick:N,children:"Cancel"}),e.jsx(T,{type:"submit",disabled:f.isPending,children:f.isPending?"Updating...":"Update Category"})]})]})]})})]})}function G6e(){const{toast:t}=Be(),{data:r=[],isLoading:s}=fe({queryKey:["/api/admin/delivery/agents/pending"]}),n=Se({mutationFn:async({id:l,approved:o})=>(await le("PUT",`/api/admin/delivery/agents/${l}/approve`,{approved:o})).json(),onSuccess:(l,{approved:o})=>{pe.invalidateQueries({queryKey:["/api/admin/delivery/agents/pending"]}),t({title:"Success",description:`Delivery agent ${o?"approved":"rejected"} successfully`})},onError:()=>{t({title:"Error",description:"Failed to update agent status",variant:"destructive"})}}),a=l=>{n.mutate({id:l,approved:!0})},i=l=>{n.mutate({id:l,approved:!1})};return s?e.jsx("div",{className:"flex items-center justify-center h-64",children:e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"})}):e.jsxs("div",{className:"container mx-auto p-6",children:[e.jsxs("div",{className:"mb-6",children:[e.jsx("h1",{className:"text-3xl font-bold",children:"Delivery Agent Approvals"}),e.jsx("p",{className:"text-muted-foreground",children:"Review and approve delivery agent registrations"})]}),r.length===0?e.jsx(E,{children:e.jsxs(D,{className:"text-center py-8",children:[e.jsx(gt,{className:"mx-auto h-12 w-12 text-muted-foreground mb-4"}),e.jsx("h3",{className:"text-lg font-semibold mb-2",children:"No pending approvals"}),e.jsx("p",{className:"text-muted-foreground",children:"All delivery agent registrations have been reviewed."})]})}):e.jsx("div",{className:"grid gap-6",children:r.map(l=>{var o,c,d;return e.jsxs(E,{children:[e.jsx(Y,{children:e.jsxs("div",{className:"flex justify-between items-start",children:[e.jsxs("div",{children:[e.jsx(X,{className:"text-xl",children:l.name}),e.jsxs(he,{children:["Applied on ",new Date(l.createdAt).toLocaleDateString()]})]}),e.jsxs(ae,{variant:"secondary",children:[e.jsx(gt,{className:"mr-1 h-3 w-3"}),"Pending Review"]})]})}),e.jsxs(D,{children:[e.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsxs("h4",{className:"font-semibold flex items-center",children:[e.jsx(zs,{className:"mr-2 h-4 w-4"}),"Contact Information"]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx(Oo,{className:"mr-2 h-4 w-4 text-muted-foreground"}),e.jsx("span",{children:l.phone})]}),l.email&&e.jsxs("div",{className:"flex items-center",children:[e.jsx(tj,{className:"mr-2 h-4 w-4 text-muted-foreground"}),e.jsx("span",{children:l.email})]}),e.jsxs("div",{className:"flex items-start",children:[e.jsx(ft,{className:"mr-2 h-4 w-4 text-muted-foreground mt-1"}),e.jsxs("div",{children:[e.jsx("p",{children:l.address}),e.jsxs("p",{className:"text-sm text-muted-foreground",children:[l.taluk,", ",l.district," - ",l.pincode]})]})]})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("h4",{className:"font-semibold",children:"Service Details"}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{children:[e.jsx("span",{className:"text-sm text-muted-foreground",children:"Available Hours:"}),e.jsxs("p",{children:[l.availableStartTime," - ",l.availableEndTime]})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-sm text-muted-foreground",children:"Operation Areas:"}),e.jsxs("div",{className:"mt-1",children:[((o=l.operationAreas)==null?void 0:o.districts)&&e.jsxs("div",{className:"mb-2",children:[e.jsx("span",{className:"text-xs font-medium",children:"Districts:"}),e.jsx("div",{className:"flex flex-wrap gap-1 mt-1",children:l.operationAreas.districts.map((u,m)=>e.jsx(ae,{variant:"outline",className:"text-xs",children:u},m))})]}),((c=l.operationAreas)==null?void 0:c.taluks)&&e.jsxs("div",{className:"mb-2",children:[e.jsx("span",{className:"text-xs font-medium",children:"Taluks:"}),e.jsx("div",{className:"flex flex-wrap gap-1 mt-1",children:l.operationAreas.taluks.map((u,m)=>e.jsx(ae,{variant:"outline",className:"text-xs",children:u},m))})]}),((d=l.operationAreas)==null?void 0:d.pincodes)&&e.jsxs("div",{children:[e.jsx("span",{className:"text-xs font-medium",children:"Pincodes:"}),e.jsx("div",{className:"flex flex-wrap gap-1 mt-1",children:l.operationAreas.pincodes.map((u,m)=>e.jsx(ae,{variant:"outline",className:"text-xs",children:u},m))})]})]})]})]})]})]}),e.jsxs("div",{className:"flex gap-3 mt-6 pt-4 border-t",children:[e.jsxs(T,{onClick:()=>a(l.id),disabled:n.isPending,className:"flex-1",children:[e.jsx(Is,{className:"mr-2 h-4 w-4"}),"Approve Agent"]}),e.jsxs(T,{variant:"outline",onClick:()=>i(l.id),disabled:n.isPending,className:"flex-1 text-destructive hover:text-destructive",children:[e.jsx(ws,{className:"mr-2 h-4 w-4"}),"Reject"]})]})]})]},l.id)})})]})}function Y6e(){const{toast:t}=Be(),[r,s]=j.useState(""),[n,a]=j.useState(""),[i,l]=j.useState(""),{data:o=[],isLoading:c}=fe({queryKey:["/api/admin/delivery/agents"]}),{data:d=[],isLoading:u}=fe({queryKey:["/api/admin/delivery/agents/approved"]}),{data:m=[],isLoading:h}=fe({queryKey:["/api/admin/delivery/agents/pending"]}),{data:g=[]}=fe({queryKey:["/api/delivery-categories"]}),f=Se({mutationFn:async({id:N,isOnline:w,isAvailable:C})=>(await le("PUT",`/api/admin/delivery/agents/${N}/status`,{isOnline:w,isAvailable:C})).json(),onSuccess:()=>{pe.invalidateQueries({queryKey:["/api/admin/delivery/agents"]}),pe.invalidateQueries({queryKey:["/api/admin/delivery/agents/approved"]}),t({title:"Success",description:"Agent status updated successfully"})},onError:()=>{t({title:"Error",description:"Failed to update agent status",variant:"destructive"})}}),p=Se({mutationFn:async({id:N,approved:w})=>(await le("PUT",`/api/admin/delivery/agents/${N}/approve`,{approved:w})).json(),onSuccess:(N,{approved:w})=>{pe.invalidateQueries({queryKey:["/api/admin/delivery/agents"]}),pe.invalidateQueries({queryKey:["/api/admin/delivery/agents/approved"]}),pe.invalidateQueries({queryKey:["/api/admin/delivery/agents/pending"]}),t({title:"Success",description:`Delivery agent ${w?"approved":"rejected"} successfully`})},onError:()=>{t({title:"Error",description:"Failed to update agent approval status",variant:"destructive"})}}),y=N=>{const w=g.find(C=>C.id===N);return(w==null?void 0:w.name)||"Unknown"},v=N=>N.filter(w=>{const C=w.name.toLowerCase().includes(r.toLowerCase())||w.mobileNumber.includes(r)||w.district.toLowerCase().includes(r.toLowerCase()),P=!n||w.district===n,S=!i||i==="online"&&w.isOnline||i==="offline"&&!w.isOnline||i==="available"&&w.isAvailable||i==="unavailable"&&!w.isAvailable;return C&&P&&S}),x=[...new Set(o.map(N=>N.district))],b=(N,w=!1)=>e.jsxs(E,{className:"mb-4",children:[e.jsx(Y,{children:e.jsxs("div",{className:"flex justify-between items-start",children:[e.jsxs("div",{children:[e.jsx(X,{className:"text-xl",children:N.name}),e.jsxs(he,{children:[y(N.categoryId),"  ",N.district,", ",N.taluk]})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(ae,{variant:N.adminApproved?"default":"secondary",children:N.adminApproved?"Approved":"Pending"}),e.jsx(ae,{variant:N.isOnline?"default":"secondary",children:N.isOnline?"Online":"Offline"}),e.jsx(ae,{variant:N.isAvailable?"default":"secondary",children:N.isAvailable?"Available":"Busy"})]})]})}),e.jsxs(D,{children:[e.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"space-y-3",children:[e.jsxs("h4",{className:"font-semibold flex items-center",children:[e.jsx(zs,{className:"mr-2 h-4 w-4"}),"Contact Information"]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx(Oo,{className:"mr-2 h-4 w-4 text-muted-foreground"}),e.jsx("span",{children:N.mobileNumber})]}),N.email&&e.jsxs("div",{className:"flex items-center",children:[e.jsx(tj,{className:"mr-2 h-4 w-4 text-muted-foreground"}),e.jsx("span",{children:N.email})]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx(ft,{className:"mr-2 h-4 w-4 text-muted-foreground"}),e.jsx("span",{children:N.address})]})]})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("h4",{className:"font-semibold flex items-center",children:[e.jsx(_n,{className:"mr-2 h-4 w-4"}),"Service Details"]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx(gt,{className:"mr-2 h-4 w-4 text-muted-foreground"}),e.jsxs("span",{children:[N.availableStartTime," - ",N.availableEndTime]})]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx(vf,{className:"mr-2 h-4 w-4 text-muted-foreground"}),e.jsxs("span",{children:[N.rating,"/5 (",N.totalDeliveries," deliveries)"]})]})]})]})]}),e.jsxs("div",{className:"mt-6 flex gap-2 justify-end",children:[w&&!N.adminApproved&&e.jsxs(e.Fragment,{children:[e.jsxs(T,{onClick:()=>p.mutate({id:N.id,approved:!0}),disabled:p.isPending,className:"bg-green-600 hover:bg-green-700",children:[e.jsx(Ot,{className:"mr-2 h-4 w-4"}),"Approve"]}),e.jsxs(T,{onClick:()=>p.mutate({id:N.id,approved:!1}),disabled:p.isPending,variant:"destructive",children:[e.jsx(Mr,{className:"mr-2 h-4 w-4"}),"Reject"]})]}),N.adminApproved&&e.jsx(T,{onClick:()=>f.mutate({id:N.id,isOnline:!N.isOnline,isAvailable:N.isAvailable}),disabled:f.isPending,variant:N.isOnline?"outline":"default",children:N.isOnline?"Set Offline":"Set Online"})]})]})]},N.id);return c||u||h?e.jsx("div",{className:"flex items-center justify-center h-64",children:e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"})}):e.jsxs("div",{className:"container mx-auto p-6",children:[e.jsx("div",{className:"flex justify-between items-center mb-6",children:e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold gradient-text",children:"Delivery Agents Management"}),e.jsx("p",{className:"text-muted-foreground",children:"Manage and monitor delivery agent registrations"})]})}),e.jsxs("div",{className:"grid md:grid-cols-4 gap-4 mb-6",children:[e.jsxs("div",{className:"relative",children:[e.jsx(es,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),e.jsx($,{placeholder:"Search agents...",value:r,onChange:N=>s(N.target.value),className:"pl-10"})]}),e.jsxs(je,{value:n,onValueChange:a,children:[e.jsx(ge,{children:e.jsx(be,{placeholder:"Filter by district"})}),e.jsxs(ve,{children:[e.jsx(O,{value:"",children:"All Districts"}),x.map(N=>e.jsx(O,{value:N,children:N},N))]})]}),e.jsxs(je,{value:i,onValueChange:l,children:[e.jsx(ge,{children:e.jsx(be,{placeholder:"Filter by status"})}),e.jsxs(ve,{children:[e.jsx(O,{value:"",children:"All Status"}),e.jsx(O,{value:"online",children:"Online"}),e.jsx(O,{value:"offline",children:"Offline"}),e.jsx(O,{value:"available",children:"Available"}),e.jsx(O,{value:"unavailable",children:"Unavailable"})]})]}),e.jsxs(T,{onClick:()=>{s(""),a(""),l("")},variant:"outline",children:[e.jsx(Bc,{className:"mr-2 h-4 w-4"}),"Clear Filters"]})]}),e.jsxs(rr,{defaultValue:"all",className:"w-full",children:[e.jsxs(tr,{className:"grid w-full grid-cols-3",children:[e.jsxs(ke,{value:"all",children:["All Agents (",o.length,")"]}),e.jsxs(ke,{value:"approved",children:["Approved (",d.length,")"]}),e.jsxs(ke,{value:"pending",children:["Pending (",m.length,")"]})]}),e.jsx(Le,{value:"all",className:"mt-6",children:e.jsx("div",{className:"space-y-4",children:v(o).length===0?e.jsx(E,{children:e.jsxs(D,{className:"text-center py-8",children:[e.jsx(fr,{className:"mx-auto h-12 w-12 text-muted-foreground mb-4"}),e.jsx("h3",{className:"text-lg font-semibold mb-2",children:"No agents found"}),e.jsx("p",{className:"text-muted-foreground",children:"No delivery agents match your current filters."})]})}):v(o).map(N=>b(N))})}),e.jsx(Le,{value:"approved",className:"mt-6",children:e.jsx("div",{className:"space-y-4",children:v(d).length===0?e.jsx(E,{children:e.jsxs(D,{className:"text-center py-8",children:[e.jsx(Ot,{className:"mx-auto h-12 w-12 text-muted-foreground mb-4"}),e.jsx("h3",{className:"text-lg font-semibold mb-2",children:"No approved agents"}),e.jsx("p",{className:"text-muted-foreground",children:"No approved delivery agents match your current filters."})]})}):v(d).map(N=>b(N))})}),e.jsx(Le,{value:"pending",className:"mt-6",children:e.jsx("div",{className:"space-y-4",children:v(m).length===0?e.jsx(E,{children:e.jsxs(D,{className:"text-center py-8",children:[e.jsx(gt,{className:"mx-auto h-12 w-12 text-muted-foreground mb-4"}),e.jsx("h3",{className:"text-lg font-semibold mb-2",children:"No pending approvals"}),e.jsx("p",{className:"text-muted-foreground",children:"All delivery agent registrations have been reviewed."})]})}):v(m).map(N=>b(N,!0))})})]})]})}function KD(){const{toast:t}=Be(),[r,s]=j.useState("pending"),{data:n,isLoading:a}=fe({queryKey:["/api/admin/taxi/vehicles/pending"],enabled:r==="pending"}),{data:i,isLoading:l}=fe({queryKey:["/api/admin/taxi/vehicles/approved"],enabled:r==="approved"}),o=Se({mutationFn:async({vehicleId:u,approved:m})=>(await le("PUT",`/api/admin/taxi/vehicles/${u}/approve`,{approved:m})).json(),onSuccess:()=>{pe.invalidateQueries({queryKey:["/api/admin/taxi/vehicles/pending"]}),pe.invalidateQueries({queryKey:["/api/admin/taxi/vehicles/approved"]}),t({title:"Vehicle Updated",description:"Vehicle approval status updated successfully"})},onError:u=>{t({title:"Error",description:u.message,variant:"destructive"})}}),c=(u,m)=>{o.mutate({vehicleId:u,approved:m})},d=({vehicle:u})=>e.jsxs(E,{className:"mb-4",children:[e.jsx(Y,{children:e.jsxs("div",{className:"flex justify-between items-start",children:[e.jsxs("div",{children:[e.jsxs(X,{className:"flex items-center gap-2",children:[e.jsx(_t,{className:"h-5 w-5"}),u.vehicleNumber]}),e.jsxs("p",{className:"text-sm text-muted-foreground",children:[u.brand," ",u.model," (",u.year,")"]})]}),e.jsxs("div",{className:"flex flex-col gap-2 items-end",children:[e.jsx(ae,{variant:u.adminApproved?"default":"secondary",children:u.adminApproved?"Approved":"Pending"}),e.jsx(ae,{variant:u.isActive?"default":"secondary",children:u.isActive?"Active":"Inactive"})]})]})}),e.jsxs(D,{children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4 mb-4",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(_t,{className:"h-4 w-4 text-muted-foreground"}),e.jsxs("span",{className:"text-sm",children:["Type: ",u.vehicleType]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(er,{className:"h-4 w-4 text-muted-foreground"}),e.jsxs("span",{className:"text-sm",children:["Seats: ",u.seatingCapacity]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(go,{className:"h-4 w-4 text-muted-foreground"}),e.jsxs("span",{className:"text-sm",children:["Fuel: ",u.fuelType]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(ft,{className:"h-4 w-4 text-muted-foreground"}),e.jsxs("span",{className:"text-sm",children:["District: ",u.district]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(xl,{className:"h-4 w-4 text-muted-foreground"}),e.jsxs("span",{className:"text-sm",children:["Insurance: ",u.insuranceValid?"Valid":"Invalid"]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Xt,{className:"h-4 w-4 text-muted-foreground"}),e.jsxs("span",{className:"text-sm",children:["Registered: ",new Date(u.createdAt).toLocaleDateString()]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold text-sm mb-2",children:"Vehicle Details"}),e.jsxs("p",{className:"text-sm text-muted-foreground",children:["Color: ",u.color]}),e.jsxs("p",{className:"text-sm text-muted-foreground",children:["RC Number: ",u.rcNumber]}),e.jsxs("p",{className:"text-sm text-muted-foreground",children:["Insurance: ",u.insuranceNumber]}),e.jsxs("p",{className:"text-sm text-muted-foreground",children:["License: ",u.driverLicenseNumber]})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold text-sm mb-2",children:"Pricing & Features"}),e.jsxs("p",{className:"text-sm text-muted-foreground",children:["Base Fare: ",u.baseFarePerKm,"/km"]}),e.jsxs("p",{className:"text-sm text-muted-foreground",children:["Waiting Charge: ",u.baseWaitingCharge]}),e.jsxs("p",{className:"text-sm text-muted-foreground",children:["AC Available: ",u.acAvailable?"Yes":"No"]}),e.jsxs("p",{className:"text-sm text-muted-foreground",children:["GPS Enabled: ",u.gpsEnabled?"Yes":"No"]})]})]}),u.availableAreas&&e.jsxs("div",{className:"mb-4",children:[e.jsx("h4",{className:"font-semibold text-sm mb-2",children:"Available Areas"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:u.availableAreas})]}),!u.adminApproved&&e.jsxs("div",{className:"flex gap-2 pt-4 border-t",children:[e.jsxs(T,{variant:"outline",size:"sm",onClick:()=>c(u.id,!0),disabled:o.isPending,className:"flex-1",children:[e.jsx(Ot,{className:"h-4 w-4 mr-2"}),"Approve"]}),e.jsxs(T,{variant:"destructive",size:"sm",onClick:()=>c(u.id,!1),disabled:o.isPending,className:"flex-1",children:[e.jsx(Mr,{className:"h-4 w-4 mr-2"}),"Reject"]})]})]})]});return e.jsxs("div",{className:"container mx-auto p-6",children:[e.jsxs("div",{className:"mb-6",children:[e.jsx("h1",{className:"text-3xl font-bold",children:"Taxi Vehicle Approvals"}),e.jsx("p",{className:"text-muted-foreground",children:"Review and approve taxi vehicle registrations"})]}),e.jsxs(rr,{value:r,onValueChange:s,className:"w-full",children:[e.jsxs(tr,{className:"grid w-full grid-cols-2",children:[e.jsxs(ke,{value:"pending",children:["Pending Approvals (",(n==null?void 0:n.length)||0,")"]}),e.jsxs(ke,{value:"approved",children:["Approved Vehicles (",(i==null?void 0:i.length)||0,")"]})]}),e.jsx(Le,{value:"pending",className:"mt-6",children:a?e.jsx("div",{className:"text-center py-8",children:"Loading pending vehicles..."}):(n==null?void 0:n.length)===0?e.jsx(E,{children:e.jsxs(D,{className:"text-center py-8",children:[e.jsx(_t,{className:"h-12 w-12 mx-auto text-muted-foreground mb-4"}),e.jsx("p",{className:"text-muted-foreground",children:"No pending vehicle approvals"})]})}):e.jsx("div",{className:"space-y-4",children:n==null?void 0:n.map(u=>e.jsx(d,{vehicle:u},u.id))})}),e.jsx(Le,{value:"approved",className:"mt-6",children:l?e.jsx("div",{className:"text-center py-8",children:"Loading approved vehicles..."}):(i==null?void 0:i.length)===0?e.jsx(E,{children:e.jsxs(D,{className:"text-center py-8",children:[e.jsx(_t,{className:"h-12 w-12 mx-auto text-muted-foreground mb-4"}),e.jsx("p",{className:"text-muted-foreground",children:"No approved vehicles yet"})]})}):e.jsx("div",{className:"space-y-4",children:i==null?void 0:i.map(u=>e.jsx(d,{vehicle:u},u.id))})})]})]})}function Q6e(){const{toast:t}=Be(),[r,s]=j.useState(""),[n,a]=j.useState("all"),[i,l]=j.useState("all"),{data:o,isLoading:c}=fe({queryKey:["/api/admin/taxi/vehicles"]}),d=Se({mutationFn:async({vehicleId:v,isActive:x})=>(await le("PUT",`/api/admin/taxi/vehicles/${v}/status`,{isActive:x})).json(),onSuccess:()=>{pe.invalidateQueries({queryKey:["/api/admin/taxi/vehicles"]}),t({title:"Status Updated",description:"Vehicle status updated successfully"})},onError:v=>{t({title:"Error",description:v.message,variant:"destructive"})}}),u=Se({mutationFn:async({vehicleId:v,approved:x})=>(await le("PUT",`/api/admin/taxi/vehicles/${v}/approve`,{approved:x})).json(),onSuccess:()=>{pe.invalidateQueries({queryKey:["/api/admin/taxi/vehicles"]}),t({title:"Approval Updated",description:"Vehicle approval status updated successfully"})},onError:v=>{t({title:"Error",description:v.message,variant:"destructive"})}}),m=(v,x)=>{d.mutate({vehicleId:v,isActive:!x})},h=(v,x)=>{u.mutate({vehicleId:v,approved:!x})},g=o==null?void 0:o.filter(v=>{const x=v.vehicleNumber.toLowerCase().includes(r.toLowerCase())||v.brand.toLowerCase().includes(r.toLowerCase())||v.model.toLowerCase().includes(r.toLowerCase())||v.district.toLowerCase().includes(r.toLowerCase()),b=n==="all"||n==="active"&&v.isActive||n==="inactive"&&!v.isActive||n==="approved"&&v.adminApproved||n==="pending"&&!v.adminApproved,N=i==="all"||v.vehicleType===i;return x&&b&&N}),f=v=>v.adminApproved?v.isActive?"default":"secondary":"destructive",p=v=>v.adminApproved?v.isActive?"Active":"Inactive":"Not Approved",y=({vehicle:v})=>e.jsxs(E,{className:"mb-4",children:[e.jsx(Y,{children:e.jsxs("div",{className:"flex justify-between items-start",children:[e.jsxs("div",{children:[e.jsxs(X,{className:"flex items-center gap-2",children:[e.jsx(_t,{className:"h-5 w-5"}),v.vehicleNumber]}),e.jsxs("p",{className:"text-sm text-muted-foreground",children:[v.brand," ",v.model," (",v.year,")"]})]}),e.jsxs("div",{className:"flex flex-col gap-2 items-end",children:[e.jsx(ae,{variant:f(v),children:p(v)}),e.jsx(ae,{variant:"outline",children:v.vehicleType})]})]})}),e.jsxs(D,{children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4 mb-4",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(er,{className:"h-4 w-4 text-muted-foreground"}),e.jsxs("span",{className:"text-sm",children:["Seats: ",v.seatingCapacity]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(go,{className:"h-4 w-4 text-muted-foreground"}),e.jsxs("span",{className:"text-sm",children:["Fuel: ",v.fuelType]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(ft,{className:"h-4 w-4 text-muted-foreground"}),e.jsxs("span",{className:"text-sm",children:["District: ",v.district]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(xl,{className:"h-4 w-4 text-muted-foreground"}),e.jsxs("span",{className:"text-sm",children:["Insurance: ",v.insuranceValid?"Valid":"Invalid"]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Xt,{className:"h-4 w-4 text-muted-foreground"}),e.jsxs("span",{className:"text-sm",children:["Registered: ",new Date(v.createdAt).toLocaleDateString()]})]}),e.jsx("div",{className:"flex items-center gap-2",children:e.jsxs("span",{className:"text-sm",children:["Fare: ",v.baseFarePerKm,"/km"]})})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold text-sm mb-2",children:"Vehicle Details"}),e.jsxs("p",{className:"text-sm text-muted-foreground",children:["Color: ",v.color]}),e.jsxs("p",{className:"text-sm text-muted-foreground",children:["RC Number: ",v.rcNumber]}),e.jsxs("p",{className:"text-sm text-muted-foreground",children:["License: ",v.driverLicenseNumber]})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold text-sm mb-2",children:"Features"}),e.jsxs("p",{className:"text-sm text-muted-foreground",children:["AC Available: ",v.acAvailable?"Yes":"No"]}),e.jsxs("p",{className:"text-sm text-muted-foreground",children:["GPS Enabled: ",v.gpsEnabled?"Yes":"No"]}),e.jsxs("p",{className:"text-sm text-muted-foreground",children:["PUC Valid: ",v.pucValid?"Yes":"No"]})]})]}),e.jsxs("div",{className:"flex flex-wrap gap-2 pt-4 border-t",children:[e.jsx(T,{variant:v.adminApproved?"destructive":"default",size:"sm",onClick:()=>h(v.id,v.adminApproved),disabled:u.isPending,children:v.adminApproved?"Revoke Approval":"Approve"}),v.adminApproved&&e.jsx(T,{variant:v.isActive?"secondary":"default",size:"sm",onClick:()=>m(v.id,v.isActive),disabled:d.isPending,children:v.isActive?e.jsxs(e.Fragment,{children:[e.jsx(eZ,{className:"h-4 w-4 mr-2"}),"Deactivate"]}):e.jsxs(e.Fragment,{children:[e.jsx(tZ,{className:"h-4 w-4 mr-2"}),"Activate"]})})]})]})]});return e.jsxs("div",{className:"container mx-auto p-6",children:[e.jsxs("div",{className:"mb-6",children:[e.jsx("h1",{className:"text-3xl font-bold",children:"Taxi Vehicles Management"}),e.jsx("p",{className:"text-muted-foreground",children:"Manage all taxi vehicle registrations and their status"})]}),e.jsxs(E,{className:"mb-6",children:[e.jsx(Y,{children:e.jsx(X,{children:"Filters"})}),e.jsx(D,{children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs("div",{className:"relative",children:[e.jsx(es,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),e.jsx($,{placeholder:"Search vehicles...",value:r,onChange:v=>s(v.target.value),className:"pl-10"})]}),e.jsxs(je,{value:n,onValueChange:a,children:[e.jsx(ge,{children:e.jsx(be,{placeholder:"Filter by status"})}),e.jsxs(ve,{children:[e.jsx(O,{value:"all",children:"All Status"}),e.jsx(O,{value:"approved",children:"Approved"}),e.jsx(O,{value:"pending",children:"Pending Approval"}),e.jsx(O,{value:"active",children:"Active"}),e.jsx(O,{value:"inactive",children:"Inactive"})]})]}),e.jsxs(je,{value:i,onValueChange:l,children:[e.jsx(ge,{children:e.jsx(be,{placeholder:"Filter by vehicle type"})}),e.jsxs(ve,{children:[e.jsx(O,{value:"all",children:"All Types"}),e.jsx(O,{value:"sedan",children:"Sedan"}),e.jsx(O,{value:"suv",children:"SUV"}),e.jsx(O,{value:"hatchback",children:"Hatchback"}),e.jsx(O,{value:"auto",children:"Auto Rickshaw"}),e.jsx(O,{value:"bike",children:"Bike"})]})]})]})})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-6",children:[e.jsx(E,{children:e.jsxs(D,{className:"pt-6",children:[e.jsx("div",{className:"text-2xl font-bold",children:(o==null?void 0:o.length)||0}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Total Vehicles"})]})}),e.jsx(E,{children:e.jsxs(D,{className:"pt-6",children:[e.jsx("div",{className:"text-2xl font-bold",children:(o==null?void 0:o.filter(v=>v.adminApproved).length)||0}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Approved"})]})}),e.jsx(E,{children:e.jsxs(D,{className:"pt-6",children:[e.jsx("div",{className:"text-2xl font-bold",children:(o==null?void 0:o.filter(v=>v.isActive&&v.adminApproved).length)||0}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Active"})]})}),e.jsx(E,{children:e.jsxs(D,{className:"pt-6",children:[e.jsx("div",{className:"text-2xl font-bold",children:(o==null?void 0:o.filter(v=>!v.adminApproved).length)||0}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Pending"})]})})]}),c?e.jsx("div",{className:"text-center py-8",children:"Loading vehicles..."}):(g==null?void 0:g.length)===0?e.jsx(E,{children:e.jsxs(D,{className:"text-center py-8",children:[e.jsx(_t,{className:"h-12 w-12 mx-auto text-muted-foreground mb-4"}),e.jsx("p",{className:"text-muted-foreground",children:(o==null?void 0:o.length)===0?"No vehicles registered yet":"No vehicles match your search criteria"})]})}):e.jsx("div",{className:"space-y-4",children:g==null?void 0:g.map(v=>e.jsx(y,{vehicle:v},v.id))})]})}function HD(){const{toast:t}=Be(),[r,s]=j.useState(!1),[n,a]=j.useState(null),[i,l]=j.useState({name:"",description:"",basePrice:"",pricePerKm:"",waitingChargePerMinute:"",maxPassengers:""}),{data:o=[],isLoading:c}=fe({queryKey:["/api/taxi/categories"]}),d=Se({mutationFn:async y=>(await le("POST","/api/taxi-categories",y)).json(),onSuccess:()=>{pe.invalidateQueries({queryKey:["/api/taxi/categories"]}),s(!1),h(),t({title:"Success",description:"Taxi category created successfully"})},onError:y=>{t({title:"Error",description:y.message||"Failed to create category",variant:"destructive"})}}),u=Se({mutationFn:async({id:y,...v})=>(await le("PUT",`/api/taxi-categories/${y}`,v)).json(),onSuccess:()=>{pe.invalidateQueries({queryKey:["/api/taxi/categories"]}),a(null),h(),t({title:"Success",description:"Taxi category updated successfully"})},onError:y=>{t({title:"Error",description:y.message||"Failed to update category",variant:"destructive"})}}),m=Se({mutationFn:async y=>{await le("DELETE",`/api/taxi-categories/${y}`)},onSuccess:()=>{pe.invalidateQueries({queryKey:["/api/taxi/categories"]}),t({title:"Success",description:"Taxi category deleted successfully"})},onError:y=>{t({title:"Error",description:y.message||"Failed to delete category",variant:"destructive"})}}),h=()=>{l({name:"",description:"",basePrice:"",pricePerKm:"",waitingChargePerMinute:"",maxPassengers:""})},g=y=>{y.preventDefault();const v={name:i.name,description:i.description,basePrice:parseFloat(i.basePrice),pricePerKm:parseFloat(i.pricePerKm),waitingChargePerMinute:parseFloat(i.waitingChargePerMinute),maxPassengers:parseInt(i.maxPassengers)};n?u.mutate({...v,id:n.id}):d.mutate(v)},f=y=>{a(y),l({name:y.name,description:y.description,basePrice:y.basePrice.toString(),pricePerKm:y.pricePerKm.toString(),waitingChargePerMinute:y.waitingChargePerMinute.toString(),maxPassengers:y.maxPassengers.toString()})},p=y=>{confirm("Are you sure you want to delete this taxi category?")&&m.mutate(y)};return c?e.jsx("div",{className:"flex items-center justify-center min-h-screen",children:e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"})}):e.jsxs("div",{className:"container mx-auto px-4 py-8",children:[e.jsxs("div",{className:"flex justify-between items-center mb-8",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold",children:"Taxi Categories Management"}),e.jsx("p",{className:"text-muted-foreground mt-2",children:"Manage taxi service categories and pricing"})]}),e.jsxs(kt,{open:r,onOpenChange:s,children:[e.jsx(ls,{asChild:!0,children:e.jsxs(T,{className:"flex items-center",children:[e.jsx(Rt,{className:"mr-2 h-4 w-4"}),"Add Category"]})}),e.jsxs(St,{className:"max-w-md",children:[e.jsxs(Ct,{children:[e.jsx(Pt,{children:"Create New Taxi Category"}),e.jsx(Yt,{children:"Add a new taxi service category with pricing details"})]}),e.jsxs("form",{onSubmit:g,className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx(se,{htmlFor:"name",children:"Category Name"}),e.jsx($,{id:"name",value:i.name,onChange:y=>l({...i,name:y.target.value}),placeholder:"e.g., Two Wheeler, 4 Seaters",required:!0})]}),e.jsxs("div",{children:[e.jsx(se,{htmlFor:"description",children:"Description"}),e.jsx(at,{id:"description",value:i.description,onChange:y=>l({...i,description:y.target.value}),placeholder:"Category description",required:!0})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(se,{htmlFor:"basePrice",children:"Base Price ()"}),e.jsx($,{id:"basePrice",type:"number",step:"0.01",value:i.basePrice,onChange:y=>l({...i,basePrice:y.target.value}),required:!0})]}),e.jsxs("div",{children:[e.jsx(se,{htmlFor:"pricePerKm",children:"Price per KM ()"}),e.jsx($,{id:"pricePerKm",type:"number",step:"0.01",value:i.pricePerKm,onChange:y=>l({...i,pricePerKm:y.target.value}),required:!0})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(se,{htmlFor:"waitingCharge",children:"Waiting Charge/Min ()"}),e.jsx($,{id:"waitingCharge",type:"number",step:"0.01",value:i.waitingChargePerMinute,onChange:y=>l({...i,waitingChargePerMinute:y.target.value}),required:!0})]}),e.jsxs("div",{children:[e.jsx(se,{htmlFor:"maxPassengers",children:"Max Passengers"}),e.jsx($,{id:"maxPassengers",type:"number",value:i.maxPassengers,onChange:y=>l({...i,maxPassengers:y.target.value}),required:!0})]})]}),e.jsxs("div",{className:"flex justify-end space-x-2",children:[e.jsx(T,{type:"button",variant:"outline",onClick:()=>s(!1),children:"Cancel"}),e.jsx(T,{type:"submit",disabled:d.isPending,children:d.isPending?"Creating...":"Create Category"})]})]})]})]})]}),e.jsx(kt,{open:!!n,onOpenChange:()=>a(null),children:e.jsxs(St,{className:"max-w-md",children:[e.jsxs(Ct,{children:[e.jsx(Pt,{children:"Edit Taxi Category"}),e.jsx(Yt,{children:"Update taxi service category details and pricing"})]}),e.jsxs("form",{onSubmit:g,className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx(se,{htmlFor:"edit-name",children:"Category Name"}),e.jsx($,{id:"edit-name",value:i.name,onChange:y=>l({...i,name:y.target.value}),placeholder:"e.g., Two Wheeler, 4 Seaters",required:!0})]}),e.jsxs("div",{children:[e.jsx(se,{htmlFor:"edit-description",children:"Description"}),e.jsx(at,{id:"edit-description",value:i.description,onChange:y=>l({...i,description:y.target.value}),placeholder:"Category description",required:!0})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(se,{htmlFor:"edit-basePrice",children:"Base Price ()"}),e.jsx($,{id:"edit-basePrice",type:"number",step:"0.01",value:i.basePrice,onChange:y=>l({...i,basePrice:y.target.value}),required:!0})]}),e.jsxs("div",{children:[e.jsx(se,{htmlFor:"edit-pricePerKm",children:"Price per KM ()"}),e.jsx($,{id:"edit-pricePerKm",type:"number",step:"0.01",value:i.pricePerKm,onChange:y=>l({...i,pricePerKm:y.target.value}),required:!0})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(se,{htmlFor:"edit-waitingCharge",children:"Waiting Charge/Min ()"}),e.jsx($,{id:"edit-waitingCharge",type:"number",step:"0.01",value:i.waitingChargePerMinute,onChange:y=>l({...i,waitingChargePerMinute:y.target.value}),required:!0})]}),e.jsxs("div",{children:[e.jsx(se,{htmlFor:"edit-maxPassengers",children:"Max Passengers"}),e.jsx($,{id:"edit-maxPassengers",type:"number",value:i.maxPassengers,onChange:y=>l({...i,maxPassengers:y.target.value}),required:!0})]})]}),e.jsxs("div",{className:"flex justify-end space-x-2",children:[e.jsx(T,{type:"button",variant:"outline",onClick:()=>a(null),children:"Cancel"}),e.jsx(T,{type:"submit",disabled:u.isPending,children:u.isPending?"Updating...":"Update Category"})]})]})]})}),e.jsx("div",{className:"grid gap-6 md:grid-cols-2 lg:grid-cols-3",children:o.map(y=>e.jsxs(E,{className:"relative",children:[e.jsx(Y,{children:e.jsxs("div",{className:"flex justify-between items-start",children:[e.jsxs("div",{children:[e.jsxs(X,{className:"flex items-center",children:[e.jsx(_t,{className:"mr-2 h-5 w-5"}),y.name]}),e.jsx(he,{className:"mt-2",children:y.description})]}),e.jsx(ae,{variant:y.isActive?"default":"secondary",children:y.isActive?"Active":"Inactive"})]})}),e.jsxs(D,{children:[e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx(qs,{className:"h-4 w-4 mr-1 text-muted-foreground"}),e.jsx("span",{className:"text-sm",children:"Base Price:"})]}),e.jsxs("span",{className:"font-medium",children:["",y.basePrice]})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx(qs,{className:"h-4 w-4 mr-1 text-muted-foreground"}),e.jsx("span",{className:"text-sm",children:"Per KM:"})]}),e.jsxs("span",{className:"font-medium",children:["",y.pricePerKm]})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx(gt,{className:"h-4 w-4 mr-1 text-muted-foreground"}),e.jsx("span",{className:"text-sm",children:"Waiting/Min:"})]}),e.jsxs("span",{className:"font-medium",children:["",y.waitingChargePerMinute]})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx(er,{className:"h-4 w-4 mr-1 text-muted-foreground"}),e.jsx("span",{className:"text-sm",children:"Max Passengers:"})]}),e.jsx("span",{className:"font-medium",children:y.maxPassengers})]})]}),e.jsxs("div",{className:"flex space-x-2 mt-4",children:[e.jsxs(T,{variant:"outline",size:"sm",onClick:()=>f(y),className:"flex-1",children:[e.jsx(Gr,{className:"h-4 w-4 mr-1"}),"Edit"]}),e.jsx(T,{variant:"outline",size:"sm",onClick:()=>p(y.id),className:"text-destructive hover:bg-destructive hover:text-destructive-foreground",children:e.jsx(Er,{className:"h-4 w-4"})})]})]})]},y.id))}),o.length===0&&e.jsx(E,{className:"text-center py-8",children:e.jsxs(D,{children:[e.jsx(_t,{className:"mx-auto h-12 w-12 text-muted-foreground mb-4"}),e.jsx("h3",{className:"text-lg font-semibold mb-2",children:"No Taxi Categories"}),e.jsx("p",{className:"text-muted-foreground mb-4",children:"Start by creating your first taxi service category"}),e.jsxs(T,{onClick:()=>s(!0),children:[e.jsx(Rt,{className:"mr-2 h-4 w-4"}),"Add First Category"]})]})})]})}function X6e(){const{user:t}=dt(),[r,s]=j.useState("overview"),{data:n=[],isLoading:a}=fe({queryKey:["/api/taxi/categories"]}),{data:i=[],isLoading:l}=fe({queryKey:["/api/taxi/providers"]});return fe({queryKey:["/api/admin/taxi-stats"]}),!t||t.userType!=="admin"?e.jsx("div",{children:"Access denied. Admin only."}):e.jsxs("div",{className:"container mx-auto px-4 py-8",children:[e.jsx("div",{className:"flex justify-between items-center mb-8",children:e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold",children:"Taxi Service Administration"}),e.jsx("p",{className:"text-muted-foreground mt-2",children:"Manage taxi categories, providers, and service settings"})]})}),e.jsxs(rr,{value:r,onValueChange:s,className:"space-y-6",children:[e.jsxs(tr,{className:"grid w-full grid-cols-4",children:[e.jsxs(ke,{value:"overview",className:"flex items-center gap-2",children:[e.jsx(vi,{className:"h-4 w-4"}),"Overview"]}),e.jsxs(ke,{value:"categories",className:"flex items-center gap-2",children:[e.jsx(_t,{className:"h-4 w-4"}),"Categories"]}),e.jsxs(ke,{value:"providers",className:"flex items-center gap-2",children:[e.jsx(er,{className:"h-4 w-4"}),"Providers"]}),e.jsxs(ke,{value:"settings",className:"flex items-center gap-2",children:[e.jsx(Sc,{className:"h-4 w-4"}),"Settings"]})]}),e.jsxs(Le,{value:"overview",className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[e.jsxs(E,{children:[e.jsxs(Y,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(X,{className:"text-sm font-medium",children:"Total Categories"}),e.jsx(_t,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsxs(D,{children:[e.jsx("div",{className:"text-2xl font-bold",children:n.length}),e.jsxs("p",{className:"text-xs text-muted-foreground",children:[n.filter(o=>o.isActive).length," active"]})]})]}),e.jsxs(E,{children:[e.jsxs(Y,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(X,{className:"text-sm font-medium",children:"Total Providers"}),e.jsx(er,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsxs(D,{children:[e.jsx("div",{className:"text-2xl font-bold",children:i.length}),e.jsxs("p",{className:"text-xs text-muted-foreground",children:[i.filter(o=>o.isApproved).length," approved"]})]})]}),e.jsxs(E,{children:[e.jsxs(Y,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(X,{className:"text-sm font-medium",children:"Online Providers"}),e.jsx(Ot,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsxs(D,{children:[e.jsx("div",{className:"text-2xl font-bold",children:i.filter(o=>o.isOnline&&o.isApproved).length}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Available for rides"})]})]}),e.jsxs(E,{children:[e.jsxs(Y,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(X,{className:"text-sm font-medium",children:"Avg. Base Price"}),e.jsx(qs,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsxs(D,{children:[e.jsxs("div",{className:"text-2xl font-bold",children:["",n.length>0?Math.round(n.reduce((o,c)=>o+c.basePrice,0)/n.length):0]}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Across all categories"})]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsxs(E,{children:[e.jsxs(Y,{children:[e.jsx(X,{children:"Recent Categories"}),e.jsx(he,{children:"Latest taxi categories added to the system"})]}),e.jsx(D,{children:e.jsx("div",{className:"space-y-3",children:n.slice(0,5).map(o=>e.jsxs("div",{className:"flex items-center justify-between p-3 bg-muted/50 rounded-lg",children:[e.jsxs("div",{children:[e.jsx("p",{className:"font-medium",children:o.name}),e.jsxs("p",{className:"text-sm text-muted-foreground",children:["",o.basePrice," base + ",o.pricePerKm,"/km"]})]}),e.jsx(ae,{variant:o.isActive?"default":"secondary",children:o.isActive?"Active":"Inactive"})]},o.id))})})]}),e.jsxs(E,{children:[e.jsxs(Y,{children:[e.jsx(X,{children:"Provider Status"}),e.jsx(he,{children:"Current status of taxi service providers"})]}),e.jsx(D,{children:e.jsx("div",{className:"space-y-3",children:i.slice(0,5).map(o=>e.jsxs("div",{className:"flex items-center justify-between p-3 bg-muted/50 rounded-lg",children:[e.jsxs("div",{children:[e.jsx("p",{className:"font-medium",children:o.name}),e.jsxs("p",{className:"text-sm text-muted-foreground",children:[o.vehicleType,"  ",o.totalRides||0," rides"]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(ae,{variant:o.isOnline?"default":"secondary",children:o.isOnline?"Online":"Offline"}),e.jsx(ae,{variant:o.isApproved?"default":"destructive",children:o.isApproved?"Approved":"Pending"})]})]},o.id))})})]})]})]}),e.jsxs(Le,{value:"categories",className:"space-y-6",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold",children:"Taxi Categories"}),e.jsx("p",{className:"text-muted-foreground",children:"Manage taxi service categories and pricing structure"})]}),e.jsx(At,{href:"/admin/taxi-categories",children:e.jsxs(T,{className:"flex items-center gap-2",children:[e.jsx(Rt,{className:"h-4 w-4"}),"Manage Categories"]})})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:a?e.jsxs("div",{className:"col-span-full text-center py-8",children:[e.jsx("div",{className:"animate-spin w-8 h-8 border-4 border-primary border-t-transparent rounded-full mx-auto mb-4"}),e.jsx("p",{children:"Loading categories..."})]}):n.length===0?e.jsxs("div",{className:"col-span-full text-center py-8",children:[e.jsx(_t,{className:"mx-auto h-12 w-12 text-muted-foreground mb-4"}),e.jsx("h3",{className:"text-lg font-medium mb-2",children:"No categories found"}),e.jsx("p",{className:"text-muted-foreground mb-4",children:"Create your first taxi category to get started"}),e.jsx(At,{href:"/admin/taxi-categories",children:e.jsxs(T,{children:[e.jsx(Rt,{className:"mr-2 h-4 w-4"}),"Add Category"]})})]}):n.map(o=>e.jsxs(E,{children:[e.jsxs(Y,{children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(X,{className:"text-lg",children:o.name}),e.jsx(ae,{variant:o.isActive?"default":"secondary",children:o.isActive?"Active":"Inactive"})]}),e.jsx(he,{children:o.description})]}),e.jsxs(D,{className:"space-y-3",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-muted-foreground",children:"Base Price"}),e.jsxs("p",{className:"font-medium",children:["",o.basePrice]})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-muted-foreground",children:"Per KM"}),e.jsxs("p",{className:"font-medium",children:["",o.pricePerKm]})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-muted-foreground",children:"Waiting"}),e.jsxs("p",{className:"font-medium",children:["",o.waitingChargePerMinute,"/min"]})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-muted-foreground",children:"Max Passengers"}),e.jsx("p",{className:"font-medium",children:o.maxPassengers})]})]}),e.jsxs("div",{className:"flex gap-2 pt-3",children:[e.jsx(At,{href:"/admin/taxi-categories",children:e.jsxs(T,{variant:"outline",size:"sm",className:"flex-1",children:[e.jsx(Gr,{className:"mr-2 h-4 w-4"}),"Edit"]})}),e.jsxs(T,{variant:"outline",size:"sm",className:"flex-1",children:[e.jsx(fr,{className:"mr-2 h-4 w-4"}),"View"]})]})]})]},o.id))})]}),e.jsxs(Le,{value:"providers",className:"space-y-6",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold",children:"Taxi Providers"}),e.jsx("p",{className:"text-muted-foreground",children:"Manage taxi service providers and approvals"})]}),e.jsxs(T,{className:"flex items-center gap-2",children:[e.jsx(Rt,{className:"h-4 w-4"}),"Add Provider"]})]}),e.jsxs(E,{children:[e.jsxs(Y,{children:[e.jsx(X,{children:"Provider List"}),e.jsx(he,{children:"All registered taxi service providers"})]}),e.jsx(D,{children:l?e.jsxs("div",{className:"text-center py-8",children:[e.jsx("div",{className:"animate-spin w-8 h-8 border-4 border-primary border-t-transparent rounded-full mx-auto mb-4"}),e.jsx("p",{children:"Loading providers..."})]}):i.length===0?e.jsxs("div",{className:"text-center py-8",children:[e.jsx(er,{className:"mx-auto h-12 w-12 text-muted-foreground mb-4"}),e.jsx("h3",{className:"text-lg font-medium mb-2",children:"No providers found"}),e.jsx("p",{className:"text-muted-foreground",children:"Taxi providers will appear here once they register"})]}):e.jsx("div",{className:"space-y-4",children:i.map(o=>e.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"p-2 rounded-full bg-primary/10",children:e.jsx(_t,{className:"h-5 w-5 text-primary"})}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium",children:o.name}),e.jsxs("p",{className:"text-sm text-muted-foreground",children:[o.phone,"  ",o.vehicleType]}),e.jsxs("p",{className:"text-xs text-muted-foreground",children:["License: ",o.licenseNumber]})]})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsxs("div",{className:"text-right text-sm",children:[e.jsxs("p",{className:"font-medium",children:["Rating: ",o.rating||0,"/5"]}),e.jsxs("p",{className:"text-muted-foreground",children:[o.totalRides||0," rides"]})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(ae,{variant:o.isOnline?"default":"secondary",children:o.isOnline?"Online":"Offline"}),e.jsx(ae,{variant:o.isApproved?"default":"destructive",children:o.isApproved?"Approved":"Pending"})]}),e.jsx(T,{variant:"outline",size:"sm",children:e.jsx(Gr,{className:"h-4 w-4"})})]})]},o.id))})})]})]}),e.jsxs(Le,{value:"settings",className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold",children:"Service Settings"}),e.jsx("p",{className:"text-muted-foreground",children:"Configure taxi service parameters and policies"})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsxs(E,{children:[e.jsxs(Y,{children:[e.jsx(X,{children:"Pricing Settings"}),e.jsx(he,{children:"Global pricing configurations"})]}),e.jsxs(D,{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium",children:"Commission Rate"}),e.jsx("p",{className:"text-2xl font-bold text-primary",children:"15%"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium",children:"Service Tax"}),e.jsx("p",{className:"text-2xl font-bold text-primary",children:"5%"})]})]}),e.jsxs(T,{variant:"outline",className:"w-full",children:[e.jsx(Sc,{className:"mr-2 h-4 w-4"}),"Configure Pricing"]})]})]}),e.jsxs(E,{children:[e.jsxs(Y,{children:[e.jsx(X,{children:"Service Areas"}),e.jsx(he,{children:"Manage service coverage areas"})]}),e.jsxs(D,{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium",children:"Active Districts"}),e.jsx("p",{className:"text-2xl font-bold text-primary",children:"32"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"across Tamil Nadu"})]}),e.jsxs(T,{variant:"outline",className:"w-full",children:[e.jsx(ft,{className:"mr-2 h-4 w-4"}),"Manage Areas"]})]})]})]})]})]})]})}function Z6e(){const[t,r]=j.useState("categories"),[s,n]=j.useState(!1),[a,i]=j.useState(null),[l,o]=j.useState({name:"",description:"",basePrice:"",pricePerKm:"",waitingChargePerMinute:"",maxPassengers:"",isActive:!0}),{toast:c}=Be(),{data:d=[],isLoading:u}=fe({queryKey:["/api/taxi-categories"]}),{data:m=[],isLoading:h}=fe({queryKey:["/api/taxi/providers"]}),{data:g=[],isLoading:f}=fe({queryKey:["/api/admin/taxi/vehicles"]}),p=Se({mutationFn:async S=>await(await le("POST","/api/taxi-categories",S)).json(),onSuccess:()=>{pe.invalidateQueries({queryKey:["/api/taxi-categories"]}),n(!1),w(),c({title:"Success",description:"Taxi category created successfully"})},onError:S=>{c({title:"Error",description:S.message,variant:"destructive"})}}),y=Se({mutationFn:async({id:S,data:A})=>await(await le("PUT",`/api/taxi-categories/${S}`,A)).json(),onSuccess:()=>{pe.invalidateQueries({queryKey:["/api/taxi-categories"]}),i(null),w(),c({title:"Success",description:"Taxi category updated successfully"})}}),v=Se({mutationFn:async({id:S,isActive:A})=>await(await le("PUT",`/api/taxi-categories/${S}`,{isActive:A})).json(),onSuccess:()=>{pe.invalidateQueries({queryKey:["/api/taxi-categories"]}),c({title:"Success",description:"Category status updated"})}}),x=Se({mutationFn:async S=>await(await le("PATCH",`/api/taxi/providers/${S}/approve`)).json(),onSuccess:()=>{pe.invalidateQueries({queryKey:["/api/taxi/providers"]}),c({title:"Success",description:"Provider approved successfully"})}}),b=Se({mutationFn:async S=>await(await le("PATCH",`/api/taxi/providers/${S}/reject`)).json(),onSuccess:()=>{pe.invalidateQueries({queryKey:["/api/taxi/providers"]}),c({title:"Success",description:"Provider rejected"})}}),N=Se({mutationFn:async S=>await(await le("PUT",`/api/admin/taxi/vehicles/${S}/approve`,{approved:!0})).json(),onSuccess:()=>{pe.invalidateQueries({queryKey:["/api/admin/taxi/vehicles"]}),c({title:"Success",description:"Vehicle approved successfully"})}});Se({mutationFn:async S=>await(await le("PUT",`/api/admin/taxi/vehicles/${S}/approve`,{approved:!1})).json(),onSuccess:()=>{pe.invalidateQueries({queryKey:["/api/admin/taxi/vehicles"]}),c({title:"Success",description:"Vehicle rejected"})}});const w=()=>{o({name:"",description:"",basePrice:"",pricePerKm:"",waitingChargePerMinute:"",maxPassengers:"",isActive:!0})},C=S=>{S.preventDefault();const A={...l,basePrice:parseFloat(l.basePrice),pricePerKm:parseFloat(l.pricePerKm),waitingChargePerMinute:parseFloat(l.waitingChargePerMinute),maxPassengers:parseInt(l.maxPassengers)};a?y.mutate({id:a.id,data:A}):p.mutate(A)},P=S=>{i(S),o({name:S.name,description:S.description,basePrice:S.basePrice.toString(),pricePerKm:S.pricePerKm.toString(),waitingChargePerMinute:S.waitingChargePerMinute.toString(),maxPassengers:S.maxPassengers.toString(),isActive:S.isActive}),n(!0)};return e.jsxs("div",{className:"container mx-auto px-4 py-8",children:[e.jsxs("div",{className:"mb-8",children:[e.jsx("h1",{className:"text-3xl font-bold",children:"Taxi Service Management"}),e.jsx("p",{className:"text-muted-foreground",children:"Manage taxi categories, providers, and vehicle approvals"})]}),e.jsxs(rr,{value:t,onValueChange:r,children:[e.jsxs(tr,{className:"grid w-full grid-cols-4",children:[e.jsx(ke,{value:"categories",children:"Categories"}),e.jsx(ke,{value:"providers",children:"Service Providers"}),e.jsx(ke,{value:"vehicles",children:"Vehicle Approvals"}),e.jsx(ke,{value:"stats",children:"Statistics"})]}),e.jsxs(Le,{value:"categories",className:"space-y-6",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("h2",{className:"text-2xl font-semibold",children:"Taxi Categories"}),e.jsxs(kt,{open:s,onOpenChange:n,children:[e.jsx(ls,{asChild:!0,children:e.jsxs(T,{onClick:()=>{i(null),w()},children:[e.jsx(Rt,{className:"h-4 w-4 mr-2"}),"Add Category"]})}),e.jsxs(St,{children:[e.jsxs(Ct,{children:[e.jsx(Pt,{children:a?"Edit Category":"Create Category"}),e.jsx(Yt,{children:a?"Update taxi category details":"Add a new taxi category"})]}),e.jsxs("form",{onSubmit:C,className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx(se,{htmlFor:"name",children:"Category Name"}),e.jsx($,{id:"name",required:!0,value:l.name,onChange:S=>o({...l,name:S.target.value})})]}),e.jsxs("div",{children:[e.jsx(se,{htmlFor:"description",children:"Description"}),e.jsx(at,{id:"description",value:l.description,onChange:S=>o({...l,description:S.target.value})})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(se,{htmlFor:"basePrice",children:"Base Price ()"}),e.jsx($,{id:"basePrice",type:"number",step:"0.01",required:!0,value:l.basePrice,onChange:S=>o({...l,basePrice:S.target.value})})]}),e.jsxs("div",{children:[e.jsx(se,{htmlFor:"pricePerKm",children:"Price per KM ()"}),e.jsx($,{id:"pricePerKm",type:"number",step:"0.01",required:!0,value:l.pricePerKm,onChange:S=>o({...l,pricePerKm:S.target.value})})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(se,{htmlFor:"waitingCharge",children:"Waiting Charge (/min)"}),e.jsx($,{id:"waitingCharge",type:"number",step:"0.01",value:l.waitingChargePerMinute,onChange:S=>o({...l,waitingChargePerMinute:S.target.value})})]}),e.jsxs("div",{children:[e.jsx(se,{htmlFor:"maxPassengers",children:"Max Passengers"}),e.jsx($,{id:"maxPassengers",type:"number",required:!0,value:l.maxPassengers,onChange:S=>o({...l,maxPassengers:S.target.value})})]})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ds,{id:"isActive",checked:l.isActive,onCheckedChange:S=>o({...l,isActive:S})}),e.jsx(se,{htmlFor:"isActive",children:"Active"})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(T,{type:"button",variant:"outline",onClick:()=>n(!1),children:"Cancel"}),e.jsx(T,{type:"submit",disabled:p.isPending||y.isPending,children:a?"Update":"Create"})]})]})]})]})]}),e.jsx("div",{className:"grid gap-4",children:u?e.jsx(E,{children:e.jsx(D,{className:"p-6",children:e.jsx("div",{className:"text-center",children:"Loading categories..."})})}):d.length===0?e.jsx(E,{children:e.jsx(D,{className:"p-6",children:e.jsxs("div",{className:"text-center text-muted-foreground",children:[e.jsx(_t,{className:"h-12 w-12 mx-auto mb-4 opacity-50"}),e.jsx("p",{children:"No taxi categories found"}),e.jsx("p",{className:"text-sm",children:"Create your first taxi category to get started"})]})})}):d.map(S=>e.jsx(E,{children:e.jsx(D,{className:"p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[e.jsx("h3",{className:"text-lg font-semibold",children:S.name}),e.jsx(ae,{variant:S.isActive?"default":"secondary",children:S.isActive?"Active":"Inactive"})]}),e.jsx("p",{className:"text-muted-foreground mb-3",children:S.description}),e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 text-sm",children:[e.jsxs("div",{children:[e.jsx("span",{className:"text-muted-foreground",children:"Base Price:"}),e.jsxs("span",{className:"font-medium ml-1",children:["",S.basePrice]})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-muted-foreground",children:"Per KM:"}),e.jsxs("span",{className:"font-medium ml-1",children:["",S.pricePerKm]})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-muted-foreground",children:"Waiting:"}),e.jsxs("span",{className:"font-medium ml-1",children:["",S.waitingChargePerMinute,"/min"]})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-muted-foreground",children:"Max Passengers:"}),e.jsx("span",{className:"font-medium ml-1",children:S.maxPassengers})]})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(ds,{checked:S.isActive,onCheckedChange:A=>v.mutate({id:S.id,isActive:A})}),e.jsx(T,{variant:"outline",size:"sm",onClick:()=>P(S),children:e.jsx(Gr,{className:"h-4 w-4"})})]})]})})},S.id))})]}),e.jsxs(Le,{value:"providers",className:"space-y-6",children:[e.jsx("h2",{className:"text-2xl font-semibold",children:"Service Provider Approvals"}),e.jsx("div",{className:"grid gap-4",children:h?e.jsx(E,{children:e.jsx(D,{className:"p-6",children:e.jsx("div",{className:"text-center",children:"Loading providers..."})})}):m.length===0?e.jsx(E,{children:e.jsx(D,{className:"p-6",children:e.jsxs("div",{className:"text-center text-muted-foreground",children:[e.jsx(er,{className:"h-12 w-12 mx-auto mb-4 opacity-50"}),e.jsx("p",{children:"No service providers found"})]})})}):m.map(S=>e.jsx(E,{children:e.jsx(D,{className:"p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[e.jsx("h3",{className:"text-lg font-semibold",children:S.businessName}),e.jsx(ae,{variant:S.status==="approved"?"default":S.status==="rejected"?"destructive":"secondary",children:S.status})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2 text-sm text-muted-foreground",children:[e.jsxs("p",{children:[" ",S.address,", ",S.district]}),e.jsxs("p",{children:[" ",S.phone]}),e.jsxs("p",{children:[" ",S.email]}),e.jsxs("p",{children:[" Applied: ",new Date(S.createdAt).toLocaleDateString()]})]})]}),S.status==="pending"&&e.jsxs("div",{className:"flex gap-2",children:[e.jsxs(T,{size:"sm",variant:"outline",onClick:()=>b.mutate(S.id),disabled:b.isPending,children:[e.jsx(ws,{className:"h-4 w-4 mr-1"}),"Reject"]}),e.jsxs(T,{size:"sm",onClick:()=>x.mutate(S.id),disabled:x.isPending,children:[e.jsx(Is,{className:"h-4 w-4 mr-1"}),"Approve"]})]})]})})},S.id))})]}),e.jsxs(Le,{value:"vehicles",className:"space-y-6",children:[e.jsx("h2",{className:"text-2xl font-semibold",children:"Vehicle Approvals"}),e.jsx("div",{className:"grid gap-4",children:f?e.jsx(E,{children:e.jsx(D,{className:"p-6",children:e.jsx("div",{className:"text-center",children:"Loading vehicles..."})})}):g.length===0?e.jsx(E,{children:e.jsx(D,{className:"p-6",children:e.jsxs("div",{className:"text-center text-muted-foreground",children:[e.jsx(_t,{className:"h-12 w-12 mx-auto mb-4 opacity-50"}),e.jsx("p",{children:"No vehicles found"})]})})}):g.map(S=>e.jsx(E,{children:e.jsx(D,{className:"p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[e.jsxs("h3",{className:"text-lg font-semibold",children:[S.make," ",S.model]}),e.jsx(ae,{variant:S.adminApproved?"default":"secondary",children:S.adminApproved?"Approved":"Pending"})]}),e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-2 text-sm text-muted-foreground",children:[e.jsxs("p",{children:["License: ",S.licensePlate]}),e.jsxs("p",{children:["Year: ",S.year]}),e.jsxs("p",{children:["Color: ",S.color]}),e.jsxs("p",{children:["Driver: ",S.driverName]}),e.jsxs("p",{children:["Phone: ",S.driverPhone]})]})]}),!S.adminApproved&&e.jsxs(T,{size:"sm",onClick:()=>N.mutate(S.id),disabled:N.isPending,children:[e.jsx(Is,{className:"h-4 w-4 mr-1"}),"Approve"]})]})})},S.id))})]}),e.jsxs(Le,{value:"stats",className:"space-y-6",children:[e.jsx("h2",{className:"text-2xl font-semibold",children:"Taxi Service Statistics"}),e.jsxs("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-4",children:[e.jsxs(E,{children:[e.jsxs(Y,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(X,{className:"text-sm font-medium",children:"Total Categories"}),e.jsx(Sc,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsxs(D,{children:[e.jsx("div",{className:"text-2xl font-bold",children:d.length}),e.jsxs("p",{className:"text-xs text-muted-foreground",children:[d.filter(S=>S.isActive).length," active"]})]})]}),e.jsxs(E,{children:[e.jsxs(Y,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(X,{className:"text-sm font-medium",children:"Service Providers"}),e.jsx(er,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsxs(D,{children:[e.jsx("div",{className:"text-2xl font-bold",children:m.length}),e.jsxs("p",{className:"text-xs text-muted-foreground",children:[m.filter(S=>S.status==="approved").length," approved"]})]})]}),e.jsxs(E,{children:[e.jsxs(Y,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(X,{className:"text-sm font-medium",children:"Vehicles"}),e.jsx(_t,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsxs(D,{children:[e.jsx("div",{className:"text-2xl font-bold",children:g.length}),e.jsxs("p",{className:"text-xs text-muted-foreground",children:[g.filter(S=>S.adminApproved).length," approved"]})]})]}),e.jsxs(E,{children:[e.jsxs(Y,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(X,{className:"text-sm font-medium",children:"Pending Approvals"}),e.jsx(fr,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsxs(D,{children:[e.jsx("div",{className:"text-2xl font-bold",children:m.filter(S=>S.status==="pending").length+g.filter(S=>!S.adminApproved).length}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Requires attention"})]})]})]})]})]})]})}const J6e=["Ariyalur","Chengalpattu","Chennai","Coimbatore","Cuddalore","Dharmapuri","Dindigul","Erode","Kallakurichi","Kanchipuram","Kanyakumari","Karur","Krishnagiri","Madurai","Mayiladuthurai","Nagapattinam","Namakkal","Nilgiris","Perambalur","Pudukkottai","Ramanathapuram","Ranipet","Salem","Sivaganga","Tenkasi","Thanjavur","Theni","Thoothukudi","Tiruchirappalli","Tirunelveli","Tirupathur","Tiruppur","Tiruvallur","Tiruvannamalai","Tiruvarur","Vellore","Villupuram","Virudhunagar"];function eFe(){const[t,r]=j.useState({district:"",taluk:"",pincode:""}),[s,n]=j.useState(!1),[a,i]=j.useState(null),[l,o]=j.useState({pickupLocation:"",dropoffLocation:"",pickupTime:"",estimatedDistance:"",notes:""}),[c,d]=j.useState("all"),{toast:u}=Be(),{data:m=[],isLoading:h}=fe({queryKey:["/api/taxi/vehicles"],queryFn:async()=>{const N=await(await le("GET","/api/taxi/vehicles")).json();return console.log("VEHICLES DEBUG:",N),N}}),g=Se({mutationFn:async b=>(await le("POST","/api/taxi/bookings",b)).json(),onSuccess:()=>{u({title:"Booking Created",description:"Your taxi booking has been submitted successfully."}),n(!1),o({pickupLocation:"",dropoffLocation:"",pickupTime:"",estimatedDistance:"",notes:""}),pe.invalidateQueries({queryKey:["/api/taxi/bookings"]})},onError:b=>{u({title:"Booking Failed",description:b.message||"Failed to create booking",variant:"destructive"})}}),f=b=>{i(b),n(!0)},p=b=>{if(b.preventDefault(),!a)return;const N={vehicleId:a.id,pickupLocation:l.pickupLocation,dropoffLocation:l.dropoffLocation,pickupTime:l.pickupTime,estimatedDistance:parseFloat(l.estimatedDistance)||0,notes:l.notes};g.mutate(N)},y=m.filter(b=>c==="all"?!0:b.vehicleType===c),v=y.filter(b=>!t.district||t.district===""?!0:b.district===t.district);console.log("DEBUG: vehicles.length =",m.length),console.log("DEBUG: filteredVehicles.length =",y.length),console.log("DEBUG: locationFilteredVehicles.length =",v.length),console.log("DEBUG: selectedLocation =",t),console.log("DEBUG: filterType =",c);const x=m.reduce((b,N)=>(b.includes(N.vehicleType)||b.push(N.vehicleType),b),[]);return h?e.jsx("div",{className:"space-y-6",children:e.jsxs("div",{className:"text-center",children:[e.jsx("h1",{className:"text-3xl font-bold",children:"Loading Available Vehicles..."}),e.jsx("div",{className:"animate-spin h-8 w-8 border-4 border-primary border-t-transparent rounded-full mx-auto mt-4"})]})}):e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("h1",{className:"text-3xl font-bold mb-2",children:"Book a Taxi"}),e.jsx("p",{className:"text-muted-foreground",children:"Choose from available vehicles in Tamil Nadu"})]}),e.jsxs(E,{children:[e.jsxs(Y,{children:[e.jsx(X,{children:"Filter Vehicles"}),e.jsx(he,{children:"Filter by location and vehicle type"})]}),e.jsx(D,{children:e.jsxs("div",{className:"grid gap-4 md:grid-cols-3",children:[e.jsxs("div",{children:[e.jsx(se,{htmlFor:"district",children:"District"}),e.jsxs(je,{value:t.district,onValueChange:b=>r({...t,district:b}),children:[e.jsx(ge,{children:e.jsx(be,{placeholder:"Select district"})}),e.jsxs(ve,{children:[e.jsx(O,{value:"",children:"All Districts"}),J6e.map(b=>e.jsx(O,{value:b,children:b},b))]})]})]}),e.jsxs("div",{children:[e.jsx(se,{htmlFor:"vehicleType",children:"Vehicle Type"}),e.jsxs(je,{value:c,onValueChange:d,children:[e.jsx(ge,{children:e.jsx(be,{placeholder:"Select vehicle type"})}),e.jsxs(ve,{children:[e.jsx(O,{value:"all",children:"All Types"}),x.map((b,N)=>e.jsx(O,{value:b,children:b},N))]})]})]}),e.jsxs("div",{children:[e.jsx(se,{htmlFor:"pincode",children:"Pincode (Optional)"}),e.jsx($,{id:"pincode",placeholder:"Enter pincode",value:t.pincode,onChange:b=>r({...t,pincode:b.target.value})})]})]})})]}),e.jsxs("div",{className:"mb-8",children:[e.jsxs("h2",{className:"text-2xl font-semibold mb-4",children:["Available Vehicles (",v.length,")"]}),v.length===0?e.jsx(E,{children:e.jsxs(D,{className:"text-center py-8",children:[e.jsx(_t,{className:"h-12 w-12 mx-auto mb-4 text-muted-foreground"}),e.jsx("p",{className:"text-muted-foreground",children:"No vehicles available with the selected filters."}),e.jsx("p",{className:"text-sm text-muted-foreground mt-2",children:"Try adjusting your filters or check back later."})]})}):e.jsx("div",{className:"grid gap-6 md:grid-cols-2 lg:grid-cols-3",children:v.map(b=>e.jsxs(E,{className:"relative",children:[e.jsxs(Y,{children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs(X,{className:"flex items-center gap-2",children:[e.jsx(_t,{className:"h-5 w-5"}),b.brand," ",b.model]}),e.jsx(ae,{variant:b.status==="available"?"default":"secondary",children:b.status==="available"?"Available":"Unavailable"})]}),e.jsxs(he,{children:[b.vehicleType,"  ",b.vehicleNumber]})]}),e.jsxs(D,{children:[b.imageUrl&&e.jsx("img",{src:b.imageUrl,alt:`${b.brand} ${b.model}`,className:"w-full h-32 object-cover rounded-md mb-4"}),e.jsxs("div",{className:"space-y-2 mb-4",children:[e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{children:"Vehicle Type:"}),e.jsx("span",{className:"font-medium",children:b.vehicleType})]}),e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(er,{className:"h-3 w-3"}),"Seating:"]}),e.jsxs("span",{className:"font-medium",children:[b.seatingCapacity," passengers"]})]}),e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{children:"Rate per KM:"}),e.jsxs("span",{className:"font-medium text-primary",children:["",b.baseFarePerKm]})]}),e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{children:"Waiting Charge:"}),e.jsxs("span",{className:"font-medium text-primary",children:["",b.baseWaitingCharge,"/hr"]})]}),e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(go,{className:"h-3 w-3"}),"Fuel:"]}),e.jsx("span",{className:"font-medium",children:b.fuelType})]}),e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(ft,{className:"h-3 w-3"}),"Location:"]}),e.jsx("span",{className:"font-medium",children:b.district})]})]}),e.jsxs("div",{className:"flex flex-wrap gap-2 mb-4",children:[b.acAvailable&&e.jsx(ae,{variant:"outline",children:"AC"}),b.gpsEnabled&&e.jsx(ae,{variant:"outline",children:"GPS"}),b.insuranceValid&&e.jsx(ae,{variant:"outline",children:"Insured"}),b.pucValid&&e.jsx(ae,{variant:"outline",children:"PUC Valid"})]}),e.jsxs(T,{className:"w-full",onClick:()=>f(b),disabled:b.status!=="available"||!b.adminApproved,children:[e.jsx(Rt,{className:"h-4 w-4 mr-2"}),"Book This Vehicle"]})]})]},b.id))})]}),e.jsx(kt,{open:s,onOpenChange:n,children:e.jsxs(St,{className:"max-w-md",children:[e.jsxs(Ct,{children:[e.jsxs(Pt,{children:["Book ",a==null?void 0:a.brand," ",a==null?void 0:a.model]}),e.jsx(Yt,{children:"Fill in the details for your taxi booking"})]}),e.jsxs("form",{onSubmit:p,className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx(se,{htmlFor:"pickupLocation",children:"Pickup Location *"}),e.jsx($,{id:"pickupLocation",value:l.pickupLocation,onChange:b=>o(N=>({...N,pickupLocation:b.target.value})),placeholder:"Enter pickup location",required:!0})]}),e.jsxs("div",{children:[e.jsx(se,{htmlFor:"dropoffLocation",children:"Drop-off Location *"}),e.jsx($,{id:"dropoffLocation",value:l.dropoffLocation,onChange:b=>o(N=>({...N,dropoffLocation:b.target.value})),placeholder:"Enter drop-off location",required:!0})]}),e.jsxs("div",{children:[e.jsx(se,{htmlFor:"pickupTime",children:"Pickup Time *"}),e.jsx($,{id:"pickupTime",type:"datetime-local",value:l.pickupTime,onChange:b=>o(N=>({...N,pickupTime:b.target.value})),required:!0})]}),e.jsxs("div",{children:[e.jsx(se,{htmlFor:"estimatedDistance",children:"Estimated Distance (km)"}),e.jsx($,{id:"estimatedDistance",type:"number",step:"0.1",value:l.estimatedDistance,onChange:b=>o(N=>({...N,estimatedDistance:b.target.value})),placeholder:"Enter estimated distance"})]}),e.jsxs("div",{children:[e.jsx(se,{htmlFor:"notes",children:"Additional Notes"}),e.jsx(at,{id:"notes",value:l.notes,onChange:b=>o(N=>({...N,notes:b.target.value})),placeholder:"Any special requirements...",rows:3})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(T,{type:"submit",className:"flex-1",disabled:g.isPending,children:g.isPending?"Booking...":"Confirm Booking"}),e.jsx(T,{type:"button",variant:"outline",onClick:()=>n(!1),children:"Cancel"})]})]})]})})]})}function WD(){const{user:t}=dt();return(t==null?void 0:t.userType)==="admin"?e.jsx(Z6e,{}):e.jsx(eFe,{})}function _e({children:t}){const{isCollapsed:r}=vb();return e.jsxs("div",{className:"min-h-screen flex flex-col",children:[e.jsx(qMe,{}),e.jsxs("div",{className:"flex flex-1",children:[e.jsx(HMe,{}),e.jsx("main",{className:Oe("flex-1 pt-16 pb-16 lg:pb-0 transition-all duration-300 ease-in-out",r?"lg:pl-16":"lg:pl-64"),children:e.jsx("div",{className:"p-4 lg:p-6 max-w-full",children:t})})]}),e.jsx(WMe,{})]})}function tFe(){return e.jsxs(eQ,{children:[e.jsx(ts,{path:"/",component:tIe}),e.jsx(ts,{path:"/auth",component:XMe}),e.jsx(ts,{path:"/opportunities",component:x6e}),e.jsx(Re,{path:"/dashboard",children:e.jsx(_e,{children:e.jsx(rIe,{})})}),e.jsx(Re,{path:"/provider-dashboard",children:e.jsx(_e,{children:e.jsx(r6e,{})})}),e.jsx(Re,{path:"/service-requests",children:e.jsx(_e,{children:e.jsx(I6e,{})})}),e.jsx(Re,{path:"/branch-managers",children:e.jsx(_e,{children:e.jsx(aIe,{})})}),e.jsx(Re,{path:"/taluk-managers",children:e.jsx(_e,{children:e.jsx(lIe,{})})}),e.jsx(Re,{path:"/service-agents",children:e.jsx(_e,{children:e.jsx(cIe,{})})}),e.jsx(Re,{path:"/recharge/",children:e.jsx(_e,{children:e.jsx(uIe,{})})}),e.jsx(Re,{path:"/recharge/mobile",children:e.jsx(_e,{children:e.jsx(NK,{})})}),e.jsx(Re,{path:"/recharge/dth",children:e.jsx(_e,{children:e.jsx(wK,{})})}),e.jsx(Re,{path:"/recharge/electricity",children:e.jsx(_e,{children:e.jsx(SK,{})})}),e.jsx(Re,{path:"/recharge/gas",children:e.jsx(_e,{children:e.jsx(sh,{})})}),e.jsx(Re,{path:"/recharge/broadband",children:e.jsx(_e,{children:e.jsx(sh,{})})}),e.jsx(Re,{path:"/recharge/water",children:e.jsx(_e,{children:e.jsx(sh,{})})}),e.jsx(Re,{path:"/recharge/credit-card",children:e.jsx(_e,{children:e.jsx(sh,{})})}),e.jsx(Re,{path:"/recharge/all",children:e.jsx(_e,{children:e.jsx(sh,{})})}),e.jsx(Re,{path:"/bookings",children:e.jsx(_e,{children:e.jsx(xIe,{})})}),e.jsx(Re,{path:"/rental",children:e.jsx(_e,{children:e.jsx(vIe,{})})}),e.jsx(Re,{path:"/rental-marketplace",children:e.jsx(_e,{children:e.jsx(N6e,{})})}),e.jsx(ts,{path:"/rental-browse",children:e.jsx(_e,{children:e.jsx(A6e,{})})}),e.jsx(ts,{path:"/rental-services",children:e.jsx(_e,{children:e.jsx(_6e,{})})}),e.jsx(Re,{path:"/admin/rental-management",children:e.jsx(_e,{children:e.jsx(w6e,{})})}),e.jsx(Re,{path:"/admin/rental-categories",children:e.jsx(_e,{children:e.jsx(S6e,{})})}),e.jsx(Re,{path:"/admin/rental-subcategories",children:e.jsx(_e,{children:e.jsx(P6e,{})})}),e.jsx(Re,{path:"/taxi",children:e.jsx(_e,{children:e.jsx(WD,{})})}),e.jsx(ts,{path:"/taxi-browse",children:e.jsx(_e,{children:e.jsx(qD,{})})}),e.jsx(ts,{path:"/customer/taxi-browse",children:e.jsx(_e,{children:e.jsx(qD,{})})}),e.jsx(Re,{path:"/provider/taxi-vehicles",children:e.jsx(_e,{children:e.jsx(q6e,{})})}),e.jsx(Re,{path:"/admin/taxi-vehicle-approvals",children:e.jsx(_e,{children:e.jsx(KD,{})})}),e.jsx(Re,{path:"/admin/taxi-categories",children:e.jsx(_e,{children:e.jsx(HD,{})})}),e.jsx(Re,{path:"/admin/taxi-service",children:e.jsx(_e,{children:e.jsx(X6e,{})})}),e.jsx(ts,{path:"/delivery-browse",children:e.jsx(_e,{children:e.jsx(K6e,{})})}),e.jsx(Re,{path:"/provider/delivery-registration",children:e.jsx(_e,{children:e.jsx(H6e,{})})}),e.jsx(Re,{path:"/admin/delivery-categories",children:e.jsx(_e,{children:e.jsx(W6e,{})})}),e.jsx(Re,{path:"/admin/delivery-agent-approvals",children:e.jsx(_e,{children:e.jsx(G6e,{})})}),e.jsx(Re,{path:"/admin/delivery-agents-management",children:e.jsx(_e,{children:e.jsx(Y6e,{})})}),e.jsx(Re,{path:"/admin/taxi-categories-management",children:e.jsx(_e,{children:e.jsx(HD,{})})}),e.jsx(Re,{path:"/admin/taxi-vehicle-approvals",children:e.jsx(_e,{children:e.jsx(KD,{})})}),e.jsx(Re,{path:"/admin/taxi-vehicles-management",children:e.jsx(_e,{children:e.jsx(Q6e,{})})}),e.jsx(Re,{path:"/provider/rental-equipment",children:e.jsx(_e,{children:e.jsx(pN,{})})}),e.jsx(Re,{path:"/provider/add-equipment",children:e.jsx(_e,{children:e.jsx(pN,{})})}),e.jsx(Re,{path:"/provider/rental-services",children:e.jsx(_e,{children:e.jsx(T6e,{})})}),e.jsx(Re,{path:"/provider/my-rentals",children:e.jsx(_e,{children:e.jsx(O6e,{})})}),e.jsx(Re,{path:"/customer/my-rentals",children:e.jsx(_e,{children:e.jsx(E6e,{})})}),e.jsx(Re,{path:"/taxi",children:e.jsx(_e,{children:e.jsx(WD,{})})}),e.jsx(Re,{path:"/taxi-old",children:e.jsx(_e,{children:e.jsx(bIe,{})})}),e.jsx(Re,{path:"/delivery",children:e.jsx(_e,{children:e.jsx(CIe,{})})}),e.jsx(Re,{path:"/grocery",children:e.jsx(_e,{children:e.jsx(MD,{})})}),e.jsx(ts,{path:"/grocery-fixed",children:e.jsx(_e,{children:e.jsx(MD,{})})}),e.jsx(ts,{path:"/grocery-browse",children:e.jsx(_e,{children:e.jsx(Z5e,{})})}),e.jsx(Re,{path:"/customer/grocery-browse",children:e.jsx(_e,{children:e.jsx(cT,{})})}),e.jsx(Re,{path:"/grocery/product/:id",children:e.jsx(_e,{children:e.jsx(MIe,{})})}),e.jsx(Re,{path:"/grocery/cart",children:e.jsx(_e,{children:e.jsx(IIe,{})})}),e.jsx(Re,{path:"/local-products",children:e.jsx(_e,{children:e.jsx(c5e,{})})}),e.jsx(Re,{path:"/local-products/cart",children:e.jsx(_e,{children:e.jsx(o5e,{})})}),e.jsx(Re,{path:"/commission-config",children:e.jsx(_e,{children:e.jsx(UIe,{})})}),e.jsx(Re,{path:"/commissions",children:e.jsx(_e,{children:e.jsx(zIe,{})})}),e.jsx(Re,{path:"/commission-dashboard",children:e.jsx(_e,{children:e.jsx(eRe,{})})}),e.jsx(Re,{path:"/analytics",children:e.jsx(_e,{children:e.jsx(PDe,{})})}),e.jsx(Re,{path:"/wallet",children:e.jsx(_e,{children:e.jsx(tRe,{})})}),e.jsx(Re,{path:"/utility",children:e.jsx(_e,{children:e.jsx(lRe,{})})}),e.jsx(ts,{path:"/travel",children:e.jsx(_e,{children:e.jsx(oRe,{})})}),e.jsx(Re,{path:"/bus-booking",children:e.jsx(_e,{children:e.jsx(cRe,{})})}),e.jsx(Re,{path:"/travel-services",children:e.jsx(_e,{children:e.jsx(dRe,{})})}),e.jsx(Re,{path:"/recycling",children:e.jsx(_e,{children:e.jsx(f3e,{})})}),e.jsx(Re,{path:"/chat",children:e.jsx(_e,{children:e.jsx(D3e,{})})}),e.jsx(Re,{path:"/booking/:id",children:e.jsx(_e,{children:e.jsx(uRe,{})})}),e.jsx(Re,{path:"/get-associated",children:e.jsx(_e,{children:e.jsx(bRe,{})})}),e.jsx(Re,{path:"/provider-registration",children:e.jsx(_e,{children:e.jsx(x5e,{})})}),e.jsx(Re,{path:"/provider-registration/farmer",children:e.jsx(_e,{children:e.jsx(b5e,{})})}),e.jsx(Re,{path:"/provider-registration/manufacturer",children:e.jsx(_e,{children:e.jsx(P5e,{})})}),e.jsx(Re,{path:"/provider-registration/taxi-provider",children:e.jsx(_e,{children:e.jsx(A5e,{})})}),e.jsx(Re,{path:"/provider-registration/booking-agent",children:e.jsx(_e,{children:e.jsx(T5e,{})})}),e.jsx(Re,{path:"/provider-registration/transportation-agent",children:e.jsx(_e,{children:e.jsx(E5e,{})})}),e.jsx(Re,{path:"/provider-registration/rental-provider",children:e.jsx(_e,{children:e.jsx(M5e,{})})}),e.jsx(Re,{path:"/provider-registration/recycling-agent",children:e.jsx(_e,{children:e.jsx(R5e,{})})}),e.jsx(Re,{path:"/profile",children:e.jsx(_e,{children:e.jsx(NRe,{})})}),e.jsx(Re,{path:"/hierarchy",children:e.jsx(_e,{children:e.jsx(URe,{})})}),e.jsx(Re,{path:"/video-management",children:e.jsx(_e,{children:e.jsx(s6e,{})})}),e.jsx(Re,{path:"/video-library",children:e.jsx(_e,{children:e.jsx(a6e,{})})}),e.jsx(Re,{path:"/video-upload",children:e.jsx(_e,{children:e.jsx(i6e,{})})}),e.jsx(Re,{path:"/video-upload-simple",children:e.jsx(_e,{children:e.jsx(o6e,{})})}),e.jsx(Re,{path:"/video-upload-chunked",children:e.jsx(_e,{children:e.jsx(l6e,{})})}),e.jsx(Re,{path:"/video-analytics",children:e.jsx(_e,{children:e.jsx(c6e,{})})}),e.jsx(ts,{path:"/services-overview",children:e.jsx(u6e,{})}),e.jsx(Re,{path:"/manager-applications",children:e.jsx(_e,{children:e.jsx(qRe,{})})}),e.jsx(Re,{path:"/admin/recycling/rates",children:e.jsx(_e,{children:e.jsx(M3e,{})})}),e.jsx(Re,{path:"/admin/grocery/categories",children:e.jsx(_e,{children:e.jsx(F3e,{})})}),e.jsx(Re,{path:"/admin/grocery/products",children:e.jsx(_e,{children:e.jsx(X3e,{})})}),e.jsx(Re,{path:"/admin/grocery/products-new",children:e.jsx(_e,{children:e.jsx(J3e,{})})}),e.jsx(Re,{path:"/admin/grocery/product-requests",children:e.jsx(_e,{children:e.jsx(r5e,{})})}),e.jsx(Re,{path:"/admin/grocery/farmer-listings",children:e.jsx(_e,{children:e.jsx(s5e,{})})}),e.jsx(Re,{path:"/admin/grocery/farmer-product-approvals",children:e.jsx(_e,{children:e.jsx(n5e,{})})}),e.jsx(Re,{path:"/admin/local-products",children:e.jsx(_e,{children:e.jsx(a5e,{})})}),e.jsx(Re,{path:"/admin/local-products/new",children:e.jsx(_e,{children:e.jsx(l5e,{})})}),e.jsx(Re,{path:"/admin/local-products/:id/details",children:e.jsx(_e,{children:e.jsx(u5e,{})})}),e.jsx(Re,{path:"/admin/local-products/categories",children:e.jsx(_e,{children:e.jsx(m5e,{})})}),e.jsx(Re,{path:"/admin/service-providers",children:e.jsx(_e,{children:e.jsx(h5e,{})})}),e.jsx(Re,{path:"/admin/video-approvals",children:e.jsx(_e,{children:e.jsx(d6e,{})})}),e.jsx(Re,{path:"/admin/service-requests",children:e.jsx(_e,{children:e.jsx(R6e,{})})}),e.jsx(Re,{path:"/customer/service-requests",children:e.jsx(_e,{children:e.jsx(F6e,{})})}),e.jsx(Re,{path:"/agent/service-requests",children:e.jsx(_e,{children:e.jsx($6e,{})})}),e.jsx(Re,{path:"/manager/service-requests",children:e.jsx(_e,{children:e.jsx(L6e,{})})}),e.jsx(Re,{path:"/branch-manager/service-requests",children:e.jsx(_e,{children:e.jsx(B6e,{})})}),e.jsx(Re,{path:"/provider/service-requests",children:e.jsx(_e,{children:e.jsx(V6e,{})})}),e.jsx(Re,{path:"/provider/add-local-product",children:e.jsx(_e,{children:e.jsx(eT,{})})}),e.jsx(Re,{path:"/farm-listings",children:e.jsx(_e,{children:e.jsx(zRe,{})})}),e.jsx(Re,{path:"/farmer/add-product",children:e.jsx(_e,{children:e.jsx(YRe,{})})}),e.jsx(Re,{path:"/farmer/edit-product/:id",children:e.jsx(_e,{children:e.jsx(XRe,{})})}),e.jsx(Re,{path:"/farmer/my-listings",children:e.jsx(_e,{children:e.jsx(e3e,{})})}),e.jsx(Re,{path:"/farmer/request-product",children:e.jsx(_e,{children:e.jsx(JRe,{})})}),e.jsx(Re,{path:"/provider/add-local-product",children:e.jsx(_e,{children:e.jsx(eT,{})})}),e.jsx(Re,{path:"/provider/my-local-products",children:e.jsx(_e,{children:e.jsx(use,{})})}),e.jsx(Re,{path:"/provider/request-category",children:e.jsx(_e,{children:e.jsx(Nse,{})})}),e.jsx(Re,{path:"/provider/add-grocery-product",children:e.jsx(_e,{children:e.jsx(Fae,{})})}),e.jsx(Re,{path:"/provider/my-grocery-products",children:e.jsx(_e,{children:e.jsx(m6e,{})})}),e.jsx(Re,{path:"/customer/grocery-browse",children:e.jsx(_e,{children:e.jsx(cT,{})})}),e.jsx(Re,{path:"/provider/rental-equipment",children:e.jsx(_e,{children:e.jsx(pN,{})})}),e.jsx(ts,{path:"/manager-registration",children:e.jsx(_e,{children:e.jsx(F5e,{})})}),e.jsx(ts,{path:"/manager-registration/branch-manager",children:e.jsx(_e,{children:e.jsx(U5e,{})})}),e.jsx(ts,{path:"/manager-registration/taluk-manager",children:e.jsx(_e,{children:e.jsx(K5e,{})})}),e.jsx(ts,{path:"/manager-registration/service-agent",children:e.jsx(_e,{children:e.jsx(Y5e,{})})}),e.jsx(ts,{path:"/opportunities-forum",children:e.jsx(_e,{children:e.jsx(j6e,{})})}),e.jsx(ts,{path:"/nomination-test",children:e.jsx(_e,{children:e.jsx(b6e,{})})}),e.jsx(ts,{path:"/oil-test",children:e.jsx(_e,{children:e.jsx(Q5e,{})})}),e.jsx(ts,{path:"/subcategory-test",children:e.jsx(_e,{children:e.jsx(X5e,{})})}),e.jsx(ts,{component:GMe})]})}function rFe(){return e.jsx(jQ,{client:pe,children:e.jsx(KZ,{children:e.jsxs(zMe,{children:[e.jsx(tFe,{}),e.jsx(zZ,{})]})})})}rF(document.getElementById("root")).render(e.jsx(rFe,{}));
